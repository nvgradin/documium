import{useMemo as D,useRef as d,useState as g}from"react";import k from"debounce-promise";const x=({form:e,name:b,debounceDelay:y,formatResults:t})=>{var p,u;const n=(p=e==null?void 0:e.formSchema)==null?void 0:p[b],[a,i]=g(!1),[c,L]=g(((u=n==null?void 0:n.options)==null?void 0:u.defaultLocationOptions)||[]),O=d(k(async s=>{const o=n==null?void 0:n.options;if(!!(o!=null&&o.searchPlace))return i(!0),await o.searchPlace(s).then(l=>{i(!1);const P=(t==null?void 0:t(l))||l;L(P)})},y,{leading:!1})),r=d(s=>O.current(s));return D(()=>({options:c,isLoading:a,loadOptions:r}),[c,a,r])};export{x as useLocationData};
