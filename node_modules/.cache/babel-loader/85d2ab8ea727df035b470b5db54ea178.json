{"ast":null,"code":"import _objectSpread from\"/Users/nazarethavaqueirogradin/Documents/Grupo Gradi\\u0301n/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Users/nazarethavaqueirogradin/Documents/Grupo Gradi\\u0301n/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/nazarethavaqueirogradin/Documents/Grupo Gradi\\u0301n/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Button}from'react-bootstrap';import Dropzone from'react-dropzone';import classNames from'classnames';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var FileUploader=function FileUploader(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),selectedFiles=_useState2[0],setSelectedFiles=_useState2[1];/**\n     * Handled the accepted files and shows the preview\n     */var handleAcceptedFiles=function handleAcceptedFiles(files){var allFiles=files;if(props.showPreview){var _allFiles;(files||[]).map(function(file){return Object.assign(file,{preview:file['type'].split('/')[0]==='image'?URL.createObjectURL(file):null,formattedSize:formatBytes(file.size)});});allFiles=_toConsumableArray(selectedFiles);(_allFiles=allFiles).push.apply(_allFiles,_toConsumableArray(files));setSelectedFiles(allFiles);}if(props.onFileUpload)props.onFileUpload(allFiles);};/**\n     * Formats the size\n     */var formatBytes=function formatBytes(bytes){var decimals=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2;if(bytes===0)return'0 Bytes';var k=1024;var dm=decimals<0?0:decimals;var sizes=['Bytes','KB','MB','GB','TB','PB','EB','ZB','YB'];var i=Math.floor(Math.log(bytes)/Math.log(k));return parseFloat((bytes/Math.pow(k,i)).toFixed(dm))+' '+sizes[i];};/*\n     * Removes the selected file\n     */var removeFile=function removeFile(e,fileIndex){var newFiles=_toConsumableArray(selectedFiles);newFiles.splice(fileIndex,1);setSelectedFiles(newFiles);if(props.onFileUpload)props.onFileUpload(newFiles);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Dropzone,_objectSpread(_objectSpread({},props),{},{onDrop:function onDrop(acceptedFiles){return handleAcceptedFiles(acceptedFiles);},children:function children(_ref){var getRootProps=_ref.getRootProps,getInputProps=_ref.getInputProps;return/*#__PURE__*/_jsx(\"div\",{className:classNames('dropzone','dz-clickable',{'dz-started':selectedFiles&&selectedFiles.length>0}),children:/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({},getRootProps()),{},{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dz-message needsclick\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({},getInputProps())),/*#__PURE__*/_jsx(\"i\",{className:\"h1 text-muted uil-cloud-upload\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Drop files here or click to upload.\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-muted \",children:[\"(This is just a demo dropzone. Selected files are \",/*#__PURE__*/_jsx(\"strong\",{children:\"not\"}),\" actually uploaded.)\"]})]}),props.showPreview&&(selectedFiles||[]).map(function(f,i){return/*#__PURE__*/_jsxs(React.Fragment,{children:[f.preview&&/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(e){return e.stopPropagation();},className:\"dz-preview dz-processing dz-error dz-complete dz-image-preview\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dz-image\",children:/*#__PURE__*/_jsx(\"img\",{\"data-dz-thumbnail\":\"\",alt:f.name,src:f.preview},i)}),/*#__PURE__*/_jsxs(\"div\",{className:\"dz-details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dz-size\",children:/*#__PURE__*/_jsxs(\"span\",{\"data-dz-size\":\"\",children:[/*#__PURE__*/_jsx(\"strong\",{children:f.formattedSize}),\" KB\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"dz-filename\",children:/*#__PURE__*/_jsx(\"span\",{\"data-dz-name\":\"\",children:f.name})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dz-remove\",children:/*#__PURE__*/_jsx(Button,{variant:\"\",onClick:function onClick(e){return removeFile(e,i);},children:/*#__PURE__*/_jsx(\"i\",{className:\"uil uil-multiply\"})})})]}),!f.preview&&/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(e){return e.stopPropagation();},className:\"dz-preview dz-file-preview dz-processing dz-error dz-complete\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dz-image\",children:/*#__PURE__*/_jsx(\"img\",{\"data-dz-thumbnail\":\"\",alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"dz-details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dz-size\",children:/*#__PURE__*/_jsxs(\"span\",{\"data-dz-size\":\"\",children:[/*#__PURE__*/_jsx(\"strong\",{children:f.formattedSize}),\" KB\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"dz-filename\",children:/*#__PURE__*/_jsx(\"span\",{\"data-dz-name\":\"\",children:f.name})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dz-remove\",children:/*#__PURE__*/_jsx(Button,{variant:\"\",onClick:function onClick(e){return removeFile(e,i);},children:/*#__PURE__*/_jsx(\"i\",{className:\"uil uil-multiply\"})})})]})]},i);})]}))});}}))});};FileUploader.defaultProps={showPreview:true};export default FileUploader;","map":{"version":3,"sources":["/Users/nazarethavaqueirogradin/Documents/Grupo GradiÌn/testeo/Shreyu_react_v1.0.0/shreyu_react/src/components/FileUploader.tsx"],"names":["React","useState","Button","Dropzone","classNames","FileUploader","props","selectedFiles","setSelectedFiles","handleAcceptedFiles","files","allFiles","showPreview","map","file","Object","assign","preview","split","URL","createObjectURL","formattedSize","formatBytes","size","push","onFileUpload","bytes","decimals","k","dm","sizes","i","Math","floor","log","parseFloat","pow","toFixed","removeFile","e","fileIndex","newFiles","splice","acceptedFiles","getRootProps","getInputProps","length","f","stopPropagation","name","defaultProps"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Button } from 'react-bootstrap';\nimport Dropzone from 'react-dropzone';\nimport classNames from 'classnames';\n\ninterface FileType extends File {\n    preview?: string;\n    formattedSize?: string;\n}\n\ninterface FileUploaderProps {\n    onFileUpload?: (files: FileType[]) => void;\n    showPreview?: boolean;\n}\n\nconst FileUploader = (props: FileUploaderProps) => {\n    const [selectedFiles, setSelectedFiles] = useState<FileType[]>([]);\n\n    /**\n     * Handled the accepted files and shows the preview\n     */\n    const handleAcceptedFiles = (files: FileType[]) => {\n        var allFiles = files;\n\n        if (props.showPreview) {\n            (files || []).map((file) =>\n                Object.assign(file, {\n                    preview: file['type'].split('/')[0] === 'image' ? URL.createObjectURL(file) : null,\n                    formattedSize: formatBytes(file.size),\n                })\n            );\n            allFiles = [...selectedFiles];\n            allFiles.push(...files);\n            setSelectedFiles(allFiles);\n        }\n\n        if (props.onFileUpload) props.onFileUpload(allFiles);\n    };\n\n    /**\n     * Formats the size\n     */\n    const formatBytes = (bytes: number, decimals: number = 2) => {\n        if (bytes === 0) return '0 Bytes';\n        const k = 1024;\n        const dm = decimals < 0 ? 0 : decimals;\n        const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n        const i = Math.floor(Math.log(bytes) / Math.log(k));\n        return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n    };\n\n    /*\n     * Removes the selected file\n     */\n    const removeFile = (e: any, fileIndex: number) => {\n        const newFiles = [...selectedFiles];\n        newFiles.splice(fileIndex, 1);\n        setSelectedFiles(newFiles);\n        if (props.onFileUpload) props.onFileUpload(newFiles);\n    };\n\n    return (\n        <>\n            <Dropzone {...props} onDrop={(acceptedFiles) => handleAcceptedFiles(acceptedFiles)}>\n                {({ getRootProps, getInputProps }) => (\n                    <div\n                        className={classNames('dropzone', 'dz-clickable', {\n                            'dz-started': selectedFiles && selectedFiles.length > 0,\n                        })}>\n                        <div {...getRootProps()}>\n                            <div className=\"dz-message needsclick\">\n                                <input {...getInputProps()} />\n                                <i className=\"h1 text-muted uil-cloud-upload\"></i>\n                                <h3>Drop files here or click to upload.</h3>\n                                <span className=\"text-muted \">\n                                    (This is just a demo dropzone. Selected files are <strong>not</strong> actually\n                                    uploaded.)\n                                </span>\n                            </div>\n                            {props.showPreview &&\n                                (selectedFiles || []).map((f, i) => {\n                                    return (\n                                        <React.Fragment key={i}>\n                                            {f.preview && (\n                                                <div\n                                                    onClick={(e) => e.stopPropagation()}\n                                                    className=\"dz-preview dz-processing dz-error dz-complete dz-image-preview\">\n                                                    <div className=\"dz-image\">\n                                                        <img\n                                                            key={i}\n                                                            data-dz-thumbnail=\"\"\n                                                            alt={f.name}\n                                                            src={f.preview}\n                                                        />\n                                                    </div>\n\n                                                    <div className=\"dz-details\">\n                                                        <div className=\"dz-size\">\n                                                            <span data-dz-size=\"\">\n                                                                <strong>{f.formattedSize}</strong> KB\n                                                            </span>\n                                                        </div>\n                                                        <div className=\"dz-filename\">\n                                                            <span data-dz-name=\"\">{f.name}</span>\n                                                        </div>\n                                                    </div>\n\n                                                    <div className=\"dz-remove\">\n                                                        <Button variant=\"\" onClick={(e) => removeFile(e, i)}>\n                                                            <i className=\"uil uil-multiply\"></i>\n                                                        </Button>\n                                                    </div>\n                                                </div>\n                                            )}\n                                            {!f.preview && (\n                                                <div\n                                                    onClick={(e) => e.stopPropagation()}\n                                                    className=\"dz-preview dz-file-preview dz-processing dz-error dz-complete\">\n                                                    <div className=\"dz-image\">\n                                                        <img data-dz-thumbnail=\"\" alt=\"\" />\n                                                    </div>\n                                                    <div className=\"dz-details\">\n                                                        <div className=\"dz-size\">\n                                                            <span data-dz-size=\"\">\n                                                                <strong>{f.formattedSize}</strong> KB\n                                                            </span>\n                                                        </div>\n                                                        <div className=\"dz-filename\">\n                                                            <span data-dz-name=\"\">{f.name}</span>\n                                                        </div>\n                                                    </div>\n\n                                                    <div className=\"dz-remove\">\n                                                        <Button variant=\"\" onClick={(e) => removeFile(e, i)}>\n                                                            <i className=\"uil uil-multiply\"></i>\n                                                        </Button>\n                                                    </div>\n                                                </div>\n                                            )}\n                                        </React.Fragment>\n                                    );\n                                })}\n                        </div>\n                    </div>\n                )}\n            </Dropzone>\n        </>\n    );\n};\n\nFileUploader.defaultProps = {\n    showPreview: true,\n};\n\nexport default FileUploader;\n"]},"metadata":{},"sourceType":"module"}