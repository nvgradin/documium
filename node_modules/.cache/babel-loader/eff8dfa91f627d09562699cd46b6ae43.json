{"ast":null,"code":"import _objectSpread from\"/Users/nazarethavaqueirogradin/Documents/Grupo Gradi\\u0301n/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/nazarethavaqueirogradin/Documents/Grupo Gradi\\u0301n/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Row,Col,Button}from'react-bootstrap';import*as yup from'yup';import{yupResolver}from'@hookform/resolvers/yup';import{Link}from'react-router-dom';// Form Editor\nimport{Editor}from'react-draft-wysiwyg';import{EditorState,convertToRaw,ContentState}from'draft-js';import draftToHtml from'draftjs-to-html';import htmlToDraft from'html-to-draftjs';// styles\nimport'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';// components\nimport PageTitle from'../../../components/PageTitle';import{VerticalForm,FormInput}from'../../../components/';import LeftBar from'./LeftBar';// dummy data\nimport{emails}from'./data';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Compose=function Compose(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),editorState=_useState2[0],setEditorState=_useState2[1];var _useState3=useState(emails.filter(function(e){return e.is_read===false;}).length),_useState4=_slicedToArray(_useState3,1),totalUnreadEmails=_useState4[0];useEffect(function(){var html=\"<h3>This is an Air-mode editable area.</h3>\\n            <ul> \\n                <li>Select a text to reveal the toolbar.</li>\\n                <li>Edit rich document on-the-fly, so elastic!</li>\\n            </ul>\\n            <p>End of air-mode area</p>\";var contentBlock=htmlToDraft(html);if(contentBlock){var contentState=ContentState.createFromBlockArray(contentBlock.contentBlocks);setEditorState(EditorState.createWithContent(contentState));}},[]);var schemaResolver=yupResolver(yup.object().shape({to:yup.string().required('Please specify to email'),subject:yup.string().required('Please specify subject')}));/**\n     * Handles the save\n     * @param {*} event\n     * @param {*} values\n     */var handleEmailSave=function handleEmailSave(event,values){var body=draftToHtml(convertToRaw(editorState.getCurrentContent()));console.log(_objectSpread(_objectSpread({},values),{},{body:body}));};/**\n     * On editor body change\n     */var onEditorStateChange=function onEditorStateChange(editorStates){setEditorState(editorStates);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PageTitle,{breadCrumbItems:[{label:'Email',path:'/apps/email/compose'},{label:'Compose Email',path:'/apps/email/compose',active:true}],title:'Compose Email'}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"email-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inbox-leftbar\",children:[/*#__PURE__*/_jsx(Link,{to:\"/apps/email/inbox\",className:\"btn btn-danger d-block\",children:\"Inbox\"}),/*#__PURE__*/_jsx(LeftBar,{showChatDetails:false,totalUnreadEmails:totalUnreadEmails})]}),/*#__PURE__*/_jsx(\"div\",{className:\"inbox-rightbar p-4\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(VerticalForm,{onSubmit:handleEmailSave,resolver:schemaResolver,children:[/*#__PURE__*/_jsx(FormInput,{type:\"email\",name:\"to\",placeholder:\"To\",containerClass:'mb-3'}),/*#__PURE__*/_jsx(FormInput,{type:\"text\",name:\"subject\",placeholder:\"Subject\",containerClass:'mb-3'}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3 card border-0\",children:/*#__PURE__*/_jsx(Editor,{editorState:editorState,toolbarClassName:\"toolbarClassName\",wrapperClassName:\"wrapperClassName border border-1 border-soft-dark mb-3 card\",editorClassName:\"editorClassName px-2 pt-0\",editorStyle:{minHeight:'300px'},onEditorStateChange:onEditorStateChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3 pt-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-end\",children:[/*#__PURE__*/_jsxs(Button,{variant:\"success\",className:\"me-1\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"uil uil-envelope-edit\"}),\" Draft\"]}),/*#__PURE__*/_jsxs(Button,{type:\"submit\",children:[' ',/*#__PURE__*/_jsx(\"span\",{children:\"Send\"}),/*#__PURE__*/_jsx(\"i\",{className:\"uil uil-message ms-2\"})]})]})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"clearfix\"})]})})})]});};export default Compose;","map":{"version":3,"sources":["/Users/nazarethavaqueirogradin/Documents/Grupo GradiÌn/testeo/Shreyu_react_v1.0.0/shreyu_react/src/pages/apps/Email/Compose.tsx"],"names":["React","useState","useEffect","Row","Col","Button","yup","yupResolver","Link","Editor","EditorState","convertToRaw","ContentState","draftToHtml","htmlToDraft","PageTitle","VerticalForm","FormInput","LeftBar","emails","Compose","editorState","setEditorState","filter","e","is_read","length","totalUnreadEmails","html","contentBlock","contentState","createFromBlockArray","contentBlocks","createWithContent","schemaResolver","object","shape","to","string","required","subject","handleEmailSave","event","values","body","getCurrentContent","console","log","onEditorStateChange","editorStates","label","path","active","minHeight"],"mappings":"mbAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,GAAT,CAAcC,GAAd,CAAmBC,MAAnB,KAAiC,iBAAjC,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,KAArB,CACA,OAASC,WAAT,KAA4B,yBAA5B,CACA,OAASC,IAAT,KAAqB,kBAArB,CAEA;AACA,OAASC,MAAT,KAAuB,qBAAvB,CACA,OAASC,WAAT,CAAsBC,YAAtB,CAAoCC,YAApC,KAAwD,UAAxD,CACA,MAAOC,CAAAA,WAAP,KAAwB,iBAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,iBAAxB,CACA;AACA,MAAO,kDAAP,CAEA;AACA,MAAOC,CAAAA,SAAP,KAAsB,+BAAtB,CACA,OAASC,YAAT,CAAuBC,SAAvB,KAAwC,sBAAxC,CAEA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CAEA;AACA,OAASC,MAAT,KAAuB,QAAvB,C,6IAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,eACoBnB,QAAQ,EAD5B,wCACXoB,WADW,eACEC,cADF,8BAEUrB,QAAQ,CAASkB,MAAM,CAACI,MAAP,CAAc,SAACC,CAAD,QAAYA,CAAAA,CAAC,CAACC,OAAF,GAAc,KAA1B,EAAd,EAA+CC,MAAxD,CAFlB,yCAEXC,iBAFW,eAIlBzB,SAAS,CAAC,UAAM,CACZ,GAAM0B,CAAAA,IAAI,iQAAV,CAMA,GAAMC,CAAAA,YAAY,CAAGf,WAAW,CAACc,IAAD,CAAhC,CACA,GAAIC,YAAJ,CAAkB,CACd,GAAMC,CAAAA,YAAY,CAAGlB,YAAY,CAACmB,oBAAb,CAAkCF,YAAY,CAACG,aAA/C,CAArB,CACAV,cAAc,CAACZ,WAAW,CAACuB,iBAAZ,CAA8BH,YAA9B,CAAD,CAAd,CACH,CACJ,CAZQ,CAYN,EAZM,CAAT,CAcA,GAAMI,CAAAA,cAAc,CAAG3B,WAAW,CAC9BD,GAAG,CAAC6B,MAAJ,GAAaC,KAAb,CAAmB,CACfC,EAAE,CAAE/B,GAAG,CAACgC,MAAJ,GAAaC,QAAb,CAAsB,yBAAtB,CADW,CAEfC,OAAO,CAAElC,GAAG,CAACgC,MAAJ,GAAaC,QAAb,CAAsB,wBAAtB,CAFM,CAAnB,CAD8B,CAAlC,CAOA;AACJ;AACA;AACA;AACA,OACI,GAAME,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAaC,MAAb,CAA6B,CACjD,GAAMC,CAAAA,IAAI,CAAG/B,WAAW,CAACF,YAAY,CAACU,WAAW,CAACwB,iBAAZ,EAAD,CAAb,CAAxB,CACAC,OAAO,CAACC,GAAR,gCAAiBJ,MAAjB,MAAyBC,IAAI,CAAJA,IAAzB,IACH,CAHD,CAKA;AACJ;AACA,OACI,GAAMI,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,YAAD,CAAuB,CAC/C3B,cAAc,CAAC2B,YAAD,CAAd,CACH,CAFD,CAIA,mBACI,wCACI,KAAC,SAAD,EACI,eAAe,CAAE,CACb,CAAEC,KAAK,CAAE,OAAT,CAAkBC,IAAI,CAAE,qBAAxB,CADa,CAEb,CAAED,KAAK,CAAE,eAAT,CAA0BC,IAAI,CAAE,qBAAhC,CAAuDC,MAAM,CAAE,IAA/D,CAFa,CADrB,CAKI,KAAK,CAAE,eALX,EADJ,cAQI,KAAC,GAAD,wBACI,KAAC,GAAD,wBACI,aAAK,SAAS,CAAC,iBAAf,wBACI,aAAK,SAAS,CAAC,eAAf,wBACI,KAAC,IAAD,EAAM,EAAE,CAAC,mBAAT,CAA6B,SAAS,CAAC,wBAAvC,mBADJ,cAII,KAAC,OAAD,EAAS,eAAe,CAAE,KAA1B,CAAiC,iBAAiB,CAAEzB,iBAApD,EAJJ,GADJ,cAQI,YAAK,SAAS,CAAC,oBAAf,uBACI,kCACI,MAAC,YAAD,EAAc,QAAQ,CAAEc,eAAxB,CAAyC,QAAQ,CAAEP,cAAnD,wBACI,KAAC,SAAD,EAAW,IAAI,CAAC,OAAhB,CAAwB,IAAI,CAAC,IAA7B,CAAkC,WAAW,CAAC,IAA9C,CAAmD,cAAc,CAAE,MAAnE,EADJ,cAEI,KAAC,SAAD,EACI,IAAI,CAAC,MADT,CAEI,IAAI,CAAC,SAFT,CAGI,WAAW,CAAC,SAHhB,CAII,cAAc,CAAE,MAJpB,EAFJ,cASI,YAAK,SAAS,CAAC,oBAAf,uBACI,KAAC,MAAD,EACI,WAAW,CAAEb,WADjB,CAEI,gBAAgB,CAAC,kBAFrB,CAGI,gBAAgB,CAAC,6DAHrB,CAII,eAAe,CAAC,2BAJpB,CAKI,WAAW,CAAE,CAAEgC,SAAS,CAAE,OAAb,CALjB,CAMI,mBAAmB,CAAEL,mBANzB,EADJ,EATJ,cAoBI,YAAK,SAAS,CAAC,WAAf,uBACI,aAAK,SAAS,CAAC,UAAf,wBACI,MAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,SAAS,CAAC,MAApC,wBACI,UAAG,SAAS,CAAC,uBAAb,EADJ,YADJ,cAII,MAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,WACK,GADL,cAEI,8BAFJ,cAGI,UAAG,SAAS,CAAC,sBAAb,EAHJ,GAJJ,GADJ,EApBJ,GADJ,EADJ,EARJ,cA8CI,YAAK,SAAS,CAAC,UAAf,EA9CJ,GADJ,EADJ,EARJ,GADJ,CA+DH,CAzGD,CA2GA,cAAe5B,CAAAA,OAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Row, Col, Button } from 'react-bootstrap';\nimport * as yup from 'yup';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { Link } from 'react-router-dom';\n\n// Form Editor\nimport { Editor } from 'react-draft-wysiwyg';\nimport { EditorState, convertToRaw, ContentState } from 'draft-js';\nimport draftToHtml from 'draftjs-to-html';\nimport htmlToDraft from 'html-to-draftjs';\n// styles\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\n\n// components\nimport PageTitle from '../../../components/PageTitle';\nimport { VerticalForm, FormInput } from '../../../components/';\n\nimport LeftBar from './LeftBar';\n\n// dummy data\nimport { emails } from './data';\n\nconst Compose = () => {\n    const [editorState, setEditorState] = useState<any>();\n    const [totalUnreadEmails] = useState<number>(emails.filter((e: any) => e.is_read === false).length);\n\n    useEffect(() => {\n        const html = `<h3>This is an Air-mode editable area.</h3>\n            <ul> \n                <li>Select a text to reveal the toolbar.</li>\n                <li>Edit rich document on-the-fly, so elastic!</li>\n            </ul>\n            <p>End of air-mode area</p>`;\n        const contentBlock = htmlToDraft(html);\n        if (contentBlock) {\n            const contentState = ContentState.createFromBlockArray(contentBlock.contentBlocks);\n            setEditorState(EditorState.createWithContent(contentState));\n        }\n    }, []);\n\n    const schemaResolver = yupResolver(\n        yup.object().shape({\n            to: yup.string().required('Please specify to email'),\n            subject: yup.string().required('Please specify subject'),\n        })\n    );\n\n    /**\n     * Handles the save\n     * @param {*} event\n     * @param {*} values\n     */\n    const handleEmailSave = (event: any, values: any) => {\n        const body = draftToHtml(convertToRaw(editorState.getCurrentContent()));\n        console.log({ ...values, body });\n    };\n\n    /**\n     * On editor body change\n     */\n    const onEditorStateChange = (editorStates: any) => {\n        setEditorState(editorStates);\n    };\n\n    return (\n        <>\n            <PageTitle\n                breadCrumbItems={[\n                    { label: 'Email', path: '/apps/email/compose' },\n                    { label: 'Compose Email', path: '/apps/email/compose', active: true },\n                ]}\n                title={'Compose Email'}\n            />\n            <Row>\n                <Col>\n                    <div className=\"email-container\">\n                        <div className=\"inbox-leftbar\">\n                            <Link to=\"/apps/email/inbox\" className=\"btn btn-danger d-block\">\n                                Inbox\n                            </Link>\n                            <LeftBar showChatDetails={false} totalUnreadEmails={totalUnreadEmails} />\n                        </div>\n\n                        <div className=\"inbox-rightbar p-4\">\n                            <div>\n                                <VerticalForm onSubmit={handleEmailSave} resolver={schemaResolver}>\n                                    <FormInput type=\"email\" name=\"to\" placeholder=\"To\" containerClass={'mb-3'} />\n                                    <FormInput\n                                        type=\"text\"\n                                        name=\"subject\"\n                                        placeholder=\"Subject\"\n                                        containerClass={'mb-3'}\n                                    />\n\n                                    <div className=\"mb-3 card border-0\">\n                                        <Editor\n                                            editorState={editorState}\n                                            toolbarClassName=\"toolbarClassName\"\n                                            wrapperClassName=\"wrapperClassName border border-1 border-soft-dark mb-3 card\"\n                                            editorClassName=\"editorClassName px-2 pt-0\"\n                                            editorStyle={{ minHeight: '300px' }}\n                                            onEditorStateChange={onEditorStateChange}\n                                        />\n                                    </div>\n\n                                    <div className=\"mb-3 pt-2\">\n                                        <div className=\"text-end\">\n                                            <Button variant=\"success\" className=\"me-1\">\n                                                <i className=\"uil uil-envelope-edit\"></i> Draft\n                                            </Button>\n                                            <Button type=\"submit\">\n                                                {' '}\n                                                <span>Send</span>\n                                                <i className=\"uil uil-message ms-2\"></i>\n                                            </Button>\n                                        </div>\n                                    </div>\n                                </VerticalForm>\n                            </div>\n                        </div>\n\n                        <div className=\"clearfix\"></div>\n                    </div>\n                </Col>\n            </Row>\n        </>\n    );\n};\n\nexport default Compose;\n"]},"metadata":{},"sourceType":"module"}