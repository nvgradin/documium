{"ast":null,"code":"import _toConsumableArray from\"/Users/nazarethavaqueirogradin/Documents/Grupo Gradi\\u0301n/devs/documium/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/nazarethavaqueirogradin/Documents/Grupo Gradi\\u0301n/devs/documium/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/nazarethavaqueirogradin/Documents/Grupo Gradi\\u0301n/devs/documium/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useForm}from'react-hook-form';import{Row,Col,OverlayTrigger,Tooltip}from'react-bootstrap';import{DragDropContext,Droppable,Draggable}from'react-beautiful-dnd';import*as yup from'yup';import{yupResolver}from'@hookform/resolvers/yup';// components\nimport PageTitle from'../../../../components/PageTitle';import TaskDetails from'./TaskDetails';import TaskItem from'./Task';import AddNewTask from'./AddNewTask';// dummy data\nimport{tasks}from'./data';// images\nimport defaultAvatar from'../../../../assets/images/users/avatar-1.jpg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";// kanban\nvar Kanban=function Kanban(){var _useState=useState({todoTasks:tasks.filter(function(t){return t.status==='Pending';}),inprogressTasks:tasks.filter(function(t){return t.status==='Inprogress';}),reviewTasks:tasks.filter(function(t){return t.status==='Review';}),doneTasks:tasks.filter(function(t){return t.status==='Done';})}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=useState(tasks.length),_useState4=_slicedToArray(_useState3,2),totalTasks=_useState4[0],setTotalTasks=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),newTaskModal=_useState6[0],setNewTaskModal=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),newTaskDetails=_useState8[0],setNewTaskDetails=_useState8[1];/*\n     * Form validation schema\n     */var schemaResolver=yupResolver(yup.object().shape({title:yup.string().required(),priority:yup.string().required()}));/*\n     * Form methods\n     */var methods=useForm({resolver:schemaResolver});var handleSubmit=methods.handleSubmit,register=methods.register,control=methods.control,reset=methods.reset,errors=methods.formState.errors;/**\n     * Toggles the new task modal\n     */var toggleNewTaskModal=function toggleNewTaskModal(){setNewTaskModal(function(prevstate){return!prevstate;});};/**\n     * Creates new empty task with given status\n     * @param status\n     * @param queue\n     */var newTask=function newTask(status,queue){setNewTaskDetails({dueDate:new Date(),userAvatar:[defaultAvatar],status:status,queue:queue});setNewTaskModal(true);};/**\n     * When date changes\n     * @param {} date\n     */var handleDateChange=function handleDateChange(date){if(newTaskDetails){setNewTaskDetails(_objectSpread(_objectSpread({},newTaskDetails),{},{dueDate:date}));}};// a little function to help us with reordering the result\nvar reorder=function reorder(list,startIndex,endIndex){var result=Array.from(list);var _result$splice=result.splice(startIndex,1),_result$splice2=_slicedToArray(_result$splice,1),removed=_result$splice2[0];result.splice(endIndex,0,removed);return result;};/**\n     * Moves an item from one list to another list.\n     */var move=function move(source,destination,droppableSource,droppableDestination){var sourceClone=Array.from(source);var destClone=Array.from(destination);var _sourceClone$splice=sourceClone.splice(droppableSource.index,1),_sourceClone$splice2=_slicedToArray(_sourceClone$splice,1),removed=_sourceClone$splice2[0];destClone.splice(droppableDestination.index,0,removed);var result={};result[droppableSource.droppableId]=sourceClone;result[droppableDestination.droppableId]=destClone;return result;};/**\n     * Gets the list\n     */var getList=function getList(id){var modifiedState=_objectSpread({},state);var stateTasks=modifiedState[id]&&modifiedState[id];return stateTasks;};/**\n     * On drag end\n     */var onDragEnd=function onDragEnd(result){var source=result.source,destination=result.destination;// dropped outside the list\nif(!destination){return;}if(source.droppableId===destination.droppableId){var items=reorder(getList(source.droppableId),source.index,destination.index);var localState=_objectSpread({},state);localState[source.droppableId]=items;setState(localState);}else{var _result=move(getList(source.droppableId),getList(destination.droppableId),source,destination);var _localState=_objectSpread(_objectSpread({},state),_result);setState(_localState);}};/**\n     * Handles the new task form submission\n     */var handleNewTask=function handleNewTask(values){var formData={title:values['title'],priority:values['priority']};var newTask=_objectSpread(_objectSpread(_objectSpread({},newTaskDetails),formData),{},{id:totalTasks+1,dueDate:newTaskDetails.dueDate.toLocaleDateString('en-US',{year:'numeric',month:'short',day:'numeric'}),totalComments:18,totalSubTasks:12,subTaskCompleted:2});var modifiedState=_objectSpread({},state);var tasks=[].concat(_toConsumableArray(getList(newTaskDetails.queue)),[newTask]);modifiedState[newTaskDetails.queue]=_toConsumableArray(tasks);setState(modifiedState);setNewTaskModal(false);setTotalTasks(totalTasks+1);reset();};return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(PageTitle,{breadCrumbItems:[{label:'Tasks',path:'apps/tasks/kanban'},{label:'Kanban Board',path:'apps/tasks/kanban',active:true}],title:'Kanban Board'}),/*#__PURE__*/_jsx(TaskDetails,{newTask:newTask}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xs:12,children:/*#__PURE__*/_jsx(DragDropContext,{onDragEnd:onDragEnd,children:/*#__PURE__*/_jsxs(\"div\",{className:\"board\",children:[/*#__PURE__*/_jsx(Droppable,{droppableId:\"todoTasks\",children:function children(provided,snapshot){return/*#__PURE__*/_jsxs(\"div\",{className:\"tasks border\",ref:provided.innerRef,children:[/*#__PURE__*/_jsx(OverlayTrigger,{placement:\"bottom\",overlay:/*#__PURE__*/_jsx(Tooltip,{children:\"Add New Todo Task\"}),children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-link p-0 text-secondary float-end shadow-none px-0 py-2\",id:\"addNewTodo\",onClick:function onClick(){return newTask('Pending','todoTasks');},children:/*#__PURE__*/_jsx(\"i\",{className:\"uil-plus\"})})},\"bottom\"),/*#__PURE__*/_jsxs(\"h5\",{className:\"mt-0 task-header header-title\",children:[\"TODO \",/*#__PURE__*/_jsxs(\"span\",{className:\"fs-13\",children:[\"(\",state.todoTasks.length,\")\"]})]}),state.todoTasks.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-muted pt-2 mb-0\",children:\"No Tasks\"}),state.todoTasks.map(function(item,index){return/*#__PURE__*/_jsx(Draggable,{draggableId:item.id+'',index:index,children:function children(provided,snapshot){return/*#__PURE__*/_jsx(\"div\",_objectSpread(_objectSpread(_objectSpread({ref:provided.innerRef},provided.draggableProps),provided.dragHandleProps),{},{children:/*#__PURE__*/_jsx(TaskItem,{task:item})}));}},item.id);}),provided.placeholder]});}}),/*#__PURE__*/_jsx(Droppable,{droppableId:\"inprogressTasks\",children:function children(provided,snapshot){return/*#__PURE__*/_jsxs(\"div\",{ref:provided.innerRef,className:\"tasks border\",children:[/*#__PURE__*/_jsx(OverlayTrigger,{placement:\"bottom\",overlay:/*#__PURE__*/_jsx(Tooltip,{children:\"Add New In Progress Task\"}),children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-link p-0 text-secondary float-end shadow-none px-0 py-2\",id:\"addInprogressTask\",onClick:function onClick(){return newTask('Inprogress','inprogressTasks');},children:/*#__PURE__*/_jsx(\"i\",{className:\"uil-plus\"})})},\"bottom\"),/*#__PURE__*/_jsxs(\"h5\",{className:\"mt-0 task-header header-title\",children:[\"In Progress \",/*#__PURE__*/_jsxs(\"span\",{className:\"fs-13\",children:[\"(\",state.inprogressTasks.length,\")\"]})]}),state.inprogressTasks.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-muted pt-2 mb-0\",children:\"No Tasks\"}),state.inprogressTasks.map(function(item,index){return/*#__PURE__*/_jsx(Draggable,{draggableId:item.id+'',index:index,children:function children(provided,snapshot){return/*#__PURE__*/_jsx(\"div\",_objectSpread(_objectSpread(_objectSpread({ref:provided.innerRef},provided.draggableProps),provided.dragHandleProps),{},{children:/*#__PURE__*/_jsx(TaskItem,{task:item})}));}},item.id);}),provided.placeholder]});}}),/*#__PURE__*/_jsx(Droppable,{droppableId:\"reviewTasks\",children:function children(provided,snapshot){return/*#__PURE__*/_jsxs(\"div\",{ref:provided.innerRef,className:\"tasks\",children:[/*#__PURE__*/_jsx(OverlayTrigger,{placement:\"bottom\",overlay:/*#__PURE__*/_jsx(Tooltip,{children:\"Add New Review Task\"}),children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-link p-0 text-secondary float-end shadow-none px-0 py-2\",id:\"addReviewTask\",onClick:function onClick(){return newTask('Review','reviewTasks');},children:/*#__PURE__*/_jsx(\"i\",{className:\"uil-plus\"})})},\"bottom\"),/*#__PURE__*/_jsxs(\"h5\",{className:\"mt-0 task-header header-title\",children:[\"Review (\",state.reviewTasks.length,\")\"]}),state.reviewTasks.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-muted pt-2 mb-0\",children:\"No Tasks\"}),state.reviewTasks.map(function(item,index){return/*#__PURE__*/_jsx(Draggable,{draggableId:item.id+'',index:index,children:function children(provided,snapshot){return/*#__PURE__*/_jsx(\"div\",_objectSpread(_objectSpread(_objectSpread({ref:provided.innerRef},provided.draggableProps),provided.dragHandleProps),{},{children:/*#__PURE__*/_jsx(TaskItem,{task:item})}));}},item.id);}),provided.placeholder]});}}),/*#__PURE__*/_jsx(Droppable,{droppableId:\"doneTasks\",children:function children(provided,snapshot){return/*#__PURE__*/_jsxs(\"div\",{ref:provided.innerRef,className:\"tasks\",children:[/*#__PURE__*/_jsx(OverlayTrigger,{placement:\"bottom\",overlay:/*#__PURE__*/_jsx(Tooltip,{children:\"Add New Done Task\"}),children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-link p-0 text-secondary float-end shadow-none px-0 py-2\",id:\"addNewDone\",onClick:function onClick(){return newTask('Done','doneTasks');},children:/*#__PURE__*/_jsx(\"i\",{className:\"uil-plus\"})})},\"bottom\"),/*#__PURE__*/_jsxs(\"h5\",{className:\"mt-0 task-header header-title\",children:[\"Done (\",state.doneTasks.length,\")\"]}),state.doneTasks.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-muted pt-2 mb-0\",children:\"No Tasks\"}),state.doneTasks.map(function(item,index){return/*#__PURE__*/_jsx(Draggable,{draggableId:item.id+'',index:index,children:function children(provided,snapshot){return/*#__PURE__*/_jsx(\"div\",_objectSpread(_objectSpread(_objectSpread({ref:provided.innerRef},provided.draggableProps),provided.dragHandleProps),{},{children:/*#__PURE__*/_jsx(TaskItem,{task:item})}));}},item.id);}),provided.placeholder]});}})]})})})}),newTaskModal&&/*#__PURE__*/_jsx(AddNewTask,{newTaskModal:newTaskModal,toggleNewTaskModal:toggleNewTaskModal,handleNewTask:handleNewTask,handleSubmit:handleSubmit,newTaskDetails:newTaskDetails,handleDateChange:handleDateChange,register:register,errors:errors,control:control})]});};export default Kanban;","map":{"version":3,"sources":["/Users/nazarethavaqueirogradin/Documents/Grupo GradiÌn/devs/documium/src/pages/apps/Tasks/Board/index.tsx"],"names":["React","useState","useForm","Row","Col","OverlayTrigger","Tooltip","DragDropContext","Droppable","Draggable","yup","yupResolver","PageTitle","TaskDetails","TaskItem","AddNewTask","tasks","defaultAvatar","Kanban","todoTasks","filter","t","status","inprogressTasks","reviewTasks","doneTasks","state","setState","length","totalTasks","setTotalTasks","newTaskModal","setNewTaskModal","newTaskDetails","setNewTaskDetails","schemaResolver","object","shape","title","string","required","priority","methods","resolver","handleSubmit","register","control","reset","errors","formState","toggleNewTaskModal","prevstate","newTask","queue","dueDate","Date","userAvatar","handleDateChange","date","reorder","list","startIndex","endIndex","result","Array","from","splice","removed","move","source","destination","droppableSource","droppableDestination","sourceClone","destClone","index","droppableId","getList","id","modifiedState","stateTasks","onDragEnd","items","localState","handleNewTask","values","formData","toLocaleDateString","year","month","day","totalComments","totalSubTasks","subTaskCompleted","label","path","active","provided","snapshot","innerRef","map","item","draggableProps","dragHandleProps","placeholder"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { Row, Col, OverlayTrigger, Tooltip } from 'react-bootstrap';\nimport { DragDropContext, Droppable, Draggable, DropResult } from 'react-beautiful-dnd';\nimport * as yup from 'yup';\nimport { yupResolver } from '@hookform/resolvers/yup';\n\n// components\nimport PageTitle from '../../../../components/PageTitle';\n\nimport TaskDetails from './TaskDetails';\nimport TaskItem from './Task';\nimport AddNewTask from './AddNewTask';\n\n// dummy data\nimport { tasks, TaskTypes } from './data';\n\n// images\nimport defaultAvatar from '../../../../assets/images/users/avatar-1.jpg';\n\ninterface StateType {\n    todoTasks: TaskTypes[];\n    inprogressTasks: TaskTypes[];\n    reviewTasks: TaskTypes[];\n    doneTasks: TaskTypes[];\n}\n\n// kanban\nconst Kanban = () => {\n    const [state, setState] = useState<StateType>({\n        todoTasks: tasks.filter((t) => t.status === 'Pending'),\n        inprogressTasks: tasks.filter((t) => t.status === 'Inprogress'),\n        reviewTasks: tasks.filter((t) => t.status === 'Review'),\n        doneTasks: tasks.filter((t) => t.status === 'Done'),\n    });\n    const [totalTasks, setTotalTasks] = useState<number>(tasks.length);\n    const [newTaskModal, setNewTaskModal] = useState<boolean>(false);\n    const [newTaskDetails, setNewTaskDetails] = useState<any>(null);\n\n    /*\n     * Form validation schema\n     */\n    const schemaResolver = yupResolver(\n        yup.object().shape({\n            title: yup.string().required(),\n            priority: yup.string().required(),\n        })\n    );\n\n    /*\n     * Form methods\n     */\n    const methods = useForm({ resolver: schemaResolver });\n    const {\n        handleSubmit,\n        register,\n        control,\n        reset,\n        formState: { errors },\n    } = methods;\n\n    /**\n     * Toggles the new task modal\n     */\n    const toggleNewTaskModal = () => {\n        setNewTaskModal((prevstate) => !prevstate);\n    };\n\n    /**\n     * Creates new empty task with given status\n     * @param status\n     * @param queue\n     */\n    const newTask = (status: string, queue: string) => {\n        setNewTaskDetails({\n            dueDate: new Date(),\n            userAvatar: [defaultAvatar],\n            status: status,\n            queue: queue,\n        });\n        setNewTaskModal(true);\n    };\n\n    /**\n     * When date changes\n     * @param {} date\n     */\n    const handleDateChange = (date: Date) => {\n        if (newTaskDetails) {\n            setNewTaskDetails({ ...newTaskDetails, dueDate: date });\n        }\n    };\n\n    // a little function to help us with reordering the result\n    const reorder = (list: any[], startIndex: number, endIndex: number) => {\n        const result = Array.from(list);\n        const [removed] = result.splice(startIndex, 1);\n        result.splice(endIndex, 0, removed);\n\n        return result;\n    };\n\n    /**\n     * Moves an item from one list to another list.\n     */\n    const move = (\n        source: Iterable<unknown> | ArrayLike<unknown>,\n        destination: Iterable<unknown> | ArrayLike<unknown>,\n        droppableSource: { index: number; droppableId: string | number },\n        droppableDestination: { index: number; droppableId: string | number }\n    ) => {\n        const sourceClone = Array.from(source);\n        const destClone = Array.from(destination);\n        const [removed] = sourceClone.splice(droppableSource.index, 1);\n        destClone.splice(droppableDestination.index, 0, removed);\n        const result: any = {};\n        result[droppableSource.droppableId] = sourceClone;\n        result[droppableDestination.droppableId] = destClone;\n\n        return result;\n    };\n\n    /**\n     * Gets the list\n     */\n    const getList = (id: string) => {\n        const modifiedState: any = { ...state };\n        const stateTasks: any = modifiedState[id] && modifiedState[id];\n        return stateTasks;\n    };\n\n    /**\n     * On drag end\n     */\n    const onDragEnd = (result: DropResult) => {\n        const { source, destination } = result;\n\n        // dropped outside the list\n        if (!destination) {\n            return;\n        }\n        if (source.droppableId === destination.droppableId) {\n            const items = reorder(getList(source.droppableId), source.index, destination.index);\n            let localState: any = { ...state };\n            localState[source.droppableId] = items;\n            setState(localState);\n        } else {\n            const result = move(getList(source.droppableId), getList(destination.droppableId), source, destination);\n            const localState = { ...state, ...result };\n            setState(localState);\n        }\n    };\n\n    /**\n     * Handles the new task form submission\n     */\n    const handleNewTask = (values: any) => {\n        const formData = {\n            title: values['title'],\n            priority: values['priority'],\n        };\n\n        const newTask = {\n            ...newTaskDetails,\n            ...formData,\n            id: totalTasks + 1,\n            dueDate: newTaskDetails.dueDate.toLocaleDateString('en-US', {\n                year: 'numeric',\n                month: 'short',\n                day: 'numeric',\n            }),\n            totalComments: 18,\n            totalSubTasks: 12,\n            subTaskCompleted: 2,\n        };\n\n        let modifiedState: any = { ...state };\n        let tasks = [...getList(newTaskDetails.queue), newTask];\n        modifiedState[newTaskDetails.queue] = [...tasks];\n\n        setState(modifiedState);\n        setNewTaskModal(false);\n        setTotalTasks(totalTasks + 1);\n        reset();\n    };\n\n    return (\n        <React.Fragment>\n            <PageTitle\n                breadCrumbItems={[\n                    { label: 'Tasks', path: 'apps/tasks/kanban' },\n                    { label: 'Kanban Board', path: 'apps/tasks/kanban', active: true },\n                ]}\n                title={'Kanban Board'}\n            />\n\n            <TaskDetails newTask={newTask} />\n\n            <Row>\n                <Col xs={12}>\n                    <DragDropContext onDragEnd={onDragEnd}>\n                        <div className=\"board\">\n                            {/* todo */}\n                            <Droppable droppableId=\"todoTasks\">\n                                {(provided, snapshot) => (\n                                    <div className=\"tasks border\" ref={provided.innerRef}>\n                                        <OverlayTrigger\n                                            key=\"bottom\"\n                                            placement=\"bottom\"\n                                            overlay={<Tooltip>Add New Todo Task</Tooltip>}>\n                                            <button\n                                                className=\"btn btn-link p-0 text-secondary float-end shadow-none px-0 py-2\"\n                                                id=\"addNewTodo\"\n                                                onClick={() => newTask('Pending', 'todoTasks')}>\n                                                <i className=\"uil-plus\"></i>\n                                            </button>\n                                        </OverlayTrigger>\n                                        <h5 className=\"mt-0 task-header header-title\">\n                                            TODO <span className=\"fs-13\">({state.todoTasks.length})</span>\n                                        </h5>\n\n                                        {state.todoTasks.length === 0 && (\n                                            <p className=\"text-center text-muted pt-2 mb-0\">No Tasks</p>\n                                        )}\n\n                                        {state.todoTasks.map((item, index) => (\n                                            <Draggable key={item.id} draggableId={item.id + ''} index={index}>\n                                                {(provided, snapshot) => (\n                                                    <div\n                                                        ref={provided.innerRef}\n                                                        {...provided.draggableProps}\n                                                        {...provided.dragHandleProps}>\n                                                        <TaskItem task={item} />\n                                                    </div>\n                                                )}\n                                            </Draggable>\n                                        ))}\n                                        {provided.placeholder}\n                                    </div>\n                                )}\n                            </Droppable>\n\n                            {/* in progress */}\n                            <Droppable droppableId=\"inprogressTasks\">\n                                {(provided, snapshot) => (\n                                    <div ref={provided.innerRef} className=\"tasks border\">\n                                        <OverlayTrigger\n                                            key=\"bottom\"\n                                            placement=\"bottom\"\n                                            overlay={<Tooltip>Add New In Progress Task</Tooltip>}>\n                                            <button\n                                                className=\"btn btn-link p-0 text-secondary float-end shadow-none px-0 py-2\"\n                                                id=\"addInprogressTask\"\n                                                onClick={() => newTask('Inprogress', 'inprogressTasks')}>\n                                                <i className=\"uil-plus\"></i>\n                                            </button>\n                                        </OverlayTrigger>\n                                        <h5 className=\"mt-0 task-header header-title\">\n                                            In Progress <span className=\"fs-13\">({state.inprogressTasks.length})</span>\n                                        </h5>\n                                        {state.inprogressTasks.length === 0 && (\n                                            <p className=\"text-center text-muted pt-2 mb-0\">No Tasks</p>\n                                        )}\n\n                                        {state.inprogressTasks.map((item, index) => (\n                                            <Draggable key={item.id} draggableId={item.id + ''} index={index}>\n                                                {(provided, snapshot) => (\n                                                    <div\n                                                        ref={provided.innerRef}\n                                                        {...provided.draggableProps}\n                                                        {...provided.dragHandleProps}>\n                                                        <TaskItem task={item} />\n                                                    </div>\n                                                )}\n                                            </Draggable>\n                                        ))}\n                                        {provided.placeholder}\n                                    </div>\n                                )}\n                            </Droppable>\n\n                            {/* review */}\n                            <Droppable droppableId=\"reviewTasks\">\n                                {(provided, snapshot) => (\n                                    <div ref={provided.innerRef} className=\"tasks\">\n                                        <OverlayTrigger\n                                            key=\"bottom\"\n                                            placement=\"bottom\"\n                                            overlay={<Tooltip>Add New Review Task</Tooltip>}>\n                                            <button\n                                                className=\"btn btn-link p-0 text-secondary float-end shadow-none px-0 py-2\"\n                                                id=\"addReviewTask\"\n                                                onClick={() => newTask('Review', 'reviewTasks')}>\n                                                <i className=\"uil-plus\"></i>\n                                            </button>\n                                        </OverlayTrigger>\n                                        <h5 className=\"mt-0 task-header header-title\">\n                                            Review ({state.reviewTasks.length})\n                                        </h5>\n                                        {state.reviewTasks.length === 0 && (\n                                            <p className=\"text-center text-muted pt-2 mb-0\">No Tasks</p>\n                                        )}\n\n                                        {state.reviewTasks.map((item, index) => (\n                                            <Draggable key={item.id} draggableId={item.id + ''} index={index}>\n                                                {(provided, snapshot) => (\n                                                    <div\n                                                        ref={provided.innerRef}\n                                                        {...provided.draggableProps}\n                                                        {...provided.dragHandleProps}>\n                                                        <TaskItem task={item} />\n                                                    </div>\n                                                )}\n                                            </Draggable>\n                                        ))}\n                                        {provided.placeholder}\n                                    </div>\n                                )}\n                            </Droppable>\n\n                            {/* done */}\n                            <Droppable droppableId=\"doneTasks\">\n                                {(provided, snapshot) => (\n                                    <div ref={provided.innerRef} className=\"tasks\">\n                                        <OverlayTrigger\n                                            key=\"bottom\"\n                                            placement=\"bottom\"\n                                            overlay={<Tooltip>Add New Done Task</Tooltip>}>\n                                            <button\n                                                className=\"btn btn-link p-0 text-secondary float-end shadow-none px-0 py-2\"\n                                                id=\"addNewDone\"\n                                                onClick={() => newTask('Done', 'doneTasks')}>\n                                                <i className=\"uil-plus\"></i>\n                                            </button>\n                                        </OverlayTrigger>\n                                        <h5 className=\"mt-0 task-header header-title\">\n                                            Done ({state.doneTasks.length})\n                                        </h5>\n                                        {state.doneTasks.length === 0 && (\n                                            <p className=\"text-center text-muted pt-2 mb-0\">No Tasks</p>\n                                        )}\n\n                                        {state.doneTasks.map((item, index) => (\n                                            <Draggable key={item.id} draggableId={item.id + ''} index={index}>\n                                                {(provided, snapshot) => (\n                                                    <div\n                                                        ref={provided.innerRef}\n                                                        {...provided.draggableProps}\n                                                        {...provided.dragHandleProps}>\n                                                        <TaskItem task={item} />\n                                                    </div>\n                                                )}\n                                            </Draggable>\n                                        ))}\n                                        {provided.placeholder}\n                                    </div>\n                                )}\n                            </Droppable>\n                        </div>\n                    </DragDropContext>\n                </Col>\n            </Row>\n\n            {/* add new task modal */}\n            {newTaskModal && (\n                <AddNewTask\n                    newTaskModal={newTaskModal}\n                    toggleNewTaskModal={toggleNewTaskModal}\n                    handleNewTask={handleNewTask}\n                    handleSubmit={handleSubmit}\n                    newTaskDetails={newTaskDetails}\n                    handleDateChange={handleDateChange}\n                    register={register}\n                    errors={errors}\n                    control={control}\n                />\n            )}\n        </React.Fragment>\n    );\n};\n\nexport default Kanban;\n"]},"metadata":{},"sourceType":"module"}