{"code":"(this[\"webpackJsonpshreyu-react-app\"]=this[\"webpackJsonpshreyu-react-app\"]||[]).push([[26,51,52,53,54],{110:function(e,t,n){\"use strict\";var r=n(0);t.a=function(e){var t=Object(r.useRef)(e);return Object(r.useEffect)((function(){t.current=e}),[e]),t}},111:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(0),i=n(110);function o(e){var t=Object(i.a)(e);return Object(r.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}},112:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(0),i=n(111);function o(e,t,n,o){void 0===o&&(o=!1);var a=Object(i.a)(n);Object(r.useEffect)((function(){var n=\"function\"===typeof e?e():e;return n.addEventListener(t,a,o),function(){return n.removeEventListener(t,a,o)}}),[e])}},114:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return f}));var r=n(3),i=n(35),o=n(47),a=n.n(o),l=/-(.)/g;var s=n(0),u=n(48),c=n(1),d=function(e){return e[0].toUpperCase()+(t=e,t.replace(l,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.displayName,o=void 0===n?d(e):n,l=t.Component,f=t.defaultProps,h=s.forwardRef((function(t,n){var o=t.className,s=t.bsPrefix,d=t.as,f=void 0===d?l||\"div\":d,h=Object(i.a)(t,[\"className\",\"bsPrefix\",\"as\"]),p=Object(u.a)(s,e);return Object(c.jsx)(f,Object(r.a)({ref:n,className:a()(o,p)},h))}));return h.defaultProps=f,h.displayName=o,h}},115:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var r=n(0);function i(e){var t=Object(r.useRef)(null);return Object(r.useEffect)((function(){t.current=e})),t.current}},116:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(112),i=n(0);function o(e,t,n){void 0===n&&(n=!1);var o=Object(i.useCallback)((function(){return document}),[]);return Object(r.a)(o,e,t,n)}},117:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var r=n(0);function i(){return Object(r.useState)(null)}},120:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var r=n(0);function i(){var e=Object(r.useRef)(!0),t=Object(r.useRef)((function(){return e.current}));return Object(r.useEffect)((function(){return function(){e.current=!1}}),[]),t.current}},121:function(e,t,n){\"use strict\";var r=n(23),i=n(0),o=(n(117),n(110),n(111));n(112),n(116);n(120),n(115);n(129),new WeakMap;var a=n(124),l=n(1),s=[\"onKeyDown\"];var u=i.forwardRef((function(e,t){var n,i=e.onKeyDown,u=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s),c=Object(a.b)(Object.assign({tagName:\"a\"},u)),d=Object(r.a)(c,1)[0],f=Object(o.a)((function(e){d.onKeyDown(e),null==i||i(e)}));return((n=u.href)&&\"#\"!==n.trim()||u.role)&&\"button\"!==u.role?Object(l.jsx)(\"a\",Object.assign({ref:t},u,{onKeyDown:i})):Object(l.jsx)(\"a\",Object.assign({ref:t},u,d,{onKeyDown:f}))}));u.displayName=\"Anchor\";t.a=u},124:function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return l}));var r=n(23),i=n(0),o=n(1),a=[\"as\",\"disabled\"];function l(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,o=e.rel,a=e.onClick,l=e.tabIndex,s=void 0===l?0:l,u=e.type;t||(t=null!=r||null!=i||null!=o?\"a\":\"button\");var c={tagName:t};if(\"button\"===t)return[{type:u||\"button\",disabled:n},c];var d=function(e){(n||\"a\"===t&&function(e){return!e||\"#\"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==a||a(e)};return[{role:\"button\",disabled:void 0,tabIndex:n?void 0:s,href:\"a\"===t&&n?void 0:r,target:\"a\"===t?i:void 0,\"aria-disabled\":n||void 0,rel:\"a\"===t?o:void 0,onClick:d,onKeyDown:function(e){\" \"===e.key&&(e.preventDefault(),d(e))}},c]}var s=i.forwardRef((function(e,t){var n=e.as,i=e.disabled,s=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,a),u=l(Object.assign({tagName:n,disabled:i},s)),c=Object(r.a)(u,2),d=c[0],f=c[1].tagName;return Object(o.jsx)(f,Object.assign({},s,d,{ref:t}))}));s.displayName=\"Button\",t.a=s},126:function(e,t,n){\"use strict\";var r=n(3),i=n(0),o=n(47),a=n.n(o),l=n(1);t.a=function(e){return i.forwardRef((function(t,n){return Object(l.jsx)(\"div\",Object(r.a)(Object(r.a)({},t),{},{ref:n,className:a()(t.className,e)}))}))}},129:function(e,t,n){\"use strict\";(function(e){var r=n(0),i=\"undefined\"!==typeof e&&e.navigator&&\"ReactNative\"===e.navigator.product,o=\"undefined\"!==typeof document;t.a=o||i?r.useLayoutEffect:r.useEffect}).call(this,n(71))},130:function(e,t,n){\"use strict\";var r=n(0),i=r.createContext(null);i.displayName=\"CardHeaderContext\",t.a=i},153:function(e,t,n){\"use strict\";var r=n(23),i=n(3),o=n(35),a=n(47),l=n.n(a),s=n(0),u=n(48),c=n(1),d=[\"xxl\",\"xl\",\"lg\",\"md\",\"sm\",\"xs\"];var f=s.forwardRef((function(e,t){var n=function(e){var t=e.as,n=e.bsPrefix,r=e.className,a=Object(o.a)(e,[\"as\",\"bsPrefix\",\"className\"]);n=Object(u.a)(n,\"col\");var s=[],c=[];return d.forEach((function(e){var t,r,i,o=a[e];delete a[e],\"object\"===typeof o&&null!=o?(t=o.span,r=o.offset,i=o.order):t=o;var l=\"xs\"!==e?\"-\".concat(e):\"\";t&&s.push(!0===t?\"\".concat(n).concat(l):\"\".concat(n).concat(l,\"-\").concat(t)),null!=i&&c.push(\"order\".concat(l,\"-\").concat(i)),null!=r&&c.push(\"offset\".concat(l,\"-\").concat(r))})),[Object(i.a)(Object(i.a)({},a),{},{className:l.a.apply(void 0,[r].concat(s,c))}),{as:t,bsPrefix:n,spans:s}]}(e),a=Object(r.a)(n,2),s=a[0],f=s.className,h=Object(o.a)(s,[\"className\"]),p=a[1],m=p.as,g=void 0===m?\"div\":m,v=p.bsPrefix,x=p.spans;return Object(c.jsx)(g,Object(i.a)(Object(i.a)({},h),{},{ref:t,className:l()(f,!x.length&&v)}))}));f.displayName=\"Col\",t.a=f},160:function(e,t,n){\"use strict\";var r=n(3),i=n(35),o=n(47),a=n.n(o),l=n(0),s=n(48),u=n(114),c=n(126),d=n(1),f=l.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,l=e.variant,u=e.as,c=void 0===u?\"img\":u,f=Object(i.a)(e,[\"bsPrefix\",\"className\",\"variant\",\"as\"]),h=Object(s.a)(n,\"card-img\");return Object(d.jsx)(c,Object(r.a)({ref:t,className:a()(l?\"\".concat(h,\"-\").concat(l):h,o)},f))}));f.displayName=\"CardImg\";var h=f,p=n(130),m=l.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,u=e.as,c=void 0===u?\"div\":u,f=Object(i.a)(e,[\"bsPrefix\",\"className\",\"as\"]),h=Object(s.a)(n,\"card-header\"),m=Object(l.useMemo)((function(){return{cardHeaderBsPrefix:h}}),[h]);return Object(d.jsx)(p.a.Provider,{value:m,children:Object(d.jsx)(c,Object(r.a)(Object(r.a)({ref:t},f),{},{className:a()(o,h)}))})}));m.displayName=\"CardHeader\";var g=m,v=Object(c.a)(\"h5\"),x=Object(c.a)(\"h6\"),y=Object(u.a)(\"card-body\"),b=Object(u.a)(\"card-title\",{Component:v}),D=Object(u.a)(\"card-subtitle\",{Component:x}),C=Object(u.a)(\"card-link\",{Component:\"a\"}),w=Object(u.a)(\"card-text\",{Component:\"p\"}),k=Object(u.a)(\"card-footer\"),S=Object(u.a)(\"card-img-overlay\"),A=l.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,l=e.bg,u=e.text,c=e.border,f=e.body,h=e.children,p=e.as,m=void 0===p?\"div\":p,g=Object(i.a)(e,[\"bsPrefix\",\"className\",\"bg\",\"text\",\"border\",\"body\",\"children\",\"as\"]),v=Object(s.a)(n,\"card\");return Object(d.jsx)(m,Object(r.a)(Object(r.a)({ref:t},g),{},{className:a()(o,v,l&&\"bg-\".concat(l),u&&\"text-\".concat(u),c&&\"border-\".concat(c)),children:f?Object(d.jsx)(y,{children:h}):h}))}));A.displayName=\"Card\",A.defaultProps={body:!1};t.a=Object.assign(A,{Img:h,Title:b,Subtitle:D,Body:y,Link:C,Text:w,Header:g,Footer:k,ImgOverlay:S})},163:function(e,t,n){\"use strict\";var r=n(3),i=n(35),o=n(47),a=n.n(o),l=n(0),s=n(48),u=n(121),c=n(1),d=l.forwardRef((function(e,t){var n=e.bsPrefix,o=e.active,l=e.children,d=e.className,f=e.as,h=void 0===f?\"li\":f,p=e.linkAs,m=void 0===p?u.a:p,g=e.linkProps,v=e.href,x=e.title,y=e.target,b=Object(i.a)(e,[\"bsPrefix\",\"active\",\"children\",\"className\",\"as\",\"linkAs\",\"linkProps\",\"href\",\"title\",\"target\"]),D=Object(s.a)(n,\"breadcrumb-item\");return Object(c.jsx)(h,Object(r.a)(Object(r.a)({ref:t},b),{},{className:a()(D,d,{active:o}),\"aria-current\":o?\"page\":void 0,children:o?l:Object(c.jsx)(m,Object(r.a)(Object(r.a)({},g),{},{href:v,title:x,target:y,children:l}))}))}));d.displayName=\"BreadcrumbItem\",d.defaultProps={active:!1,linkProps:{}};var f=d,h=l.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,l=e.listProps,u=e.children,d=e.label,f=e.as,h=void 0===f?\"nav\":f,p=Object(i.a)(e,[\"bsPrefix\",\"className\",\"listProps\",\"children\",\"label\",\"as\"]),m=Object(s.a)(n,\"breadcrumb\");return Object(c.jsx)(h,Object(r.a)(Object(r.a)({\"aria-label\":d,className:o,ref:t},p),{},{children:Object(c.jsx)(\"ol\",Object(r.a)(Object(r.a)({},l),{},{className:a()(m,null==l?void 0:l.className),children:u}))}))}));h.displayName=\"Breadcrumb\",h.defaultProps={label:\"breadcrumb\",listProps:{}};t.a=Object.assign(h,{Item:f})},167:function(e,t,n){\"use strict\";var r=n(3),i=n(35),o=n(47),a=n.n(o),l=n(0),s=n(48),u=n(1),c=[\"xxl\",\"xl\",\"lg\",\"md\",\"sm\",\"xs\"],d=l.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,l=e.as,d=void 0===l?\"div\":l,f=Object(i.a)(e,[\"bsPrefix\",\"className\",\"as\"]),h=Object(s.a)(n,\"row\"),p=\"\".concat(h,\"-cols\"),m=[];return c.forEach((function(e){var t,n=f[e];delete f[e],t=null!=n&&\"object\"===typeof n?n.cols:n;var r=\"xs\"!==e?\"-\".concat(e):\"\";null!=t&&m.push(\"\".concat(p).concat(r,\"-\").concat(t))})),Object(u.jsx)(d,Object(r.a)(Object(r.a)({ref:t},f),{},{className:a.a.apply(void 0,[o,h].concat(m))}))}));d.displayName=\"Row\",t.a=d},212:function(e,t,n){var r=n(543);e.exports=function(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o},e.exports.default=e.exports,e.exports.__esModule=!0},287:function(e,t,n){e.exports=function(){\"use strict\";var e=navigator.userAgent,t=navigator.platform,n=/gecko\\/\\d/i.test(e),r=/MSIE \\d/.test(e),i=/Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(e),o=/Edge\\/(\\d+)/.exec(e),a=r||i||o,l=a&&(r?document.documentMode||6:+(o||i)[1]),s=!o&&/WebKit\\//.test(e),u=s&&/Qt\\/\\d+\\.\\d+/.test(e),c=!o&&/Chrome\\//.test(e),d=/Opera\\//.test(e),f=/Apple Computer/.test(navigator.vendor),h=/Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(e),p=/PhantomJS/.test(e),m=f&&(/Mobile\\/\\w+/.test(e)||navigator.maxTouchPoints>2),g=/Android/.test(e),v=m||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),x=m||/Mac/.test(t),y=/\\bCrOS\\b/.test(e),b=/win/i.test(t),D=d&&e.match(/Version\\/(\\d*\\.\\d*)/);D&&(D=Number(D[1])),D&&D>=15&&(d=!1,s=!0);var C=x&&(u||d&&(null==D||D<12.11)),w=n||a&&l>=9;function k(e){return new RegExp(\"(^|\\\\s)\"+e+\"(?:$|\\\\s)\\\\s*\")}var S,A=function(e,t){var n=e.className,r=k(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:\"\")}};function F(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function E(e,t){return F(e).appendChild(t)}function T(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),\"string\"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function L(e,t,n,r){var i=T(e,t,n,r);return i.setAttribute(\"role\",\"presentation\"),i}function M(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function N(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function O(e,t){var n=e.className;k(t).test(n)||(e.className+=(n?\" \":\"\")+t)}function B(e,t){for(var n=e.split(\" \"),r=0;r<n.length;r++)n[r]&&!k(n[r]).test(t)&&(t+=\" \"+n[r]);return t}S=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(i){return r}return r.collapse(!0),r.moveEnd(\"character\",n),r.moveStart(\"character\",t),r};var I=function(e){e.select()};function z(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function P(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function R(e,t,n,r,i){null==t&&-1==(t=e.search(/[^\\s\\u00a0]/))&&(t=e.length);for(var o=r||0,a=i||0;;){var l=e.indexOf(\"\\t\",o);if(l<0||l>=t)return a+(t-o);a+=l-o,a+=n-a%n,o=l+1}}m?I=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:a&&(I=function(e){try{e.select()}catch(t){}});var j=function(){this.id=null,this.f=null,this.time=0,this.handler=z(this.onTimeout,this)};function H(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}j.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},j.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};var _=50,W={toString:function(){return\"CodeMirror.Pass\"}},q={scroll:!1},U={origin:\"*mouse\"},$={origin:\"+move\"};function G(e,t,n){for(var r=0,i=0;;){var o=e.indexOf(\"\\t\",r);-1==o&&(o=e.length);var a=o-r;if(o==e.length||i+a>=t)return r+Math.min(a,t-i);if(i+=o-r,r=o+1,(i+=n-i%n)>=t)return r}}var V=[\"\"];function K(e){for(;V.length<=e;)V.push(X(V)+\" \");return V[e]}function X(e){return e[e.length-1]}function Z(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function Y(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t)}function J(){}function Q(e,t){var n;return Object.create?n=Object.create(e):(J.prototype=e,n=new J),t&&P(t,n),n}var ee=/[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;function te(e){return/\\w/.test(e)||e>\"\\x80\"&&(e.toUpperCase()!=e.toLowerCase()||ee.test(e))}function ne(e,t){return t?!!(t.source.indexOf(\"\\\\w\")>-1&&te(e))||t.test(e):te(e)}function re(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ie=/[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;function oe(e){return e.charCodeAt(0)>=768&&ie.test(e)}function ae(e,t,n){for(;(n<0?t>0:t<e.length)&&oe(e.charAt(t));)t+=n;return t}function le(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var i=(t+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+r}}function se(e,t,n,r){if(!e)return r(t,n,\"ltr\",0);for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?\"rtl\":\"ltr\",o),i=!0)}i||r(t,n,\"ltr\")}var ue=null;function ce(e,t,n){var r;ue=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&\"before\"==n?r=i:ue=i),o.from==t&&(o.from!=o.to&&\"before\"!=n?r=i:ue=i)}return null!=r?r:ue}var de=function(){var e=\"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\",t=\"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";function n(n){return n<=247?e.charAt(n):1424<=n&&n<=1524?\"R\":1536<=n&&n<=1785?t.charAt(n-1536):1774<=n&&n<=2220?\"r\":8192<=n&&n<=8203?\"w\":8204==n?\"b\":\"L\"}var r=/[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/,i=/[stwN]/,o=/[LRr]/,a=/[Lb1n]/,l=/[1n]/;function s(e,t,n){this.level=e,this.from=t,this.to=n}return function(e,t){var u=\"ltr\"==t?\"L\":\"R\";if(0==e.length||\"ltr\"==t&&!r.test(e))return!1;for(var c=e.length,d=[],f=0;f<c;++f)d.push(n(e.charCodeAt(f)));for(var h=0,p=u;h<c;++h){var m=d[h];\"m\"==m?d[h]=p:p=m}for(var g=0,v=u;g<c;++g){var x=d[g];\"1\"==x&&\"r\"==v?d[g]=\"n\":o.test(x)&&(v=x,\"r\"==x&&(d[g]=\"R\"))}for(var y=1,b=d[0];y<c-1;++y){var D=d[y];\"+\"==D&&\"1\"==b&&\"1\"==d[y+1]?d[y]=\"1\":\",\"!=D||b!=d[y+1]||\"1\"!=b&&\"n\"!=b||(d[y]=b),b=D}for(var C=0;C<c;++C){var w=d[C];if(\",\"==w)d[C]=\"N\";else if(\"%\"==w){var k=void 0;for(k=C+1;k<c&&\"%\"==d[k];++k);for(var S=C&&\"!\"==d[C-1]||k<c&&\"1\"==d[k]?\"1\":\"N\",A=C;A<k;++A)d[A]=S;C=k-1}}for(var F=0,E=u;F<c;++F){var T=d[F];\"L\"==E&&\"1\"==T?d[F]=\"L\":o.test(T)&&(E=T)}for(var L=0;L<c;++L)if(i.test(d[L])){var M=void 0;for(M=L+1;M<c&&i.test(d[M]);++M);for(var N=\"L\"==(L?d[L-1]:u),O=N==(\"L\"==(M<c?d[M]:u))?N?\"L\":\"R\":u,B=L;B<M;++B)d[B]=O;L=M-1}for(var I,z=[],P=0;P<c;)if(a.test(d[P])){var R=P;for(++P;P<c&&a.test(d[P]);++P);z.push(new s(0,R,P))}else{var j=P,H=z.length,_=\"rtl\"==t?1:0;for(++P;P<c&&\"L\"!=d[P];++P);for(var W=j;W<P;)if(l.test(d[W])){j<W&&(z.splice(H,0,new s(1,j,W)),H+=_);var q=W;for(++W;W<P&&l.test(d[W]);++W);z.splice(H,0,new s(2,q,W)),H+=_,j=W}else++W;j<P&&z.splice(H,0,new s(1,j,P))}return\"ltr\"==t&&(1==z[0].level&&(I=e.match(/^\\s+/))&&(z[0].from=I[0].length,z.unshift(new s(0,0,I[0].length))),1==X(z).level&&(I=e.match(/\\s+$/))&&(X(z).to-=I[0].length,z.push(new s(0,c-I[0].length,c)))),\"rtl\"==t?z.reverse():z}}();function fe(e,t){var n=e.order;return null==n&&(n=e.order=de(e.text,t)),n}var he=[],pe=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent(\"on\"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||he).concat(n)}};function me(e,t){return e._handlers&&e._handlers[t]||he}function ge(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent(\"on\"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var o=H(i,n);o>-1&&(r[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function ve(e,t){var n=me(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function xe(e,t,n){return\"string\"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),ve(e,n||t.type,e,t),ke(t)||t.codemirrorIgnore}function ye(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==H(n,t[r])&&n.push(t[r])}function be(e,t){return me(e,t).length>0}function De(e){e.prototype.on=function(e,t){pe(this,e,t)},e.prototype.off=function(e,t){ge(this,e,t)}}function Ce(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function we(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function ke(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Se(e){Ce(e),we(e)}function Ae(e){return e.target||e.srcElement}function Fe(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),x&&e.ctrlKey&&1==t&&(t=3),t}var Ee,Te,Le=function(){if(a&&l<9)return!1;var e=T(\"div\");return\"draggable\"in e||\"dragDrop\"in e}();function Me(e){if(null==Ee){var t=T(\"span\",\"\\u200b\");E(e,T(\"span\",[t,document.createTextNode(\"x\")])),0!=e.firstChild.offsetHeight&&(Ee=t.offsetWidth<=1&&t.offsetHeight>2&&!(a&&l<8))}var n=Ee?T(\"span\",\"\\u200b\"):T(\"span\",\"\\xa0\",null,\"display: inline-block; width: 1px; margin-right: -1px\");return n.setAttribute(\"cm-text\",\"\"),n}function Ne(e){if(null!=Te)return Te;var t=E(e,document.createTextNode(\"A\\u062eA\")),n=S(t,0,1).getBoundingClientRect(),r=S(t,1,2).getBoundingClientRect();return F(e),!(!n||n.left==n.right)&&(Te=r.right-n.right<3)}var Oe=3!=\"\\n\\nb\".split(/\\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf(\"\\n\",t);-1==i&&(i=e.length);var o=e.slice(t,\"\\r\"==e.charAt(i-1)?i-1:i),a=o.indexOf(\"\\r\");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\\r\\n?|\\n/)},Be=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(n){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints(\"StartToEnd\",t)},Ie=function(){var e=T(\"div\");return\"oncopy\"in e||(e.setAttribute(\"oncopy\",\"return;\"),\"function\"==typeof e.oncopy)}(),ze=null;function Pe(e){if(null!=ze)return ze;var t=E(e,T(\"span\",\"x\")),n=t.getBoundingClientRect(),r=S(t,0,1).getBoundingClientRect();return ze=Math.abs(n.left-r.left)>1}var Re={},je={};function He(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Re[e]=t}function _e(e,t){je[e]=t}function We(e){if(\"string\"==typeof e&&je.hasOwnProperty(e))e=je[e];else if(e&&\"string\"==typeof e.name&&je.hasOwnProperty(e.name)){var t=je[e.name];\"string\"==typeof t&&(t={name:t}),(e=Q(t,e)).name=t.name}else{if(\"string\"==typeof e&&/^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(e))return We(\"application/xml\");if(\"string\"==typeof e&&/^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(e))return We(\"application/json\")}return\"string\"==typeof e?{name:e}:e||{name:\"null\"}}function qe(e,t){t=We(t);var n=Re[t.name];if(!n)return qe(e,\"text/plain\");var r=n(e,t);if(Ue.hasOwnProperty(t.name)){var i=Ue[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r[\"_\"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)r[a]=t.modeProps[a];return r}var Ue={};function $e(e,t){P(t,Ue.hasOwnProperty(e)?Ue[e]:Ue[e]={})}function Ge(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function Ve(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Ke(e,t,n){return!e.startState||e.startState(t,n)}var Xe=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function Ze(e,t){if((t-=e.first)<0||t>=e.size)throw new Error(\"There is no line \"+(t+e.first)+\" in the document.\");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}return n.lines[t]}function Ye(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,(function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i})),r}function Je(e,t,n){var r=[];return e.iter(t,n,(function(e){r.push(e.text)})),r}function Qe(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function et(e){if(null==e.parent)return null;for(var t=e.parent,n=H(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function tt(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var l=e.lines[a].height;if(t<l)break;t-=l}return n+a}function nt(e,t){return t>=e.first&&t<e.first+e.size}function rt(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function it(e,t,n){if(void 0===n&&(n=null),!(this instanceof it))return new it(e,t,n);this.line=e,this.ch=t,this.sticky=n}function ot(e,t){return e.line-t.line||e.ch-t.ch}function at(e,t){return e.sticky==t.sticky&&0==ot(e,t)}function lt(e){return it(e.line,e.ch)}function st(e,t){return ot(e,t)<0?t:e}function ut(e,t){return ot(e,t)<0?e:t}function ct(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function dt(e,t){if(t.line<e.first)return it(e.first,0);var n=e.first+e.size-1;return t.line>n?it(n,Ze(e,n).text.length):ft(t,Ze(e,t.line).text.length)}function ft(e,t){var n=e.ch;return null==n||n>t?it(e.line,t):n<0?it(e.line,0):e}function ht(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=dt(e,t[r]);return n}Xe.prototype.eol=function(){return this.pos>=this.string.length},Xe.prototype.sol=function(){return this.pos==this.lineStart},Xe.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Xe.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Xe.prototype.eat=function(e){var t=this.string.charAt(this.pos);if(\"string\"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Xe.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Xe.prototype.eatSpace=function(){for(var e=this.pos;/[\\s\\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Xe.prototype.skipToEnd=function(){this.pos=this.string.length},Xe.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Xe.prototype.backUp=function(e){this.pos-=e},Xe.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=R(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?R(this.string,this.lineStart,this.tabSize):0)},Xe.prototype.indentation=function(){return R(this.string,null,this.tabSize)-(this.lineStart?R(this.string,this.lineStart,this.tabSize):0)},Xe.prototype.match=function(e,t,n){if(\"string\"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},Xe.prototype.current=function(){return this.string.slice(this.start,this.pos)},Xe.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Xe.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Xe.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var pt=function(e,t){this.state=e,this.lookAhead=t},mt=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function gt(e,t,n,r){var i=[e.state.modeGen],o={};St(e,t.text,e.doc.mode,n,(function(e,t){return i.push(e,t)}),o,r);for(var a=n.state,l=function(r){n.baseTokens=i;var l=e.state.overlays[r],s=1,u=0;n.state=!0,St(e,t.text,l.mode,n,(function(e,t){for(var n=s;u<e;){var r=i[s];r>e&&i.splice(s,1,e,i[s+1],r),s+=2,u=Math.min(e,r)}if(t)if(l.opaque)i.splice(n,s-n,e,\"overlay \"+t),s=n+2;else for(;n<s;n+=2){var o=i[n+1];i[n+1]=(o?o+\" \":\"\")+\"overlay \"+t}}),o),n.state=a,n.baseTokens=null,n.baseTokenPos=1},s=0;s<e.state.overlays.length;++s)l(s);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function vt(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=xt(e,et(t)),i=t.text.length>e.options.maxHighlightLength&&Ge(e.doc.mode,r.state),o=gt(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function xt(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return new mt(r,!0,t);var o=At(e,t,n),a=o>r.first&&Ze(r,o-1).stateAfter,l=a?mt.fromSaved(r,a,o):new mt(r,Ke(r.mode),o);return r.iter(o,t,(function(n){yt(e,n.text,l);var r=l.line;n.stateAfter=r==t-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?l.save():null,l.nextLine()})),n&&(r.modeFrontier=l.line),l}function yt(e,t,n,r){var i=e.doc.mode,o=new Xe(t,e.options.tabSize,n);for(o.start=o.pos=r||0,\"\"==t&&bt(i,n.state);!o.eol();)Dt(i,o,n.state),o.start=o.pos}function bt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=Ve(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Dt(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=Ve(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error(\"Mode \"+e.name+\" failed to advance stream.\")}mt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},mt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,\"\"),size:this.baseTokens[this.baseTokenPos]-e}},mt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},mt.fromSaved=function(e,t,n){return t instanceof pt?new mt(e,Ge(e.mode,t.state),n,t.lookAhead):new mt(e,Ge(e.mode,t),n)},mt.prototype.save=function(e){var t=!1!==e?Ge(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new pt(t,this.maxLookAhead):t};var Ct=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function wt(e,t,n,r){var i,o,a=e.doc,l=a.mode,s=Ze(a,(t=dt(a,t)).line),u=xt(e,t.line,n),c=new Xe(s.text,e.options.tabSize,u);for(r&&(o=[]);(r||c.pos<t.ch)&&!c.eol();)c.start=c.pos,i=Dt(l,c,u.state),r&&o.push(new Ct(c,i,Ge(a.mode,u.state)));return r?o:new Ct(c,i,u.state)}function kt(e,t){if(e)for(;;){var n=e.match(/(?:^|\\s+)line-(background-)?(\\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?\"bgClass\":\"textClass\";null==t[r]?t[r]=n[2]:new RegExp(\"(?:^|\\\\s)\"+n[2]+\"(?:$|\\\\s)\").test(t[r])||(t[r]+=\" \"+n[2])}return e}function St(e,t,n,r,i,o,a){var l=n.flattenSpans;null==l&&(l=e.options.flattenSpans);var s,u=0,c=null,d=new Xe(t,e.options.tabSize,r),f=e.options.addModeClass&&[null];for(\"\"==t&&kt(bt(n,r.state),o);!d.eol();){if(d.pos>e.options.maxHighlightLength?(l=!1,a&&yt(e,t,r,d.pos),d.pos=t.length,s=null):s=kt(Dt(n,d,r.state,f),o),f){var h=f[0].name;h&&(s=\"m-\"+(s?h+\" \"+s:h))}if(!l||c!=s){for(;u<d.start;)i(u=Math.min(d.start,u+5e3),c);c=s}d.start=d.pos}for(;u<d.pos;){var p=Math.min(d.pos,u+5e3);i(p,c),u=p}}function At(e,t,n){for(var r,i,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),l=t;l>a;--l){if(l<=o.first)return o.first;var s=Ze(o,l-1),u=s.stateAfter;if(u&&(!n||l+(u instanceof pt?u.lookAhead:0)<=o.modeFrontier))return l;var c=R(s.text,null,e.options.tabSize);(null==i||r>c)&&(i=l-1,r=c)}return i}function Ft(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var i=Ze(e,r).stateAfter;if(i&&(!(i instanceof pt)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}var Et=!1,Tt=!1;function Lt(){Et=!0}function Mt(){Tt=!0}function Nt(e,t,n){this.marker=e,this.from=t,this.to=n}function Ot(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Bt(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function It(e,t,n){var r=n&&window.WeakSet&&(n.markedSpans||(n.markedSpans=new WeakSet));r&&r.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],r&&r.add(e.markedSpans)),t.marker.attachLine(e)}function zt(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&\"bookmark\"==a.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new Nt(a,o.from,l?null:o.to))}}return r}function Pt(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.to||(a.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&\"bookmark\"==a.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new Nt(a,l?null:o.from-t,null==o.to?null:o.to-t))}}return r}function Rt(e,t){if(t.full)return null;var n=nt(e,t.from.line)&&Ze(e,t.from.line).markedSpans,r=nt(e,t.to.line)&&Ze(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,a=0==ot(t.from,t.to),l=zt(n,i,a),s=Pt(r,o,a),u=1==t.text.length,c=X(t.text).length+(u?i:0);if(l)for(var d=0;d<l.length;++d){var f=l[d];if(null==f.to){var h=Ot(s,f.marker);h?u&&(f.to=null==h.to?null:h.to+c):f.to=i}}if(s)for(var p=0;p<s.length;++p){var m=s[p];null!=m.to&&(m.to+=c),null==m.from?Ot(l,m.marker)||(m.from=c,u&&(l||(l=[])).push(m)):(m.from+=c,u&&(l||(l=[])).push(m))}l&&(l=jt(l)),s&&s!=l&&(s=jt(s));var g=[l];if(!u){var v,x=t.text.length-2;if(x>0&&l)for(var y=0;y<l.length;++y)null==l[y].to&&(v||(v=[])).push(new Nt(l[y].marker,null,null));for(var b=0;b<x;++b)g.push(v);g.push(s)}return g}function jt(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Ht(e,t,n){var r=null;if(e.iter(t.line,n.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=H(r,n)||(r||(r=[])).push(n)}})),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var a=r[o],l=a.find(0),s=0;s<i.length;++s){var u=i[s];if(!(ot(u.to,l.from)<0||ot(u.from,l.to)>0)){var c=[s,1],d=ot(u.from,l.from),f=ot(u.to,l.to);(d<0||!a.inclusiveLeft&&!d)&&c.push({from:u.from,to:l.from}),(f>0||!a.inclusiveRight&&!f)&&c.push({from:l.to,to:u.to}),i.splice.apply(i,c),s+=c.length-3}}return i}function _t(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Wt(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function qt(e){return e.inclusiveLeft?-1:0}function Ut(e){return e.inclusiveRight?1:0}function $t(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=ot(r.from,i.from)||qt(e)-qt(t);if(o)return-o;var a=ot(r.to,i.to)||Ut(e)-Ut(t);return a||t.id-e.id}function Gt(e,t){var n,r=Tt&&e.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)(i=r[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!n||$t(n,i.marker)<0)&&(n=i.marker);return n}function Vt(e){return Gt(e,!0)}function Kt(e){return Gt(e,!1)}function Xt(e,t){var n,r=Tt&&e.markedSpans;if(r)for(var i=0;i<r.length;++i){var o=r[i];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!n||$t(n,o.marker)<0)&&(n=o.marker)}return n}function Zt(e,t,n,r,i){var o=Ze(e,t),a=Tt&&o.markedSpans;if(a)for(var l=0;l<a.length;++l){var s=a[l];if(s.marker.collapsed){var u=s.marker.find(0),c=ot(u.from,n)||qt(s.marker)-qt(i),d=ot(u.to,r)||Ut(s.marker)-Ut(i);if(!(c>=0&&d<=0||c<=0&&d>=0)&&(c<=0&&(s.marker.inclusiveRight&&i.inclusiveLeft?ot(u.to,n)>=0:ot(u.to,n)>0)||c>=0&&(s.marker.inclusiveRight&&i.inclusiveLeft?ot(u.from,r)<=0:ot(u.from,r)<0)))return!0}}}function Yt(e){for(var t;t=Vt(e);)e=t.find(-1,!0).line;return e}function Jt(e){for(var t;t=Kt(e);)e=t.find(1,!0).line;return e}function Qt(e){for(var t,n;t=Kt(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function en(e,t){var n=Ze(e,t),r=Yt(n);return n==r?t:et(r)}function tn(e,t){if(t>e.lastLine())return t;var n,r=Ze(e,t);if(!nn(e,r))return t;for(;n=Kt(r);)r=n.find(1,!0).line;return et(r)+1}function nn(e,t){var n=Tt&&t.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&rn(e,t,r))return!0}}function rn(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return rn(e,r.line,Ot(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&rn(e,t,i))return!0}function on(e){for(var t=0,n=(e=Yt(e)).parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;o=(n=o).parent)for(var a=0;a<o.children.length;++a){var l=o.children[a];if(l==n)break;t+=l.height}return t}function an(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=Vt(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=Kt(r);){var o=t.find(0,!0);n-=r.text.length-o.from.ch,n+=(r=o.to.line).text.length-o.to.ch}return n}function ln(e){var t=e.display,n=e.doc;t.maxLine=Ze(n,n.first),t.maxLineLength=an(t.maxLine),t.maxLineChanged=!0,n.iter((function(e){var n=an(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)}))}var sn=function(e,t,n){this.text=e,Wt(this,t),this.height=n?n(this):1};function un(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),_t(e),Wt(e,n);var i=r?r(e):1;i!=e.height&&Qe(e,i)}function cn(e){e.parent=null,_t(e)}sn.prototype.lineNo=function(){return et(this)},De(sn);var dn={},fn={};function hn(e,t){if(!e||/^\\s*$/.test(e))return null;var n=t.addModeClass?fn:dn;return n[e]||(n[e]=e.replace(/\\S+/g,\"cm-$&\"))}function pn(e,t){var n=L(\"span\",null,null,s?\"padding-right: .1px\":null),r={pre:L(\"pre\",[n],\"CodeMirror-line\"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption(\"lineWrapping\")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,a=void 0;r.pos=0,r.addToken=gn,Ne(e.display.measure)&&(a=fe(o,e.doc.direction))&&(r.addToken=xn(r.addToken,a)),r.map=[],bn(o,r,vt(e,o,t!=e.display.externalMeasured&&et(o))),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=B(o.styleClasses.bgClass,r.bgClass||\"\")),o.styleClasses.textClass&&(r.textClass=B(o.styleClasses.textClass,r.textClass||\"\"))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Me(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(s){var l=r.content.lastChild;(/\\bcm-tab\\b/.test(l.className)||l.querySelector&&l.querySelector(\".cm-tab\"))&&(r.content.className=\"cm-tab-wrap-hack\")}return ve(e,\"renderLine\",e,t.line,r.pre),r.pre.className&&(r.textClass=B(r.pre.className,r.textClass||\"\")),r}function mn(e){var t=T(\"span\",\"\\u2022\",\"cm-invalidchar\");return t.title=\"\\\\u\"+e.charCodeAt(0).toString(16),t.setAttribute(\"aria-label\",t.title),t}function gn(e,t,n,r,i,o,s){if(t){var u,c=e.splitSpaces?vn(t,e.trailingSpace):t,d=e.cm.state.specialChars,f=!1;if(d.test(t)){u=document.createDocumentFragment();for(var h=0;;){d.lastIndex=h;var p=d.exec(t),m=p?p.index-h:t.length-h;if(m){var g=document.createTextNode(c.slice(h,h+m));a&&l<9?u.appendChild(T(\"span\",[g])):u.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!p)break;h+=m+1;var v=void 0;if(\"\\t\"==p[0]){var x=e.cm.options.tabSize,y=x-e.col%x;(v=u.appendChild(T(\"span\",K(y),\"cm-tab\"))).setAttribute(\"role\",\"presentation\"),v.setAttribute(\"cm-text\",\"\\t\"),e.col+=y}else\"\\r\"==p[0]||\"\\n\"==p[0]?((v=u.appendChild(T(\"span\",\"\\r\"==p[0]?\"\\u240d\":\"\\u2424\",\"cm-invalidchar\"))).setAttribute(\"cm-text\",p[0]),e.col+=1):((v=e.cm.options.specialCharPlaceholder(p[0])).setAttribute(\"cm-text\",p[0]),a&&l<9?u.appendChild(T(\"span\",[v])):u.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,u=document.createTextNode(c),e.map.push(e.pos,e.pos+t.length,u),a&&l<9&&(f=!0),e.pos+=t.length;if(e.trailingSpace=32==c.charCodeAt(t.length-1),n||r||i||f||o||s){var b=n||\"\";r&&(b+=r),i&&(b+=i);var D=T(\"span\",[u],b,o);if(s)for(var C in s)s.hasOwnProperty(C)&&\"style\"!=C&&\"class\"!=C&&D.setAttribute(C,s[C]);return e.content.appendChild(D)}e.content.appendChild(u)}}function vn(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r=\"\",i=0;i<e.length;i++){var o=e.charAt(i);\" \"!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=\"\\xa0\"),r+=o,n=\" \"==o}return r}function xn(e,t){return function(n,r,i,o,a,l,s){i=i?i+\" cm-force-border\":\"cm-force-border\";for(var u=n.pos,c=u+r.length;;){for(var d=void 0,f=0;f<t.length&&!((d=t[f]).to>u&&d.from<=u);f++);if(d.to>=c)return e(n,r,i,o,a,l,s);e(n,r.slice(0,d.to-u),i,o,null,l,s),o=null,r=r.slice(d.to-u),u=d.to}}}function yn(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement(\"span\"))),i.setAttribute(\"cm-marker\",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function bn(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var a,l,s,u,c,d,f,h=i.length,p=0,m=1,g=\"\",v=0;;){if(v==p){s=u=c=l=\"\",f=null,d=null,v=1/0;for(var x=[],y=void 0,b=0;b<r.length;++b){var D=r[b],C=D.marker;if(\"bookmark\"==C.type&&D.from==p&&C.widgetNode)x.push(C);else if(D.from<=p&&(null==D.to||D.to>p||C.collapsed&&D.to==p&&D.from==p)){if(null!=D.to&&D.to!=p&&v>D.to&&(v=D.to,u=\"\"),C.className&&(s+=\" \"+C.className),C.css&&(l=(l?l+\";\":\"\")+C.css),C.startStyle&&D.from==p&&(c+=\" \"+C.startStyle),C.endStyle&&D.to==v&&(y||(y=[])).push(C.endStyle,D.to),C.title&&((f||(f={})).title=C.title),C.attributes)for(var w in C.attributes)(f||(f={}))[w]=C.attributes[w];C.collapsed&&(!d||$t(d.marker,C)<0)&&(d=D)}else D.from>p&&v>D.from&&(v=D.from)}if(y)for(var k=0;k<y.length;k+=2)y[k+1]==v&&(u+=\" \"+y[k]);if(!d||d.from==p)for(var S=0;S<x.length;++S)yn(t,0,x[S]);if(d&&(d.from||0)==p){if(yn(t,(null==d.to?h+1:d.to)-p,d.marker,null==d.from),null==d.to)return;d.to==p&&(d=!1)}}if(p>=h)break;for(var A=Math.min(h,v);;){if(g){var F=p+g.length;if(!d){var E=F>A?g.slice(0,A-p):g;t.addToken(t,E,a?a+s:s,c,p+E.length==v?u:\"\",l,f)}if(F>=A){g=g.slice(A-p),p=A;break}p=F,c=\"\"}g=i.slice(o,o=n[m++]),a=hn(n[m++],t.cm.options)}}else for(var T=1;T<n.length;T+=2)t.addToken(t,i.slice(o,o=n[T]),hn(n[T+1],t.cm.options))}function Dn(e,t,n){this.line=t,this.rest=Qt(t),this.size=this.rest?et(X(this.rest))-n+1:1,this.node=this.text=null,this.hidden=nn(e,t)}function Cn(e,t,n){for(var r,i=[],o=t;o<n;o=r){var a=new Dn(e.doc,Ze(e.doc,o),o);r=o+a.size,i.push(a)}return i}var wn=null;function kn(e){wn?wn.ops.push(e):e.ownsGroup=wn={ops:[e],delayedCallbacks:[]}}function Sn(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}function An(e,t){var n=e.ownsGroup;if(n)try{Sn(n)}finally{wn=null,t(n)}}var Fn=null;function En(e,t){var n=me(e,t);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);wn?r=wn.delayedCallbacks:Fn?r=Fn:(r=Fn=[],setTimeout(Tn,0));for(var o=function(e){r.push((function(){return n[e].apply(null,i)}))},a=0;a<n.length;++a)o(a)}}function Tn(){var e=Fn;Fn=null;for(var t=0;t<e.length;++t)e[t]()}function Ln(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];\"text\"==o?Bn(e,t):\"gutter\"==o?zn(e,t,n,r):\"class\"==o?In(e,t):\"widget\"==o&&Pn(e,t,r)}t.changes=null}function Mn(e){return e.node==e.text&&(e.node=T(\"div\",null,null,\"position: relative\"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),a&&l<8&&(e.node.style.zIndex=2)),e.node}function Nn(e,t){var n=t.bgClass?t.bgClass+\" \"+(t.line.bgClass||\"\"):t.line.bgClass;if(n&&(n+=\" CodeMirror-linebackground\"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=Mn(t);t.background=r.insertBefore(T(\"div\",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}function On(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):pn(e,t)}function Bn(e,t){var n=t.text.className,r=On(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,In(e,t)):n&&(t.text.className=n)}function In(e,t){Nn(e,t),t.line.wrapClass?Mn(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className=\"\");var n=t.textClass?t.textClass+\" \"+(t.line.textClass||\"\"):t.line.textClass;t.text.className=n||\"\"}function zn(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=Mn(t);t.gutterBackground=T(\"div\",null,\"CodeMirror-gutter-background \"+t.line.gutterClass,\"left: \"+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+\"px; width: \"+r.gutterTotalWidth+\"px\"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var a=Mn(t),l=t.gutter=T(\"div\",null,\"CodeMirror-gutter-wrapper\",\"left: \"+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+\"px\");if(l.setAttribute(\"aria-hidden\",\"true\"),e.display.input.setUneditable(l),a.insertBefore(l,t.text),t.line.gutterClass&&(l.className+=\" \"+t.line.gutterClass),!e.options.lineNumbers||o&&o[\"CodeMirror-linenumbers\"]||(t.lineNumber=l.appendChild(T(\"div\",rt(e.options,n),\"CodeMirror-linenumber CodeMirror-gutter-elt\",\"left: \"+r.gutterLeft[\"CodeMirror-linenumbers\"]+\"px; width: \"+e.display.lineNumInnerWidth+\"px\"))),o)for(var s=0;s<e.display.gutterSpecs.length;++s){var u=e.display.gutterSpecs[s].className,c=o.hasOwnProperty(u)&&o[u];c&&l.appendChild(T(\"div\",[c],\"CodeMirror-gutter-elt\",\"left: \"+r.gutterLeft[u]+\"px; width: \"+r.gutterWidth[u]+\"px\"))}}}function Pn(e,t,n){t.alignable&&(t.alignable=null);for(var r=k(\"CodeMirror-linewidget\"),i=t.node.firstChild,o=void 0;i;i=o)o=i.nextSibling,r.test(i.className)&&t.node.removeChild(i);jn(e,t,n)}function Rn(e,t,n,r){var i=On(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),In(e,t),zn(e,t,n,r),jn(e,t,r),t.node}function jn(e,t,n){if(Hn(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)Hn(e,t.rest[r],t,n,!1)}function Hn(e,t,n,r,i){if(t.widgets)for(var o=Mn(n),a=0,l=t.widgets;a<l.length;++a){var s=l[a],u=T(\"div\",[s.node],\"CodeMirror-linewidget\"+(s.className?\" \"+s.className:\"\"));s.handleMouseEvents||u.setAttribute(\"cm-ignore-events\",\"true\"),_n(s,u,n,r),e.display.input.setUneditable(u),i&&s.above?o.insertBefore(u,n.gutter||n.text):o.appendChild(u),En(s,\"redraw\")}}function _n(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+\"px\",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+\"px\"),t.style.width=i+\"px\"}e.coverGutter&&(t.style.zIndex=5,t.style.position=\"relative\",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+\"px\"))}function Wn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!M(document.body,e.node)){var n=\"position: relative;\";e.coverGutter&&(n+=\"margin-left: -\"+t.display.gutters.offsetWidth+\"px;\"),e.noHScroll&&(n+=\"width: \"+t.display.wrapper.clientWidth+\"px;\"),E(t.display.measure,T(\"div\",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function qn(e,t){for(var n=Ae(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&\"true\"==n.getAttribute(\"cm-ignore-events\")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Un(e){return e.lineSpace.offsetTop}function $n(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Gn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=E(e.measure,T(\"pre\",\"x\",\"CodeMirror-line-like\")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function Vn(e){return _-e.display.nativeBarWidth}function Kn(e){return e.display.scroller.clientWidth-Vn(e)-e.display.barWidth}function Xn(e){return e.display.scroller.clientHeight-Vn(e)-e.display.barHeight}function Zn(e,t,n){var r=e.options.lineWrapping,i=r&&Kn(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),l=0;l<a.length-1;l++){var s=a[l],u=a[l+1];Math.abs(s.bottom-u.bottom)>2&&o.push((s.bottom+u.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Yn(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(et(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Jn(e,t){var n=et(t=Yt(t)),r=e.display.externalMeasured=new Dn(e.doc,t,n);r.lineN=n;var i=r.built=pn(e,r);return r.text=i.pre,E(e.display.lineMeasure,i.pre),r}function Qn(e,t,n,r){return nr(e,tr(e,t),n,r)}function er(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Ir(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function tr(e,t){var n=et(t),r=er(e,n);r&&!r.text?r=null:r&&r.changes&&(Ln(e,r,n,Lr(e)),e.curOp.forceUpdate=!0),r||(r=Jn(e,t));var i=Yn(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function nr(e,t,n,r,i){t.before&&(n=-1);var o,a=n+(r||\"\");return t.cache.hasOwnProperty(a)?o=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Zn(e,t.view,t.rect),t.hasHeights=!0),(o=lr(e,t,n,r)).bogus||(t.cache[a]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var rr,ir={left:0,right:0,top:0,bottom:0};function or(e,t,n){for(var r,i,o,a,l,s,u=0;u<e.length;u+=3)if(l=e[u],s=e[u+1],t<l?(i=0,o=1,a=\"left\"):t<s?o=1+(i=t-l):(u==e.length-3||t==s&&e[u+3]>t)&&(i=(o=s-l)-1,t>=s&&(a=\"right\")),null!=i){if(r=e[u+2],l==s&&n==(r.insertLeft?\"left\":\"right\")&&(a=n),\"left\"==n&&0==i)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)r=e[2+(u-=3)],a=\"left\";if(\"right\"==n&&i==s-l)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)r=e[(u+=3)+2],a=\"right\";break}return{node:r,start:i,end:o,collapse:a,coverStart:l,coverEnd:s}}function ar(e,t){var n=ir;if(\"left\"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var i=e.length-1;i>=0&&(n=e[i]).left==n.right;i--);return n}function lr(e,t,n,r){var i,o=or(t.map,n,r),s=o.node,u=o.start,c=o.end,d=o.collapse;if(3==s.nodeType){for(var f=0;f<4;f++){for(;u&&oe(t.line.text.charAt(o.coverStart+u));)--u;for(;o.coverStart+c<o.coverEnd&&oe(t.line.text.charAt(o.coverStart+c));)++c;if((i=a&&l<9&&0==u&&c==o.coverEnd-o.coverStart?s.parentNode.getBoundingClientRect():ar(S(s,u,c).getClientRects(),r)).left||i.right||0==u)break;c=u,u-=1,d=\"right\"}a&&l<11&&(i=sr(e.display.measure,i))}else{var h;u>0&&(d=r=\"right\"),i=e.options.lineWrapping&&(h=s.getClientRects()).length>1?h[\"right\"==r?h.length-1:0]:s.getBoundingClientRect()}if(a&&l<9&&!u&&(!i||!i.left&&!i.right)){var p=s.parentNode.getClientRects()[0];i=p?{left:p.left,right:p.left+Tr(e.display),top:p.top,bottom:p.bottom}:ir}for(var m=i.top-t.rect.top,g=i.bottom-t.rect.top,v=(m+g)/2,x=t.view.measure.heights,y=0;y<x.length-1&&!(v<x[y]);y++);var b=y?x[y-1]:0,D=x[y],C={left:(\"right\"==d?i.right:i.left)-t.rect.left,right:(\"left\"==d?i.left:i.right)-t.rect.left,top:b,bottom:D};return i.left||i.right||(C.bogus=!0),e.options.singleCursorHeightPerLine||(C.rtop=m,C.rbottom=g),C}function sr(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Pe(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function ur(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function cr(e){e.display.externalMeasure=null,F(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)ur(e.display.view[t])}function dr(e){cr(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function fr(){return c&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function hr(){return c&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function pr(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=Wn(e.widgets[n]));return t}function mr(e,t,n,r,i){if(!i){var o=pr(t);n.top+=o,n.bottom+=o}if(\"line\"==r)return n;r||(r=\"local\");var a=on(t);if(\"local\"==r?a+=Un(e.display):a-=e.display.viewOffset,\"page\"==r||\"window\"==r){var l=e.display.lineSpace.getBoundingClientRect();a+=l.top+(\"window\"==r?0:hr());var s=l.left+(\"window\"==r?0:fr());n.left+=s,n.right+=s}return n.top+=a,n.bottom+=a,n}function gr(e,t,n){if(\"div\"==n)return t;var r=t.left,i=t.top;if(\"page\"==n)r-=fr(),i-=hr();else if(\"local\"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function vr(e,t,n,r,i){return r||(r=Ze(e.doc,t.line)),mr(e,r,Qn(e,r,t.ch,i),n)}function xr(e,t,n,r,i,o){function a(t,a){var l=nr(e,i,t,a?\"right\":\"left\",o);return a?l.left=l.right:l.right=l.left,mr(e,r,l,n)}r=r||Ze(e.doc,t.line),i||(i=tr(e,r));var l=fe(r,e.doc.direction),s=t.ch,u=t.sticky;if(s>=r.text.length?(s=r.text.length,u=\"before\"):s<=0&&(s=0,u=\"after\"),!l)return a(\"before\"==u?s-1:s,\"before\"==u);function c(e,t,n){return a(n?e-1:e,1==l[t].level!=n)}var d=ce(l,s,u),f=ue,h=c(s,d,\"before\"==u);return null!=f&&(h.other=c(s,f,\"before\"!=u)),h}function yr(e,t){var n=0;t=dt(e.doc,t),e.options.lineWrapping||(n=Tr(e.display)*t.ch);var r=Ze(e.doc,t.line),i=on(r)+Un(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function br(e,t,n,r,i){var o=it(e,t,n);return o.xRel=i,r&&(o.outside=r),o}function Dr(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return br(r.first,0,null,-1,-1);var i=tt(r,n),o=r.first+r.size-1;if(i>o)return br(r.first+r.size-1,Ze(r,o).text.length,null,1,1);t<0&&(t=0);for(var a=Ze(r,i);;){var l=Sr(e,a,i,t,n),s=Xt(a,l.ch+(l.xRel>0||l.outside>0?1:0));if(!s)return l;var u=s.find(1);if(u.line==i)return u;a=Ze(r,i=u.line)}}function Cr(e,t,n,r){r-=pr(t);var i=t.text.length,o=le((function(t){return nr(e,n,t-1).bottom<=r}),i,0);return{begin:o,end:i=le((function(t){return nr(e,n,t).top>r}),o,i)}}function wr(e,t,n,r){return n||(n=tr(e,t)),Cr(e,t,n,mr(e,t,nr(e,n,r),\"line\").top)}function kr(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function Sr(e,t,n,r,i){i-=on(t);var o=tr(e,t),a=pr(t),l=0,s=t.text.length,u=!0,c=fe(t,e.doc.direction);if(c){var d=(e.options.lineWrapping?Fr:Ar)(e,t,n,o,c,r,i);l=(u=1!=d.level)?d.from:d.to-1,s=u?d.to:d.from-1}var f,h,p=null,m=null,g=le((function(t){var n=nr(e,o,t);return n.top+=a,n.bottom+=a,!!kr(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(p=t,m=n),!0)}),l,s),v=!1;if(m){var x=r-m.left<m.right-r,y=x==u;g=p+(y?0:1),h=y?\"after\":\"before\",f=x?m.left:m.right}else{u||g!=s&&g!=l||g++,h=0==g?\"after\":g==t.text.length?\"before\":nr(e,o,g-(u?1:0)).bottom+a<=i==u?\"after\":\"before\";var b=xr(e,it(n,g,h),\"line\",t,o);f=b.left,v=i<b.top?-1:i>=b.bottom?1:0}return br(n,g=ae(t.text,g,1),h,v,r-f)}function Ar(e,t,n,r,i,o,a){var l=le((function(l){var s=i[l],u=1!=s.level;return kr(xr(e,it(n,u?s.to:s.from,u?\"before\":\"after\"),\"line\",t,r),o,a,!0)}),0,i.length-1),s=i[l];if(l>0){var u=1!=s.level,c=xr(e,it(n,u?s.from:s.to,u?\"after\":\"before\"),\"line\",t,r);kr(c,o,a,!0)&&c.top>a&&(s=i[l-1])}return s}function Fr(e,t,n,r,i,o,a){var l=Cr(e,t,r,a),s=l.begin,u=l.end;/\\s/.test(t.text.charAt(u-1))&&u--;for(var c=null,d=null,f=0;f<i.length;f++){var h=i[f];if(!(h.from>=u||h.to<=s)){var p=nr(e,r,1!=h.level?Math.min(u,h.to)-1:Math.max(s,h.from)).right,m=p<o?o-p+1e9:p-o;(!c||d>m)&&(c=h,d=m)}}return c||(c=i[i.length-1]),c.from<s&&(c={from:s,to:c.to,level:c.level}),c.to>u&&(c={from:c.from,to:u,level:c.level}),c}function Er(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==rr){rr=T(\"pre\",null,\"CodeMirror-line-like\");for(var t=0;t<49;++t)rr.appendChild(document.createTextNode(\"x\")),rr.appendChild(T(\"br\"));rr.appendChild(document.createTextNode(\"x\"))}E(e.measure,rr);var n=rr.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),F(e.measure),n||1}function Tr(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=T(\"span\",\"xxxxxxxxxx\"),n=T(\"pre\",[t],\"CodeMirror-line-like\");E(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function Lr(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a){var l=e.display.gutterSpecs[a].className;n[l]=o.offsetLeft+o.clientLeft+i,r[l]=o.clientWidth}return{fixedPos:Mr(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function Mr(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Nr(e){var t=Er(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/Tr(e.display)-3);return function(i){if(nn(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function Or(e){var t=e.doc,n=Nr(e);t.iter((function(e){var t=n(e);t!=e.height&&Qe(e,t)}))}function Br(e,t,n,r){var i=e.display;if(!n&&\"true\"==Ae(t).getAttribute(\"cm-not-content\"))return null;var o,a,l=i.lineSpace.getBoundingClientRect();try{o=t.clientX-l.left,a=t.clientY-l.top}catch(d){return null}var s,u=Dr(e,o,a);if(r&&u.xRel>0&&(s=Ze(e.doc,u.line).text).length==u.ch){var c=R(s,s.length,e.options.tabSize)-s.length;u=it(u.line,Math.max(0,Math.round((o-Gn(e.display).left)/Tr(e.display))-c))}return u}function Ir(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function zr(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Tt&&en(e.doc,t)<i.viewTo&&Rr(e);else if(n<=i.viewFrom)Tt&&tn(e.doc,n+r)>i.viewFrom?Rr(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)Rr(e);else if(t<=i.viewFrom){var o=jr(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):Rr(e)}else if(n>=i.viewTo){var a=jr(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):Rr(e)}else{var l=jr(e,t,t,-1),s=jr(e,n,n+r,1);l&&s?(i.view=i.view.slice(0,l.index).concat(Cn(e,l.lineN,s.lineN)).concat(i.view.slice(s.index)),i.viewTo+=r):Rr(e)}var u=i.externalMeasured;u&&(n<u.lineN?u.lineN+=r:t<u.lineN+u.size&&(i.externalMeasured=null))}function Pr(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[Ir(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==H(a,n)&&a.push(n)}}}function Rr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function jr(e,t,n,r){var i,o=Ir(e,t),a=e.display.view;if(!Tt||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var l=e.display.viewFrom,s=0;s<o;s++)l+=a[s].size;if(l!=t){if(r>0){if(o==a.length-1)return null;i=l+a[o].size-t,o++}else i=l-t;t+=i,n+=i}for(;en(e.doc,n)!=n;){if(o==(r<0?0:a.length-1))return null;n+=r*a[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function Hr(e,t,n){var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=Cn(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=Cn(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(Ir(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(Cn(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Ir(e,n)))),r.viewTo=n}function _r(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function Wr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function qr(e,t){void 0===t&&(t=!0);for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(t||a!=n.sel.primIndex){var l=n.sel.ranges[a];if(!(l.from().line>=e.display.viewTo||l.to().line<e.display.viewFrom)){var s=l.empty();(s||e.options.showCursorWhenSelecting)&&Ur(e,l.head,i),s||Gr(e,l,o)}}return r}function Ur(e,t,n){var r=xr(e,t,\"div\",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(T(\"div\",\"\\xa0\",\"CodeMirror-cursor\"));if(i.style.left=r.left+\"px\",i.style.top=r.top+\"px\",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+\"px\",r.other){var o=n.appendChild(T(\"div\",\"\\xa0\",\"CodeMirror-cursor CodeMirror-secondarycursor\"));o.style.display=\"\",o.style.left=r.other.left+\"px\",o.style.top=r.other.top+\"px\",o.style.height=.85*(r.other.bottom-r.other.top)+\"px\"}}function $r(e,t){return e.top-t.top||e.left-t.left}function Gr(e,t,n){var r=e.display,i=e.doc,o=document.createDocumentFragment(),a=Gn(e.display),l=a.left,s=Math.max(r.sizerWidth,Kn(e)-r.sizer.offsetLeft)-a.right,u=\"ltr\"==i.direction;function c(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),o.appendChild(T(\"div\",null,\"CodeMirror-selected\",\"position: absolute; left: \"+e+\"px;\\n                             top: \"+t+\"px; width: \"+(null==n?s-e:n)+\"px;\\n                             height: \"+(r-t)+\"px\"))}function d(t,n,r){var o,a,d=Ze(i,t),f=d.text.length;function h(n,r){return vr(e,it(t,n),\"div\",d,r)}function p(t,n,r){var i=wr(e,d,null,t),o=\"ltr\"==n==(\"after\"==r)?\"left\":\"right\";return h(\"after\"==r?i.begin:i.end-(/\\s/.test(d.text.charAt(i.end-1))?2:1),o)[o]}var m=fe(d,i.direction);return se(m,n||0,null==r?f:r,(function(e,t,i,d){var g=\"ltr\"==i,v=h(e,g?\"left\":\"right\"),x=h(t-1,g?\"right\":\"left\"),y=null==n&&0==e,b=null==r&&t==f,D=0==d,C=!m||d==m.length-1;if(x.top-v.top<=3){var w=(u?b:y)&&C,k=(u?y:b)&&D?l:(g?v:x).left,S=w?s:(g?x:v).right;c(k,v.top,S-k,v.bottom)}else{var A,F,E,T;g?(A=u&&y&&D?l:v.left,F=u?s:p(e,i,\"before\"),E=u?l:p(t,i,\"after\"),T=u&&b&&C?s:x.right):(A=u?p(e,i,\"before\"):l,F=!u&&y&&D?s:v.right,E=!u&&b&&C?l:x.left,T=u?p(t,i,\"after\"):s),c(A,v.top,F-A,v.bottom),v.bottom<x.top&&c(l,v.bottom,null,x.top),c(E,x.top,T-E,x.bottom)}(!o||$r(v,o)<0)&&(o=v),$r(x,o)<0&&(o=x),(!a||$r(v,a)<0)&&(a=v),$r(x,a)<0&&(a=x)})),{start:o,end:a}}var f=t.from(),h=t.to();if(f.line==h.line)d(f.line,f.ch,h.ch);else{var p=Ze(i,f.line),m=Ze(i,h.line),g=Yt(p)==Yt(m),v=d(f.line,f.ch,g?p.text.length+1:null).end,x=d(h.line,g?0:null,h.ch).start;g&&(v.top<x.top-2?(c(v.right,v.top,null,v.bottom),c(l,x.top,x.left,x.bottom)):c(v.right,v.top,x.left-v.right,v.bottom)),v.bottom<x.top&&c(l,v.bottom,null,x.top)}n.appendChild(o)}function Vr(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility=\"\",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){e.hasFocus()||Yr(e),t.cursorDiv.style.visibility=(n=!n)?\"\":\"hidden\"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility=\"hidden\")}}function Kr(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Zr(e))}function Xr(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&Yr(e))}),100)}function Zr(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),\"nocursor\"!=e.options.readOnly&&(e.state.focused||(ve(e,\"focus\",e,t),e.state.focused=!0,O(e.display.wrapper,\"CodeMirror-focused\"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),s&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),Vr(e))}function Yr(e,t){e.state.delayingBlurEvent||(e.state.focused&&(ve(e,\"blur\",e,t),e.state.focused=!1,A(e.display.wrapper,\"CodeMirror-focused\")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function Jr(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i=t.view[r],o=e.options.lineWrapping,s=void 0,u=0;if(!i.hidden){if(a&&l<8){var c=i.node.offsetTop+i.node.offsetHeight;s=c-n,n=c}else{var d=i.node.getBoundingClientRect();s=d.bottom-d.top,!o&&i.text.firstChild&&(u=i.text.firstChild.getBoundingClientRect().right-d.left-1)}var f=i.line.height-s;if((f>.005||f<-.005)&&(Qe(i.line,s),Qr(i.line),i.rest))for(var h=0;h<i.rest.length;h++)Qr(i.rest[h]);if(u>e.display.sizerWidth){var p=Math.ceil(u/Tr(e.display));p>e.display.maxLineLength&&(e.display.maxLineLength=p,e.display.maxLine=i.line,e.display.maxLineChanged=!0)}}}}function Qr(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function ei(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Un(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=tt(t,r),a=tt(t,i);if(n&&n.ensure){var l=n.ensure.from.line,s=n.ensure.to.line;l<o?(o=l,a=tt(t,on(Ze(t,l))+e.wrapper.clientHeight)):Math.min(s,t.lastLine())>=a&&(o=tt(t,on(Ze(t,s))-e.wrapper.clientHeight),a=s)}return{from:o,to:Math.max(a,o+1)}}function ti(e,t){if(!xe(e,\"scrollCursorIntoView\")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!p){var o=T(\"div\",\"\\u200b\",null,\"position: absolute;\\n                         top: \"+(t.top-n.viewOffset-Un(e.display))+\"px;\\n                         height: \"+(t.bottom-t.top+Vn(e)+n.barHeight)+\"px;\\n                         left: \"+t.left+\"px; width: \"+Math.max(2,t.right-t.left)+\"px;\");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}function ni(e,t,n,r){var i;null==r&&(r=0),e.options.lineWrapping||t!=n||(n=\"before\"==t.sticky?it(t.line,t.ch+1,\"before\"):t,t=t.ch?it(t.line,\"before\"==t.sticky?t.ch-1:t.ch,\"after\"):t);for(var o=0;o<5;o++){var a=!1,l=xr(e,t),s=n&&n!=t?xr(e,n):l,u=ii(e,i={left:Math.min(l.left,s.left),top:Math.min(l.top,s.top)-r,right:Math.max(l.left,s.left),bottom:Math.max(l.bottom,s.bottom)+r}),c=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=u.scrollTop&&(di(e,u.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(a=!0)),null!=u.scrollLeft&&(hi(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(a=!0)),!a)break}return i}function ri(e,t){var n=ii(e,t);null!=n.scrollTop&&di(e,n.scrollTop),null!=n.scrollLeft&&hi(e,n.scrollLeft)}function ii(e,t){var n=e.display,r=Er(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=Xn(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var l=e.doc.height+$n(n),s=t.top<r,u=t.bottom>l-r;if(t.top<i)a.scrollTop=s?0:t.top;else if(t.bottom>i+o){var c=Math.min(t.top,(u?l:t.bottom)-o);c!=i&&(a.scrollTop=c)}var d=e.options.fixedGutter?0:n.gutters.offsetWidth,f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft-d,h=Kn(e)-n.gutters.offsetWidth,p=t.right-t.left>h;return p&&(t.right=t.left+h),t.left<10?a.scrollLeft=0:t.left<f?a.scrollLeft=Math.max(0,t.left+d-(p?0:10)):t.right>h+f-3&&(a.scrollLeft=t.right+(p?0:10)-h),a}function oi(e,t){null!=t&&(ui(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function ai(e){ui(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function li(e,t,n){null==t&&null==n||ui(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function si(e,t){ui(e),e.curOp.scrollToPos=t}function ui(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,ci(e,yr(e,t.from),yr(e,t.to),t.margin))}function ci(e,t,n,r){var i=ii(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});li(e,i.scrollLeft,i.scrollTop)}function di(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||Wi(e,{top:t}),fi(e,t,!0),n&&Wi(e),Bi(e,100))}function fi(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function hi(e,t,n,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,Gi(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function pi(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+$n(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Vn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var mi=function(e,t,n){this.cm=n;var r=this.vert=T(\"div\",[T(\"div\",null,null,\"min-width: 1px\")],\"CodeMirror-vscrollbar\"),i=this.horiz=T(\"div\",[T(\"div\",null,null,\"height: 100%; min-height: 1px\")],\"CodeMirror-hscrollbar\");r.tabIndex=i.tabIndex=-1,e(r),e(i),pe(r,\"scroll\",(function(){r.clientHeight&&t(r.scrollTop,\"vertical\")})),pe(i,\"scroll\",(function(){i.clientWidth&&t(i.scrollLeft,\"horizontal\")})),this.checkedZeroWidth=!1,a&&l<8&&(this.horiz.style.minHeight=this.vert.style.minWidth=\"18px\")};mi.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display=\"block\",this.vert.style.bottom=t?r+\"px\":\"0\";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+\"px\"}else this.vert.style.display=\"\",this.vert.firstChild.style.height=\"0\";if(t){this.horiz.style.display=\"block\",this.horiz.style.right=n?r+\"px\":\"0\",this.horiz.style.left=e.barLeft+\"px\";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+\"px\"}else this.horiz.style.display=\"\",this.horiz.firstChild.style.width=\"0\";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},mi.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,\"horiz\")},mi.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,\"vert\")},mi.prototype.zeroWidthHack=function(){var e=x&&!h?\"12px\":\"18px\";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents=\"none\",this.disableHoriz=new j,this.disableVert=new j},mi.prototype.enableZeroWidthBar=function(e,t,n){function r(){var i=e.getBoundingClientRect();(\"vert\"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents=\"none\":t.set(1e3,r)}e.style.pointerEvents=\"auto\",t.set(1e3,r)},mi.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var gi=function(){};function vi(e,t){t||(t=pi(e));var n=e.display.barWidth,r=e.display.barHeight;xi(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&Jr(e),xi(e,pi(e)),n=e.display.barWidth,r=e.display.barHeight}function xi(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+\"px\",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+\"px\",n.heightForcer.style.borderBottom=r.bottom+\"px solid transparent\",r.right&&r.bottom?(n.scrollbarFiller.style.display=\"block\",n.scrollbarFiller.style.height=r.bottom+\"px\",n.scrollbarFiller.style.width=r.right+\"px\"):n.scrollbarFiller.style.display=\"\",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display=\"block\",n.gutterFiller.style.height=r.bottom+\"px\",n.gutterFiller.style.width=t.gutterWidth+\"px\"):n.gutterFiller.style.display=\"\"}gi.prototype.update=function(){return{bottom:0,right:0}},gi.prototype.setScrollLeft=function(){},gi.prototype.setScrollTop=function(){},gi.prototype.clear=function(){};var yi={native:mi,null:gi};function bi(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&A(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new yi[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),pe(t,\"mousedown\",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute(\"cm-not-content\",\"true\")}),(function(t,n){\"horizontal\"==n?hi(e,t):di(e,t)}),e),e.display.scrollbars.addClass&&O(e.display.wrapper,e.display.scrollbars.addClass)}var Di=0;function Ci(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Di,markArrays:null},kn(e.curOp)}function wi(e){var t=e.curOp;t&&An(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;ki(e)}))}function ki(e){for(var t=e.ops,n=0;n<t.length;n++)Si(t[n]);for(var r=0;r<t.length;r++)Ai(t[r]);for(var i=0;i<t.length;i++)Fi(t[i]);for(var o=0;o<t.length;o++)Ei(t[o]);for(var a=0;a<t.length;a++)Ti(t[a])}function Si(e){var t=e.cm,n=t.display;Pi(t),e.updateMaxLine&&ln(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new zi(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Ai(e){e.updatedDisplay=e.mustUpdate&&Hi(e.cm,e.update)}function Fi(e){var t=e.cm,n=t.display;e.updatedDisplay&&Jr(t),e.barMeasure=pi(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Qn(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Vn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Kn(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Ei(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+\"px\",e.maxScrollLeft<t.doc.scrollLeft&&hi(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==N();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&vi(t,e.barMeasure),e.updatedDisplay&&$i(t,e.barMeasure),e.selectionChanged&&Vr(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Kr(e.cm)}function Ti(e){var t=e.cm,n=t.display,r=t.doc;e.updatedDisplay&&_i(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&fi(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&hi(t,e.scrollLeft,!0,!0),e.scrollToPos&&ti(t,ni(t,dt(r,e.scrollToPos.from),dt(r,e.scrollToPos.to),e.scrollToPos.margin));var i=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(i)for(var a=0;a<i.length;++a)i[a].lines.length||ve(i[a],\"hide\");if(o)for(var l=0;l<o.length;++l)o[l].lines.length&&ve(o[l],\"unhide\");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&ve(t,\"changes\",t,e.changeObjs),e.update&&e.update.finish()}function Li(e,t){if(e.curOp)return t();Ci(e);try{return t()}finally{wi(e)}}function Mi(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Ci(e);try{return t.apply(e,arguments)}finally{wi(e)}}}function Ni(e){return function(){if(this.curOp)return e.apply(this,arguments);Ci(this);try{return e.apply(this,arguments)}finally{wi(this)}}}function Oi(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Ci(t);try{return e.apply(this,arguments)}finally{wi(t)}}}function Bi(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,z(Ii,e))}function Ii(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=xt(e,t.highlightFrontier),i=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(o){if(r.line>=e.display.viewFrom){var a=o.styles,l=o.text.length>e.options.maxHighlightLength?Ge(t.mode,r.state):null,s=gt(e,o,r,!0);l&&(r.state=l),o.styles=s.styles;var u=o.styleClasses,c=s.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var d=!a||a.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),f=0;!d&&f<a.length;++f)d=a[f]!=o.styles[f];d&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=e.options.maxHighlightLength&&yt(e,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return Bi(e,e.options.workDelay),!0})),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),i.length&&Li(e,(function(){for(var t=0;t<i.length;t++)Pr(e,i[t],\"text\")}))}}var zi=function(e,t,n){var r=e.display;this.viewport=t,this.visible=ei(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Kn(e),this.force=n,this.dims=Lr(e),this.events=[]};function Pi(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Vn(e)+\"px\",t.sizer.style.marginBottom=-t.nativeBarWidth+\"px\",t.sizer.style.borderRightWidth=Vn(e)+\"px\",t.scrollbarsClipped=!0)}function Ri(e){if(e.hasFocus())return null;var t=N();if(!t||!M(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&M(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function ji(e){if(e&&e.activeElt&&e.activeElt!=N()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&M(document.body,e.anchorNode)&&M(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}function Hi(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return Rr(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==_r(e))return!1;Vi(e)&&(Rr(e),t.dims=Lr(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),a=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(i,n.viewTo)),Tt&&(o=en(e.doc,o),a=tn(e.doc,a));var l=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;Hr(e,o,a),n.viewOffset=on(Ze(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+\"px\";var s=_r(e);if(!l&&0==s&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=Ri(e);return s>4&&(n.lineDiv.style.display=\"none\"),qi(e,n.updateLineNumbers,t.dims),s>4&&(n.lineDiv.style.display=\"\"),n.renderedView=n.view,ji(u),F(n.cursorDiv),F(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,l&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,Bi(e,400)),n.updateLineNumbers=null,!0}function _i(e,t){for(var n=t.viewport,r=!0;;r=!1){if(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Kn(e))r&&(t.visible=ei(e.display,e.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(e.doc.height+$n(e.display)-Xn(e),n.top)}),t.visible=ei(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!Hi(e,t))break;Jr(e);var i=pi(e);Wr(e),vi(e,i),$i(e,i),t.force=!1}t.signal(e,\"update\",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,\"viewportChange\",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Wi(e,t){var n=new zi(e,t);if(Hi(e,n)){Jr(e),_i(e,n);var r=pi(e);Wr(e),vi(e,r),$i(e,r),n.finish()}}function qi(e,t,n){var r=e.display,i=e.options.lineNumbers,o=r.lineDiv,a=o.firstChild;function l(t){var n=t.nextSibling;return s&&x&&e.display.currentWheelTarget==t?t.style.display=\"none\":t.parentNode.removeChild(t),n}for(var u=r.view,c=r.viewFrom,d=0;d<u.length;d++){var f=u[d];if(f.hidden);else if(f.node&&f.node.parentNode==o){for(;a!=f.node;)a=l(a);var h=i&&null!=t&&t<=c&&f.lineNumber;f.changes&&(H(f.changes,\"gutter\")>-1&&(h=!1),Ln(e,f,c,n)),h&&(F(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(rt(e.options,c)))),a=f.node.nextSibling}else{var p=Rn(e,f,c,n);o.insertBefore(p,a)}c+=f.size}for(;a;)a=l(a)}function Ui(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+\"px\",En(e,\"gutterChanged\",e)}function $i(e,t){e.display.sizer.style.minHeight=t.docHeight+\"px\",e.display.heightForcer.style.top=t.docHeight+\"px\",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Vn(e)+\"px\"}function Gi(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=Mr(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+\"px\",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var l=n[a].alignable;if(l)for(var s=0;s<l.length;s++)l[s].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+\"px\")}}function Vi(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=rt(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(T(\"div\",[T(\"div\",n)],\"CodeMirror-linenumber CodeMirror-gutter-elt\")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return r.lineGutter.style.width=\"\",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+\"px\",Ui(e.display),!0}return!1}function Ki(e,t){for(var n=[],r=!1,i=0;i<e.length;i++){var o=e[i],a=null;if(\"string\"!=typeof o&&(a=o.style,o=o.className),\"CodeMirror-linenumbers\"==o){if(!t)continue;r=!0}n.push({className:o,style:a})}return t&&!r&&n.push({className:\"CodeMirror-linenumbers\",style:null}),n}function Xi(e){var t=e.gutters,n=e.gutterSpecs;F(t),e.lineGutter=null;for(var r=0;r<n.length;++r){var i=n[r],o=i.className,a=i.style,l=t.appendChild(T(\"div\",null,\"CodeMirror-gutter \"+o));a&&(l.style.cssText=a),\"CodeMirror-linenumbers\"==o&&(e.lineGutter=l,l.style.width=(e.lineNumWidth||1)+\"px\")}t.style.display=n.length?\"\":\"none\",Ui(e)}function Zi(e){Xi(e.display),zr(e),Gi(e)}function Yi(e,t,r,i){var o=this;this.input=r,o.scrollbarFiller=T(\"div\",null,\"CodeMirror-scrollbar-filler\"),o.scrollbarFiller.setAttribute(\"cm-not-content\",\"true\"),o.gutterFiller=T(\"div\",null,\"CodeMirror-gutter-filler\"),o.gutterFiller.setAttribute(\"cm-not-content\",\"true\"),o.lineDiv=L(\"div\",null,\"CodeMirror-code\"),o.selectionDiv=T(\"div\",null,null,\"position: relative; z-index: 1\"),o.cursorDiv=T(\"div\",null,\"CodeMirror-cursors\"),o.measure=T(\"div\",null,\"CodeMirror-measure\"),o.lineMeasure=T(\"div\",null,\"CodeMirror-measure\"),o.lineSpace=L(\"div\",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,\"position: relative; outline: none\");var u=L(\"div\",[o.lineSpace],\"CodeMirror-lines\");o.mover=T(\"div\",[u],null,\"position: relative\"),o.sizer=T(\"div\",[o.mover],\"CodeMirror-sizer\"),o.sizerWidth=null,o.heightForcer=T(\"div\",null,null,\"position: absolute; height: \"+_+\"px; width: 1px;\"),o.gutters=T(\"div\",null,\"CodeMirror-gutters\"),o.lineGutter=null,o.scroller=T(\"div\",[o.sizer,o.heightForcer,o.gutters],\"CodeMirror-scroll\"),o.scroller.setAttribute(\"tabIndex\",\"-1\"),o.wrapper=T(\"div\",[o.scrollbarFiller,o.gutterFiller,o.scroller],\"CodeMirror\"),a&&l<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),s||n&&v||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=Ki(i.gutters,i.lineNumbers),Xi(o),r.init(o)}zi.prototype.signal=function(e,t){be(e,t)&&this.events.push(arguments)},zi.prototype.finish=function(){for(var e=0;e<this.events.length;e++)ve.apply(null,this.events[e])};var Ji=0,Qi=null;function eo(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function to(e){var t=eo(e);return t.x*=Qi,t.y*=Qi,t}function no(e,t){var r=eo(t),i=r.x,o=r.y,a=e.display,l=a.scroller,u=l.scrollWidth>l.clientWidth,c=l.scrollHeight>l.clientHeight;if(i&&u||o&&c){if(o&&x&&s)e:for(var f=t.target,h=a.view;f!=l;f=f.parentNode)for(var p=0;p<h.length;p++)if(h[p].node==f){e.display.currentWheelTarget=f;break e}if(i&&!n&&!d&&null!=Qi)return o&&c&&di(e,Math.max(0,l.scrollTop+o*Qi)),hi(e,Math.max(0,l.scrollLeft+i*Qi)),(!o||o&&c)&&Ce(t),void(a.wheelStartX=null);if(o&&null!=Qi){var m=o*Qi,g=e.doc.scrollTop,v=g+a.wrapper.clientHeight;m<0?g=Math.max(0,g+m-50):v=Math.min(e.doc.height,v+m+50),Wi(e,{top:g,bottom:v})}Ji<20&&(null==a.wheelStartX?(a.wheelStartX=l.scrollLeft,a.wheelStartY=l.scrollTop,a.wheelDX=i,a.wheelDY=o,setTimeout((function(){if(null!=a.wheelStartX){var e=l.scrollLeft-a.wheelStartX,t=l.scrollTop-a.wheelStartY,n=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(Qi=(Qi*Ji+n)/(Ji+1),++Ji)}}),200)):(a.wheelDX+=i,a.wheelDY+=o))}}a?Qi=-.53:n?Qi=15:c?Qi=-.7:f&&(Qi=-1/3);var ro=function(e,t){this.ranges=e,this.primIndex=t};ro.prototype.primary=function(){return this.ranges[this.primIndex]},ro.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!at(n.anchor,r.anchor)||!at(n.head,r.head))return!1}return!0},ro.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new io(lt(this.ranges[t].anchor),lt(this.ranges[t].head));return new ro(e,this.primIndex)},ro.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},ro.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(ot(t,r.from())>=0&&ot(e,r.to())<=0)return n}return-1};var io=function(e,t){this.anchor=e,this.head=t};function oo(e,t,n){var r=e&&e.options.selectionsMayTouch,i=t[n];t.sort((function(e,t){return ot(e.from(),t.from())})),n=H(t,i);for(var o=1;o<t.length;o++){var a=t[o],l=t[o-1],s=ot(l.to(),a.from());if(r&&!a.empty()?s>0:s>=0){var u=ut(l.from(),a.from()),c=st(l.to(),a.to()),d=l.empty()?a.from()==a.head:l.from()==l.head;o<=n&&--n,t.splice(--o,2,new io(d?c:u,d?u:c))}}return new ro(t,n)}function ao(e,t){return new ro([new io(e,t||e)],0)}function lo(e){return e.text?it(e.from.line+e.text.length-1,X(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function so(e,t){if(ot(e,t.from)<0)return e;if(ot(e,t.to)<=0)return lo(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=lo(t).ch-t.to.ch),it(n,r)}function uo(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new io(so(i.anchor,t),so(i.head,t)))}return oo(e.cm,n,e.sel.primIndex)}function co(e,t,n){return e.line==t.line?it(n.line,e.ch-t.ch+n.ch):it(n.line+(e.line-t.line),e.ch)}function fo(e,t,n){for(var r=[],i=it(e.first,0),o=i,a=0;a<t.length;a++){var l=t[a],s=co(l.from,i,o),u=co(lo(l),i,o);if(i=l.to,o=u,\"around\"==n){var c=e.sel.ranges[a],d=ot(c.head,c.anchor)<0;r[a]=new io(d?u:s,d?s:u)}else r[a]=new io(s,s)}return new ro(r,e.sel.primIndex)}function ho(e){e.doc.mode=qe(e.options,e.doc.modeOption),po(e)}function po(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Bi(e,100),e.state.modeGen++,e.curOp&&zr(e)}function mo(e,t){return 0==t.from.ch&&0==t.to.ch&&\"\"==X(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function go(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){un(e,n,i,r),En(e,\"change\",e,t)}function a(e,t){for(var n=[],o=e;o<t;++o)n.push(new sn(u[o],i(o),r));return n}var l=t.from,s=t.to,u=t.text,c=Ze(e,l.line),d=Ze(e,s.line),f=X(u),h=i(u.length-1),p=s.line-l.line;if(t.full)e.insert(0,a(0,u.length)),e.remove(u.length,e.size-u.length);else if(mo(e,t)){var m=a(0,u.length-1);o(d,d.text,h),p&&e.remove(l.line,p),m.length&&e.insert(l.line,m)}else if(c==d)if(1==u.length)o(c,c.text.slice(0,l.ch)+f+c.text.slice(s.ch),h);else{var g=a(1,u.length-1);g.push(new sn(f+c.text.slice(s.ch),h,r)),o(c,c.text.slice(0,l.ch)+u[0],i(0)),e.insert(l.line+1,g)}else if(1==u.length)o(c,c.text.slice(0,l.ch)+u[0]+d.text.slice(s.ch),i(0)),e.remove(l.line+1,p);else{o(c,c.text.slice(0,l.ch)+u[0],i(0)),o(d,f+d.text.slice(s.ch),h);var v=a(1,u.length-1);p>1&&e.remove(l.line+1,p-1),e.insert(l.line+1,v)}En(e,\"change\",e,t)}function vo(e,t,n){function r(e,i,o){if(e.linked)for(var a=0;a<e.linked.length;++a){var l=e.linked[a];if(l.doc!=i){var s=o&&l.sharedHist;n&&!s||(t(l.doc,s),r(l.doc,e,s))}}}r(e,null,!0)}function xo(e,t){if(t.cm)throw new Error(\"This document is already in use.\");e.doc=t,t.cm=e,Or(e),ho(e),yo(e),e.options.direction=t.direction,e.options.lineWrapping||ln(e),e.options.mode=t.modeOption,zr(e)}function yo(e){(\"rtl\"==e.doc.direction?O:A)(e.display.lineDiv,\"CodeMirror-rtl\")}function bo(e){Li(e,(function(){yo(e),zr(e)}))}function Do(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function Co(e,t){var n={from:lt(t.from),to:lo(t),text:Ye(e,t.from,t.to)};return To(e,n,t.from.line,t.to.line+1),vo(e,(function(e){return To(e,n,t.from.line,t.to.line+1)}),!0),n}function wo(e){for(;e.length&&X(e).ranges;)e.pop()}function ko(e,t){return t?(wo(e.done),X(e.done)):e.done.length&&!X(e.done).ranges?X(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),X(e.done)):void 0}function So(e,t,n,r){var i=e.history;i.undone.length=0;var o,a,l=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&(\"+\"==t.origin.charAt(0)&&i.lastModTime>l-(e.cm?e.cm.options.historyEventDelay:500)||\"*\"==t.origin.charAt(0)))&&(o=ko(i,i.lastOp==r)))a=X(o.changes),0==ot(t.from,t.to)&&0==ot(t.from,a.to)?a.to=lo(t):o.changes.push(Co(e,t));else{var s=X(i.done);for(s&&s.ranges||Eo(e.sel,i.done),o={changes:[Co(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=l,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,a||ve(e,\"historyAdded\")}function Ao(e,t,n,r){var i=t.charAt(0);return\"*\"==i||\"+\"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Fo(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||Ao(e,o,X(i.done),t))?i.done[i.done.length-1]=t:Eo(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&wo(i.undone)}function Eo(e,t){var n=X(t);n&&n.ranges&&n.equals(e)||t.push(e)}function To(e,t,n,r){var i=t[\"spans_\"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),(function(n){n.markedSpans&&((i||(i=t[\"spans_\"+e.id]={}))[o]=n.markedSpans),++o}))}function Lo(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Mo(e,t){var n=t[\"spans_\"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(Lo(n[i]));return r}function No(e,t){var n=Mo(e,t),r=Rt(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)e:for(var l=0;l<a.length;++l){for(var s=a[l],u=0;u<o.length;++u)if(o[u].marker==s.marker)continue e;o.push(s)}else a&&(n[i]=a)}return n}function Oo(e,t,n){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?ro.prototype.deepCopy.call(o):o);else{var a=o.changes,l=[];r.push({changes:l});for(var s=0;s<a.length;++s){var u=a[s],c=void 0;if(l.push({from:u.from,to:u.to,text:u.text}),t)for(var d in u)(c=d.match(/^spans_(\\d+)$/))&&H(t,Number(c[1]))>-1&&(X(l)[d]=u[d],delete u[d])}}}return r}function Bo(e,t,n,r){if(r){var i=e.anchor;if(n){var o=ot(t,i)<0;o!=ot(n,i)<0?(i=t,t=n):o!=ot(t,n)<0&&(t=n)}return new io(i,t)}return new io(n||t,t)}function Io(e,t,n,r,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),_o(e,new ro([Bo(e.sel.primary(),t,n,i)],0),r)}function zo(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)r[o]=Bo(e.sel.ranges[o],t[o],null,i);_o(e,oo(e.cm,r,e.sel.primIndex),n)}function Po(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,_o(e,oo(e.cm,i,e.sel.primIndex),r)}function Ro(e,t,n,r){_o(e,ao(t,n),r)}function jo(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new io(dt(e,t[n].anchor),dt(e,t[n].head))},origin:n&&n.origin};return ve(e,\"beforeSelectionChange\",e,r),e.cm&&ve(e.cm,\"beforeSelectionChange\",e.cm,r),r.ranges!=t.ranges?oo(e.cm,r.ranges,r.ranges.length-1):t}function Ho(e,t,n){var r=e.history.done,i=X(r);i&&i.ranges?(r[r.length-1]=t,Wo(e,t,n)):_o(e,t,n)}function _o(e,t,n){Wo(e,t,n),Fo(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Wo(e,t,n){(be(e,\"beforeSelectionChange\")||e.cm&&be(e.cm,\"beforeSelectionChange\"))&&(t=jo(e,t,n));var r=n&&n.bias||(ot(t.primary().head,e.sel.primary().head)<0?-1:1);qo(e,$o(e,t,r,!0)),n&&!1===n.scroll||!e.cm||\"nocursor\"==e.cm.getOption(\"readOnly\")||ai(e.cm)}function qo(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,ye(e.cm)),En(e,\"cursorActivity\",e))}function Uo(e){qo(e,$o(e,e.sel,null,!1))}function $o(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],l=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],s=Vo(e,a.anchor,l&&l.anchor,n,r),u=Vo(e,a.head,l&&l.head,n,r);(i||s!=a.anchor||u!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new io(s,u))}return i?oo(e.cm,i,t.primIndex):t}function Go(e,t,n,r,i){var o=Ze(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var l=o.markedSpans[a],s=l.marker,u=\"selectLeft\"in s?!s.selectLeft:s.inclusiveLeft,c=\"selectRight\"in s?!s.selectRight:s.inclusiveRight;if((null==l.from||(u?l.from<=t.ch:l.from<t.ch))&&(null==l.to||(c?l.to>=t.ch:l.to>t.ch))){if(i&&(ve(s,\"beforeCursorEnter\"),s.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!s.atomic)continue;if(n){var d=s.find(r<0?1:-1),f=void 0;if((r<0?c:u)&&(d=Ko(e,d,-r,d&&d.line==t.line?o:null)),d&&d.line==t.line&&(f=ot(d,n))&&(r<0?f<0:f>0))return Go(e,d,t,r,i)}var h=s.find(r<0?-1:1);return(r<0?u:c)&&(h=Ko(e,h,r,h.line==t.line?o:null)),h?Go(e,h,t,r,i):null}}return t}function Vo(e,t,n,r,i){var o=r||1,a=Go(e,t,n,o,i)||!i&&Go(e,t,n,o,!0)||Go(e,t,n,-o,i)||!i&&Go(e,t,n,-o,!0);return a||(e.cantEdit=!0,it(e.first,0))}function Ko(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?dt(e,it(t.line-1)):null:n>0&&t.ch==(r||Ze(e,t.line)).text.length?t.line<e.first+e.size-1?it(t.line+1,0):null:new it(t.line,t.ch+n)}function Xo(e){e.setSelection(it(e.firstLine(),0),it(e.lastLine()),q)}function Zo(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,i,o){t&&(r.from=dt(e,t)),n&&(r.to=dt(e,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),ve(e,\"beforeChange\",e,r),e.cm&&ve(e.cm,\"beforeChange\",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Yo(e,t,n){if(e.cm){if(!e.cm.curOp)return Mi(e.cm,Yo)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(be(e,\"beforeChange\")||e.cm&&be(e.cm,\"beforeChange\"))||(t=Zo(e,t,!0))){var r=Et&&!n&&Ht(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)Jo(e,{from:r[i].from,to:r[i].to,text:i?[\"\"]:t.text,origin:t.origin});else Jo(e,t)}}function Jo(e,t){if(1!=t.text.length||\"\"!=t.text[0]||0!=ot(t.from,t.to)){var n=uo(e,t);So(e,t,n,e.cm?e.cm.curOp.id:NaN),ta(e,t,n,Rt(e,t));var r=[];vo(e,(function(e,n){n||-1!=H(r,e.history)||(aa(e.history,t),r.push(e.history)),ta(e,t,null,Rt(e,t))}))}}function Qo(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!r||n){for(var i,o=e.history,a=e.sel,l=\"undo\"==t?o.done:o.undone,s=\"undo\"==t?o.undone:o.done,u=0;u<l.length&&(i=l[u],n?!i.ranges||i.equals(e.sel):i.ranges);u++);if(u!=l.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(i=l.pop()).ranges){if(r)return void l.push(i);break}if(Eo(i,s),n&&!i.equals(e.sel))return void _o(e,i,{clearRedo:!1});a=i}var c=[];Eo(a,s),s.push({changes:c,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var d=be(e,\"beforeChange\")||e.cm&&be(e.cm,\"beforeChange\"),f=function(n){var r=i.changes[n];if(r.origin=t,d&&!Zo(e,r,!1))return l.length=0,{};c.push(Co(e,r));var o=n?uo(e,r):X(l);ta(e,r,o,No(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:lo(r)});var a=[];vo(e,(function(e,t){t||-1!=H(a,e.history)||(aa(e.history,r),a.push(e.history)),ta(e,r,null,No(e,r))}))},h=i.changes.length-1;h>=0;--h){var p=f(h);if(p)return p.v}}}}function ea(e,t){if(0!=t&&(e.first+=t,e.sel=new ro(Z(e.sel.ranges,(function(e){return new io(it(e.anchor.line+t,e.anchor.ch),it(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){zr(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)Pr(e.cm,r,\"gutter\")}}function ta(e,t,n,r){if(e.cm&&!e.cm.curOp)return Mi(e.cm,ta)(e,t,n,r);if(t.to.line<e.first)ea(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);ea(e,i),t={from:it(e.first,0),to:it(t.to.line+i,t.to.ch),text:[X(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:it(o,Ze(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Ye(e,t.from,t.to),n||(n=uo(e,t)),e.cm?na(e.cm,t,r):go(e,t,r),Wo(e,n,q),e.cantEdit&&Vo(e,it(e.firstLine(),0))&&(e.cantEdit=!1)}}function na(e,t,n){var r=e.doc,i=e.display,o=t.from,a=t.to,l=!1,s=o.line;e.options.lineWrapping||(s=et(Yt(Ze(r,o.line))),r.iter(s,a.line+1,(function(e){if(e==i.maxLine)return l=!0,!0}))),r.sel.contains(t.from,t.to)>-1&&ye(e),go(r,t,n,Nr(e)),e.options.lineWrapping||(r.iter(s,o.line+t.text.length,(function(e){var t=an(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,l=!1)})),l&&(e.curOp.updateMaxLine=!0)),Ft(r,o.line),Bi(e,400);var u=t.text.length-(a.line-o.line)-1;t.full?zr(e):o.line!=a.line||1!=t.text.length||mo(e.doc,t)?zr(e,o.line,a.line+1,u):Pr(e,o.line,\"text\");var c=be(e,\"changes\"),d=be(e,\"change\");if(d||c){var f={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};d&&En(e,\"change\",e,f),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(f)}e.display.selForContextMenu=null}function ra(e,t,n,r,i){var o;r||(r=n),ot(r,n)<0&&(n=(o=[r,n])[0],r=o[1]),\"string\"==typeof t&&(t=e.splitLines(t)),Yo(e,{from:n,to:r,text:t,origin:i})}function ia(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function oa(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var l=0;l<o.ranges.length;l++)ia(o.ranges[l].anchor,t,n,r),ia(o.ranges[l].head,t,n,r)}else{for(var s=0;s<o.changes.length;++s){var u=o.changes[s];if(n<u.from.line)u.from=it(u.from.line+r,u.from.ch),u.to=it(u.to.line+r,u.to.ch);else if(t<=u.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function aa(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;oa(e.done,n,r,i),oa(e.undone,n,r,i)}function la(e,t,n,r){var i=t,o=t;return\"number\"==typeof t?o=Ze(e,ct(e,t)):i=et(t),null==i?null:(r(o,i)&&e.cm&&Pr(e.cm,i,n),o)}function sa(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function ua(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}io.prototype.from=function(){return ut(this.anchor,this.head)},io.prototype.to=function(){return st(this.anchor,this.head)},io.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},sa.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var i=this.lines[n];this.height-=i.height,cn(i),En(i,\"delete\")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},ua.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(e<i){var o=Math.min(t,i-e),a=r.height;if(r.removeInner(e,o),this.height-=a-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof sa))){var l=[];this.collapse(l),this.children=[new sa(l)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,l=a;l<i.lines.length;){var s=new sa(i.lines.slice(l,l+=25));i.height-=s.height,this.children.splice(++r,0,s),s.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new ua(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=H(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var r=new ua(e.children);r.parent=e,e.children=[r,t],e=r}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<o){var a=Math.min(t,o-e);if(i.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var ca=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};function da(e,t,n){on(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&oi(e,n)}function fa(e,t,n,r){var i=new ca(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),la(e,t,\"widget\",(function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!nn(e,t)){var r=on(t)<e.scrollTop;Qe(t,t.height+Wn(i)),r&&oi(o,i.height),o.curOp.forceUpdate=!0}return!0})),o&&En(o,\"lineWidgetAdded\",o,i,\"number\"==typeof t?t:et(t)),i}ca.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=et(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=Wn(this);Qe(n,Math.max(0,n.height-o)),e&&(Li(e,(function(){da(e,n,-o),Pr(e,r,\"widget\")})),En(e,\"lineWidgetCleared\",e,this,r))}},ca.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=Wn(this)-t;i&&(nn(this.doc,r)||Qe(r,r.height+i),n&&Li(n,(function(){n.curOp.forceUpdate=!0,da(n,r,i),En(n,\"lineWidgetChanged\",n,e,et(r))})))},De(ca);var ha=0,pa=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++ha};function ma(e,t,n,r,i){if(r&&r.shared)return va(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return Mi(e.cm,ma)(e,t,n,r,i);var o=new pa(e,i),a=ot(t,n);if(r&&P(r,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=L(\"span\",[o.replacedWith],\"CodeMirror-widget\"),r.handleMouseEvents||o.widgetNode.setAttribute(\"cm-ignore-events\",\"true\"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Zt(e,t.line,t,n,o)||t.line!=n.line&&Zt(e,n.line,t,n,o))throw new Error(\"Inserting collapsed marker partially overlapping an existing one\");Mt()}o.addToHistory&&So(e,{from:t,to:n,origin:\"markText\"},e.sel,NaN);var l,s=t.line,u=e.cm;if(e.iter(s,n.line+1,(function(r){u&&o.collapsed&&!u.options.lineWrapping&&Yt(r)==u.display.maxLine&&(l=!0),o.collapsed&&s!=t.line&&Qe(r,0),It(r,new Nt(o,s==t.line?t.ch:null,s==n.line?n.ch:null),e.cm&&e.cm.curOp),++s})),o.collapsed&&e.iter(t.line,n.line+1,(function(t){nn(e,t)&&Qe(t,0)})),o.clearOnEnter&&pe(o,\"beforeCursorEnter\",(function(){return o.clear()})),o.readOnly&&(Lt(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++ha,o.atomic=!0),u){if(l&&(u.curOp.updateMaxLine=!0),o.collapsed)zr(u,t.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var c=t.line;c<=n.line;c++)Pr(u,c,\"text\");o.atomic&&Uo(u.doc),En(u,\"markerAdded\",u,o)}return o}pa.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Ci(e),be(this,\"clear\")){var n=this.find();n&&En(this,\"clear\",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],l=Ot(a.markedSpans,this);e&&!this.collapsed?Pr(e,et(a),\"text\"):e&&(null!=l.to&&(i=et(a)),null!=l.from&&(r=et(a))),a.markedSpans=Bt(a.markedSpans,l),null==l.from&&this.collapsed&&!nn(this.doc,a)&&e&&Qe(a,Er(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var s=0;s<this.lines.length;++s){var u=Yt(this.lines[s]),c=an(u);c>e.display.maxLineLength&&(e.display.maxLine=u,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&zr(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Uo(e.doc)),e&&En(e,\"markerCleared\",e,this,r,i),t&&wi(e),this.parent&&this.parent.clear()}},pa.prototype.find=function(e,t){var n,r;null==e&&\"bookmark\"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],a=Ot(o.markedSpans,this);if(null!=a.from&&(n=it(t?o:et(o),a.from),-1==e))return n;if(null!=a.to&&(r=it(t?o:et(o),a.to),1==e))return r}return n&&{from:n,to:r}},pa.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&Li(r,(function(){var i=t.line,o=et(t.line),a=er(r,o);if(a&&(ur(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!nn(n.doc,i)&&null!=n.height){var l=n.height;n.height=null;var s=Wn(n)-l;s&&Qe(i,i.height+s)}En(r,\"markerChanged\",r,e)}))},pa.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=H(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},pa.prototype.detachLine=function(e){if(this.lines.splice(H(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},De(pa);var ga=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function va(e,t,n,r,i){(r=P(r)).shared=!1;var o=[ma(e,t,n,r,i)],a=o[0],l=r.widgetNode;return vo(e,(function(e){l&&(r.widgetNode=l.cloneNode(!0)),o.push(ma(e,dt(e,t),dt(e,n),r,i));for(var s=0;s<e.linked.length;++s)if(e.linked[s].isParent)return;a=X(o)})),new ga(o,a)}function xa(e){return e.findMarks(it(e.first,0),e.clipPos(it(e.lastLine())),(function(e){return e.parent}))}function ya(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(ot(o,a)){var l=ma(e,o,a,r.primary,r.primary.type);r.markers.push(l),l.parent=r}}}function ba(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];vo(n.primary.doc,(function(e){return r.push(e)}));for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==H(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}},n=0;n<e.length;n++)t(n)}ga.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();En(this,\"clear\")}},ga.prototype.find=function(e,t){return this.primary.find(e,t)},De(ga);var Da=0,Ca=function e(t,n,r,i,o){if(!(this instanceof e))return new e(t,n,r,i,o);null==r&&(r=0),ua.call(this,[new sa([new sn(\"\",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var a=it(r,0);this.sel=ao(a),this.history=new Do(null),this.id=++Da,this.modeOption=n,this.lineSep=i,this.direction=\"rtl\"==o?\"rtl\":\"ltr\",this.extend=!1,\"string\"==typeof t&&(t=this.splitLines(t)),go(this,{from:a,to:a,text:t}),_o(this,ao(a),q)};Ca.prototype=Q(ua.prototype,{constructor:Ca,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Je(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Oi((function(e){var t=it(this.first,0),n=this.first+this.size-1;Yo(this,{from:t,to:it(n,Ze(this,n).text.length),text:this.splitLines(e),origin:\"setValue\",full:!0},!0),this.cm&&li(this.cm,0,0),_o(this,ao(t),q)})),replaceRange:function(e,t,n,r){ra(this,e,t=dt(this,t),n=n?dt(this,n):t,r)},getRange:function(e,t,n){var r=Ye(this,dt(this,e),dt(this,t));return!1===n?r:\"\"===n?r.join(\"\"):r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(nt(this,e))return Ze(this,e)},getLineNumber:function(e){return et(e)},getLineHandleVisualStart:function(e){return\"number\"==typeof e&&(e=Ze(this,e)),Yt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return dt(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||\"head\"==e?t.head:\"anchor\"==e?t.anchor:\"end\"==e||\"to\"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Oi((function(e,t,n){Ro(this,dt(this,\"number\"==typeof e?it(e,t||0):e),null,n)})),setSelection:Oi((function(e,t,n){Ro(this,dt(this,e),dt(this,t||e),n)})),extendSelection:Oi((function(e,t,n){Io(this,dt(this,e),t&&dt(this,t),n)})),extendSelections:Oi((function(e,t){zo(this,ht(this,e),t)})),extendSelectionsBy:Oi((function(e,t){zo(this,ht(this,Z(this.sel.ranges,e)),t)})),setSelections:Oi((function(e,t,n){if(e.length){for(var r=[],i=0;i<e.length;i++)r[i]=new io(dt(this,e[i].anchor),dt(this,e[i].head||e[i].anchor));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),_o(this,oo(this.cm,r,t),n)}})),addSelection:Oi((function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new io(dt(this,e),dt(this,t||e))),_o(this,oo(this.cm,r,r.length-1),n)})),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=Ye(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Ye(this,n[r].from(),n[r].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||\"+input\")},replaceSelections:Oi((function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];r[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:n}}for(var l=t&&\"end\"!=t&&fo(this,r,t),s=r.length-1;s>=0;s--)Yo(this,r[s]);l?Ho(this,l):this.cm&&ai(this.cm)})),undo:Oi((function(){Qo(this,\"undo\")})),redo:Oi((function(){Qo(this,\"redo\")})),undoSelection:Oi((function(){Qo(this,\"undo\",!0)})),redoSelection:Oi((function(){Qo(this,\"redo\",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new Do(this.history),vo(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Oo(this.history.done),undone:Oo(this.history.undone)}},setHistory:function(e){var t=this.history=new Do(this.history);t.done=Oo(e.done.slice(0),null,!0),t.undone=Oo(e.undone.slice(0),null,!0)},setGutterMarker:Oi((function(e,t,n){return la(this,e,\"gutter\",(function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&re(r)&&(e.gutterMarkers=null),!0}))})),clearGutter:Oi((function(e){var t=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[e]&&la(t,n,\"gutter\",(function(){return n.gutterMarkers[e]=null,re(n.gutterMarkers)&&(n.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if(\"number\"==typeof e){if(!nt(this,e))return null;if(t=e,!(e=Ze(this,e)))return null}else if(null==(t=et(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Oi((function(e,t,n){return la(this,e,\"gutter\"==t?\"gutter\":\"class\",(function(e){var r=\"text\"==t?\"textClass\":\"background\"==t?\"bgClass\":\"gutter\"==t?\"gutterClass\":\"wrapClass\";if(e[r]){if(k(n).test(e[r]))return!1;e[r]+=\" \"+n}else e[r]=n;return!0}))})),removeLineClass:Oi((function(e,t,n){return la(this,e,\"gutter\"==t?\"gutter\":\"class\",(function(e){var r=\"text\"==t?\"textClass\":\"background\"==t?\"bgClass\":\"gutter\"==t?\"gutterClass\":\"wrapClass\",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var o=i.match(k(n));if(!o)return!1;var a=o.index+o[0].length;e[r]=i.slice(0,o.index)+(o.index&&a!=i.length?\" \":\"\")+i.slice(a)||null}return!0}))})),addLineWidget:Oi((function(e,t,n){return fa(this,e,t,n)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return ma(this,dt(this,e),dt(this,t),n,n&&n.type||\"range\")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return ma(this,e=dt(this,e),e,n,\"bookmark\")},findMarksAt:function(e){var t=[],n=Ze(this,(e=dt(this,e)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=dt(this,e),t=dt(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,(function(o){var a=o.markedSpans;if(a)for(var l=0;l<a.length;l++){var s=a[l];null!=s.to&&i==e.line&&e.ch>=s.to||null==s.from&&i!=e.line||null!=s.from&&i==t.line&&s.from>=t.ch||n&&!n(s.marker)||r.push(s.marker.parent||s.marker)}++i})),r},getAllMarks:function(){var e=[];return this.iter((function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)})),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter((function(i){var o=i.text.length+r;if(o>e)return t=e,!0;e-=o,++n})),dt(this,it(n,t))},indexFromPos:function(e){var t=(e=dt(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+n})),t},copy:function(e){var t=new Ca(Je(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new Ca(Je(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],ya(r,xa(this)),r},unlinkDoc:function(e){if(e instanceof zl&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),ba(xa(this));break}if(e.history==this.history){var n=[e.id];vo(e,(function(e){return n.push(e.id)}),!0),e.history=new Do(null),e.history.done=Oo(this.history.done,n),e.history.undone=Oo(this.history.undone,n)}},iterLinkedDocs:function(e){vo(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Oe(e)},lineSeparator:function(){return this.lineSep||\"\\n\"},setDirection:Oi((function(e){\"rtl\"!=e&&(e=\"ltr\"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&bo(this.cm))}))}),Ca.prototype.eachLine=Ca.prototype.iter;var wa=0;function ka(e){var t=this;if(Fa(t),!xe(t,e)&&!qn(t.display,e)){Ce(e),a&&(wa=+new Date);var n=Br(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),l=0,s=function(){++l==i&&Mi(t,(function(){var e={from:n=dt(t.doc,n),to:n,text:t.doc.splitLines(o.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:\"paste\"};Yo(t.doc,e),Ho(t.doc,ao(dt(t.doc,n),dt(t.doc,lo(e))))}))()},u=function(e,n){if(t.options.allowDropFileTypes&&-1==H(t.options.allowDropFileTypes,e.type))s();else{var r=new FileReader;r.onerror=function(){return s()},r.onload=function(){var e=r.result;/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(e)||(o[n]=e),s()},r.readAsText(e)}},c=0;c<r.length;c++)u(r[c],c);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var d=e.dataTransfer.getData(\"Text\");if(d){var f;if(t.state.draggingText&&!t.state.draggingText.copy&&(f=t.listSelections()),Wo(t.doc,ao(n,n)),f)for(var h=0;h<f.length;++h)ra(t.doc,\"\",f[h].anchor,f[h].head,\"drag\");t.replaceSelection(d,\"around\",\"paste\"),t.display.input.focus()}}catch(p){}}}}function Sa(e,t){if(a&&(!e.state.draggingText||+new Date-wa<100))Se(t);else if(!xe(e,t)&&!qn(e.display,t)&&(t.dataTransfer.setData(\"Text\",e.getSelection()),t.dataTransfer.effectAllowed=\"copyMove\",t.dataTransfer.setDragImage&&!f)){var n=T(\"img\",null,null,\"position: fixed; left: 0; top: 0;\");n.src=\"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\",d&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),d&&n.parentNode.removeChild(n)}}function Aa(e,t){var n=Br(e,t);if(n){var r=document.createDocumentFragment();Ur(e,n,r),e.display.dragCursor||(e.display.dragCursor=T(\"div\",null,\"CodeMirror-cursors CodeMirror-dragcursors\"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),E(e.display.dragCursor,r)}}function Fa(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Ea(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName(\"CodeMirror\"),n=[],r=0;r<t.length;r++){var i=t[r].CodeMirror;i&&n.push(i)}n.length&&n[0].operation((function(){for(var t=0;t<n.length;t++)e(n[t])}))}}var Ta=!1;function La(){Ta||(Ma(),Ta=!0)}function Ma(){var e;pe(window,\"resize\",(function(){null==e&&(e=setTimeout((function(){e=null,Ea(Na)}),100))})),pe(window,\"blur\",(function(){return Ea(Yr)}))}function Na(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Oa={3:\"Pause\",8:\"Backspace\",9:\"Tab\",13:\"Enter\",16:\"Shift\",17:\"Ctrl\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Esc\",32:\"Space\",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"Left\",38:\"Up\",39:\"Right\",40:\"Down\",44:\"PrintScrn\",45:\"Insert\",46:\"Delete\",59:\";\",61:\"=\",91:\"Mod\",92:\"Mod\",93:\"Mod\",106:\"*\",107:\"=\",109:\"-\",110:\".\",111:\"/\",145:\"ScrollLock\",173:\"-\",186:\";\",187:\"=\",188:\",\",189:\"-\",190:\".\",191:\"/\",192:\"`\",219:\"[\",220:\"\\\\\",221:\"]\",222:\"'\",224:\"Mod\",63232:\"Up\",63233:\"Down\",63234:\"Left\",63235:\"Right\",63272:\"Delete\",63273:\"Home\",63275:\"End\",63276:\"PageUp\",63277:\"PageDown\",63302:\"Insert\"},Ba=0;Ba<10;Ba++)Oa[Ba+48]=Oa[Ba+96]=String(Ba);for(var Ia=65;Ia<=90;Ia++)Oa[Ia]=String.fromCharCode(Ia);for(var za=1;za<=12;za++)Oa[za+111]=Oa[za+63235]=\"F\"+za;var Pa={};function Ra(e){var t,n,r,i,o=e.split(/-(?!$)/);e=o[o.length-1];for(var a=0;a<o.length-1;a++){var l=o[a];if(/^(cmd|meta|m)$/i.test(l))i=!0;else if(/^a(lt)?$/i.test(l))t=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else{if(!/^s(hift)?$/i.test(l))throw new Error(\"Unrecognized modifier name: \"+l);r=!0}}return t&&(e=\"Alt-\"+e),n&&(e=\"Ctrl-\"+e),i&&(e=\"Cmd-\"+e),r&&(e=\"Shift-\"+e),e}function ja(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if(\"...\"==r){delete e[n];continue}for(var i=Z(n.split(\" \"),Ra),o=0;o<i.length;o++){var a=void 0,l=void 0;o==i.length-1?(l=i.join(\" \"),a=r):(l=i.slice(0,o+1).join(\" \"),a=\"...\");var s=t[l];if(s){if(s!=a)throw new Error(\"Inconsistent bindings for \"+l)}else t[l]=a}delete e[n]}for(var u in t)e[u]=t[u];return e}function Ha(e,t,n,r){var i=(t=Ua(t)).call?t.call(e,r):t[e];if(!1===i)return\"nothing\";if(\"...\"===i)return\"multi\";if(null!=i&&n(i))return\"handled\";if(t.fallthrough){if(\"[object Array]\"!=Object.prototype.toString.call(t.fallthrough))return Ha(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var a=Ha(e,t.fallthrough[o],n,r);if(a)return a}}}function _a(e){var t=\"string\"==typeof e?e:Oa[e.keyCode];return\"Ctrl\"==t||\"Alt\"==t||\"Shift\"==t||\"Mod\"==t}function Wa(e,t,n){var r=e;return t.altKey&&\"Alt\"!=r&&(e=\"Alt-\"+e),(C?t.metaKey:t.ctrlKey)&&\"Ctrl\"!=r&&(e=\"Ctrl-\"+e),(C?t.ctrlKey:t.metaKey)&&\"Mod\"!=r&&(e=\"Cmd-\"+e),!n&&t.shiftKey&&\"Shift\"!=r&&(e=\"Shift-\"+e),e}function qa(e,t){if(d&&34==e.keyCode&&e.char)return!1;var n=Oa[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),Wa(n,e,t))}function Ua(e){return\"string\"==typeof e?Pa[e]:e}function $a(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&ot(o.from,X(r).to)<=0;){var a=r.pop();if(ot(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}Li(e,(function(){for(var t=r.length-1;t>=0;t--)ra(e.doc,\"\",r[t].from,r[t].to,\"+delete\");ai(e)}))}function Ga(e,t,n){var r=ae(e.text,t+n,n);return r<0||r>e.text.length?null:r}function Va(e,t,n){var r=Ga(e,t.ch,n);return null==r?null:new it(t.line,r,n<0?\"after\":\"before\")}function Ka(e,t,n,r,i){if(e){\"rtl\"==t.doc.direction&&(i=-i);var o=fe(n,t.doc.direction);if(o){var a,l=i<0?X(o):o[0],s=i<0==(1==l.level)?\"after\":\"before\";if(l.level>0||\"rtl\"==t.doc.direction){var u=tr(t,n);a=i<0?n.text.length-1:0;var c=nr(t,u,a).top;a=le((function(e){return nr(t,u,e).top==c}),i<0==(1==l.level)?l.from:l.to-1,a),\"before\"==s&&(a=Ga(n,a,1))}else a=i<0?l.to:l.from;return new it(r,a,s)}}return new it(r,i<0?n.text.length:0,i<0?\"before\":\"after\")}function Xa(e,t,n,r){var i=fe(t,e.doc.direction);if(!i)return Va(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky=\"before\"):n.ch<=0&&(n.ch=0,n.sticky=\"after\");var o=ce(i,n.ch,n.sticky),a=i[o];if(\"ltr\"==e.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return Va(t,n,r);var l,s=function(e,n){return Ga(t,e instanceof it?e.ch:e,n)},u=function(n){return e.options.lineWrapping?(l=l||tr(e,t),wr(e,t,l,n)):{begin:0,end:t.text.length}},c=u(\"before\"==n.sticky?s(n,-1):n.ch);if(\"rtl\"==e.doc.direction||1==a.level){var d=1==a.level==r<0,f=s(n,d?1:-1);if(null!=f&&(d?f<=a.to&&f<=c.end:f>=a.from&&f>=c.begin)){var h=d?\"before\":\"after\";return new it(n.line,f,h)}}var p=function(e,t,r){for(var o=function(e,t){return t?new it(n.line,s(e,1),\"before\"):new it(n.line,e,\"after\")};e>=0&&e<i.length;e+=t){var a=i[e],l=t>0==(1!=a.level),u=l?r.begin:s(r.end,-1);if(a.from<=u&&u<a.to)return o(u,l);if(u=l?a.from:s(a.to,-1),r.begin<=u&&u<r.end)return o(u,l)}},m=p(o+r,r,c);if(m)return m;var g=r>0?c.end:s(c.begin,-1);return null==g||r>0&&g==t.text.length||!(m=p(r>0?0:i.length-1,r,u(g)))?null:m}Pa.basic={Left:\"goCharLeft\",Right:\"goCharRight\",Up:\"goLineUp\",Down:\"goLineDown\",End:\"goLineEnd\",Home:\"goLineStartSmart\",PageUp:\"goPageUp\",PageDown:\"goPageDown\",Delete:\"delCharAfter\",Backspace:\"delCharBefore\",\"Shift-Backspace\":\"delCharBefore\",Tab:\"defaultTab\",\"Shift-Tab\":\"indentAuto\",Enter:\"newlineAndIndent\",Insert:\"toggleOverwrite\",Esc:\"singleSelection\"},Pa.pcDefault={\"Ctrl-A\":\"selectAll\",\"Ctrl-D\":\"deleteLine\",\"Ctrl-Z\":\"undo\",\"Shift-Ctrl-Z\":\"redo\",\"Ctrl-Y\":\"redo\",\"Ctrl-Home\":\"goDocStart\",\"Ctrl-End\":\"goDocEnd\",\"Ctrl-Up\":\"goLineUp\",\"Ctrl-Down\":\"goLineDown\",\"Ctrl-Left\":\"goGroupLeft\",\"Ctrl-Right\":\"goGroupRight\",\"Alt-Left\":\"goLineStart\",\"Alt-Right\":\"goLineEnd\",\"Ctrl-Backspace\":\"delGroupBefore\",\"Ctrl-Delete\":\"delGroupAfter\",\"Ctrl-S\":\"save\",\"Ctrl-F\":\"find\",\"Ctrl-G\":\"findNext\",\"Shift-Ctrl-G\":\"findPrev\",\"Shift-Ctrl-F\":\"replace\",\"Shift-Ctrl-R\":\"replaceAll\",\"Ctrl-[\":\"indentLess\",\"Ctrl-]\":\"indentMore\",\"Ctrl-U\":\"undoSelection\",\"Shift-Ctrl-U\":\"redoSelection\",\"Alt-U\":\"redoSelection\",fallthrough:\"basic\"},Pa.emacsy={\"Ctrl-F\":\"goCharRight\",\"Ctrl-B\":\"goCharLeft\",\"Ctrl-P\":\"goLineUp\",\"Ctrl-N\":\"goLineDown\",\"Ctrl-A\":\"goLineStart\",\"Ctrl-E\":\"goLineEnd\",\"Ctrl-V\":\"goPageDown\",\"Shift-Ctrl-V\":\"goPageUp\",\"Ctrl-D\":\"delCharAfter\",\"Ctrl-H\":\"delCharBefore\",\"Alt-Backspace\":\"delWordBefore\",\"Ctrl-K\":\"killLine\",\"Ctrl-T\":\"transposeChars\",\"Ctrl-O\":\"openLine\"},Pa.macDefault={\"Cmd-A\":\"selectAll\",\"Cmd-D\":\"deleteLine\",\"Cmd-Z\":\"undo\",\"Shift-Cmd-Z\":\"redo\",\"Cmd-Y\":\"redo\",\"Cmd-Home\":\"goDocStart\",\"Cmd-Up\":\"goDocStart\",\"Cmd-End\":\"goDocEnd\",\"Cmd-Down\":\"goDocEnd\",\"Alt-Left\":\"goGroupLeft\",\"Alt-Right\":\"goGroupRight\",\"Cmd-Left\":\"goLineLeft\",\"Cmd-Right\":\"goLineRight\",\"Alt-Backspace\":\"delGroupBefore\",\"Ctrl-Alt-Backspace\":\"delGroupAfter\",\"Alt-Delete\":\"delGroupAfter\",\"Cmd-S\":\"save\",\"Cmd-F\":\"find\",\"Cmd-G\":\"findNext\",\"Shift-Cmd-G\":\"findPrev\",\"Cmd-Alt-F\":\"replace\",\"Shift-Cmd-Alt-F\":\"replaceAll\",\"Cmd-[\":\"indentLess\",\"Cmd-]\":\"indentMore\",\"Cmd-Backspace\":\"delWrappedLineLeft\",\"Cmd-Delete\":\"delWrappedLineRight\",\"Cmd-U\":\"undoSelection\",\"Shift-Cmd-U\":\"redoSelection\",\"Ctrl-Up\":\"goDocStart\",\"Ctrl-Down\":\"goDocEnd\",fallthrough:[\"basic\",\"emacsy\"]},Pa.default=x?Pa.macDefault:Pa.pcDefault;var Za={selectAll:Xo,singleSelection:function(e){return e.setSelection(e.getCursor(\"anchor\"),e.getCursor(\"head\"),q)},killLine:function(e){return $a(e,(function(t){if(t.empty()){var n=Ze(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:it(t.head.line+1,0)}:{from:t.head,to:it(t.head.line,n)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return $a(e,(function(t){return{from:it(t.from().line,0),to:dt(e.doc,it(t.to().line+1,0))}}))},delLineLeft:function(e){return $a(e,(function(e){return{from:it(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return $a(e,(function(t){var n=e.charCoords(t.head,\"div\").top+5;return{from:e.coordsChar({left:0,top:n},\"div\"),to:t.from()}}))},delWrappedLineRight:function(e){return $a(e,(function(t){var n=e.charCoords(t.head,\"div\").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},\"div\");return{from:t.from(),to:r}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(it(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(it(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return Ya(e,t.head.line)}),{origin:\"+move\",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return Qa(e,t.head)}),{origin:\"+move\",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return Ja(e,t.head.line)}),{origin:\"+move\",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,\"div\").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},\"div\")}),$)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,\"div\").top+5;return e.coordsChar({left:0,top:n},\"div\")}),$)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,\"div\").top+5,r=e.coordsChar({left:0,top:n},\"div\");return r.ch<e.getLine(r.line).search(/\\S/)?Qa(e,t.head):r}),$)},goLineUp:function(e){return e.moveV(-1,\"line\")},goLineDown:function(e){return e.moveV(1,\"line\")},goPageUp:function(e){return e.moveV(-1,\"page\")},goPageDown:function(e){return e.moveV(1,\"page\")},goCharLeft:function(e){return e.moveH(-1,\"char\")},goCharRight:function(e){return e.moveH(1,\"char\")},goColumnLeft:function(e){return e.moveH(-1,\"column\")},goColumnRight:function(e){return e.moveH(1,\"column\")},goWordLeft:function(e){return e.moveH(-1,\"word\")},goGroupRight:function(e){return e.moveH(1,\"group\")},goGroupLeft:function(e){return e.moveH(-1,\"group\")},goWordRight:function(e){return e.moveH(1,\"word\")},delCharBefore:function(e){return e.deleteH(-1,\"codepoint\")},delCharAfter:function(e){return e.deleteH(1,\"char\")},delWordBefore:function(e){return e.deleteH(-1,\"word\")},delWordAfter:function(e){return e.deleteH(1,\"word\")},delGroupBefore:function(e){return e.deleteH(-1,\"group\")},delGroupAfter:function(e){return e.deleteH(1,\"group\")},indentAuto:function(e){return e.indentSelection(\"smart\")},indentMore:function(e){return e.indentSelection(\"add\")},indentLess:function(e){return e.indentSelection(\"subtract\")},insertTab:function(e){return e.replaceSelection(\"\\t\")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=R(e.getLine(o.line),o.ch,r);t.push(K(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection(\"add\"):e.execCommand(\"insertTab\")},transposeChars:function(e){return Li(e,(function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var i=t[r].head,o=Ze(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new it(i.line,i.ch-1)),i.ch>0)i=new it(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),it(i.line,i.ch-2),i,\"+transpose\");else if(i.line>e.doc.first){var a=Ze(e.doc,i.line-1).text;a&&(i=new it(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),it(i.line-1,a.length-1),i,\"+transpose\"))}n.push(new io(i,i))}e.setSelections(n)}))},newlineAndIndent:function(e){return Li(e,(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,\"+input\");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);ai(e)}))},openLine:function(e){return e.replaceSelection(\"\\n\",\"start\")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Ya(e,t){var n=Ze(e.doc,t),r=Yt(n);return r!=n&&(t=et(r)),Ka(!0,e,r,t,1)}function Ja(e,t){var n=Ze(e.doc,t),r=Jt(n);return r!=n&&(t=et(r)),Ka(!0,e,n,t,-1)}function Qa(e,t){var n=Ya(e,t.line),r=Ze(e.doc,n.line),i=fe(r,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(n.ch,r.text.search(/\\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return it(n.line,a?0:o,n.sticky)}return n}function el(e,t,n){if(\"string\"==typeof t&&!(t=Za[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=W}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function tl(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=Ha(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&Ha(t,e.options.extraKeys,n,e)||Ha(t,e.options.keyMap,n,e)}var nl=new j;function rl(e,t,n,r){var i=e.state.keySeq;if(i){if(_a(t))return\"handled\";if(/\\'$/.test(t)?e.state.keySeq=null:nl.set(50,(function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())})),il(e,i+\" \"+t,n,r))return!0}return il(e,t,n,r)}function il(e,t,n,r){var i=tl(e,t,r);return\"multi\"==i&&(e.state.keySeq=t),\"handled\"==i&&En(e,\"keyHandled\",e,t,n),\"handled\"!=i&&\"multi\"!=i||(Ce(n),Vr(e)),!!i}function ol(e,t){var n=qa(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?rl(e,\"Shift-\"+n,t,(function(t){return el(e,t,!0)}))||rl(e,n,t,(function(t){if(\"string\"==typeof t?/^go[A-Z]/.test(t):t.motion)return el(e,t)})):rl(e,n,t,(function(t){return el(e,t)})))}function al(e,t,n){return rl(e,\"'\"+n+\"'\",t,(function(t){return el(e,t,!0)}))}var ll=null;function sl(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&(t.curOp.focus=N(),!xe(t,e))){a&&l<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var i=ol(t,e);d&&(ll=i?r:null,i||88!=r||Ie||!(x?e.metaKey:e.ctrlKey)||t.replaceSelection(\"\",null,\"cut\")),n&&!x&&!i&&46==r&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand(\"cut\"),18!=r||/\\bCodeMirror-crosshair\\b/.test(t.display.lineDiv.className)||ul(t)}}function ul(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(A(t,\"CodeMirror-crosshair\"),ge(document,\"keyup\",n),ge(document,\"mouseover\",n))}O(t,\"CodeMirror-crosshair\"),pe(document,\"keyup\",n),pe(document,\"mouseover\",n)}function cl(e){16==e.keyCode&&(this.doc.sel.shift=!1),xe(this,e)}function dl(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&!(qn(t.display,e)||xe(t,e)||e.ctrlKey&&!e.altKey||x&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(d&&n==ll)return ll=null,void Ce(e);if(!d||e.which&&!(e.which<10)||!ol(t,e)){var i=String.fromCharCode(null==r?n:r);\"\\b\"!=i&&(al(t,e,i)||t.display.input.onKeyPress(e))}}}var fl,hl,pl=400,ml=function(e,t,n){this.time=e,this.pos=t,this.button=n};function gl(e,t){var n=+new Date;return hl&&hl.compare(n,e,t)?(fl=hl=null,\"triple\"):fl&&fl.compare(n,e,t)?(hl=new ml(n,e,t),fl=null,\"double\"):(fl=new ml(n,e,t),hl=null,\"single\")}function vl(e){var t=this,n=t.display;if(!(xe(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,qn(n,e))s||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!Al(t,e)){var r=Br(t,e),i=Fe(e),o=r?gl(r,i):\"single\";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),r&&xl(t,i,r,o,e)||(1==i?r?bl(t,r,o,e):Ae(e)==n.scroller&&Ce(e):2==i?(r&&Io(t.doc,r),setTimeout((function(){return n.input.focus()}),20)):3==i&&(w?t.display.input.onContextMenu(e):Xr(t)))}}function xl(e,t,n,r,i){var o=\"Click\";return\"double\"==r?o=\"Double\"+o:\"triple\"==r&&(o=\"Triple\"+o),rl(e,Wa(o=(1==t?\"Left\":2==t?\"Middle\":\"Right\")+o,i),i,(function(t){if(\"string\"==typeof t&&(t=Za[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=W}finally{e.state.suppressEdits=!1}return r}))}function yl(e,t,n){var r=e.getOption(\"configureMouse\"),i=r?r(e,t,n):{};if(null==i.unit){var o=y?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?\"rectangle\":\"single\"==t?\"char\":\"double\"==t?\"word\":\"line\"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=x?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(x?n.altKey:n.ctrlKey)),i}function bl(e,t,n,r){a?setTimeout(z(Kr,e),0):e.curOp.focus=N();var i,o=yl(e,n,r),l=e.doc.sel;e.options.dragDrop&&Le&&!e.isReadOnly()&&\"single\"==n&&(i=l.contains(t))>-1&&(ot((i=l.ranges[i]).from(),t)<0||t.xRel>0)&&(ot(i.to(),t)>0||t.xRel<0)?Dl(e,r,t,o):wl(e,r,t,o)}function Dl(e,t,n,r){var i=e.display,o=!1,u=Mi(e,(function(t){s&&(i.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:Xr(e)),ge(i.wrapper.ownerDocument,\"mouseup\",u),ge(i.wrapper.ownerDocument,\"mousemove\",c),ge(i.scroller,\"dragstart\",d),ge(i.scroller,\"drop\",u),o||(Ce(t),r.addNew||Io(e.doc,n,null,null,r.extend),s&&!f||a&&9==l?setTimeout((function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()}),20):i.input.focus())})),c=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},d=function(){return o=!0};s&&(i.scroller.draggable=!0),e.state.draggingText=u,u.copy=!r.moveOnDrag,pe(i.wrapper.ownerDocument,\"mouseup\",u),pe(i.wrapper.ownerDocument,\"mousemove\",c),pe(i.scroller,\"dragstart\",d),pe(i.scroller,\"drop\",u),e.state.delayingBlurEvent=!0,setTimeout((function(){return i.input.focus()}),20),i.scroller.dragDrop&&i.scroller.dragDrop()}function Cl(e,t,n){if(\"char\"==n)return new io(t,t);if(\"word\"==n)return e.findWordAt(t);if(\"line\"==n)return new io(it(t.line,0),dt(e.doc,it(t.line+1,0)));var r=n(e,t);return new io(r.from,r.to)}function wl(e,t,n,r){a&&Xr(e);var i=e.display,o=e.doc;Ce(t);var l,s,u=o.sel,c=u.ranges;if(r.addNew&&!r.extend?(s=o.sel.contains(n),l=s>-1?c[s]:new io(n,n)):(l=o.sel.primary(),s=o.sel.primIndex),\"rectangle\"==r.unit)r.addNew||(l=new io(n,n)),n=Br(e,t,!0,!0),s=-1;else{var d=Cl(e,n,r.unit);l=r.extend?Bo(l,d.anchor,d.head,r.extend):d}r.addNew?-1==s?(s=c.length,_o(o,oo(e,c.concat([l]),s),{scroll:!1,origin:\"*mouse\"})):c.length>1&&c[s].empty()&&\"char\"==r.unit&&!r.extend?(_o(o,oo(e,c.slice(0,s).concat(c.slice(s+1)),0),{scroll:!1,origin:\"*mouse\"}),u=o.sel):Po(o,s,l,U):(s=0,_o(o,new ro([l],0),U),u=o.sel);var f=n;function h(t){if(0!=ot(f,t))if(f=t,\"rectangle\"==r.unit){for(var i=[],a=e.options.tabSize,c=R(Ze(o,n.line).text,n.ch,a),d=R(Ze(o,t.line).text,t.ch,a),h=Math.min(c,d),p=Math.max(c,d),m=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));m<=g;m++){var v=Ze(o,m).text,x=G(v,h,a);h==p?i.push(new io(it(m,x),it(m,x))):v.length>x&&i.push(new io(it(m,x),it(m,G(v,p,a))))}i.length||i.push(new io(n,n)),_o(o,oo(e,u.ranges.slice(0,s).concat(i),s),{origin:\"*mouse\",scroll:!1}),e.scrollIntoView(t)}else{var y,b=l,D=Cl(e,t,r.unit),C=b.anchor;ot(D.anchor,C)>0?(y=D.head,C=ut(b.from(),D.anchor)):(y=D.anchor,C=st(b.to(),D.head));var w=u.ranges.slice(0);w[s]=kl(e,new io(dt(o,C),y)),_o(o,oo(e,w,s),U)}}var p=i.wrapper.getBoundingClientRect(),m=0;function g(t){var n=++m,a=Br(e,t,!0,\"rectangle\"==r.unit);if(a)if(0!=ot(a,f)){e.curOp.focus=N(),h(a);var l=ei(i,o);(a.line>=l.to||a.line<l.from)&&setTimeout(Mi(e,(function(){m==n&&g(t)})),150)}else{var s=t.clientY<p.top?-20:t.clientY>p.bottom?20:0;s&&setTimeout(Mi(e,(function(){m==n&&(i.scroller.scrollTop+=s,g(t))})),50)}}function v(t){e.state.selectingText=!1,m=1/0,t&&(Ce(t),i.input.focus()),ge(i.wrapper.ownerDocument,\"mousemove\",x),ge(i.wrapper.ownerDocument,\"mouseup\",y),o.history.lastSelOrigin=null}var x=Mi(e,(function(e){0!==e.buttons&&Fe(e)?g(e):v(e)})),y=Mi(e,v);e.state.selectingText=y,pe(i.wrapper.ownerDocument,\"mousemove\",x),pe(i.wrapper.ownerDocument,\"mouseup\",y)}function kl(e,t){var n=t.anchor,r=t.head,i=Ze(e.doc,n.line);if(0==ot(n,r)&&n.sticky==r.sticky)return t;var o=fe(i);if(!o)return t;var a=ce(o,n.ch,n.sticky),l=o[a];if(l.from!=n.ch&&l.to!=n.ch)return t;var s,u=a+(l.from==n.ch==(1!=l.level)?0:1);if(0==u||u==o.length)return t;if(r.line!=n.line)s=(r.line-n.line)*(\"ltr\"==e.doc.direction?1:-1)>0;else{var c=ce(o,r.ch,r.sticky),d=c-a||(r.ch-n.ch)*(1==l.level?-1:1);s=c==u-1||c==u?d<0:d>0}var f=o[u+(s?-1:0)],h=s==(1==f.level),p=h?f.from:f.to,m=h?\"after\":\"before\";return n.ch==p&&n.sticky==m?t:new io(new it(n.line,p,m),r)}function Sl(e,t,n,r){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(c){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&Ce(t);var a=e.display,l=a.lineDiv.getBoundingClientRect();if(o>l.bottom||!be(e,n))return ke(t);o-=l.top-a.viewOffset;for(var s=0;s<e.display.gutterSpecs.length;++s){var u=a.gutters.childNodes[s];if(u&&u.getBoundingClientRect().right>=i)return ve(e,n,e,tt(e.doc,o),e.display.gutterSpecs[s].className,t),ke(t)}}function Al(e,t){return Sl(e,t,\"gutterClick\",!0)}function Fl(e,t){qn(e.display,t)||El(e,t)||xe(e,t,\"contextmenu\")||w||e.display.input.onContextMenu(t)}function El(e,t){return!!be(e,\"gutterContextMenu\")&&Sl(e,t,\"gutterContextMenu\",!1)}function Tl(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\\s*cm-s-\\S+/g,\"\")+e.options.theme.replace(/(^|\\s)\\s*/g,\" cm-s-\"),dr(e)}ml.prototype.compare=function(e,t,n){return this.time+pl>e&&0==ot(t,this.pos)&&n==this.button};var Ll={toString:function(){return\"CodeMirror.Init\"}},Ml={},Nl={};function Ol(e){var t=e.optionHandlers;function n(n,r,i,o){e.defaults[n]=r,i&&(t[n]=o?function(e,t,n){n!=Ll&&i(e,t,n)}:i)}e.defineOption=n,e.Init=Ll,n(\"value\",\"\",(function(e,t){return e.setValue(t)}),!0),n(\"mode\",null,(function(e,t){e.doc.modeOption=t,ho(e)}),!0),n(\"indentUnit\",2,ho,!0),n(\"indentWithTabs\",!1),n(\"smartIndent\",!0),n(\"tabSize\",4,(function(e){po(e),dr(e),zr(e)}),!0),n(\"lineSeparator\",null,(function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter((function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,n.push(it(r,o))}r++}));for(var i=n.length-1;i>=0;i--)ra(e.doc,t,n[i],it(n[i].line,n[i].ch+t.length))}})),n(\"specialChars\",/[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\ufeff\\ufff9-\\ufffc]/g,(function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test(\"\\t\")?\"\":\"|\\t\"),\"g\"),n!=Ll&&e.refresh()})),n(\"specialCharPlaceholder\",mn,(function(e){return e.refresh()}),!0),n(\"electricChars\",!0),n(\"inputStyle\",v?\"contenteditable\":\"textarea\",(function(){throw new Error(\"inputStyle can not (yet) be changed in a running editor\")}),!0),n(\"spellcheck\",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),n(\"autocorrect\",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),n(\"autocapitalize\",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),n(\"rtlMoveVisually\",!b),n(\"wholeLineUpdateBefore\",!0),n(\"theme\",\"default\",(function(e){Tl(e),Zi(e)}),!0),n(\"keyMap\",\"default\",(function(e,t,n){var r=Ua(t),i=n!=Ll&&Ua(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)})),n(\"extraKeys\",null),n(\"configureMouse\",null),n(\"lineWrapping\",!1,Il,!0),n(\"gutters\",[],(function(e,t){e.display.gutterSpecs=Ki(t,e.options.lineNumbers),Zi(e)}),!0),n(\"fixedGutter\",!0,(function(e,t){e.display.gutters.style.left=t?Mr(e.display)+\"px\":\"0\",e.refresh()}),!0),n(\"coverGutterNextToScrollbar\",!1,(function(e){return vi(e)}),!0),n(\"scrollbarStyle\",\"native\",(function(e){bi(e),vi(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),n(\"lineNumbers\",!1,(function(e,t){e.display.gutterSpecs=Ki(e.options.gutters,t),Zi(e)}),!0),n(\"firstLineNumber\",1,Zi,!0),n(\"lineNumberFormatter\",(function(e){return e}),Zi,!0),n(\"showCursorWhenSelecting\",!1,Wr,!0),n(\"resetSelectionOnContextMenu\",!0),n(\"lineWiseCopyCut\",!0),n(\"pasteLinesPerSelection\",!0),n(\"selectionsMayTouch\",!1),n(\"readOnly\",!1,(function(e,t){\"nocursor\"==t&&(Yr(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),n(\"screenReaderLabel\",null,(function(e,t){t=\"\"===t?null:t,e.display.input.screenReaderLabelChanged(t)})),n(\"disableInput\",!1,(function(e,t){t||e.display.input.reset()}),!0),n(\"dragDrop\",!0,Bl),n(\"allowDropFileTypes\",null),n(\"cursorBlinkRate\",530),n(\"cursorScrollMargin\",0),n(\"cursorHeight\",1,Wr,!0),n(\"singleCursorHeightPerLine\",!0,Wr,!0),n(\"workTime\",100),n(\"workDelay\",100),n(\"flattenSpans\",!0,po,!0),n(\"addModeClass\",!1,po,!0),n(\"pollInterval\",100),n(\"undoDepth\",200,(function(e,t){return e.doc.history.undoDepth=t})),n(\"historyEventDelay\",1250),n(\"viewportMargin\",10,(function(e){return e.refresh()}),!0),n(\"maxHighlightLength\",1e4,po,!0),n(\"moveInputWithCursor\",!0,(function(e,t){t||e.display.input.resetPosition()})),n(\"tabindex\",null,(function(e,t){return e.display.input.getField().tabIndex=t||\"\"})),n(\"autofocus\",null),n(\"direction\",\"ltr\",(function(e,t){return e.doc.setDirection(t)}),!0),n(\"phrases\",null)}function Bl(e,t,n){if(!t!=!(n&&n!=Ll)){var r=e.display.dragFunctions,i=t?pe:ge;i(e.display.scroller,\"dragstart\",r.start),i(e.display.scroller,\"dragenter\",r.enter),i(e.display.scroller,\"dragover\",r.over),i(e.display.scroller,\"dragleave\",r.leave),i(e.display.scroller,\"drop\",r.drop)}}function Il(e){e.options.lineWrapping?(O(e.display.wrapper,\"CodeMirror-wrap\"),e.display.sizer.style.minWidth=\"\",e.display.sizerWidth=null):(A(e.display.wrapper,\"CodeMirror-wrap\"),ln(e)),Or(e),zr(e),dr(e),setTimeout((function(){return vi(e)}),100)}function zl(e,t){var n=this;if(!(this instanceof zl))return new zl(e,t);this.options=t=t?P(t):{},P(Ml,t,!1);var r=t.value;\"string\"==typeof r?r=new Ca(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var i=new zl.inputStyles[t.inputStyle](this),o=this.display=new Yi(e,r,i,t);for(var u in o.wrapper.CodeMirror=this,Tl(this),t.lineWrapping&&(this.display.wrapper.className+=\" CodeMirror-wrap\"),bi(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new j,keySeq:null,specialChars:null},t.autofocus&&!v&&o.input.focus(),a&&l<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),Pl(this),La(),Ci(this),this.curOp.forceUpdate=!0,xo(this,r),t.autofocus&&!v||this.hasFocus()?setTimeout((function(){n.hasFocus()&&!n.state.focused&&Zr(n)}),20):Yr(this),Nl)Nl.hasOwnProperty(u)&&Nl[u](this,t[u],Ll);Vi(this),t.finishInit&&t.finishInit(this);for(var c=0;c<Rl.length;++c)Rl[c](this);wi(this),s&&t.lineWrapping&&\"optimizelegibility\"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering=\"auto\")}function Pl(e){var t=e.display;pe(t.scroller,\"mousedown\",Mi(e,vl)),pe(t.scroller,\"dblclick\",a&&l<11?Mi(e,(function(t){if(!xe(e,t)){var n=Br(e,t);if(n&&!Al(e,t)&&!qn(e.display,t)){Ce(t);var r=e.findWordAt(n);Io(e.doc,r.anchor,r.head)}}})):function(t){return xe(e,t)||Ce(t)}),pe(t.scroller,\"contextmenu\",(function(t){return Fl(e,t)})),pe(t.input.getField(),\"contextmenu\",(function(n){t.scroller.contains(n.target)||Fl(e,n)}));var n,r={end:0};function i(){t.activeTouch&&(n=setTimeout((function(){return t.activeTouch=null}),1e3),(r=t.activeTouch).end=+new Date)}function o(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function s(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}pe(t.scroller,\"touchstart\",(function(i){if(!xe(e,i)&&!o(i)&&!Al(e,i)){t.input.ensurePolled(),clearTimeout(n);var a=+new Date;t.activeTouch={start:a,moved:!1,prev:a-r.end<=300?r:null},1==i.touches.length&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY)}})),pe(t.scroller,\"touchmove\",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),pe(t.scroller,\"touchend\",(function(n){var r=t.activeTouch;if(r&&!qn(t,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var o,a=e.coordsChar(t.activeTouch,\"page\");o=!r.prev||s(r,r.prev)?new io(a,a):!r.prev.prev||s(r,r.prev.prev)?e.findWordAt(a):new io(it(a.line,0),dt(e.doc,it(a.line+1,0))),e.setSelection(o.anchor,o.head),e.focus(),Ce(n)}i()})),pe(t.scroller,\"touchcancel\",i),pe(t.scroller,\"scroll\",(function(){t.scroller.clientHeight&&(di(e,t.scroller.scrollTop),hi(e,t.scroller.scrollLeft,!0),ve(e,\"scroll\",e))})),pe(t.scroller,\"mousewheel\",(function(t){return no(e,t)})),pe(t.scroller,\"DOMMouseScroll\",(function(t){return no(e,t)})),pe(t.wrapper,\"scroll\",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){xe(e,t)||Se(t)},over:function(t){xe(e,t)||(Aa(e,t),Se(t))},start:function(t){return Sa(e,t)},drop:Mi(e,ka),leave:function(t){xe(e,t)||Fa(e)}};var u=t.input.getField();pe(u,\"keyup\",(function(t){return cl.call(e,t)})),pe(u,\"keydown\",Mi(e,sl)),pe(u,\"keypress\",Mi(e,dl)),pe(u,\"focus\",(function(t){return Zr(e,t)})),pe(u,\"blur\",(function(t){return Yr(e,t)}))}zl.defaults=Ml,zl.optionHandlers=Nl;var Rl=[];function jl(e,t,n,r){var i,o=e.doc;null==n&&(n=\"add\"),\"smart\"==n&&(o.mode.indent?i=xt(e,t).state:n=\"prev\");var a=e.options.tabSize,l=Ze(o,t),s=R(l.text,null,a);l.stateAfter&&(l.stateAfter=null);var u,c=l.text.match(/^\\s*/)[0];if(r||/\\S/.test(l.text)){if(\"smart\"==n&&((u=o.mode.indent(i,l.text.slice(c.length),l.text))==W||u>150)){if(!r)return;n=\"prev\"}}else u=0,n=\"not\";\"prev\"==n?u=t>o.first?R(Ze(o,t-1).text,null,a):0:\"add\"==n?u=s+e.options.indentUnit:\"subtract\"==n?u=s-e.options.indentUnit:\"number\"==typeof n&&(u=s+n),u=Math.max(0,u);var d=\"\",f=0;if(e.options.indentWithTabs)for(var h=Math.floor(u/a);h;--h)f+=a,d+=\"\\t\";if(f<u&&(d+=K(u-f)),d!=c)return ra(o,d,it(t,0),it(t,c.length),\"+input\"),l.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var m=o.sel.ranges[p];if(m.head.line==t&&m.head.ch<c.length){var g=it(t,c.length);Po(o,p,new io(g,g));break}}}zl.defineInitHook=function(e){return Rl.push(e)};var Hl=null;function _l(e){Hl=e}function Wl(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var a=+new Date-200,l=\"paste\"==i||e.state.pasteIncoming>a,s=Oe(t),u=null;if(l&&r.ranges.length>1)if(Hl&&Hl.text.join(\"\\n\")==t){if(r.ranges.length%Hl.text.length==0){u=[];for(var c=0;c<Hl.text.length;c++)u.push(o.splitLines(Hl.text[c]))}}else s.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(u=Z(s,(function(e){return[e]})));for(var d=e.curOp.updateInput,f=r.ranges.length-1;f>=0;f--){var h=r.ranges[f],p=h.from(),m=h.to();h.empty()&&(n&&n>0?p=it(p.line,p.ch-n):e.state.overwrite&&!l?m=it(m.line,Math.min(Ze(o,m.line).text.length,m.ch+X(s).length)):l&&Hl&&Hl.lineWise&&Hl.text.join(\"\\n\")==s.join(\"\\n\")&&(p=m=it(p.line,0)));var g={from:p,to:m,text:u?u[f%u.length]:s,origin:i||(l?\"paste\":e.state.cutIncoming>a?\"cut\":\"+input\")};Yo(e.doc,g),En(e,\"inputRead\",e,g)}t&&!l&&Ul(e,t),ai(e),e.curOp.updateInput<2&&(e.curOp.updateInput=d),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function ql(e,t){var n=e.clipboardData&&e.clipboardData.getData(\"Text\");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Li(t,(function(){return Wl(t,n,0,null,\"paste\")})),!0}function Ul(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var l=0;l<o.electricChars.length;l++)if(t.indexOf(o.electricChars.charAt(l))>-1){a=jl(e,i.head.line,\"smart\");break}}else o.electricInput&&o.electricInput.test(Ze(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=jl(e,i.head.line,\"smart\"));a&&En(e,\"electricInput\",e,i.head.line)}}}function $l(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:it(i,0),head:it(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function Gl(e,t,n,r){e.setAttribute(\"autocorrect\",n?\"\":\"off\"),e.setAttribute(\"autocapitalize\",r?\"\":\"off\"),e.setAttribute(\"spellcheck\",!!t)}function Vl(){var e=T(\"textarea\",null,null,\"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\"),t=T(\"div\",[e],null,\"overflow: hidden; position: relative; width: 3px; height: 0px;\");return s?e.style.width=\"1000px\":e.setAttribute(\"wrap\",\"off\"),m&&(e.style.border=\"1px solid black\"),Gl(e),t}function Kl(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,i=r[e];r[e]==n&&\"mode\"!=e||(r[e]=n,t.hasOwnProperty(e)&&Mi(this,t[e])(this,n,i),ve(this,\"optionChange\",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?\"push\":\"unshift\"](Ua(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:Ni((function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error(\"Overlays may not be stateful.\");Y(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(e){return e.priority})),this.state.modeGen++,zr(this)})),removeOverlay:Ni((function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||\"string\"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void zr(this)}})),indentLine:Ni((function(e,t,n){\"string\"!=typeof t&&\"number\"!=typeof t&&(t=null==t?this.options.smartIndent?\"smart\":\"prev\":t?\"add\":\"subtract\"),nt(this.doc,e)&&jl(this,e,t,n)})),indentSelection:Ni((function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(jl(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&ai(this));else{var o=i.from(),a=i.to(),l=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var s=l;s<n;++s)jl(this,s,e);var u=this.doc.sel.ranges;0==o.ch&&t.length==u.length&&u[r].from().ch>0&&Po(this.doc,r,new io(o,u[r].to()),q)}}})),getTokenAt:function(e,t){return wt(this,e,t)},getLineTokens:function(e,t){return wt(this,it(e),t,!0)},getTokenTypeAt:function(e){e=dt(this.doc,e);var t,n=vt(this,Ze(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){t=n[2*a+2];break}r=a+1}}var l=t?t.indexOf(\"overlay \"):-1;return l<0?t:0==l?null:t.slice(0,l-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!n.hasOwnProperty(t))return r;var i=n[t],o=this.getModeAt(e);if(\"string\"==typeof o[t])i[o[t]]&&r.push(i[o[t]]);else if(o[t])for(var a=0;a<o[t].length;a++){var l=i[o[t][a]];l&&r.push(l)}else o.helperType&&i[o.helperType]?r.push(i[o.helperType]):i[o.name]&&r.push(i[o.name]);for(var s=0;s<i._global.length;s++){var u=i._global[s];u.pred(o,this)&&-1==H(r,u.val)&&r.push(u.val)}return r},getStateAfter:function(e,t){var n=this.doc;return xt(this,(e=ct(n,null==e?n.first+n.size-1:e))+1,t).state},cursorCoords:function(e,t){var n=this.doc.sel.primary();return xr(this,null==e?n.head:\"object\"==typeof e?dt(this.doc,e):e?n.from():n.to(),t||\"page\")},charCoords:function(e,t){return vr(this,dt(this.doc,e),t||\"page\")},coordsChar:function(e,t){return Dr(this,(e=gr(this,e,t||\"page\")).left,e.top)},lineAtHeight:function(e,t){return e=gr(this,{top:e,left:0},t||\"page\").top,tt(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,i=!1;if(\"number\"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),r=Ze(this.doc,e)}else r=e;return mr(this,r,{top:0,left:0},t||\"page\",n||i).top+(i?this.doc.height-on(r):0)},defaultTextHeight:function(){return Er(this.display)},defaultCharWidth:function(){return Tr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o=this.display,a=(e=xr(this,dt(this.doc,e))).bottom,l=e.left;if(t.style.position=\"absolute\",t.setAttribute(\"cm-ignore-events\",\"true\"),this.display.input.setUneditable(t),o.sizer.appendChild(t),\"over\"==r)a=e.top;else if(\"above\"==r||\"near\"==r){var s=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);(\"above\"==r||e.bottom+t.offsetHeight>s)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=s&&(a=e.bottom),l+t.offsetWidth>u&&(l=u-t.offsetWidth)}t.style.top=a+\"px\",t.style.left=t.style.right=\"\",\"right\"==i?(l=o.sizer.clientWidth-t.offsetWidth,t.style.right=\"0px\"):(\"left\"==i?l=0:\"middle\"==i&&(l=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=l+\"px\"),n&&ri(this,{left:l,top:a,right:l+t.offsetWidth,bottom:a+t.offsetHeight})},triggerOnKeyDown:Ni(sl),triggerOnKeyPress:Ni(dl),triggerOnKeyUp:cl,triggerOnMouseDown:Ni(vl),execCommand:function(e){if(Za.hasOwnProperty(e))return Za[e].call(null,this)},triggerElectric:Ni((function(e){Ul(this,e)})),findPosH:function(e,t,n,r){var i=1;t<0&&(i=-1,t=-t);for(var o=dt(this.doc,e),a=0;a<t&&!(o=Xl(this.doc,o,i,n,r)).hitSide;++a);return o},moveH:Ni((function(e,t){var n=this;this.extendSelectionsBy((function(r){return n.display.shift||n.doc.extend||r.empty()?Xl(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()}),$)})),deleteH:Ni((function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection(\"\",null,\"+delete\"):$a(this,(function(n){var i=Xl(r,n.head,e,t,!1);return e<0?{from:i,to:n.head}:{from:n.head,to:i}}))})),findPosV:function(e,t,n,r){var i=1,o=r;t<0&&(i=-1,t=-t);for(var a=dt(this.doc,e),l=0;l<t;++l){var s=xr(this,a,\"div\");if(null==o?o=s.left:s.left=o,(a=Zl(this,s,i,n)).hitSide)break}return a},moveV:Ni((function(e,t){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy((function(a){if(o)return e<0?a.from():a.to();var l=xr(n,a.head,\"div\");null!=a.goalColumn&&(l.left=a.goalColumn),i.push(l.left);var s=Zl(n,l,e,t);return\"page\"==t&&a==r.sel.primary()&&oi(n,vr(n,s,\"div\").top-l.top),s}),$),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]})),findWordAt:function(e){var t=Ze(this.doc,e.line).text,n=e.ch,r=e.ch;if(t){var i=this.getHelper(e,\"wordChars\");\"before\"!=e.sticky&&r!=t.length||!n?++r:--n;for(var o=t.charAt(n),a=ne(o,i)?function(e){return ne(e,i)}:/\\s/.test(o)?function(e){return/\\s/.test(e)}:function(e){return!/\\s/.test(e)&&!ne(e)};n>0&&a(t.charAt(n-1));)--n;for(;r<t.length&&a(t.charAt(r));)++r}return new io(it(e.line,n),it(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?O(this.display.cursorDiv,\"CodeMirror-overwrite\"):A(this.display.cursorDiv,\"CodeMirror-overwrite\"),ve(this,\"overwriteToggle\",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==N()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Ni((function(e,t){li(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Vn(this)-this.display.barHeight,width:e.scrollWidth-Vn(this)-this.display.barWidth,clientHeight:Xn(this),clientWidth:Kn(this)}},scrollIntoView:Ni((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):\"number\"==typeof e?e={from:it(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?si(this,e):ci(this,e.from,e.to,e.margin)})),setSize:Ni((function(e,t){var n=this,r=function(e){return\"number\"==typeof e||/^\\d+$/.test(String(e))?e+\"px\":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&cr(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Pr(n,i,\"widget\");break}++i})),this.curOp.forceUpdate=!0,ve(this,\"refresh\",this)})),operation:function(e){return Li(this,e)},startOperation:function(){return Ci(this)},endOperation:function(){return wi(this)},refresh:Ni((function(){var e=this.display.cachedTextHeight;zr(this),this.curOp.forceUpdate=!0,dr(this),li(this,this.doc.scrollLeft,this.doc.scrollTop),Ui(this.display),(null==e||Math.abs(e-Er(this.display))>.5||this.options.lineWrapping)&&Or(this),ve(this,\"refresh\",this)})),swapDoc:Ni((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),xo(this,e),dr(this),this.display.input.reset(),li(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,En(this,\"swapDoc\",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},De(e),e.registerHelper=function(t,r,i){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=i},e.registerGlobalHelper=function(t,r,i,o){e.registerHelper(t,r,o),n[t]._global.push({pred:i,val:o})}}function Xl(e,t,n,r,i){var o=t,a=n,l=Ze(e,t.line),s=i&&\"rtl\"==e.direction?-n:n;function u(){var n=t.line+s;return!(n<e.first||n>=e.first+e.size)&&(t=new it(n,t.ch,t.sticky),l=Ze(e,n))}function c(o){var a;if(\"codepoint\"==r){var c=l.text.charCodeAt(t.ch+(n>0?0:-1));if(isNaN(c))a=null;else{var d=n>0?c>=55296&&c<56320:c>=56320&&c<57343;a=new it(t.line,Math.max(0,Math.min(l.text.length,t.ch+n*(d?2:1))),-n)}}else a=i?Xa(e.cm,l,t,n):Va(l,t,n);if(null==a){if(o||!u())return!1;t=Ka(i,e.cm,l,t.line,s)}else t=a;return!0}if(\"char\"==r||\"codepoint\"==r)c();else if(\"column\"==r)c(!0);else if(\"word\"==r||\"group\"==r)for(var d=null,f=\"group\"==r,h=e.cm&&e.cm.getHelper(t,\"wordChars\"),p=!0;!(n<0)||c(!p);p=!1){var m=l.text.charAt(t.ch)||\"\\n\",g=ne(m,h)?\"w\":f&&\"\\n\"==m?\"n\":!f||/\\s/.test(m)?null:\"p\";if(!f||p||g||(g=\"s\"),d&&d!=g){n<0&&(n=1,c(),t.sticky=\"after\");break}if(g&&(d=g),n>0&&!c(!p))break}var v=Vo(e,t,o,a,!0);return at(o,v)&&(v.hitSide=!0),v}function Zl(e,t,n,r){var i,o,a=e.doc,l=t.left;if(\"page\"==r){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),u=Math.max(s-.5*Er(e.display),3);i=(n>0?t.bottom:t.top)+n*u}else\"line\"==r&&(i=n>0?t.bottom+3:t.top-3);for(;(o=Dr(e,l,i)).outside;){if(n<0?i<=0:i>=a.height){o.hitSide=!0;break}i+=5*n}return o}var Yl=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new j,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Jl(e,t){var n=er(e,t.line);if(!n||n.hidden)return null;var r=Ze(e.doc,t.line),i=Yn(n,r,t.line),o=fe(r,e.doc.direction),a=\"left\";o&&(a=ce(o,t.ch)%2?\"right\":\"left\");var l=or(i.map,t.ch,a);return l.offset=\"right\"==l.collapse?l.end:l.start,l}function Ql(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function es(e,t){return t&&(e.bad=!0),e}function ts(e,t,n,r,i){var o=\"\",a=!1,l=e.doc.lineSeparator(),s=!1;function u(e){return function(t){return t.id==e}}function c(){a&&(o+=l,s&&(o+=l),a=s=!1)}function d(e){e&&(c(),o+=e)}function f(t){if(1==t.nodeType){var n=t.getAttribute(\"cm-text\");if(n)return void d(n);var o,h=t.getAttribute(\"cm-marker\");if(h){var p=e.findMarks(it(r,0),it(i+1,0),u(+h));return void(p.length&&(o=p[0].find(0))&&d(Ye(e.doc,o.from,o.to).join(l)))}if(\"false\"==t.getAttribute(\"contenteditable\"))return;var m=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;m&&c();for(var g=0;g<t.childNodes.length;g++)f(t.childNodes[g]);/^(pre|p)$/i.test(t.nodeName)&&(s=!0),m&&(a=!0)}else 3==t.nodeType&&d(t.nodeValue.replace(/\\u200b/g,\"\").replace(/\\u00a0/g,\" \"))}for(;f(t),t!=n;)t=t.nextSibling,s=!1;return o}function ns(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return es(e.clipPos(it(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return rs(o,t,n)}}function rs(e,t,n){var r=e.text.firstChild,i=!1;if(!t||!M(r,t))return es(it(et(e.line),0),!0);if(t==r&&(i=!0,t=r.childNodes[n],n=0,!t)){var o=e.rest?X(e.rest):e.line;return es(it(et(o),o.text.length),i)}var a=3==t.nodeType?t:null,l=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));l.parentNode!=r;)l=l.parentNode;var s=e.measure,u=s.maps;function c(t,n,r){for(var i=-1;i<(u?u.length:0);i++)for(var o=i<0?s.map:u[i],a=0;a<o.length;a+=3){var l=o[a+2];if(l==t||l==n){var c=et(i<0?e.line:e.rest[i]),d=o[a]+r;return(r<0||l!=t)&&(d=o[a+(r?1:0)]),it(c,d)}}}var d=c(a,l,n);if(d)return es(d,i);for(var f=l.nextSibling,h=a?a.nodeValue.length-n:0;f;f=f.nextSibling){if(d=c(f,f.firstChild,0))return es(it(d.line,d.ch-h),i);h+=f.textContent.length}for(var p=l.previousSibling,m=n;p;p=p.previousSibling){if(d=c(p,p.firstChild,-1))return es(it(d.line,d.ch+m),i);m+=p.textContent.length}}Yl.prototype.init=function(e){var t=this,n=this,r=n.cm,i=n.div=e.lineDiv;function o(e){for(var t=e.target;t;t=t.parentNode){if(t==i)return!0;if(/\\bCodeMirror-(?:line)?widget\\b/.test(t.className))break}return!1}function a(e){if(o(e)&&!xe(r,e)){if(r.somethingSelected())_l({lineWise:!1,text:r.getSelections()}),\"cut\"==e.type&&r.replaceSelection(\"\",null,\"cut\");else{if(!r.options.lineWiseCopyCut)return;var t=$l(r);_l({lineWise:!0,text:t.text}),\"cut\"==e.type&&r.operation((function(){r.setSelections(t.ranges,0,q),r.replaceSelection(\"\",null,\"cut\")}))}if(e.clipboardData){e.clipboardData.clearData();var a=Hl.text.join(\"\\n\");if(e.clipboardData.setData(\"Text\",a),e.clipboardData.getData(\"Text\")==a)return void e.preventDefault()}var l=Vl(),s=l.firstChild;r.display.lineSpace.insertBefore(l,r.display.lineSpace.firstChild),s.value=Hl.text.join(\"\\n\");var u=N();I(s),setTimeout((function(){r.display.lineSpace.removeChild(l),u.focus(),u==i&&n.showPrimarySelection()}),50)}}i.contentEditable=!0,Gl(i,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),pe(i,\"paste\",(function(e){!o(e)||xe(r,e)||ql(e,r)||l<=11&&setTimeout(Mi(r,(function(){return t.updateFromDOM()})),20)})),pe(i,\"compositionstart\",(function(e){t.composing={data:e.data,done:!1}})),pe(i,\"compositionupdate\",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),pe(i,\"compositionend\",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),pe(i,\"touchstart\",(function(){return n.forceCompositionEnd()})),pe(i,\"input\",(function(){t.composing||t.readFromDOMSoon()})),pe(i,\"copy\",a),pe(i,\"cut\",a)},Yl.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute(\"aria-label\",e):this.div.removeAttribute(\"aria-label\")},Yl.prototype.prepareSelection=function(){var e=qr(this.cm,!1);return e.focus=N()==this.div,e},Yl.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Yl.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Yl.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),i=r.from(),o=r.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var a=ns(t,e.anchorNode,e.anchorOffset),l=ns(t,e.focusNode,e.focusOffset);if(!a||a.bad||!l||l.bad||0!=ot(ut(a,l),i)||0!=ot(st(a,l),o)){var s=t.display.view,u=i.line>=t.display.viewFrom&&Jl(t,i)||{node:s[0].measure.map[2],offset:0},c=o.line<t.display.viewTo&&Jl(t,o);if(!c){var d=s[s.length-1].measure,f=d.maps?d.maps[d.maps.length-1]:d.map;c={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}}if(u&&c){var h,p=e.rangeCount&&e.getRangeAt(0);try{h=S(u.node,u.offset,c.offset,c.node)}catch(m){}h&&(!n&&t.state.focused?(e.collapse(u.node,u.offset),h.collapsed||(e.removeAllRanges(),e.addRange(h))):(e.removeAllRanges(),e.addRange(h)),p&&null==e.anchorNode?e.addRange(p):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Yl.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},Yl.prototype.showMultipleSelections=function(e){E(this.cm.display.cursorDiv,e.cursors),E(this.cm.display.selectionDiv,e.selection)},Yl.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Yl.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return M(this.div,t)},Yl.prototype.focus=function(){\"nocursor\"!=this.cm.options.readOnly&&(this.selectionInEditor()&&N()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Yl.prototype.blur=function(){this.div.blur()},Yl.prototype.getField=function(){return this.div},Yl.prototype.supportsTouch=function(){return!0},Yl.prototype.receivedFocus=function(){var e=this;function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}this.selectionInEditor()?this.pollSelection():Li(this.cm,(function(){return e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,t)},Yl.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Yl.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(g&&c&&this.cm.display.gutterSpecs.length&&Ql(e.anchorNode))return this.cm.triggerOnKeyDown({type:\"keydown\",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=ns(t,e.anchorNode,e.anchorOffset),r=ns(t,e.focusNode,e.focusOffset);n&&r&&Li(t,(function(){_o(t.doc,ao(n,r),q),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)}))}}},Yl.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,r=this.cm,i=r.display,o=r.doc.sel.primary(),a=o.from(),l=o.to();if(0==a.ch&&a.line>r.firstLine()&&(a=it(a.line-1,Ze(r.doc,a.line-1).length)),l.ch==Ze(r.doc,l.line).text.length&&l.line<r.lastLine()&&(l=it(l.line+1,0)),a.line<i.viewFrom||l.line>i.viewTo-1)return!1;a.line==i.viewFrom||0==(e=Ir(r,a.line))?(t=et(i.view[0].line),n=i.view[0].node):(t=et(i.view[e].line),n=i.view[e-1].node.nextSibling);var s,u,c=Ir(r,l.line);if(c==i.view.length-1?(s=i.viewTo-1,u=i.lineDiv.lastChild):(s=et(i.view[c+1].line)-1,u=i.view[c+1].node.previousSibling),!n)return!1;for(var d=r.doc.splitLines(ts(r,n,u,t,s)),f=Ye(r.doc,it(t,0),it(s,Ze(r.doc,s).text.length));d.length>1&&f.length>1;)if(X(d)==X(f))d.pop(),f.pop(),s--;else{if(d[0]!=f[0])break;d.shift(),f.shift(),t++}for(var h=0,p=0,m=d[0],g=f[0],v=Math.min(m.length,g.length);h<v&&m.charCodeAt(h)==g.charCodeAt(h);)++h;for(var x=X(d),y=X(f),b=Math.min(x.length-(1==d.length?h:0),y.length-(1==f.length?h:0));p<b&&x.charCodeAt(x.length-p-1)==y.charCodeAt(y.length-p-1);)++p;if(1==d.length&&1==f.length&&t==a.line)for(;h&&h>a.ch&&x.charCodeAt(x.length-p-1)==y.charCodeAt(y.length-p-1);)h--,p++;d[d.length-1]=x.slice(0,x.length-p).replace(/^\\u200b+/,\"\"),d[0]=d[0].slice(h).replace(/\\u200b+$/,\"\");var D=it(t,h),C=it(s,f.length?X(f).length-p:0);return d.length>1||d[0]||ot(D,C)?(ra(r.doc,d,D,C,\"+input\"),!0):void 0},Yl.prototype.ensurePolled=function(){this.forceCompositionEnd()},Yl.prototype.reset=function(){this.forceCompositionEnd()},Yl.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Yl.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},Yl.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Li(this.cm,(function(){return zr(e.cm)}))},Yl.prototype.setUneditable=function(e){e.contentEditable=\"false\"},Yl.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Mi(this.cm,Wl)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Yl.prototype.readOnlyChanged=function(e){this.div.contentEditable=String(\"nocursor\"!=e)},Yl.prototype.onContextMenu=function(){},Yl.prototype.resetPosition=function(){},Yl.prototype.needsContentAttribute=!0;var is=function(e){this.cm=e,this.prevInput=\"\",this.pollingFast=!1,this.polling=new j,this.hasSelection=!1,this.composing=null};function os(e,t){if((t=t?P(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=N();t.autofocus=n==e||null!=e.getAttribute(\"autofocus\")&&n==document.body}function r(){e.value=l.getValue()}var i;if(e.form&&(pe(e.form,\"submit\",r),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var a=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=a}}catch(s){}}t.finishInit=function(n){n.save=r,n.getTextArea=function(){return e},n.toTextArea=function(){n.toTextArea=isNaN,r(),e.parentNode.removeChild(n.getWrapperElement()),e.style.display=\"\",e.form&&(ge(e.form,\"submit\",r),t.leaveSubmitMethodAlone||\"function\"!=typeof e.form.submit||(e.form.submit=i))}},e.style.display=\"none\";var l=zl((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return l}function as(e){e.off=ge,e.on=pe,e.wheelEventPixels=to,e.Doc=Ca,e.splitLines=Oe,e.countColumn=R,e.findColumn=G,e.isWordChar=te,e.Pass=W,e.signal=ve,e.Line=sn,e.changeEnd=lo,e.scrollbarModel=yi,e.Pos=it,e.cmpPos=ot,e.modes=Re,e.mimeModes=je,e.resolveMode=We,e.getMode=qe,e.modeExtensions=Ue,e.extendMode=$e,e.copyState=Ge,e.startState=Ke,e.innerMode=Ve,e.commands=Za,e.keyMap=Pa,e.keyName=qa,e.isModifierKey=_a,e.lookupKey=Ha,e.normalizeKeyMap=ja,e.StringStream=Xe,e.SharedTextMarker=ga,e.TextMarker=pa,e.LineWidget=ca,e.e_preventDefault=Ce,e.e_stopPropagation=we,e.e_stop=Se,e.addClass=O,e.contains=M,e.rmClass=A,e.keyNames=Oa}is.prototype.init=function(e){var t=this,n=this,r=this.cm;this.createField(e);var i=this.textarea;function o(e){if(!xe(r,e)){if(r.somethingSelected())_l({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var t=$l(r);_l({lineWise:!0,text:t.text}),\"cut\"==e.type?r.setSelections(t.ranges,null,q):(n.prevInput=\"\",i.value=t.text.join(\"\\n\"),I(i))}\"cut\"==e.type&&(r.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),m&&(i.style.width=\"0px\"),pe(i,\"input\",(function(){a&&l>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()})),pe(i,\"paste\",(function(e){xe(r,e)||ql(e,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())})),pe(i,\"cut\",o),pe(i,\"copy\",o),pe(e.scroller,\"paste\",(function(t){if(!qn(e,t)&&!xe(r,t)){if(!i.dispatchEvent)return r.state.pasteIncoming=+new Date,void n.focus();var o=new Event(\"paste\");o.clipboardData=t.clipboardData,i.dispatchEvent(o)}})),pe(e.lineSpace,\"selectstart\",(function(t){qn(e,t)||Ce(t)})),pe(i,\"compositionstart\",(function(){var e=r.getCursor(\"from\");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor(\"to\"),{className:\"CodeMirror-composing\"})}})),pe(i,\"compositionend\",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},is.prototype.createField=function(e){this.wrapper=Vl(),this.textarea=this.wrapper.firstChild},is.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute(\"aria-label\",e):this.textarea.removeAttribute(\"aria-label\")},is.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=qr(e);if(e.options.moveInputWithCursor){var i=xr(e,n.sel.primary().head,\"div\"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},is.prototype.showSelection=function(e){var t=this.cm.display;E(t.cursorDiv,e.cursors),E(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+\"px\",this.wrapper.style.left=e.teLeft+\"px\")},is.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput=\"\";var n=t.getSelection();this.textarea.value=n,t.state.focused&&I(this.textarea),a&&l>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value=\"\",a&&l>=9&&(this.hasSelection=null))}},is.prototype.getField=function(){return this.textarea},is.prototype.supportsTouch=function(){return!1},is.prototype.focus=function(){if(\"nocursor\"!=this.cm.options.readOnly&&(!v||N()!=this.textarea))try{this.textarea.focus()}catch(e){}},is.prototype.blur=function(){this.textarea.blur()},is.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},is.prototype.receivedFocus=function(){this.slowPoll()},is.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},is.prototype.fastPoll=function(){var e=!1,t=this;function n(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))}t.pollingFast=!0,t.polling.set(20,n)},is.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||Be(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(a&&l>=9&&this.hasSelection===i||x&&/[\\uf700-\\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r=\"\\u200b\"),8666==o)return this.reset(),this.cm.execCommand(\"undo\")}for(var s=0,u=Math.min(r.length,i.length);s<u&&r.charCodeAt(s)==i.charCodeAt(s);)++s;return Li(t,(function(){Wl(t,i.slice(s),r.length-s,null,e.composing?\"*compose\":null),i.length>1e3||i.indexOf(\"\\n\")>-1?n.value=e.prevInput=\"\":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor(\"to\"),{className:\"CodeMirror-composing\"}))})),!0},is.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},is.prototype.onKeyPress=function(){a&&l>=9&&(this.hasSelection=null),this.fastPoll()},is.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,i=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=Br(n,e),u=r.scroller.scrollTop;if(o&&!d){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(o)&&Mi(n,_o)(n.doc,ao(o),q);var c,f=i.style.cssText,h=t.wrapper.style.cssText,p=t.wrapper.offsetParent.getBoundingClientRect();t.wrapper.style.cssText=\"position: static\",i.style.cssText=\"position: absolute; width: 30px; height: 30px;\\n      top: \"+(e.clientY-p.top-5)+\"px; left: \"+(e.clientX-p.left-5)+\"px;\\n      z-index: 1000; background: \"+(a?\"rgba(255, 255, 255, .05)\":\"transparent\")+\";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\",s&&(c=window.scrollY),r.input.focus(),s&&window.scrollTo(null,c),r.input.reset(),n.somethingSelected()||(i.value=t.prevInput=\" \"),t.contextMenuPending=g,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),a&&l>=9&&m(),w?(Se(e),pe(window,\"mouseup\",(function e(){ge(window,\"mouseup\",e),setTimeout(g,20)}))):setTimeout(g,50)}function m(){if(null!=i.selectionStart){var e=n.somethingSelected(),o=\"\\u200b\"+(e?i.value:\"\");i.value=\"\\u21da\",i.value=o,t.prevInput=e?\"\":\"\\u200b\",i.selectionStart=1,i.selectionEnd=o.length,r.selForContextMenu=n.doc.sel}}function g(){if(t.contextMenuPending==g&&(t.contextMenuPending=!1,t.wrapper.style.cssText=h,i.style.cssText=f,a&&l<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=u),null!=i.selectionStart)){(!a||a&&l<9)&&m();var e=0,o=function o(){r.selForContextMenu==n.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&\"\\u200b\"==t.prevInput?Mi(n,Xo)(n):e++<10?r.detectingSelectAll=setTimeout(o,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(o,200)}}},is.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled=\"nocursor\"==e,this.textarea.readOnly=!!e},is.prototype.setUneditable=function(){},is.prototype.needsContentAttribute=!1,Ol(zl),Kl(zl);var ls=\"iter insert remove copy getEditor constructor\".split(\" \");for(var ss in Ca.prototype)Ca.prototype.hasOwnProperty(ss)&&H(ls,ss)<0&&(zl.prototype[ss]=function(e){return function(){return e.apply(this.doc,arguments)}}(Ca.prototype[ss]));return De(Ca),zl.inputStyles={textarea:is,contenteditable:Yl},zl.defineMode=function(e){zl.defaults.mode||\"null\"==e||(zl.defaults.mode=e),He.apply(this,arguments)},zl.defineMIME=_e,zl.defineMode(\"null\",(function(){return{token:function(e){return e.skipToEnd()}}})),zl.defineMIME(\"text/plain\",\"null\"),zl.defineExtension=function(e,t){zl.prototype[e]=t},zl.defineDocExtension=function(e,t){Ca.prototype[e]=t},zl.fromTextArea=os,as(zl),zl.version=\"5.62.2\",zl}()},424:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},425:function(e,t,n){var r=n(424);e.exports=function(e,t){if(e){if(\"string\"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},426:function(e,t,n){var r=n(556),i=n(557),o=n(425),a=n(558);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.default=e.exports,e.exports.__esModule=!0},543:function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.default=e.exports,e.exports.__esModule=!0},556:function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},557:function(e,t){e.exports=function(e,t){var n=null==e?null:\"undefined\"!==typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}},e.exports.default=e.exports,e.exports.__esModule=!0},558:function(e,t){e.exports=function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")},e.exports.default=e.exports,e.exports.__esModule=!0},849:function(e,t,n){!function(e){\"use strict\";e.defineMode(\"markdown\",(function(t,n){var r=e.getMode(t,\"text/html\"),i=\"null\"==r.name;function o(n){if(e.findModeByName){var r=e.findModeByName(n);r&&(n=r.mime||r.mimes[0])}var i=e.getMode(t,n);return\"null\"==i.name?null:i}void 0===n.highlightFormatting&&(n.highlightFormatting=!1),void 0===n.maxBlockquoteDepth&&(n.maxBlockquoteDepth=0),void 0===n.taskLists&&(n.taskLists=!1),void 0===n.strikethrough&&(n.strikethrough=!1),void 0===n.emoji&&(n.emoji=!1),void 0===n.fencedCodeBlockHighlighting&&(n.fencedCodeBlockHighlighting=!0),void 0===n.fencedCodeBlockDefaultMode&&(n.fencedCodeBlockDefaultMode=\"text/plain\"),void 0===n.xml&&(n.xml=!0),void 0===n.tokenTypeOverrides&&(n.tokenTypeOverrides={});var a={header:\"header\",code:\"comment\",quote:\"quote\",list1:\"variable-2\",list2:\"variable-3\",list3:\"keyword\",hr:\"hr\",image:\"image\",imageAltText:\"image-alt-text\",imageMarker:\"image-marker\",formatting:\"formatting\",linkInline:\"link\",linkEmail:\"link\",linkText:\"link\",linkHref:\"string\",em:\"em\",strong:\"strong\",strikethrough:\"strikethrough\",emoji:\"builtin\"};for(var l in a)a.hasOwnProperty(l)&&n.tokenTypeOverrides[l]&&(a[l]=n.tokenTypeOverrides[l]);var s=/^([*\\-_])(?:\\s*\\1){2,}\\s*$/,u=/^(?:[*\\-+]|^[0-9]+([.)]))\\s+/,c=/^\\[(x| )\\](?=\\s)/i,d=n.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,f=/^ {0,3}(?:\\={1,}|-{2,})\\s*$/,h=/^[^#!\\[\\]*_\\\\<>` \"'(~:]+/,p=/^(~~~+|```+)[ \\t]*([\\w\\/+#-]*)[^\\n`]*$/,m=/^\\s*\\[[^\\]]+?\\]:.*$/,g=/[!\"#$%&'()*+,\\-.\\/:;<=>?@\\[\\\\\\]^_`{|}~\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E42\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC9\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDF3C-\\uDF3E]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]/,v=\"    \";function x(e,t,n){return t.f=t.inline=n,n(e,t)}function y(e,t,n){return t.f=t.block=n,n(e,t)}function b(e){return!e||!/\\S/.test(e.string)}function D(t){if(t.linkTitle=!1,t.linkHref=!1,t.linkText=!1,t.em=!1,t.strong=!1,t.strikethrough=!1,t.quote=0,t.indentedCode=!1,t.f==w){var n=i;if(!n){var o=e.innerMode(r,t.htmlState);n=\"xml\"==o.mode.name&&null===o.state.tagStart&&!o.state.context&&o.state.tokenize.isInText}n&&(t.f=F,t.block=C,t.htmlState=null)}return t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.prevLine=t.thisLine,t.thisLine={stream:null},null}function C(t,r){var i=t.column()===r.indentation,l=b(r.prevLine.stream),h=r.indentedCode,g=r.prevLine.hr,v=!1!==r.list,y=(r.listStack[r.listStack.length-1]||0)+3;r.indentedCode=!1;var D=r.indentation;if(null===r.indentationDiff&&(r.indentationDiff=r.indentation,v)){for(r.list=null;D<r.listStack[r.listStack.length-1];)r.listStack.pop(),r.listStack.length?r.indentation=r.listStack[r.listStack.length-1]:r.list=!1;!1!==r.list&&(r.indentationDiff=D-r.listStack[r.listStack.length-1])}var C=!l&&!g&&!r.prevLine.header&&(!v||!h)&&!r.prevLine.fencedCodeEnd,w=(!1===r.list||g||l)&&r.indentation<=y&&t.match(s),A=null;if(r.indentationDiff>=4&&(h||r.prevLine.fencedCodeEnd||r.prevLine.header||l))return t.skipToEnd(),r.indentedCode=!0,a.code;if(t.eatSpace())return null;if(i&&r.indentation<=y&&(A=t.match(d))&&A[1].length<=6)return r.quote=0,r.header=A[1].length,r.thisLine.header=!0,n.highlightFormatting&&(r.formatting=\"header\"),r.f=r.inline,S(r);if(r.indentation<=y&&t.eat(\">\"))return r.quote=i?1:r.quote+1,n.highlightFormatting&&(r.formatting=\"quote\"),t.eatSpace(),S(r);if(!w&&!r.setext&&i&&r.indentation<=y&&(A=t.match(u))){var F=A[1]?\"ol\":\"ul\";return r.indentation=D+t.current().length,r.list=!0,r.quote=0,r.listStack.push(r.indentation),r.em=!1,r.strong=!1,r.code=!1,r.strikethrough=!1,n.taskLists&&t.match(c,!1)&&(r.taskList=!0),r.f=r.inline,n.highlightFormatting&&(r.formatting=[\"list\",\"list-\"+F]),S(r)}return i&&r.indentation<=y&&(A=t.match(p,!0))?(r.quote=0,r.fencedEndRE=new RegExp(A[1]+\"+ *$\"),r.localMode=n.fencedCodeBlockHighlighting&&o(A[2]||n.fencedCodeBlockDefaultMode),r.localMode&&(r.localState=e.startState(r.localMode)),r.f=r.block=k,n.highlightFormatting&&(r.formatting=\"code-block\"),r.code=-1,S(r)):r.setext||!(C&&v||r.quote||!1!==r.list||r.code||w||m.test(t.string))&&(A=t.lookAhead(1))&&(A=A.match(f))?(r.setext?(r.header=r.setext,r.setext=0,t.skipToEnd(),n.highlightFormatting&&(r.formatting=\"header\")):(r.header=\"=\"==A[0].charAt(0)?1:2,r.setext=r.header),r.thisLine.header=!0,r.f=r.inline,S(r)):w?(t.skipToEnd(),r.hr=!0,r.thisLine.hr=!0,a.hr):\"[\"===t.peek()?x(t,r,N):x(t,r,r.inline)}function w(t,n){var o=r.token(t,n.htmlState);if(!i){var a=e.innerMode(r,n.htmlState);(\"xml\"==a.mode.name&&null===a.state.tagStart&&!a.state.context&&a.state.tokenize.isInText||n.md_inside&&t.current().indexOf(\">\")>-1)&&(n.f=F,n.block=C,n.htmlState=null)}return o}function k(e,t){var r,i=t.listStack[t.listStack.length-1]||0,o=t.indentation<i,l=i+3;return t.fencedEndRE&&t.indentation<=l&&(o||e.match(t.fencedEndRE))?(n.highlightFormatting&&(t.formatting=\"code-block\"),o||(r=S(t)),t.localMode=t.localState=null,t.block=C,t.f=F,t.fencedEndRE=null,t.code=0,t.thisLine.fencedCodeEnd=!0,o?y(e,t,t.block):r):t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),a.code)}function S(e){var t=[];if(e.formatting){t.push(a.formatting),\"string\"===typeof e.formatting&&(e.formatting=[e.formatting]);for(var r=0;r<e.formatting.length;r++)t.push(a.formatting+\"-\"+e.formatting[r]),\"header\"===e.formatting[r]&&t.push(a.formatting+\"-\"+e.formatting[r]+\"-\"+e.header),\"quote\"===e.formatting[r]&&(!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(a.formatting+\"-\"+e.formatting[r]+\"-\"+e.quote):t.push(\"error\"))}if(e.taskOpen)return t.push(\"meta\"),t.length?t.join(\" \"):null;if(e.taskClosed)return t.push(\"property\"),t.length?t.join(\" \"):null;if(e.linkHref?t.push(a.linkHref,\"url\"):(e.strong&&t.push(a.strong),e.em&&t.push(a.em),e.strikethrough&&t.push(a.strikethrough),e.emoji&&t.push(a.emoji),e.linkText&&t.push(a.linkText),e.code&&t.push(a.code),e.image&&t.push(a.image),e.imageAltText&&t.push(a.imageAltText,\"link\"),e.imageMarker&&t.push(a.imageMarker)),e.header&&t.push(a.header,a.header+\"-\"+e.header),e.quote&&(t.push(a.quote),!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(a.quote+\"-\"+e.quote):t.push(a.quote+\"-\"+n.maxBlockquoteDepth)),!1!==e.list){var i=(e.listStack.length-1)%3;i?1===i?t.push(a.list2):t.push(a.list3):t.push(a.list1)}return e.trailingSpaceNewLine?t.push(\"trailing-space-new-line\"):e.trailingSpace&&t.push(\"trailing-space-\"+(e.trailingSpace%2?\"a\":\"b\")),t.length?t.join(\" \"):null}function A(e,t){if(e.match(h,!0))return S(t)}function F(t,i){var o=i.text(t,i);if(\"undefined\"!==typeof o)return o;if(i.list)return i.list=null,S(i);if(i.taskList)return\" \"===t.match(c,!0)[1]?i.taskOpen=!0:i.taskClosed=!0,n.highlightFormatting&&(i.formatting=\"task\"),i.taskList=!1,S(i);if(i.taskOpen=!1,i.taskClosed=!1,i.header&&t.match(/^#+$/,!0))return n.highlightFormatting&&(i.formatting=\"header\"),S(i);var l=t.next();if(i.linkTitle){i.linkTitle=!1;var s=l;\"(\"===l&&(s=\")\");var u=\"^\\\\s*(?:[^\"+(s=(s+\"\").replace(/([.?*+^\\[\\]\\\\(){}|-])/g,\"\\\\$1\"))+\"\\\\\\\\]+|\\\\\\\\\\\\\\\\|\\\\\\\\.)\"+s;if(t.match(new RegExp(u),!0))return a.linkHref}if(\"`\"===l){var d=i.formatting;n.highlightFormatting&&(i.formatting=\"code\"),t.eatWhile(\"`\");var f=t.current().length;if(0!=i.code||i.quote&&1!=f){if(f==i.code){var h=S(i);return i.code=0,h}return i.formatting=d,S(i)}return i.code=f,S(i)}if(i.code)return S(i);if(\"\\\\\"===l&&(t.next(),n.highlightFormatting)){var p=S(i),m=a.formatting+\"-escape\";return p?p+\" \"+m:m}if(\"!\"===l&&t.match(/\\[[^\\]]*\\] ?(?:\\(|\\[)/,!1))return i.imageMarker=!0,i.image=!0,n.highlightFormatting&&(i.formatting=\"image\"),S(i);if(\"[\"===l&&i.imageMarker&&t.match(/[^\\]]*\\](\\(.*?\\)| ?\\[.*?\\])/,!1))return i.imageMarker=!1,i.imageAltText=!0,n.highlightFormatting&&(i.formatting=\"image\"),S(i);if(\"]\"===l&&i.imageAltText){n.highlightFormatting&&(i.formatting=\"image\");var p=S(i);return i.imageAltText=!1,i.image=!1,i.inline=i.f=T,p}if(\"[\"===l&&!i.image)return i.linkText&&t.match(/^.*?\\]/)||(i.linkText=!0,n.highlightFormatting&&(i.formatting=\"link\")),S(i);if(\"]\"===l&&i.linkText){n.highlightFormatting&&(i.formatting=\"link\");var p=S(i);return i.linkText=!1,i.inline=i.f=t.match(/\\(.*?\\)| ?\\[.*?\\]/,!1)?T:F,p}if(\"<\"===l&&t.match(/^(https?|ftps?):\\/\\/(?:[^\\\\>]|\\\\.)+>/,!1))return i.f=i.inline=E,n.highlightFormatting&&(i.formatting=\"link\"),(p=S(i))?p+=\" \":p=\"\",p+a.linkInline;if(\"<\"===l&&t.match(/^[^> \\\\]+@(?:[^\\\\>]|\\\\.)+>/,!1))return i.f=i.inline=E,n.highlightFormatting&&(i.formatting=\"link\"),(p=S(i))?p+=\" \":p=\"\",p+a.linkEmail;if(n.xml&&\"<\"===l&&t.match(/^(!--|\\?|!\\[CDATA\\[|[a-z][a-z0-9-]*(?:\\s+[a-z_:.\\-]+(?:\\s*=\\s*[^>]+)?)*\\s*(?:>|$))/i,!1)){var v=t.string.indexOf(\">\",t.pos);if(-1!=v){var x=t.string.substring(t.start,v);/markdown\\s*=\\s*('|\"){0,1}1('|\"){0,1}/.test(x)&&(i.md_inside=!0)}return t.backUp(1),i.htmlState=e.startState(r),y(t,i,w)}if(n.xml&&\"<\"===l&&t.match(/^\\/\\w*?>/))return i.md_inside=!1,\"tag\";if(\"*\"===l||\"_\"===l){for(var b=1,D=1==t.pos?\" \":t.string.charAt(t.pos-2);b<3&&t.eat(l);)b++;var C=t.peek()||\" \",k=!/\\s/.test(C)&&(!g.test(C)||/\\s/.test(D)||g.test(D)),A=!/\\s/.test(D)&&(!g.test(D)||/\\s/.test(C)||g.test(C)),L=null,M=null;if(b%2&&(i.em||!k||\"*\"!==l&&A&&!g.test(D)?i.em!=l||!A||\"*\"!==l&&k&&!g.test(C)||(L=!1):L=!0),b>1&&(i.strong||!k||\"*\"!==l&&A&&!g.test(D)?i.strong!=l||!A||\"*\"!==l&&k&&!g.test(C)||(M=!1):M=!0),null!=M||null!=L)return n.highlightFormatting&&(i.formatting=null==L?\"strong\":null==M?\"em\":\"strong em\"),!0===L&&(i.em=l),!0===M&&(i.strong=l),h=S(i),!1===L&&(i.em=!1),!1===M&&(i.strong=!1),h}else if(\" \"===l&&(t.eat(\"*\")||t.eat(\"_\"))){if(\" \"===t.peek())return S(i);t.backUp(1)}if(n.strikethrough)if(\"~\"===l&&t.eatWhile(l)){if(i.strikethrough)return n.highlightFormatting&&(i.formatting=\"strikethrough\"),h=S(i),i.strikethrough=!1,h;if(t.match(/^[^\\s]/,!1))return i.strikethrough=!0,n.highlightFormatting&&(i.formatting=\"strikethrough\"),S(i)}else if(\" \"===l&&t.match(\"~~\",!0)){if(\" \"===t.peek())return S(i);t.backUp(2)}if(n.emoji&&\":\"===l&&t.match(/^(?:[a-z_\\d+][a-z_\\d+-]*|\\-[a-z_\\d+][a-z_\\d+-]*):/)){i.emoji=!0,n.highlightFormatting&&(i.formatting=\"emoji\");var N=S(i);return i.emoji=!1,N}return\" \"===l&&(t.match(/^ +$/,!1)?i.trailingSpace++:i.trailingSpace&&(i.trailingSpaceNewLine=!0)),S(i)}function E(e,t){if(\">\"===e.next()){t.f=t.inline=F,n.highlightFormatting&&(t.formatting=\"link\");var r=S(t);return r?r+=\" \":r=\"\",r+a.linkInline}return e.match(/^[^>]+/,!0),a.linkInline}function T(e,t){if(e.eatSpace())return null;var r=e.next();return\"(\"===r||\"[\"===r?(t.f=t.inline=M(\"(\"===r?\")\":\"]\"),n.highlightFormatting&&(t.formatting=\"link-string\"),t.linkHref=!0,S(t)):\"error\"}var L={\")\":/^(?:[^\\\\\\(\\)]|\\\\.|\\((?:[^\\\\\\(\\)]|\\\\.)*\\))*?(?=\\))/,\"]\":/^(?:[^\\\\\\[\\]]|\\\\.|\\[(?:[^\\\\\\[\\]]|\\\\.)*\\])*?(?=\\])/};function M(e){return function(t,r){if(t.next()===e){r.f=r.inline=F,n.highlightFormatting&&(r.formatting=\"link-string\");var i=S(r);return r.linkHref=!1,i}return t.match(L[e]),r.linkHref=!0,S(r)}}function N(e,t){return e.match(/^([^\\]\\\\]|\\\\.)*\\]:/,!1)?(t.f=O,e.next(),n.highlightFormatting&&(t.formatting=\"link\"),t.linkText=!0,S(t)):x(e,t,F)}function O(e,t){if(e.match(\"]:\",!0)){t.f=t.inline=B,n.highlightFormatting&&(t.formatting=\"link\");var r=S(t);return t.linkText=!1,r}return e.match(/^([^\\]\\\\]|\\\\.)+/,!0),a.linkText}function B(e,t){return e.eatSpace()?null:(e.match(/^[^\\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\\s+(?:\"(?:[^\"\\\\]|\\\\.)+\"|'(?:[^'\\\\]|\\\\.)+'|\\((?:[^)\\\\]|\\\\.)+\\)))?/,!0),t.f=t.inline=F,a.linkHref+\" url\")}var I={startState:function(){return{f:C,prevLine:{stream:null},thisLine:{stream:null},block:C,htmlState:null,indentation:0,inline:F,text:A,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(t){return{f:t.f,prevLine:t.prevLine,thisLine:t.thisLine,block:t.block,htmlState:t.htmlState&&e.copyState(r,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?e.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,formatting:!1,linkText:t.linkText,linkTitle:t.linkTitle,linkHref:t.linkHref,code:t.code,em:t.em,strong:t.strong,strikethrough:t.strikethrough,emoji:t.emoji,header:t.header,setext:t.setext,hr:t.hr,taskList:t.taskList,list:t.list,listStack:t.listStack.slice(0),quote:t.quote,indentedCode:t.indentedCode,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside,fencedEndRE:t.fencedEndRE}},token:function(e,t){if(t.formatting=!1,e!=t.thisLine.stream){if(t.header=0,t.hr=!1,e.match(/^\\s*$/,!0))return D(t),null;if(t.prevLine=t.thisLine,t.thisLine={stream:e},t.taskList=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,!t.localState&&(t.f=t.block,t.f!=w)){var n=e.match(/^\\s*/,!0)[0].replace(/\\t/g,v).length;if(t.indentation=n,t.indentationDiff=null,n>0)return null}}return t.f(e,t)},innerMode:function(e){return e.block==w?{state:e.htmlState,mode:r}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:I}},indent:function(t,n,i){return t.block==w&&r.indent?r.indent(t.htmlState,n,i):t.localState&&t.localMode.indent?t.localMode.indent(t.localState,n,i):e.Pass},blankLine:D,getType:S,blockCommentStart:\"\\x3c!--\",blockCommentEnd:\"--\\x3e\",closeBrackets:\"()[]{}''\\\"\\\"``\",fold:\"markdown\"};return I}),\"xml\"),e.defineMIME(\"text/markdown\",\"markdown\"),e.defineMIME(\"text/x-markdown\",\"markdown\")}(n(287),n(850),n(898))},850:function(e,t,n){!function(e){\"use strict\";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};e.defineMode(\"xml\",(function(r,i){var o,a,l=r.indentUnit,s={},u=i.htmlMode?t:n;for(var c in u)s[c]=u[c];for(var c in i)s[c]=i[c];function d(e,t){function n(n){return t.tokenize=n,n(e,t)}var r=e.next();return\"<\"==r?e.eat(\"!\")?e.eat(\"[\")?e.match(\"CDATA[\")?n(p(\"atom\",\"]]>\")):null:e.match(\"--\")?n(p(\"comment\",\"--\\x3e\")):e.match(\"DOCTYPE\",!0,!0)?(e.eatWhile(/[\\w\\._\\-]/),n(m(1))):null:e.eat(\"?\")?(e.eatWhile(/[\\w\\._\\-]/),t.tokenize=p(\"meta\",\"?>\"),\"meta\"):(o=e.eat(\"/\")?\"closeTag\":\"openTag\",t.tokenize=f,\"tag bracket\"):\"&\"==r?(e.eat(\"#\")?e.eat(\"x\")?e.eatWhile(/[a-fA-F\\d]/)&&e.eat(\";\"):e.eatWhile(/[\\d]/)&&e.eat(\";\"):e.eatWhile(/[\\w\\.\\-:]/)&&e.eat(\";\"))?\"atom\":\"error\":(e.eatWhile(/[^&<]/),null)}function f(e,t){var n=e.next();if(\">\"==n||\"/\"==n&&e.eat(\">\"))return t.tokenize=d,o=\">\"==n?\"endTag\":\"selfcloseTag\",\"tag bracket\";if(\"=\"==n)return o=\"equals\",null;if(\"<\"==n){t.tokenize=d,t.state=y,t.tagName=t.tagStart=null;var r=t.tokenize(e,t);return r?r+\" tag error\":\"tag error\"}return/[\\'\\\"]/.test(n)?(t.tokenize=h(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\\s\\u00a0=<>\\\"\\']*[^\\s\\u00a0=<>\\\"\\'\\/]/),\"word\")}function h(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=f;break}return\"string\"};return t.isInAttribute=!0,t}function p(e,t){return function(n,r){for(;!n.eol();){if(n.match(t)){r.tokenize=d;break}n.next()}return e}}function m(e){return function(t,n){for(var r;null!=(r=t.next());){if(\"<\"==r)return n.tokenize=m(e+1),n.tokenize(t,n);if(\">\"==r){if(1==e){n.tokenize=d;break}return n.tokenize=m(e-1),n.tokenize(t,n)}}return\"meta\"}}function g(e,t,n){this.prev=e.context,this.tagName=t||\"\",this.indent=e.indented,this.startOfLine=n,(s.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function v(e){e.context&&(e.context=e.context.prev)}function x(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!s.contextGrabbers.hasOwnProperty(n)||!s.contextGrabbers[n].hasOwnProperty(t))return;v(e)}}function y(e,t,n){return\"openTag\"==e?(n.tagStart=t.column(),b):\"closeTag\"==e?D:y}function b(e,t,n){return\"word\"==e?(n.tagName=t.current(),a=\"tag\",k):s.allowMissingTagName&&\"endTag\"==e?(a=\"tag bracket\",k(e,t,n)):(a=\"error\",b)}function D(e,t,n){if(\"word\"==e){var r=t.current();return n.context&&n.context.tagName!=r&&s.implicitlyClosed.hasOwnProperty(n.context.tagName)&&v(n),n.context&&n.context.tagName==r||!1===s.matchClosing?(a=\"tag\",C):(a=\"tag error\",w)}return s.allowMissingTagName&&\"endTag\"==e?(a=\"tag bracket\",C(e,t,n)):(a=\"error\",w)}function C(e,t,n){return\"endTag\"!=e?(a=\"error\",C):(v(n),y)}function w(e,t,n){return a=\"error\",C(e,t,n)}function k(e,t,n){if(\"word\"==e)return a=\"attribute\",S;if(\"endTag\"==e||\"selfcloseTag\"==e){var r=n.tagName,i=n.tagStart;return n.tagName=n.tagStart=null,\"selfcloseTag\"==e||s.autoSelfClosers.hasOwnProperty(r)?x(n,r):(x(n,r),n.context=new g(n,r,i==n.indented)),y}return a=\"error\",k}function S(e,t,n){return\"equals\"==e?A:(s.allowMissing||(a=\"error\"),k(e,t,n))}function A(e,t,n){return\"string\"==e?F:\"word\"==e&&s.allowUnquoted?(a=\"string\",k):(a=\"error\",k(e,t,n))}function F(e,t,n){return\"string\"==e?F:k(e,t,n)}return d.isInText=!0,{startState:function(e){var t={tokenize:d,state:y,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;o=null;var n=t.tokenize(e,t);return(n||o)&&\"comment\"!=n&&(a=null,t.state=t.state(o||n,e,t),a&&(n=\"error\"==a?n+\" error\":a)),n},indent:function(t,n,r){var i=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+l;if(i&&i.noIndent)return e.Pass;if(t.tokenize!=f&&t.tokenize!=d)return r?r.match(/^(\\s*)/)[0].length:0;if(t.tagName)return!1!==s.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+l*(s.multilineTagIndentFactor||1);if(s.alignCDATA&&/<!\\[CDATA\\[/.test(n))return 0;var o=n&&/^<(\\/)?([\\w_:\\.-]*)/.exec(n);if(o&&o[1])for(;i;){if(i.tagName==o[2]){i=i.prev;break}if(!s.implicitlyClosed.hasOwnProperty(i.tagName))break;i=i.prev}else if(o)for(;i;){var a=s.contextGrabbers[i.tagName];if(!a||!a.hasOwnProperty(o[2]))break;i=i.prev}for(;i&&i.prev&&!i.startOfLine;)i=i.prev;return i?i.indent+l:t.baseIndent||0},electricInput:/<\\/[\\s\\w:]+>$/,blockCommentStart:\"\\x3c!--\",blockCommentEnd:\"--\\x3e\",configuration:s.htmlMode?\"html\":\"xml\",helperType:s.htmlMode?\"html\":\"xml\",skipAttribute:function(e){e.state==A&&(e.state=k)},xmlCurrentTag:function(e){return e.tagName?{name:e.tagName,close:\"closeTag\"==e.type}:null},xmlCurrentContext:function(e){for(var t=[],n=e.context;n;n=n.prev)t.push(n.tagName);return t.reverse()}}})),e.defineMIME(\"text/xml\",\"xml\"),e.defineMIME(\"application/xml\",\"xml\"),e.mimeModes.hasOwnProperty(\"text/html\")||e.defineMIME(\"text/html\",{name:\"xml\",htmlMode:!0})}(n(287))},851:function(e,t,n){!function(e){\"use strict\";e.overlayMode=function(t,n,r){return{startState:function(){return{base:e.startState(t),overlay:e.startState(n),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(r){return{base:e.copyState(t,r.base),overlay:e.copyState(n,r.overlay),basePos:r.basePos,baseCur:null,overlayPos:r.overlayPos,overlayCur:null}},token:function(e,i){return(e!=i.streamSeen||Math.min(i.basePos,i.overlayPos)<e.start)&&(i.streamSeen=e,i.basePos=i.overlayPos=e.start),e.start==i.basePos&&(i.baseCur=t.token(e,i.base),i.basePos=e.pos),e.start==i.overlayPos&&(e.pos=e.start,i.overlayCur=n.token(e,i.overlay),i.overlayPos=e.pos),e.pos=Math.min(i.basePos,i.overlayPos),null==i.overlayCur?i.baseCur:null!=i.baseCur&&i.overlay.combineTokens||r&&null==i.overlay.combineTokens?i.baseCur+\" \"+i.overlayCur:i.overlayCur},indent:t.indent&&function(e,n,r){return t.indent(e.base,n,r)},electricChars:t.electricChars,innerMode:function(e){return{state:e.base,mode:t}},blankLine:function(e){var i,o;return t.blankLine&&(i=t.blankLine(e.base)),n.blankLine&&(o=n.blankLine(e.overlay)),null==o?i:r&&null!=i?i+\" \"+o:o}}}}(n(287))},892:function(e,t,n){\"use strict\";var r=n(893);Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=t.SimpleMdeReact=void 0;var i=r(n(212)),o=r(n(426)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!==typeof e&&\"function\"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(\"default\"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(0)),l=r(n(894));function s(e){if(\"function\"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var u=0,c=a.default.forwardRef((function(e,t){var n=e.events,r=e.value,s=e.options,c=(e.children,e.extraKeys),d=e.getLineAndCursor,f=e.getMdeInstance,h=e.getCodemirrorInstance,p=e.onChange,m=e.id,g=(0,i.default)(e,[\"events\",\"value\",\"options\",\"children\",\"extraKeys\",\"getLineAndCursor\",\"getMdeInstance\",\"getCodemirrorInstance\",\"onChange\",\"id\"]),v=(0,a.useMemo)((function(){return null!==m&&void 0!==m?m:\"simplemde-editor-\".concat(++u)}),[m]),x=(0,a.useRef)(null),y=(0,a.useRef)(!0),b=(0,a.useRef)(r);b.current=r;var D=(0,a.useState)(null),C=(0,o.default)(D,2),w=C[0],k=C[1],S=function(e){var t=e.options,n=e.id,r=e.currentValueRef,i=e.textRef,s=(0,a.useState)(null),u=(0,o.default)(s,2),c=u[0],d=u[1],f=(0,a.useCallback)((function(e,n,r){var i=null===t||void 0===t?void 0:t.imageUploadFunction;i&&i(e,(function(e){n(e)}),r)}),[null===t||void 0===t?void 0:t.imageUploadFunction]);(0,a.useRef)(c).current=c,(0,a.useEffect)((function(){var e;if(i){var n={element:i,initialValue:r.current},o=(null===t||void 0===t?void 0:t.imageUploadFunction)?f:void 0;e=new l.default(Object.assign({},n,t,{imageUploadFunction:o})),d(e)}return function(){var t,n;null===(t=e)||void 0===t||t.toTextArea(),null===(n=e)||void 0===n||n.cleanup()}}),[i,r,n,f,t]);var h=(0,a.useMemo)((function(){return null===c||void 0===c?void 0:c.codemirror}),[null===c||void 0===c?void 0:c.codemirror]);return{editor:c,codemirror:h}}({options:s,id:v,currentValueRef:b,textRef:w}),A=S.editor,F=S.codemirror;(0,a.useEffect)((function(){y.current&&(null===A||void 0===A||A.value(null!==r&&void 0!==r?r:\"\")),y.current=!0}),[A,r]);var E=(0,a.useCallback)((function(){var e;(null===A||void 0===A?void 0:A.value())!==b.current&&(y.current=!1,null===p||void 0===p||p(null!==(e=null===A||void 0===A?void 0:A.value())&&void 0!==e?e:\"\"))}),[A,p]);(0,a.useEffect)((function(){(null===s||void 0===s?void 0:s.autofocus)&&(null===F||void 0===F||F.focus(),null===F||void 0===F||F.setCursor(null===F||void 0===F?void 0:F.lineCount(),0))}),[F,null===s||void 0===s?void 0:s.autofocus]);var T=(0,a.useCallback)((function(){F&&(null===d||void 0===d||d(F.getDoc().getCursor()))}),[F,d]);(0,a.useEffect)((function(){T()}),[T]),(0,a.useEffect)((function(){A&&(null===f||void 0===f||f(A))}),[A,f]),(0,a.useEffect)((function(){F&&(null===h||void 0===h||h(F))}),[F,h,f]),(0,a.useEffect)((function(){c&&F&&F.setOption(\"extraKeys\",Object.assign({},c,F.getOption(\"extraKeys\")))}),[F,c]),(0,a.useEffect)((function(){var e,t=null===(e=x.current)||void 0===e?void 0:e.getElementsByClassName(\"editor-toolbarNode\")[0],n=function(){return F&&E()};return null===t||void 0===t||t.addEventListener(\"click\",n),function(){null===t||void 0===t||t.removeEventListener(\"click\",n)}}),[F,E]),(0,a.useEffect)((function(){return null===F||void 0===F||F.on(\"change\",E),null===F||void 0===F||F.on(\"cursorActivity\",T),function(){null===F||void 0===F||F.off(\"change\",E),null===F||void 0===F||F.off(\"cursorActivity\",T)}}),[F,T,E]);var L=(0,a.useRef)(n);return(0,a.useEffect)((function(){return n!==L.current&&L.current&&Object.entries(L.current).forEach((function(e){var t=(0,o.default)(e,2),n=t[0],r=t[1];r&&(null===F||void 0===F||F.off(n,r))})),n&&Object.entries(n).forEach((function(e){var t=(0,o.default)(e,2),n=t[0],r=t[1];r&&(null===F||void 0===F||F.on(n,r))})),L.current=n,function(){n&&Object.entries(n).forEach((function(e){var t=(0,o.default)(e,2),n=t[0],r=t[1];r&&(null===F||void 0===F||F.off(n,r))}))}}),[F,n]),a.default.createElement(\"div\",Object.assign({id:\"\".concat(v,\"-wrapper\")},g,{ref:function(e){\"function\"===typeof t?t(e):t&&(t.current=e),x.current=e}}),a.default.createElement(\"textarea\",{id:v,ref:k,style:{display:\"none\"}}))}));t.SimpleMdeReact=c,c.displayName=\"SimpleMdeReact\";var d=c;t.default=d},893:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},894:function(e,t,n){\"use strict\";var r=n(287);n(895),n(896),n(897),n(849),n(851),n(899),n(900),n(901),n(902),n(903),n(850);var i=n(904),o=n(907),a=/Mac/.test(navigator.platform),l=new RegExp(/(<a.*?https?:\\/\\/.*?[^a]>)+?/g),s={toggleBold:C,toggleItalic:w,drawLink:I,toggleHeadingSmaller:F,toggleHeadingBigger:E,drawImage:z,toggleBlockquote:A,toggleOrderedList:O,toggleUnorderedList:N,toggleCodeBlock:S,togglePreview:U,toggleStrikethrough:k,toggleHeading1:T,toggleHeading2:L,toggleHeading3:M,cleanBlock:B,drawTable:j,drawHorizontalRule:H,undo:_,redo:W,toggleSideBySide:q,toggleFullScreen:D},u={toggleBold:\"Cmd-B\",toggleItalic:\"Cmd-I\",drawLink:\"Cmd-K\",toggleHeadingSmaller:\"Cmd-H\",toggleHeadingBigger:\"Shift-Cmd-H\",cleanBlock:\"Cmd-E\",drawImage:\"Cmd-Alt-I\",toggleBlockquote:\"Cmd-'\",toggleOrderedList:\"Cmd-Alt-L\",toggleUnorderedList:\"Cmd-L\",toggleCodeBlock:\"Cmd-Alt-C\",togglePreview:\"Cmd-P\",toggleSideBySide:\"F9\",toggleFullScreen:\"F11\"},c=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))&&(t=!0),t};function d(e){return e=a?e.replace(\"Ctrl\",\"Cmd\"):e.replace(\"Cmd\",\"Ctrl\")}var f={};function h(e){return f[e]||(f[e]=new RegExp(\"\\\\s*\"+e+\"(\\\\s*)\",\"g\"))}function p(e,t){if(e&&t){var n=h(t);e.className.match(n)||(e.className+=\" \"+t)}}function m(e,t){if(e&&t){var n=h(t);e.className.match(n)&&(e.className=e.className.replace(n,\"$1\"))}}function g(e,t,n,r){var i=v(e,!1,t,n,\"button\",r);i.className+=\" easymde-dropdown\";var o=document.createElement(\"div\");o.className=\"easymde-dropdown-content\";for(var a=0;a<e.children.length;a++){var l,s=e.children[a];l=v(\"string\"===typeof s&&s in Q?Q[s]:s,!0,t,n,\"button\",r),o.appendChild(l)}return i.appendChild(o),i}function v(e,t,n,r,i,o){e=e||{};var l=document.createElement(i);l.className=e.name,l.setAttribute(\"type\",i),n=void 0==n||n,e.name&&e.name in r&&(s[e.name]=e.action),e.title&&n&&(l.title=function(e,t,n){var r,i=e;t&&n[r=function(e){for(var t in s)if(s[t]===e)return t;return null}(t)]&&(i+=\" (\"+d(n[r])+\")\");return i}(e.title,e.action,r),a&&(l.title=l.title.replace(\"Ctrl\",\"\\u2318\"),l.title=l.title.replace(\"Alt\",\"\\u2325\"))),e.noDisable&&l.classList.add(\"no-disable\"),e.noMobile&&l.classList.add(\"no-mobile\");var u=[];\"undefined\"!==typeof e.className&&(u=e.className.split(\" \"));for(var c=[],f=0;f<u.length;f++){var h=u[f];h.match(/^fa([srlb]|(-[\\w-]*)|$)/)?c.push(h):l.classList.add(h)}l.tabIndex=-1;for(var p=document.createElement(\"i\"),m=0;m<c.length;m++){var g=c[m];p.classList.add(g)}return l.appendChild(p),\"undefined\"!==typeof e.icon&&(l.innerHTML=e.icon),e.action&&t&&(\"function\"===typeof e.action?l.onclick=function(t){t.preventDefault(),e.action(o)}:\"string\"===typeof e.action&&(l.onclick=function(t){t.preventDefault(),window.open(e.action,\"_blank\")})),l}function x(){var e=document.createElement(\"i\");return e.className=\"separator\",e.innerHTML=\"|\",e}function y(e,t){t=t||e.getCursor(\"start\");var n=e.getTokenAt(t);if(!n.type)return{};for(var r,i,o=n.type.split(\" \"),a={},l=0;l<o.length;l++)\"strong\"===(r=o[l])?a.bold=!0:\"variable-2\"===r?(i=e.getLine(t.line),/^\\s*\\d+\\.\\s/.test(i)?a[\"ordered-list\"]=!0:a[\"unordered-list\"]=!0):\"atom\"===r?a.quote=!0:\"em\"===r?a.italic=!0:\"quote\"===r?a.quote=!0:\"strikethrough\"===r?a.strikethrough=!0:\"comment\"===r?a.code=!0:\"link\"===r?a.link=!0:\"tag\"===r?a.image=!0:r.match(/^header(-[1-6])?$/)&&(a[r.replace(\"header\",\"heading\")]=!0);return a}var b=\"\";function D(e){var t=e.codemirror;t.setOption(\"fullScreen\",!t.getOption(\"fullScreen\")),t.getOption(\"fullScreen\")?(b=document.body.style.overflow,document.body.style.overflow=\"hidden\"):document.body.style.overflow=b;var n=t.getWrapperElement(),r=n.nextSibling;if(/editor-preview-active-side/.test(r.className))if(!1===e.options.sideBySideFullscreen){var i=n.parentNode;t.getOption(\"fullScreen\")?m(i,\"sided--no-fullscreen\"):p(i,\"sided--no-fullscreen\")}else q(e);if(e.options.onToggleFullScreen&&e.options.onToggleFullScreen(t.getOption(\"fullScreen\")||!1),\"undefined\"!==typeof e.options.maxHeight&&(t.getOption(\"fullScreen\")?(t.getScrollerElement().style.removeProperty(\"height\"),r.style.removeProperty(\"height\")):(t.getScrollerElement().style.height=e.options.maxHeight,e.setPreviewMaxHeight())),/fullscreen/.test(e.toolbar_div.className)?e.toolbar_div.className=e.toolbar_div.className.replace(/\\s*fullscreen\\b/,\"\"):e.toolbar_div.className+=\" fullscreen\",e.toolbarElements&&e.toolbarElements.fullscreen){var o=e.toolbarElements.fullscreen;/active/.test(o.className)?o.className=o.className.replace(/\\s*active\\s*/g,\"\"):o.className+=\" active\"}}function C(e){K(e,\"bold\",e.options.blockStyles.bold)}function w(e){K(e,\"italic\",e.options.blockStyles.italic)}function k(e){K(e,\"strikethrough\",\"~~\")}function S(e){var t=e.options.blockStyles.code;function n(e){if(\"object\"!==typeof e)throw\"fencing_line() takes a 'line' object (not a line number, or line text).  Got: \"+typeof e+\": \"+e;return e.styles&&e.styles[2]&&-1!==e.styles[2].indexOf(\"formatting-code-block\")}function r(e){return e.state.base.base||e.state.base}function i(e,t,i,o,a){i=i||e.getLineHandle(t),o=o||e.getTokenAt({line:t,ch:1}),a=a||!!i.text&&e.getTokenAt({line:t,ch:i.text.length-1});var l=o.type?o.type.split(\" \"):[];return a&&r(a).indentedCode?\"indented\":-1!==l.indexOf(\"comment\")&&(r(o).fencedChars||r(a).fencedChars||n(i)?\"fenced\":\"single\")}var o,a,l,s=e.codemirror,u=s.getCursor(\"start\"),c=s.getCursor(\"end\"),d=s.getTokenAt({line:u.line,ch:u.ch||1}),f=s.getLineHandle(u.line),h=i(s,u.line,f,d);if(\"single\"===h){var p=f.text.slice(0,u.ch).replace(\"`\",\"\"),m=f.text.slice(u.ch).replace(\"`\",\"\");s.replaceRange(p+m,{line:u.line,ch:0},{line:u.line,ch:99999999999999}),u.ch--,u!==c&&c.ch--,s.setSelection(u,c),s.focus()}else if(\"fenced\"===h)if(u.line!==c.line||u.ch!==c.ch){for(o=u.line;o>=0&&!n(f=s.getLineHandle(o));o--);var g,v,x,y,b=r(s.getTokenAt({line:o,ch:1})).fencedChars;n(s.getLineHandle(u.line))?(g=\"\",v=u.line):n(s.getLineHandle(u.line-1))?(g=\"\",v=u.line-1):(g=b+\"\\n\",v=u.line),n(s.getLineHandle(c.line))?(x=\"\",y=c.line,0===c.ch&&(y+=1)):0!==c.ch&&n(s.getLineHandle(c.line+1))?(x=\"\",y=c.line+1):(x=b+\"\\n\",y=c.line+1),0===c.ch&&(y-=1),s.operation((function(){s.replaceRange(x,{line:y,ch:0},{line:y+(x?0:1),ch:0}),s.replaceRange(g,{line:v,ch:0},{line:v+(g?0:1),ch:0})})),s.setSelection({line:v+(g?1:0),ch:0},{line:y+(g?1:-1),ch:0}),s.focus()}else{var D=u.line;if(n(s.getLineHandle(u.line))&&(\"fenced\"===i(s,u.line+1)?(o=u.line,D=u.line+1):(a=u.line,D=u.line-1)),void 0===o)for(o=D;o>=0&&!n(f=s.getLineHandle(o));o--);if(void 0===a)for(l=s.lineCount(),a=D;a<l&&!n(f=s.getLineHandle(a));a++);s.operation((function(){s.replaceRange(\"\",{line:o,ch:0},{line:o+1,ch:0}),s.replaceRange(\"\",{line:a-1,ch:0},{line:a,ch:0})})),s.focus()}else if(\"indented\"===h){if(u.line!==c.line||u.ch!==c.ch)o=u.line,a=c.line,0===c.ch&&a--;else{for(o=u.line;o>=0;o--)if(!(f=s.getLineHandle(o)).text.match(/^\\s*$/)&&\"indented\"!==i(s,o,f)){o+=1;break}for(l=s.lineCount(),a=u.line;a<l;a++)if(!(f=s.getLineHandle(a)).text.match(/^\\s*$/)&&\"indented\"!==i(s,a,f)){a-=1;break}}var C=s.getLineHandle(a+1),w=C&&s.getTokenAt({line:a+1,ch:C.text.length-1});w&&r(w).indentedCode&&s.replaceRange(\"\\n\",{line:a+1,ch:0});for(var k=o;k<=a;k++)s.indentLine(k,\"subtract\");s.focus()}else{var S=u.line===c.line&&u.ch===c.ch&&0===u.ch,A=u.line!==c.line;S||A?function(e,t,n,r){var i=t.line+1,o=n.line+1,a=t.line!==n.line,l=r+\"\\n\",s=\"\\n\"+r;a&&o++,a&&0===n.ch&&(s=r+\"\\n\",o--),$(e,!1,[l,s]),e.setSelection({line:i,ch:0},{line:o,ch:0})}(s,u,c,t):$(s,!1,[\"`\",\"`\"])}}function A(e){V(e.codemirror,\"quote\")}function F(e){G(e.codemirror,\"smaller\")}function E(e){G(e.codemirror,\"bigger\")}function T(e){G(e.codemirror,void 0,1)}function L(e){G(e.codemirror,void 0,2)}function M(e){G(e.codemirror,void 0,3)}function N(e){V(e.codemirror,\"unordered-list\")}function O(e){V(e.codemirror,\"ordered-list\")}function B(e){!function(e){if(/editor-preview-active/.test(e.getWrapperElement().lastChild.className))return;for(var t,n=e.getCursor(\"start\"),r=e.getCursor(\"end\"),i=n.line;i<=r.line;i++)t=(t=e.getLine(i)).replace(/^[ ]*([# ]+|\\*|-|[> ]+|[0-9]+(.|\\)))[ ]*/,\"\"),e.replaceRange(t,{line:i,ch:0},{line:i,ch:99999999999999})}(e.codemirror)}function I(e){var t=e.codemirror,n=y(t),r=e.options,i=\"https://\";if(r.promptURLs&&!(i=prompt(r.promptTexts.link,\"https://\")))return!1;$(t,n.link,r.insertTexts.link,i)}function z(e){var t=e.codemirror,n=y(t),r=e.options,i=\"https://\";if(r.promptURLs&&!(i=prompt(r.promptTexts.image,\"https://\")))return!1;$(t,n.image,r.insertTexts.image,i)}function P(e){e.openBrowseFileWindow()}function R(e,t){var n=e.codemirror,r=y(n),i=e.options,o=t.substr(t.lastIndexOf(\"/\")+1),a=o.substring(o.lastIndexOf(\".\")+1).replace(/\\?.*$/,\"\");if([\"png\",\"jpg\",\"jpeg\",\"gif\",\"svg\"].includes(a))$(n,r.image,i.insertTexts.uploadedImage,t);else{var l=i.insertTexts.link;l[0]=\"[\"+o,$(n,r.link,l,t)}e.updateStatusBar(\"upload-image\",e.options.imageTexts.sbOnUploaded.replace(\"#image_name#\",o)),setTimeout((function(){e.updateStatusBar(\"upload-image\",e.options.imageTexts.sbInit)}),1e3)}function j(e){var t=e.codemirror,n=y(t),r=e.options;$(t,n.table,r.insertTexts.table)}function H(e){var t=e.codemirror,n=y(t),r=e.options;$(t,n.image,r.insertTexts.horizontalRule)}function _(e){var t=e.codemirror;t.undo(),t.focus()}function W(e){var t=e.codemirror;t.redo(),t.focus()}function q(e){var t=e.codemirror,n=t.getWrapperElement(),r=n.nextSibling,i=e.toolbarElements&&e.toolbarElements[\"side-by-side\"],o=!1,a=n.parentNode;/editor-preview-active-side/.test(r.className)?(!1===e.options.sideBySideFullscreen&&m(a,\"sided--no-fullscreen\"),r.className=r.className.replace(/\\s*editor-preview-active-side\\s*/g,\"\"),i&&(i.className=i.className.replace(/\\s*active\\s*/g,\"\")),n.className=n.className.replace(/\\s*CodeMirror-sided\\s*/g,\" \")):(setTimeout((function(){t.getOption(\"fullScreen\")||(!1===e.options.sideBySideFullscreen?p(a,\"sided--no-fullscreen\"):D(e)),r.className+=\" editor-preview-active-side\"}),1),i&&(i.className+=\" active\"),n.className+=\" CodeMirror-sided\",o=!0);var l=n.lastChild;if(/editor-preview-active/.test(l.className)){l.className=l.className.replace(/\\s*editor-preview-active\\s*/g,\"\");var s=e.toolbarElements.preview,u=e.toolbar_div;s.className=s.className.replace(/\\s*active\\s*/g,\"\"),u.className=u.className.replace(/\\s*disabled-for-preview*/g,\"\")}if(t.sideBySideRenderingFunction||(t.sideBySideRenderingFunction=function(){var t=e.options.previewRender(e.value(),r);null!=t&&(r.innerHTML=t)}),o){var c=e.options.previewRender(e.value(),r);null!=c&&(r.innerHTML=c),t.on(\"update\",t.sideBySideRenderingFunction)}else t.off(\"update\",t.sideBySideRenderingFunction);t.refresh()}function U(e){var t=e.codemirror,n=t.getWrapperElement(),r=e.toolbar_div,i=!!e.options.toolbar&&e.toolbarElements.preview,o=n.lastChild,a=t.getWrapperElement().nextSibling;if(/editor-preview-active-side/.test(a.className)&&q(e),!o||!/editor-preview-full/.test(o.className)){if((o=document.createElement(\"div\")).className=\"editor-preview-full\",e.options.previewClass)if(Array.isArray(e.options.previewClass))for(var l=0;l<e.options.previewClass.length;l++)o.className+=\" \"+e.options.previewClass[l];else\"string\"===typeof e.options.previewClass&&(o.className+=\" \"+e.options.previewClass);n.appendChild(o)}/editor-preview-active/.test(o.className)?(o.className=o.className.replace(/\\s*editor-preview-active\\s*/g,\"\"),i&&(i.className=i.className.replace(/\\s*active\\s*/g,\"\"),r.className=r.className.replace(/\\s*disabled-for-preview*/g,\"\"))):(setTimeout((function(){o.className+=\" editor-preview-active\"}),1),i&&(i.className+=\" active\",r.className+=\" disabled-for-preview\")),o.innerHTML=e.options.previewRender(e.value(),o)}function $(e,t,n,r){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){var i,o=n[0],a=n[1],l={},s={};Object.assign(l,e.getCursor(\"start\")),Object.assign(s,e.getCursor(\"end\")),r&&(o=o.replace(\"#url#\",r),a=a.replace(\"#url#\",r)),t?(o=(i=e.getLine(l.line)).slice(0,l.ch),a=i.slice(l.ch),e.replaceRange(o+a,{line:l.line,ch:0})):(i=e.getSelection(),e.replaceSelection(o+i+a),l.ch+=o.length,l!==s&&(s.ch+=o.length)),e.setSelection(l,s),e.focus()}}function G(e,t,n){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){for(var r=e.getCursor(\"start\"),i=e.getCursor(\"end\"),o=r.line;o<=i.line;o++)!function(r){var i=e.getLine(r),o=i.search(/[^#]/);i=void 0!==t?o<=0?\"bigger\"==t?\"###### \"+i:\"# \"+i:6==o&&\"smaller\"==t?i.substr(7):1==o&&\"bigger\"==t?i.substr(2):\"bigger\"==t?i.substr(1):\"#\"+i:1==n?o<=0?\"# \"+i:o==n?i.substr(o+1):\"# \"+i.substr(o+1):2==n?o<=0?\"## \"+i:o==n?i.substr(o+1):\"## \"+i.substr(o+1):o<=0?\"### \"+i:o==n?i.substr(o+1):\"### \"+i.substr(o+1),e.replaceRange(i,{line:r,ch:0},{line:r,ch:99999999999999})}(o);e.focus()}}function V(e,t){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){for(var n=/^(\\s*)(\\*|-|\\+|\\d*\\.)(\\s+)/,r=/^\\s*/,i=y(e),o=e.getCursor(\"start\"),a=e.getCursor(\"end\"),l={quote:/^(\\s*)>\\s+/,\"unordered-list\":n,\"ordered-list\":n},s=function(e,t,i){var o=n.exec(t),a=function(e,t){return{quote:\">\",\"unordered-list\":\"*\",\"ordered-list\":\"%%i.\"}[e].replace(\"%%i\",t)}(e,u);return null!==o?(function(e,t){var n=new RegExp({quote:\">\",\"unordered-list\":\"*\",\"ordered-list\":\"\\\\d+.\"}[e]);return t&&n.test(t)}(e,o[2])&&(a=\"\"),t=o[1]+a+o[3]+t.replace(r,\"\").replace(l[e],\"$1\")):0==i&&(t=a+\" \"+t),t},u=1,c=o.line;c<=a.line;c++)!function(n){var r=e.getLine(n);i[t]?r=r.replace(l[t],\"$1\"):(\"unordered-list\"==t&&(r=s(\"ordered-list\",r,!0)),r=s(t,r,!1),u+=1),e.replaceRange(r,{line:n,ch:0},{line:n,ch:99999999999999})}(c);e.focus()}}function K(e,t,n,r){if(!/editor-preview-active/.test(e.codemirror.getWrapperElement().lastChild.className)){r=\"undefined\"===typeof r?n:r;var i,o=e.codemirror,a=y(o),l=n,s=r,u=o.getCursor(\"start\"),c=o.getCursor(\"end\");a[t]?(l=(i=o.getLine(u.line)).slice(0,u.ch),s=i.slice(u.ch),\"bold\"==t?(l=l.replace(/(\\*\\*|__)(?![\\s\\S]*(\\*\\*|__))/,\"\"),s=s.replace(/(\\*\\*|__)/,\"\")):\"italic\"==t?(l=l.replace(/(\\*|_)(?![\\s\\S]*(\\*|_))/,\"\"),s=s.replace(/(\\*|_)/,\"\")):\"strikethrough\"==t&&(l=l.replace(/(\\*\\*|~~)(?![\\s\\S]*(\\*\\*|~~))/,\"\"),s=s.replace(/(\\*\\*|~~)/,\"\")),o.replaceRange(l+s,{line:u.line,ch:0},{line:u.line,ch:99999999999999}),\"bold\"==t||\"strikethrough\"==t?(u.ch-=2,u!==c&&(c.ch-=2)):\"italic\"==t&&(u.ch-=1,u!==c&&(c.ch-=1))):(i=o.getSelection(),\"bold\"==t?i=(i=i.split(\"**\").join(\"\")).split(\"__\").join(\"\"):\"italic\"==t?i=(i=i.split(\"*\").join(\"\")).split(\"_\").join(\"\"):\"strikethrough\"==t&&(i=i.split(\"~~\").join(\"\")),o.replaceSelection(l+i+s),u.ch+=n.length,c.ch=u.ch+i.length),o.setSelection(u,c),o.focus()}}function X(e,t){if(Math.abs(e)<1024)return\"\"+e+t[0];var n=0;do{e/=1024,++n}while(Math.abs(e)>=1024&&n<t.length);return\"\"+e.toFixed(1)+t[n]}function Z(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]instanceof Array?e[n]=t[n].concat(e[n]instanceof Array?e[n]:[]):null!==t[n]&&\"object\"===typeof t[n]&&t[n].constructor===Object?e[n]=Z(e[n]||{},t[n]):e[n]=t[n]);return e}function Y(e){for(var t=1;t<arguments.length;t++)e=Z(e,arguments[t]);return e}function J(e){var t=e.match(/[a-zA-Z0-9_\\u00A0-\\u02AF\\u0392-\\u03c9\\u0410-\\u04F9]+|[\\u4E00-\\u9FFF\\u3400-\\u4dbf\\uf900-\\ufaff\\u3040-\\u309f\\uac00-\\ud7af]+/g),n=0;if(null===t)return n;for(var r=0;r<t.length;r++)t[r].charCodeAt(0)>=19968?n+=t[r].length:n+=1;return n}var Q={bold:{name:\"bold\",action:C,className:\"fa fa-bold\",title:\"Bold\",default:!0},italic:{name:\"italic\",action:w,className:\"fa fa-italic\",title:\"Italic\",default:!0},strikethrough:{name:\"strikethrough\",action:k,className:\"fa fa-strikethrough\",title:\"Strikethrough\"},heading:{name:\"heading\",action:F,className:\"fa fa-header fa-heading\",title:\"Heading\",default:!0},\"heading-smaller\":{name:\"heading-smaller\",action:F,className:\"fa fa-header fa-heading header-smaller\",title:\"Smaller Heading\"},\"heading-bigger\":{name:\"heading-bigger\",action:E,className:\"fa fa-header fa-heading header-bigger\",title:\"Bigger Heading\"},\"heading-1\":{name:\"heading-1\",action:T,className:\"fa fa-header fa-heading header-1\",title:\"Big Heading\"},\"heading-2\":{name:\"heading-2\",action:L,className:\"fa fa-header fa-heading header-2\",title:\"Medium Heading\"},\"heading-3\":{name:\"heading-3\",action:M,className:\"fa fa-header fa-heading header-3\",title:\"Small Heading\"},\"separator-1\":{name:\"separator-1\"},code:{name:\"code\",action:S,className:\"fa fa-code\",title:\"Code\"},quote:{name:\"quote\",action:A,className:\"fa fa-quote-left\",title:\"Quote\",default:!0},\"unordered-list\":{name:\"unordered-list\",action:N,className:\"fa fa-list-ul\",title:\"Generic List\",default:!0},\"ordered-list\":{name:\"ordered-list\",action:O,className:\"fa fa-list-ol\",title:\"Numbered List\",default:!0},\"clean-block\":{name:\"clean-block\",action:B,className:\"fa fa-eraser\",title:\"Clean block\"},\"separator-2\":{name:\"separator-2\"},link:{name:\"link\",action:I,className:\"fa fa-link\",title:\"Create Link\",default:!0},image:{name:\"image\",action:z,className:\"fa fa-image\",title:\"Insert Image\",default:!0},\"upload-image\":{name:\"upload-image\",action:P,className:\"fa fa-image\",title:\"Import an image\"},table:{name:\"table\",action:j,className:\"fa fa-table\",title:\"Insert Table\"},\"horizontal-rule\":{name:\"horizontal-rule\",action:H,className:\"fa fa-minus\",title:\"Insert Horizontal Line\"},\"separator-3\":{name:\"separator-3\"},preview:{name:\"preview\",action:U,className:\"fa fa-eye\",noDisable:!0,title:\"Toggle Preview\",default:!0},\"side-by-side\":{name:\"side-by-side\",action:q,className:\"fa fa-columns\",noDisable:!0,noMobile:!0,title:\"Toggle Side by Side\",default:!0},fullscreen:{name:\"fullscreen\",action:D,className:\"fa fa-arrows-alt\",noDisable:!0,noMobile:!0,title:\"Toggle Fullscreen\",default:!0},\"separator-4\":{name:\"separator-4\"},guide:{name:\"guide\",action:\"https://www.markdownguide.org/basic-syntax/\",className:\"fa fa-question-circle\",noDisable:!0,title:\"Markdown Guide\",default:!0},\"separator-5\":{name:\"separator-5\"},undo:{name:\"undo\",action:_,className:\"fa fa-undo\",noDisable:!0,title:\"Undo\"},redo:{name:\"redo\",action:W,className:\"fa fa-repeat fa-redo\",noDisable:!0,title:\"Redo\"}},ee={link:[\"[\",\"](#url#)\"],image:[\"![](\",\"#url#)\"],uploadedImage:[\"![](#url#)\",\"\"],table:[\"\",\"\\n\\n| Column 1 | Column 2 | Column 3 |\\n| -------- | -------- | -------- |\\n| Text     | Text     | Text     |\\n\\n\"],horizontalRule:[\"\",\"\\n\\n-----\\n\\n\"]},te={link:\"URL for the link:\",image:\"URL of the image:\"},ne={locale:\"en-US\",format:{hour:\"2-digit\",minute:\"2-digit\"}},re={bold:\"**\",code:\"```\",italic:\"*\"},ie={sbInit:\"Attach files by drag and dropping or pasting from clipboard.\",sbOnDragEnter:\"Drop image to upload it.\",sbOnDrop:\"Uploading image #images_names#...\",sbProgress:\"Uploading #file_name#: #progress#%\",sbOnUploaded:\"Uploaded #image_name#\",sizeUnits:\" B, KB, MB\"},oe={noFileGiven:\"You must select a file.\",typeNotAllowed:\"This image type is not allowed.\",fileTooLarge:\"Image #image_name# is too big (#image_size#).\\nMaximum file size is #image_max_size#.\",importError:\"Something went wrong when uploading the image #image_name#.\"};function ae(e){(e=e||{}).parent=this;var t=!0;if(!1===e.autoDownloadFontAwesome&&(t=!1),!0!==e.autoDownloadFontAwesome)for(var n=document.styleSheets,r=0;r<n.length;r++)n[r].href&&n[r].href.indexOf(\"//maxcdn.bootstrapcdn.com/font-awesome/\")>-1&&(t=!1);if(t){var i=document.createElement(\"link\");i.rel=\"stylesheet\",i.href=\"https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css\",document.getElementsByTagName(\"head\")[0].appendChild(i)}if(e.element)this.element=e.element;else if(null===e.element)return void console.log(\"EasyMDE: Error. No element was found.\");if(void 0===e.toolbar)for(var o in e.toolbar=[],Q)Object.prototype.hasOwnProperty.call(Q,o)&&(-1!=o.indexOf(\"separator-\")&&e.toolbar.push(\"|\"),(!0===Q[o].default||e.showIcons&&e.showIcons.constructor===Array&&-1!=e.showIcons.indexOf(o))&&e.toolbar.push(o));if(Object.prototype.hasOwnProperty.call(e,\"previewClass\")||(e.previewClass=\"editor-preview\"),Object.prototype.hasOwnProperty.call(e,\"status\")||(e.status=[\"autosave\",\"lines\",\"words\",\"cursor\"],e.uploadImage&&e.status.unshift(\"upload-image\")),e.previewRender||(e.previewRender=function(e){return this.parent.markdown(e)}),e.parsingConfig=Y({highlightFormatting:!0},e.parsingConfig||{}),e.insertTexts=Y({},ee,e.insertTexts||{}),e.promptTexts=Y({},te,e.promptTexts||{}),e.blockStyles=Y({},re,e.blockStyles||{}),void 0!=e.autosave&&(e.autosave.timeFormat=Y({},ne,e.autosave.timeFormat||{})),e.shortcuts=Y({},u,e.shortcuts||{}),e.maxHeight=e.maxHeight||void 0,\"undefined\"!==typeof e.maxHeight?e.minHeight=e.maxHeight:e.minHeight=e.minHeight||\"300px\",e.errorCallback=e.errorCallback||function(e){alert(e)},e.uploadImage=e.uploadImage||!1,e.imageMaxSize=e.imageMaxSize||2097152,e.imageAccept=e.imageAccept||\"image/png, image/jpeg\",e.imageTexts=Y({},ie,e.imageTexts||{}),e.errorMessages=Y({},oe,e.errorMessages||{}),void 0!=e.autosave&&void 0!=e.autosave.unique_id&&\"\"!=e.autosave.unique_id&&(e.autosave.uniqueId=e.autosave.unique_id),e.overlayMode&&void 0===e.overlayMode.combine&&(e.overlayMode.combine=!0),this.options=e,this.render(),!e.initialValue||this.options.autosave&&!0===this.options.autosave.foundSavedValue||this.value(e.initialValue),e.uploadImage){var a=this;this.codemirror.on(\"dragenter\",(function(e,t){a.updateStatusBar(\"upload-image\",a.options.imageTexts.sbOnDragEnter),t.stopPropagation(),t.preventDefault()})),this.codemirror.on(\"dragend\",(function(e,t){a.updateStatusBar(\"upload-image\",a.options.imageTexts.sbInit),t.stopPropagation(),t.preventDefault()})),this.codemirror.on(\"dragleave\",(function(e,t){a.updateStatusBar(\"upload-image\",a.options.imageTexts.sbInit),t.stopPropagation(),t.preventDefault()})),this.codemirror.on(\"dragover\",(function(e,t){a.updateStatusBar(\"upload-image\",a.options.imageTexts.sbOnDragEnter),t.stopPropagation(),t.preventDefault()})),this.codemirror.on(\"drop\",(function(t,n){n.stopPropagation(),n.preventDefault(),e.imageUploadFunction?a.uploadImagesUsingCustomFunction(e.imageUploadFunction,n.dataTransfer.files):a.uploadImages(n.dataTransfer.files)})),this.codemirror.on(\"paste\",(function(t,n){e.imageUploadFunction?a.uploadImagesUsingCustomFunction(e.imageUploadFunction,n.clipboardData.files):a.uploadImages(n.clipboardData.files)}))}}function le(){if(\"object\"!==typeof localStorage)return!1;try{localStorage.setItem(\"smde_localStorage\",1),localStorage.removeItem(\"smde_localStorage\")}catch(e){return!1}return!0}ae.prototype.uploadImages=function(e,t,n){if(0!==e.length){for(var r=[],i=0;i<e.length;i++)r.push(e[i].name),this.uploadImage(e[i],t,n);this.updateStatusBar(\"upload-image\",this.options.imageTexts.sbOnDrop.replace(\"#images_names#\",r.join(\", \")))}},ae.prototype.uploadImagesUsingCustomFunction=function(e,t){if(0!==t.length){for(var n=[],r=0;r<t.length;r++)n.push(t[r].name),this.uploadImageUsingCustomFunction(e,t[r]);this.updateStatusBar(\"upload-image\",this.options.imageTexts.sbOnDrop.replace(\"#images_names#\",n.join(\", \")))}},ae.prototype.updateStatusBar=function(e,t){if(this.gui.statusbar){var n=this.gui.statusbar.getElementsByClassName(e);1===n.length?this.gui.statusbar.getElementsByClassName(e)[0].textContent=t:0===n.length?console.log(\"EasyMDE: status bar item \"+e+\" was not found.\"):console.log(\"EasyMDE: Several status bar items named \"+e+\" was found.\")}},ae.prototype.markdown=function(e){if(o){var t;if(t=this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?this.options.renderingConfig.markedOptions:{},this.options&&this.options.renderingConfig&&!1===this.options.renderingConfig.singleLineBreaks?t.breaks=!1:t.breaks=!0,this.options&&this.options.renderingConfig&&!0===this.options.renderingConfig.codeSyntaxHighlighting){var n=this.options.renderingConfig.hljs||window.hljs;n&&(t.highlight=function(e,t){return t&&n.getLanguage(t)?n.highlight(t,e).value:n.highlightAuto(e).value})}o.setOptions(t);var r=o(e);return this.options.renderingConfig&&\"function\"===typeof this.options.renderingConfig.sanitizerFunction&&(r=this.options.renderingConfig.sanitizerFunction.call(this,r)),r=function(e){for(var t=(new DOMParser).parseFromString(e,\"text/html\"),n=t.getElementsByTagName(\"li\"),r=0;r<n.length;r++)for(var i=n[r],o=0;o<i.children.length;o++){var a=i.children[o];a instanceof HTMLInputElement&&\"checkbox\"===a.type&&(i.style.marginLeft=\"-1.5em\",i.style.listStyleType=\"none\")}return t.documentElement.innerHTML}(r=function(e){for(var t;null!==(t=l.exec(e));){var n=t[0];if(-1===n.indexOf(\"target=\")){var r=n.replace(/>$/,' target=\"_blank\">');e=e.replace(n,r)}}return e}(r))}},ae.prototype.render=function(e){if(e||(e=this.element||document.getElementsByTagName(\"textarea\")[0]),!this._rendered||this._rendered!==e){this.element=e;var t,n,o=this.options,a=this,l={};for(var u in o.shortcuts)null!==o.shortcuts[u]&&null!==s[u]&&function(e){l[d(o.shortcuts[e])]=function(){var t=s[e];\"function\"===typeof t?t(a):\"string\"===typeof t&&window.open(t,\"_blank\")}}(u);if(l.Enter=\"newlineAndIndentContinueMarkdownList\",l.Tab=\"tabAndIndentMarkdownList\",l[\"Shift-Tab\"]=\"shiftTabAndUnindentMarkdownList\",l.Esc=function(e){e.getOption(\"fullScreen\")&&D(a)},this.documentOnKeyDown=function(e){27==(e=e||window.event).keyCode&&a.codemirror.getOption(\"fullScreen\")&&D(a)},document.addEventListener(\"keydown\",this.documentOnKeyDown,!1),o.overlayMode?(r.defineMode(\"overlay-mode\",(function(e){return r.overlayMode(r.getMode(e,!1!==o.spellChecker?\"spell-checker\":\"gfm\"),o.overlayMode.mode,o.overlayMode.combine)})),t=\"overlay-mode\",(n=o.parsingConfig).gitHubSpice=!1):((t=o.parsingConfig).name=\"gfm\",t.gitHubSpice=!1),!1!==o.spellChecker&&(t=\"spell-checker\",(n=o.parsingConfig).name=\"gfm\",n.gitHubSpice=!1,i({codeMirrorInstance:r})),this.codemirror=r.fromTextArea(e,{mode:t,backdrop:n,theme:void 0!=o.theme?o.theme:\"easymde\",tabSize:void 0!=o.tabSize?o.tabSize:2,indentUnit:void 0!=o.tabSize?o.tabSize:2,indentWithTabs:!1!==o.indentWithTabs,lineNumbers:!0===o.lineNumbers,autofocus:!0===o.autofocus,extraKeys:l,lineWrapping:!1!==o.lineWrapping,allowDropFileTypes:[\"text/plain\"],placeholder:o.placeholder||e.getAttribute(\"placeholder\")||\"\",styleSelectedText:void 0!=o.styleSelectedText?o.styleSelectedText:!c(),scrollbarStyle:void 0!=o.scrollbarStyle?o.scrollbarStyle:\"native\",configureMouse:function(e,t,n){return{addNew:!1}},inputStyle:void 0!=o.inputStyle?o.inputStyle:c()?\"contenteditable\":\"textarea\",spellcheck:void 0==o.nativeSpellcheck||o.nativeSpellcheck,autoRefresh:void 0!=o.autoRefresh&&o.autoRefresh}),this.codemirror.getScrollerElement().style.minHeight=o.minHeight,\"undefined\"!==typeof o.maxHeight&&(this.codemirror.getScrollerElement().style.height=o.maxHeight),!0===o.forceSync){var f=this.codemirror;f.on(\"change\",(function(){f.save()}))}this.gui={};var h=document.createElement(\"div\");h.classList.add(\"EasyMDEContainer\");var p=this.codemirror.getWrapperElement();p.parentNode.insertBefore(h,p),h.appendChild(p),!1!==o.toolbar&&(this.gui.toolbar=this.createToolbar()),!1!==o.status&&(this.gui.statusbar=this.createStatusbar()),void 0!=o.autosave&&!0===o.autosave.enabled&&(this.autosave(),this.codemirror.on(\"change\",(function(){clearTimeout(a._autosave_timeout),a._autosave_timeout=setTimeout((function(){a.autosave()}),a.options.autosave.submit_delay||a.options.autosave.delay||1e3)})));var m=this;this.codemirror.on(\"update\",(function(){o.previewImagesInEditor&&h.querySelectorAll(\".cm-image-marker\").forEach((function(e){var t=e.parentElement;if(t.innerText.match(/^!\\[.*?\\]\\(.*\\)/g)&&!t.hasAttribute(\"data-img-src\")){var n=t.innerText.match(\"\\\\((.*)\\\\)\");if(window.EMDEimagesCache||(window.EMDEimagesCache={}),n&&n.length>=2){var r=n[1];if(window.EMDEimagesCache[r])v(t,window.EMDEimagesCache[r]);else{var i=document.createElement(\"img\");i.onload=function(){window.EMDEimagesCache[r]={naturalWidth:i.naturalWidth,naturalHeight:i.naturalHeight,url:r},v(t,window.EMDEimagesCache[r])},i.src=r}}}}))})),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element;var g=this.codemirror;setTimeout(function(){g.refresh()}.bind(g),0)}function v(e,t){var n,r;e.setAttribute(\"data-img-src\",t.url),e.setAttribute(\"style\",\"--bg-image:url(\"+t.url+\");--width:\"+t.naturalWidth+\"px;--height:\"+(n=t.naturalWidth,r=t.naturalHeight,n<window.getComputedStyle(document.querySelector(\".CodeMirror-sizer\")).width.replace(\"px\",\"\")?r+\"px\":r/n*100+\"%\")),m.codemirror.setSize()}},ae.prototype.cleanup=function(){document.removeEventListener(\"keydown\",this.documentOnKeyDown)},ae.prototype.autosave=function(){if(le()){var e=this;if(void 0==this.options.autosave.uniqueId||\"\"==this.options.autosave.uniqueId)return void console.log(\"EasyMDE: You must set a uniqueId to use the autosave feature\");!0!==this.options.autosave.binded&&(null!=e.element.form&&void 0!=e.element.form&&e.element.form.addEventListener(\"submit\",(function(){clearTimeout(e.autosaveTimeoutId),e.autosaveTimeoutId=void 0,localStorage.removeItem(\"smde_\"+e.options.autosave.uniqueId)})),this.options.autosave.binded=!0),!0!==this.options.autosave.loaded&&(\"string\"==typeof localStorage.getItem(\"smde_\"+this.options.autosave.uniqueId)&&\"\"!=localStorage.getItem(\"smde_\"+this.options.autosave.uniqueId)&&(this.codemirror.setValue(localStorage.getItem(\"smde_\"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);var t=e.value();\"\"!==t?localStorage.setItem(\"smde_\"+this.options.autosave.uniqueId,t):localStorage.removeItem(\"smde_\"+this.options.autosave.uniqueId);var n=document.getElementById(\"autosaved\");if(null!=n&&void 0!=n&&\"\"!=n){var r=new Date,i=new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale,\"en-US\"],this.options.autosave.timeFormat.format).format(r),o=void 0==this.options.autosave.text?\"Autosaved: \":this.options.autosave.text;n.innerHTML=o+i}}else console.log(\"EasyMDE: localStorage not available, cannot autosave\")},ae.prototype.clearAutosavedValue=function(){if(le()){if(void 0==this.options.autosave||void 0==this.options.autosave.uniqueId||\"\"==this.options.autosave.uniqueId)return void console.log(\"EasyMDE: You must set a uniqueId to clear the autosave value\");localStorage.removeItem(\"smde_\"+this.options.autosave.uniqueId)}else console.log(\"EasyMDE: localStorage not available, cannot autosave\")},ae.prototype.openBrowseFileWindow=function(e,t){var n=this,r=this.gui.toolbar.getElementsByClassName(\"imageInput\")[0];r.click(),r.addEventListener(\"change\",(function i(o){n.options.imageUploadFunction?n.uploadImagesUsingCustomFunction(n.options.imageUploadFunction,o.target.files):n.uploadImages(o.target.files,e,t),r.removeEventListener(\"change\",i)}))},ae.prototype.uploadImage=function(e,t,n){var r=this;function i(e){r.updateStatusBar(\"upload-image\",e),setTimeout((function(){r.updateStatusBar(\"upload-image\",r.options.imageTexts.sbInit)}),1e4),n&&\"function\"===typeof n&&n(e),r.options.errorCallback(e)}function o(t){var n=r.options.imageTexts.sizeUnits.split(\",\");return t.replace(\"#image_name#\",e.name).replace(\"#image_size#\",X(e.size,n)).replace(\"#image_max_size#\",X(r.options.imageMaxSize,n))}if(t=t||function(e){R(r,e)},e.size>this.options.imageMaxSize)i(o(this.options.errorMessages.fileTooLarge));else{var a=new FormData;a.append(\"image\",e),r.options.imageCSRFToken&&a.append(\"csrfmiddlewaretoken\",r.options.imageCSRFToken);var l=new XMLHttpRequest;l.upload.onprogress=function(t){if(t.lengthComputable){var n=\"\"+Math.round(100*t.loaded/t.total);r.updateStatusBar(\"upload-image\",r.options.imageTexts.sbProgress.replace(\"#file_name#\",e.name).replace(\"#progress#\",n))}},l.open(\"POST\",this.options.imageUploadEndpoint),l.onload=function(){try{var e=JSON.parse(this.responseText)}catch(n){return console.error(\"EasyMDE: The server did not return a valid json.\"),void i(o(r.options.errorMessages.importError))}200===this.status&&e&&!e.error&&e.data&&e.data.filePath?t((r.options.imagePathAbsolute?\"\":window.location.origin+\"/\")+e.data.filePath):e.error&&e.error in r.options.errorMessages?i(o(r.options.errorMessages[e.error])):e.error?i(o(e.error)):(console.error(\"EasyMDE: Received an unexpected response after uploading the image.\"+this.status+\" (\"+this.statusText+\")\"),i(o(r.options.errorMessages.importError)))},l.onerror=function(e){console.error(\"EasyMDE: An unexpected error occurred when trying to upload the image.\"+e.target.status+\" (\"+e.target.statusText+\")\"),i(r.options.errorMessages.importError)},l.send(a)}},ae.prototype.uploadImageUsingCustomFunction=function(e,t){var n=this;e.apply(this,[t,function(e){R(n,e)},function(e){var r=function(e){var r=n.options.imageTexts.sizeUnits.split(\",\");return e.replace(\"#image_name#\",t.name).replace(\"#image_size#\",X(t.size,r)).replace(\"#image_max_size#\",X(n.options.imageMaxSize,r))}(e);n.updateStatusBar(\"upload-image\",r),setTimeout((function(){n.updateStatusBar(\"upload-image\",n.options.imageTexts.sbInit)}),1e4),n.options.errorCallback(r)}])},ae.prototype.setPreviewMaxHeight=function(){var e=this.codemirror.getWrapperElement(),t=e.nextSibling,n=parseInt(window.getComputedStyle(e).paddingTop),r=parseInt(window.getComputedStyle(e).borderTopWidth),i=(parseInt(this.options.maxHeight)+2*n+2*r).toString()+\"px\";t.style.height=i},ae.prototype.createSideBySide=function(){var e=this.codemirror,t=e.getWrapperElement(),n=t.nextSibling;if(!n||!/editor-preview-side/.test(n.className)){if((n=document.createElement(\"div\")).className=\"editor-preview-side\",this.options.previewClass)if(Array.isArray(this.options.previewClass))for(var r=0;r<this.options.previewClass.length;r++)n.className+=\" \"+this.options.previewClass[r];else\"string\"===typeof this.options.previewClass&&(n.className+=\" \"+this.options.previewClass);t.parentNode.insertBefore(n,t.nextSibling)}if(\"undefined\"!==typeof this.options.maxHeight&&this.setPreviewMaxHeight(),!1===this.options.syncSideBySidePreviewScroll)return n;var i=!1,o=!1;return e.on(\"scroll\",(function(e){if(i)i=!1;else{o=!0;var t=e.getScrollInfo().height-e.getScrollInfo().clientHeight,r=parseFloat(e.getScrollInfo().top)/t,a=(n.scrollHeight-n.clientHeight)*r;n.scrollTop=a}})),n.onscroll=function(){if(o)o=!1;else{i=!0;var t=n.scrollHeight-n.clientHeight,r=parseFloat(n.scrollTop)/t,a=(e.getScrollInfo().height-e.getScrollInfo().clientHeight)*r;e.scrollTo(0,a)}},n},ae.prototype.createToolbar=function(e){if((e=e||this.options.toolbar)&&0!==e.length){var t;for(t=0;t<e.length;t++)void 0!=Q[e[t]]&&(e[t]=Q[e[t]]);var n=document.createElement(\"div\");n.className=\"editor-toolbar\";var r=this,i={};for(r.toolbar=e,t=0;t<e.length;t++)if((\"guide\"!=e[t].name||!1!==r.options.toolbarGuideIcon)&&(!r.options.hideIcons||-1==r.options.hideIcons.indexOf(e[t].name))&&(\"fullscreen\"!=e[t].name&&\"side-by-side\"!=e[t].name||!c())){if(\"|\"===e[t]){for(var o=!1,a=t+1;a<e.length;a++)\"|\"===e[a]||r.options.hideIcons&&-1!=r.options.hideIcons.indexOf(e[a].name)||(o=!0);if(!o)continue}!function(e){var t;if(t=\"|\"===e?x():e.children?g(e,r.options.toolbarTips,r.options.shortcuts,r):v(e,!0,r.options.toolbarTips,r.options.shortcuts,\"button\",r),i[e.name||e]=t,n.appendChild(t),\"upload-image\"===e.name){var o=document.createElement(\"input\");o.className=\"imageInput\",o.type=\"file\",o.multiple=!0,o.name=\"image\",o.accept=r.options.imageAccept,o.style.display=\"none\",o.style.opacity=0,n.appendChild(o)}}(e[t])}r.toolbar_div=n,r.toolbarElements=i;var l=this.codemirror;l.on(\"cursorActivity\",(function(){var e=y(l);for(var t in i)!function(t){var n=i[t];e[t]?n.className+=\" active\":\"fullscreen\"!=t&&\"side-by-side\"!=t&&(n.className=n.className.replace(/\\s*active\\s*/g,\"\"))}(t)}));var s=l.getWrapperElement();return s.parentNode.insertBefore(n,s),n}},ae.prototype.createStatusbar=function(e){e=e||this.options.status;var t=this.options,n=this.codemirror;if(e&&0!==e.length){var r,i,o,a,l=[];for(r=0;r<e.length;r++)if(i=void 0,o=void 0,a=void 0,\"object\"===typeof e[r])l.push({className:e[r].className,defaultValue:e[r].defaultValue,onUpdate:e[r].onUpdate,onActivity:e[r].onActivity});else{var s=e[r];\"words\"===s?(a=function(e){e.innerHTML=J(n.getValue())},i=function(e){e.innerHTML=J(n.getValue())}):\"lines\"===s?(a=function(e){e.innerHTML=n.lineCount()},i=function(e){e.innerHTML=n.lineCount()}):\"cursor\"===s?(a=function(e){e.innerHTML=\"0:0\"},o=function(e){var t=n.getCursor();e.innerHTML=t.line+\":\"+t.ch}):\"autosave\"===s?a=function(e){void 0!=t.autosave&&!0===t.autosave.enabled&&e.setAttribute(\"id\",\"autosaved\")}:\"upload-image\"===s&&(a=function(e){e.innerHTML=t.imageTexts.sbInit}),l.push({className:s,defaultValue:a,onUpdate:i,onActivity:o})}var u=document.createElement(\"div\");for(u.className=\"editor-statusbar\",r=0;r<l.length;r++){var c=l[r],d=document.createElement(\"span\");d.className=c.className,\"function\"===typeof c.defaultValue&&c.defaultValue(d),\"function\"===typeof c.onUpdate&&this.codemirror.on(\"update\",function(e,t){return function(){t.onUpdate(e)}}(d,c)),\"function\"===typeof c.onActivity&&this.codemirror.on(\"cursorActivity\",function(e,t){return function(){t.onActivity(e)}}(d,c)),u.appendChild(d)}var f=this.codemirror.getWrapperElement();return f.parentNode.insertBefore(u,f.nextSibling),u}},ae.prototype.value=function(e){var t=this.codemirror;if(void 0===e)return t.getValue();if(t.getDoc().setValue(e),this.isPreviewActive()){var n=t.getWrapperElement().lastChild;n.innerHTML=this.options.previewRender(e,n)}return this},ae.toggleBold=C,ae.toggleItalic=w,ae.toggleStrikethrough=k,ae.toggleBlockquote=A,ae.toggleHeadingSmaller=F,ae.toggleHeadingBigger=E,ae.toggleHeading1=T,ae.toggleHeading2=L,ae.toggleHeading3=M,ae.toggleCodeBlock=S,ae.toggleUnorderedList=N,ae.toggleOrderedList=O,ae.cleanBlock=B,ae.drawLink=I,ae.drawImage=z,ae.drawUploadedImage=P,ae.drawTable=j,ae.drawHorizontalRule=H,ae.undo=_,ae.redo=W,ae.togglePreview=U,ae.toggleSideBySide=q,ae.toggleFullScreen=D,ae.prototype.toggleBold=function(){C(this)},ae.prototype.toggleItalic=function(){w(this)},ae.prototype.toggleStrikethrough=function(){k(this)},ae.prototype.toggleBlockquote=function(){A(this)},ae.prototype.toggleHeadingSmaller=function(){F(this)},ae.prototype.toggleHeadingBigger=function(){E(this)},ae.prototype.toggleHeading1=function(){T(this)},ae.prototype.toggleHeading2=function(){L(this)},ae.prototype.toggleHeading3=function(){M(this)},ae.prototype.toggleCodeBlock=function(){S(this)},ae.prototype.toggleUnorderedList=function(){N(this)},ae.prototype.toggleOrderedList=function(){O(this)},ae.prototype.cleanBlock=function(){B(this)},ae.prototype.drawLink=function(){I(this)},ae.prototype.drawImage=function(){z(this)},ae.prototype.drawUploadedImage=function(){P(this)},ae.prototype.drawTable=function(){j(this)},ae.prototype.drawHorizontalRule=function(){H(this)},ae.prototype.undo=function(){_(this)},ae.prototype.redo=function(){W(this)},ae.prototype.togglePreview=function(){U(this)},ae.prototype.toggleSideBySide=function(){q(this)},ae.prototype.toggleFullScreen=function(){D(this)},ae.prototype.isPreviewActive=function(){var e=this.codemirror.getWrapperElement().lastChild;return/editor-preview-active/.test(e.className)},ae.prototype.isSideBySideActive=function(){var e=this.codemirror.getWrapperElement().nextSibling;return/editor-preview-active-side/.test(e.className)},ae.prototype.isFullscreenActive=function(){return this.codemirror.getOption(\"fullScreen\")},ae.prototype.getState=function(){return y(this.codemirror)},ae.prototype.toTextArea=function(){var e=this.codemirror,t=e.getWrapperElement(),n=t.parentNode;n&&(this.gui.toolbar&&n.removeChild(this.gui.toolbar),this.gui.statusbar&&n.removeChild(this.gui.statusbar),this.gui.sideBySide&&n.removeChild(this.gui.sideBySide)),n.parentNode.insertBefore(t,n),n.remove(),e.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},e.exports=ae},895:function(e,t,n){!function(e){\"use strict\";var t=/^(\\s*)(>[> ]*|[*+-] \\[[x ]\\]\\s|[*+-]\\s|(\\d+)([.)]))(\\s*)/,n=/^(\\s*)(>[> ]*|[*+-] \\[[x ]\\]|[*+-]|(\\d+)[.)])(\\s*)$/,r=/[*+-]\\s/;function i(e,n){var r=n.line,i=0,o=0,a=t.exec(e.getLine(r)),l=a[1];do{var s=r+(i+=1),u=e.getLine(s),c=t.exec(u);if(c){var d=c[1],f=parseInt(a[3],10)+i-o,h=parseInt(c[3],10),p=h;if(l!==d||isNaN(h)){if(l.length>d.length)return;if(l.length<d.length&&1===i)return;o+=1}else f===h&&(p=h+1),f>h&&(p=f+1),e.replaceRange(u.replace(t,d+p+c[4]+c[5]),{line:s,ch:0},{line:s,ch:u.length})}}while(c)}e.commands.newlineAndIndentContinueMarkdownList=function(o){if(o.getOption(\"disableInput\"))return e.Pass;for(var a=o.listSelections(),l=[],s=0;s<a.length;s++){var u=a[s].head,c=o.getStateAfter(u.line),d=e.innerMode(o.getMode(),c);if(\"markdown\"!==d.mode.name)return void o.execCommand(\"newlineAndIndent\");var f=!1!==(c=d.state).list,h=0!==c.quote,p=o.getLine(u.line),m=t.exec(p),g=/^\\s*$/.test(p.slice(0,u.ch));if(!a[s].empty()||!f&&!h||!m||g)return void o.execCommand(\"newlineAndIndent\");if(n.test(p)){var v=h&&/>\\s*$/.test(p),x=!/>\\s*$/.test(p);(v||x)&&o.replaceRange(\"\",{line:u.line,ch:0},{line:u.line,ch:u.ch+1}),l[s]=\"\\n\"}else{var y=m[1],b=m[5],D=!(r.test(m[2])||m[2].indexOf(\">\")>=0),C=D?parseInt(m[3],10)+1+m[4]:m[2].replace(\"x\",\" \");l[s]=\"\\n\"+y+C+b,D&&i(o,u)}}o.replaceSelections(l)}}(n(287))},896:function(e,t,n){var r=n(287);r.commands.tabAndIndentMarkdownList=function(e){var t=e.listSelections()[0].head;if(!1!==e.getStateAfter(t.line).list)e.execCommand(\"indentMore\");else if(e.options.indentWithTabs)e.execCommand(\"insertTab\");else{var n=Array(e.options.tabSize+1).join(\" \");e.replaceSelection(n)}},r.commands.shiftTabAndUnindentMarkdownList=function(e){var t=e.listSelections()[0].head;if(!1!==e.getStateAfter(t.line).list)e.execCommand(\"indentLess\");else if(e.options.indentWithTabs)e.execCommand(\"insertTab\");else{var n=Array(e.options.tabSize+1).join(\" \");e.replaceSelection(n)}}},897:function(e,t,n){!function(e){\"use strict\";function t(e){var t=e.getWrapperElement();e.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:t.style.width,height:t.style.height},t.style.width=\"\",t.style.height=\"auto\",t.className+=\" CodeMirror-fullscreen\",document.documentElement.style.overflow=\"hidden\",e.refresh()}function n(e){var t=e.getWrapperElement();t.className=t.className.replace(/\\s*CodeMirror-fullscreen\\b/,\"\"),document.documentElement.style.overflow=\"\";var n=e.state.fullScreenRestore;t.style.width=n.width,t.style.height=n.height,window.scrollTo(n.scrollLeft,n.scrollTop),e.refresh()}e.defineOption(\"fullScreen\",!1,(function(r,i,o){o==e.Init&&(o=!1),!o!=!i&&(i?t(r):n(r))}))}(n(287))},898:function(e,t,n){!function(e){\"use strict\";e.modeInfo=[{name:\"APL\",mime:\"text/apl\",mode:\"apl\",ext:[\"dyalog\",\"apl\"]},{name:\"PGP\",mimes:[\"application/pgp\",\"application/pgp-encrypted\",\"application/pgp-keys\",\"application/pgp-signature\"],mode:\"asciiarmor\",ext:[\"asc\",\"pgp\",\"sig\"]},{name:\"ASN.1\",mime:\"text/x-ttcn-asn\",mode:\"asn.1\",ext:[\"asn\",\"asn1\"]},{name:\"Asterisk\",mime:\"text/x-asterisk\",mode:\"asterisk\",file:/^extensions\\.conf$/i},{name:\"Brainfuck\",mime:\"text/x-brainfuck\",mode:\"brainfuck\",ext:[\"b\",\"bf\"]},{name:\"C\",mime:\"text/x-csrc\",mode:\"clike\",ext:[\"c\",\"h\",\"ino\"]},{name:\"C++\",mime:\"text/x-c++src\",mode:\"clike\",ext:[\"cpp\",\"c++\",\"cc\",\"cxx\",\"hpp\",\"h++\",\"hh\",\"hxx\"],alias:[\"cpp\"]},{name:\"Cobol\",mime:\"text/x-cobol\",mode:\"cobol\",ext:[\"cob\",\"cpy\"]},{name:\"C#\",mime:\"text/x-csharp\",mode:\"clike\",ext:[\"cs\"],alias:[\"csharp\",\"cs\"]},{name:\"Clojure\",mime:\"text/x-clojure\",mode:\"clojure\",ext:[\"clj\",\"cljc\",\"cljx\"]},{name:\"ClojureScript\",mime:\"text/x-clojurescript\",mode:\"clojure\",ext:[\"cljs\"]},{name:\"Closure Stylesheets (GSS)\",mime:\"text/x-gss\",mode:\"css\",ext:[\"gss\"]},{name:\"CMake\",mime:\"text/x-cmake\",mode:\"cmake\",ext:[\"cmake\",\"cmake.in\"],file:/^CMakeLists\\.txt$/},{name:\"CoffeeScript\",mimes:[\"application/vnd.coffeescript\",\"text/coffeescript\",\"text/x-coffeescript\"],mode:\"coffeescript\",ext:[\"coffee\"],alias:[\"coffee\",\"coffee-script\"]},{name:\"Common Lisp\",mime:\"text/x-common-lisp\",mode:\"commonlisp\",ext:[\"cl\",\"lisp\",\"el\"],alias:[\"lisp\"]},{name:\"Cypher\",mime:\"application/x-cypher-query\",mode:\"cypher\",ext:[\"cyp\",\"cypher\"]},{name:\"Cython\",mime:\"text/x-cython\",mode:\"python\",ext:[\"pyx\",\"pxd\",\"pxi\"]},{name:\"Crystal\",mime:\"text/x-crystal\",mode:\"crystal\",ext:[\"cr\"]},{name:\"CSS\",mime:\"text/css\",mode:\"css\",ext:[\"css\"]},{name:\"CQL\",mime:\"text/x-cassandra\",mode:\"sql\",ext:[\"cql\"]},{name:\"D\",mime:\"text/x-d\",mode:\"d\",ext:[\"d\"]},{name:\"Dart\",mimes:[\"application/dart\",\"text/x-dart\"],mode:\"dart\",ext:[\"dart\"]},{name:\"diff\",mime:\"text/x-diff\",mode:\"diff\",ext:[\"diff\",\"patch\"]},{name:\"Django\",mime:\"text/x-django\",mode:\"django\"},{name:\"Dockerfile\",mime:\"text/x-dockerfile\",mode:\"dockerfile\",file:/^Dockerfile$/},{name:\"DTD\",mime:\"application/xml-dtd\",mode:\"dtd\",ext:[\"dtd\"]},{name:\"Dylan\",mime:\"text/x-dylan\",mode:\"dylan\",ext:[\"dylan\",\"dyl\",\"intr\"]},{name:\"EBNF\",mime:\"text/x-ebnf\",mode:\"ebnf\"},{name:\"ECL\",mime:\"text/x-ecl\",mode:\"ecl\",ext:[\"ecl\"]},{name:\"edn\",mime:\"application/edn\",mode:\"clojure\",ext:[\"edn\"]},{name:\"Eiffel\",mime:\"text/x-eiffel\",mode:\"eiffel\",ext:[\"e\"]},{name:\"Elm\",mime:\"text/x-elm\",mode:\"elm\",ext:[\"elm\"]},{name:\"Embedded JavaScript\",mime:\"application/x-ejs\",mode:\"htmlembedded\",ext:[\"ejs\"]},{name:\"Embedded Ruby\",mime:\"application/x-erb\",mode:\"htmlembedded\",ext:[\"erb\"]},{name:\"Erlang\",mime:\"text/x-erlang\",mode:\"erlang\",ext:[\"erl\"]},{name:\"Esper\",mime:\"text/x-esper\",mode:\"sql\"},{name:\"Factor\",mime:\"text/x-factor\",mode:\"factor\",ext:[\"factor\"]},{name:\"FCL\",mime:\"text/x-fcl\",mode:\"fcl\"},{name:\"Forth\",mime:\"text/x-forth\",mode:\"forth\",ext:[\"forth\",\"fth\",\"4th\"]},{name:\"Fortran\",mime:\"text/x-fortran\",mode:\"fortran\",ext:[\"f\",\"for\",\"f77\",\"f90\",\"f95\"]},{name:\"F#\",mime:\"text/x-fsharp\",mode:\"mllike\",ext:[\"fs\"],alias:[\"fsharp\"]},{name:\"Gas\",mime:\"text/x-gas\",mode:\"gas\",ext:[\"s\"]},{name:\"Gherkin\",mime:\"text/x-feature\",mode:\"gherkin\",ext:[\"feature\"]},{name:\"GitHub Flavored Markdown\",mime:\"text/x-gfm\",mode:\"gfm\",file:/^(readme|contributing|history)\\.md$/i},{name:\"Go\",mime:\"text/x-go\",mode:\"go\",ext:[\"go\"]},{name:\"Groovy\",mime:\"text/x-groovy\",mode:\"groovy\",ext:[\"groovy\",\"gradle\"],file:/^Jenkinsfile$/},{name:\"HAML\",mime:\"text/x-haml\",mode:\"haml\",ext:[\"haml\"]},{name:\"Haskell\",mime:\"text/x-haskell\",mode:\"haskell\",ext:[\"hs\"]},{name:\"Haskell (Literate)\",mime:\"text/x-literate-haskell\",mode:\"haskell-literate\",ext:[\"lhs\"]},{name:\"Haxe\",mime:\"text/x-haxe\",mode:\"haxe\",ext:[\"hx\"]},{name:\"HXML\",mime:\"text/x-hxml\",mode:\"haxe\",ext:[\"hxml\"]},{name:\"ASP.NET\",mime:\"application/x-aspx\",mode:\"htmlembedded\",ext:[\"aspx\"],alias:[\"asp\",\"aspx\"]},{name:\"HTML\",mime:\"text/html\",mode:\"htmlmixed\",ext:[\"html\",\"htm\",\"handlebars\",\"hbs\"],alias:[\"xhtml\"]},{name:\"HTTP\",mime:\"message/http\",mode:\"http\"},{name:\"IDL\",mime:\"text/x-idl\",mode:\"idl\",ext:[\"pro\"]},{name:\"Pug\",mime:\"text/x-pug\",mode:\"pug\",ext:[\"jade\",\"pug\"],alias:[\"jade\"]},{name:\"Java\",mime:\"text/x-java\",mode:\"clike\",ext:[\"java\"]},{name:\"Java Server Pages\",mime:\"application/x-jsp\",mode:\"htmlembedded\",ext:[\"jsp\"],alias:[\"jsp\"]},{name:\"JavaScript\",mimes:[\"text/javascript\",\"text/ecmascript\",\"application/javascript\",\"application/x-javascript\",\"application/ecmascript\"],mode:\"javascript\",ext:[\"js\"],alias:[\"ecmascript\",\"js\",\"node\"]},{name:\"JSON\",mimes:[\"application/json\",\"application/x-json\"],mode:\"javascript\",ext:[\"json\",\"map\"],alias:[\"json5\"]},{name:\"JSON-LD\",mime:\"application/ld+json\",mode:\"javascript\",ext:[\"jsonld\"],alias:[\"jsonld\"]},{name:\"JSX\",mime:\"text/jsx\",mode:\"jsx\",ext:[\"jsx\"]},{name:\"Jinja2\",mime:\"text/jinja2\",mode:\"jinja2\",ext:[\"j2\",\"jinja\",\"jinja2\"]},{name:\"Julia\",mime:\"text/x-julia\",mode:\"julia\",ext:[\"jl\"],alias:[\"jl\"]},{name:\"Kotlin\",mime:\"text/x-kotlin\",mode:\"clike\",ext:[\"kt\"]},{name:\"LESS\",mime:\"text/x-less\",mode:\"css\",ext:[\"less\"]},{name:\"LiveScript\",mime:\"text/x-livescript\",mode:\"livescript\",ext:[\"ls\"],alias:[\"ls\"]},{name:\"Lua\",mime:\"text/x-lua\",mode:\"lua\",ext:[\"lua\"]},{name:\"Markdown\",mime:\"text/x-markdown\",mode:\"markdown\",ext:[\"markdown\",\"md\",\"mkd\"]},{name:\"mIRC\",mime:\"text/mirc\",mode:\"mirc\"},{name:\"MariaDB SQL\",mime:\"text/x-mariadb\",mode:\"sql\"},{name:\"Mathematica\",mime:\"text/x-mathematica\",mode:\"mathematica\",ext:[\"m\",\"nb\",\"wl\",\"wls\"]},{name:\"Modelica\",mime:\"text/x-modelica\",mode:\"modelica\",ext:[\"mo\"]},{name:\"MUMPS\",mime:\"text/x-mumps\",mode:\"mumps\",ext:[\"mps\"]},{name:\"MS SQL\",mime:\"text/x-mssql\",mode:\"sql\"},{name:\"mbox\",mime:\"application/mbox\",mode:\"mbox\",ext:[\"mbox\"]},{name:\"MySQL\",mime:\"text/x-mysql\",mode:\"sql\"},{name:\"Nginx\",mime:\"text/x-nginx-conf\",mode:\"nginx\",file:/nginx.*\\.conf$/i},{name:\"NSIS\",mime:\"text/x-nsis\",mode:\"nsis\",ext:[\"nsh\",\"nsi\"]},{name:\"NTriples\",mimes:[\"application/n-triples\",\"application/n-quads\",\"text/n-triples\"],mode:\"ntriples\",ext:[\"nt\",\"nq\"]},{name:\"Objective-C\",mime:\"text/x-objectivec\",mode:\"clike\",ext:[\"m\"],alias:[\"objective-c\",\"objc\"]},{name:\"Objective-C++\",mime:\"text/x-objectivec++\",mode:\"clike\",ext:[\"mm\"],alias:[\"objective-c++\",\"objc++\"]},{name:\"OCaml\",mime:\"text/x-ocaml\",mode:\"mllike\",ext:[\"ml\",\"mli\",\"mll\",\"mly\"]},{name:\"Octave\",mime:\"text/x-octave\",mode:\"octave\",ext:[\"m\"]},{name:\"Oz\",mime:\"text/x-oz\",mode:\"oz\",ext:[\"oz\"]},{name:\"Pascal\",mime:\"text/x-pascal\",mode:\"pascal\",ext:[\"p\",\"pas\"]},{name:\"PEG.js\",mime:\"null\",mode:\"pegjs\",ext:[\"jsonld\"]},{name:\"Perl\",mime:\"text/x-perl\",mode:\"perl\",ext:[\"pl\",\"pm\"]},{name:\"PHP\",mimes:[\"text/x-php\",\"application/x-httpd-php\",\"application/x-httpd-php-open\"],mode:\"php\",ext:[\"php\",\"php3\",\"php4\",\"php5\",\"php7\",\"phtml\"]},{name:\"Pig\",mime:\"text/x-pig\",mode:\"pig\",ext:[\"pig\"]},{name:\"Plain Text\",mime:\"text/plain\",mode:\"null\",ext:[\"txt\",\"text\",\"conf\",\"def\",\"list\",\"log\"]},{name:\"PLSQL\",mime:\"text/x-plsql\",mode:\"sql\",ext:[\"pls\"]},{name:\"PostgreSQL\",mime:\"text/x-pgsql\",mode:\"sql\"},{name:\"PowerShell\",mime:\"application/x-powershell\",mode:\"powershell\",ext:[\"ps1\",\"psd1\",\"psm1\"]},{name:\"Properties files\",mime:\"text/x-properties\",mode:\"properties\",ext:[\"properties\",\"ini\",\"in\"],alias:[\"ini\",\"properties\"]},{name:\"ProtoBuf\",mime:\"text/x-protobuf\",mode:\"protobuf\",ext:[\"proto\"]},{name:\"Python\",mime:\"text/x-python\",mode:\"python\",ext:[\"BUILD\",\"bzl\",\"py\",\"pyw\"],file:/^(BUCK|BUILD)$/},{name:\"Puppet\",mime:\"text/x-puppet\",mode:\"puppet\",ext:[\"pp\"]},{name:\"Q\",mime:\"text/x-q\",mode:\"q\",ext:[\"q\"]},{name:\"R\",mime:\"text/x-rsrc\",mode:\"r\",ext:[\"r\",\"R\"],alias:[\"rscript\"]},{name:\"reStructuredText\",mime:\"text/x-rst\",mode:\"rst\",ext:[\"rst\"],alias:[\"rst\"]},{name:\"RPM Changes\",mime:\"text/x-rpm-changes\",mode:\"rpm\"},{name:\"RPM Spec\",mime:\"text/x-rpm-spec\",mode:\"rpm\",ext:[\"spec\"]},{name:\"Ruby\",mime:\"text/x-ruby\",mode:\"ruby\",ext:[\"rb\"],alias:[\"jruby\",\"macruby\",\"rake\",\"rb\",\"rbx\"]},{name:\"Rust\",mime:\"text/x-rustsrc\",mode:\"rust\",ext:[\"rs\"]},{name:\"SAS\",mime:\"text/x-sas\",mode:\"sas\",ext:[\"sas\"]},{name:\"Sass\",mime:\"text/x-sass\",mode:\"sass\",ext:[\"sass\"]},{name:\"Scala\",mime:\"text/x-scala\",mode:\"clike\",ext:[\"scala\"]},{name:\"Scheme\",mime:\"text/x-scheme\",mode:\"scheme\",ext:[\"scm\",\"ss\"]},{name:\"SCSS\",mime:\"text/x-scss\",mode:\"css\",ext:[\"scss\"]},{name:\"Shell\",mimes:[\"text/x-sh\",\"application/x-sh\"],mode:\"shell\",ext:[\"sh\",\"ksh\",\"bash\"],alias:[\"bash\",\"sh\",\"zsh\"],file:/^PKGBUILD$/},{name:\"Sieve\",mime:\"application/sieve\",mode:\"sieve\",ext:[\"siv\",\"sieve\"]},{name:\"Slim\",mimes:[\"text/x-slim\",\"application/x-slim\"],mode:\"slim\",ext:[\"slim\"]},{name:\"Smalltalk\",mime:\"text/x-stsrc\",mode:\"smalltalk\",ext:[\"st\"]},{name:\"Smarty\",mime:\"text/x-smarty\",mode:\"smarty\",ext:[\"tpl\"]},{name:\"Solr\",mime:\"text/x-solr\",mode:\"solr\"},{name:\"SML\",mime:\"text/x-sml\",mode:\"mllike\",ext:[\"sml\",\"sig\",\"fun\",\"smackspec\"]},{name:\"Soy\",mime:\"text/x-soy\",mode:\"soy\",ext:[\"soy\"],alias:[\"closure template\"]},{name:\"SPARQL\",mime:\"application/sparql-query\",mode:\"sparql\",ext:[\"rq\",\"sparql\"],alias:[\"sparul\"]},{name:\"Spreadsheet\",mime:\"text/x-spreadsheet\",mode:\"spreadsheet\",alias:[\"excel\",\"formula\"]},{name:\"SQL\",mime:\"text/x-sql\",mode:\"sql\",ext:[\"sql\"]},{name:\"SQLite\",mime:\"text/x-sqlite\",mode:\"sql\"},{name:\"Squirrel\",mime:\"text/x-squirrel\",mode:\"clike\",ext:[\"nut\"]},{name:\"Stylus\",mime:\"text/x-styl\",mode:\"stylus\",ext:[\"styl\"]},{name:\"Swift\",mime:\"text/x-swift\",mode:\"swift\",ext:[\"swift\"]},{name:\"sTeX\",mime:\"text/x-stex\",mode:\"stex\"},{name:\"LaTeX\",mime:\"text/x-latex\",mode:\"stex\",ext:[\"text\",\"ltx\",\"tex\"],alias:[\"tex\"]},{name:\"SystemVerilog\",mime:\"text/x-systemverilog\",mode:\"verilog\",ext:[\"v\",\"sv\",\"svh\"]},{name:\"Tcl\",mime:\"text/x-tcl\",mode:\"tcl\",ext:[\"tcl\"]},{name:\"Textile\",mime:\"text/x-textile\",mode:\"textile\",ext:[\"textile\"]},{name:\"TiddlyWiki\",mime:\"text/x-tiddlywiki\",mode:\"tiddlywiki\"},{name:\"Tiki wiki\",mime:\"text/tiki\",mode:\"tiki\"},{name:\"TOML\",mime:\"text/x-toml\",mode:\"toml\",ext:[\"toml\"]},{name:\"Tornado\",mime:\"text/x-tornado\",mode:\"tornado\"},{name:\"troff\",mime:\"text/troff\",mode:\"troff\",ext:[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"]},{name:\"TTCN\",mime:\"text/x-ttcn\",mode:\"ttcn\",ext:[\"ttcn\",\"ttcn3\",\"ttcnpp\"]},{name:\"TTCN_CFG\",mime:\"text/x-ttcn-cfg\",mode:\"ttcn-cfg\",ext:[\"cfg\"]},{name:\"Turtle\",mime:\"text/turtle\",mode:\"turtle\",ext:[\"ttl\"]},{name:\"TypeScript\",mime:\"application/typescript\",mode:\"javascript\",ext:[\"ts\"],alias:[\"ts\"]},{name:\"TypeScript-JSX\",mime:\"text/typescript-jsx\",mode:\"jsx\",ext:[\"tsx\"],alias:[\"tsx\"]},{name:\"Twig\",mime:\"text/x-twig\",mode:\"twig\"},{name:\"Web IDL\",mime:\"text/x-webidl\",mode:\"webidl\",ext:[\"webidl\"]},{name:\"VB.NET\",mime:\"text/x-vb\",mode:\"vb\",ext:[\"vb\"]},{name:\"VBScript\",mime:\"text/vbscript\",mode:\"vbscript\",ext:[\"vbs\"]},{name:\"Velocity\",mime:\"text/velocity\",mode:\"velocity\",ext:[\"vtl\"]},{name:\"Verilog\",mime:\"text/x-verilog\",mode:\"verilog\",ext:[\"v\"]},{name:\"VHDL\",mime:\"text/x-vhdl\",mode:\"vhdl\",ext:[\"vhd\",\"vhdl\"]},{name:\"Vue.js Component\",mimes:[\"script/x-vue\",\"text/x-vue\"],mode:\"vue\",ext:[\"vue\"]},{name:\"XML\",mimes:[\"application/xml\",\"text/xml\"],mode:\"xml\",ext:[\"xml\",\"xsl\",\"xsd\",\"svg\"],alias:[\"rss\",\"wsdl\",\"xsd\"]},{name:\"XQuery\",mime:\"application/xquery\",mode:\"xquery\",ext:[\"xy\",\"xquery\"]},{name:\"Yacas\",mime:\"text/x-yacas\",mode:\"yacas\",ext:[\"ys\"]},{name:\"YAML\",mimes:[\"text/x-yaml\",\"text/yaml\"],mode:\"yaml\",ext:[\"yaml\",\"yml\"],alias:[\"yml\"]},{name:\"Z80\",mime:\"text/x-z80\",mode:\"z80\",ext:[\"z80\"]},{name:\"mscgen\",mime:\"text/x-mscgen\",mode:\"mscgen\",ext:[\"mscgen\",\"mscin\",\"msc\"]},{name:\"xu\",mime:\"text/x-xu\",mode:\"mscgen\",ext:[\"xu\"]},{name:\"msgenny\",mime:\"text/x-msgenny\",mode:\"mscgen\",ext:[\"msgenny\"]},{name:\"WebAssembly\",mime:\"text/webassembly\",mode:\"wast\",ext:[\"wat\",\"wast\"]}];for(var t=0;t<e.modeInfo.length;t++){var n=e.modeInfo[t];n.mimes&&(n.mime=n.mimes[0])}e.findModeByMIME=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.mime==t)return r;if(r.mimes)for(var i=0;i<r.mimes.length;i++)if(r.mimes[i]==t)return r}return/\\+xml$/.test(t)?e.findModeByMIME(\"application/xml\"):/\\+json$/.test(t)?e.findModeByMIME(\"application/json\"):void 0},e.findModeByExtension=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.ext)for(var i=0;i<r.ext.length;i++)if(r.ext[i]==t)return r}},e.findModeByFileName=function(t){for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.file&&r.file.test(t))return r}var i=t.lastIndexOf(\".\"),o=i>-1&&t.substring(i+1,t.length);if(o)return e.findModeByExtension(o)},e.findModeByName=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.name.toLowerCase()==t)return r;if(r.alias)for(var i=0;i<r.alias.length;i++)if(r.alias[i].toLowerCase()==t)return r}}}(n(287))},899:function(e,t,n){!function(e){function t(e){e.state.placeholder&&(e.state.placeholder.parentNode.removeChild(e.state.placeholder),e.state.placeholder=null)}function n(e){t(e);var n=e.state.placeholder=document.createElement(\"pre\");n.style.cssText=\"height: 0; overflow: visible\",n.style.direction=e.getOption(\"direction\"),n.className=\"CodeMirror-placeholder CodeMirror-line-like\";var r=e.getOption(\"placeholder\");\"string\"==typeof r&&(r=document.createTextNode(r)),n.appendChild(r),e.display.lineSpace.insertBefore(n,e.display.lineSpace.firstChild)}function r(e){setTimeout((function(){var r=!1;if(1==e.lineCount()){var i=e.getInputField();r=\"TEXTAREA\"==i.nodeName?!e.getLine(0).length:!/[^\\u200b]/.test(i.querySelector(\".CodeMirror-line\").textContent)}r?n(e):t(e)}),20)}function i(e){a(e)&&n(e)}function o(e){var r=e.getWrapperElement(),i=a(e);r.className=r.className.replace(\" CodeMirror-empty\",\"\")+(i?\" CodeMirror-empty\":\"\"),i?n(e):t(e)}function a(e){return 1===e.lineCount()&&\"\"===e.getLine(0)}e.defineOption(\"placeholder\",\"\",(function(n,a,l){var s=l&&l!=e.Init;if(a&&!s)n.on(\"blur\",i),n.on(\"change\",o),n.on(\"swapDoc\",o),e.on(n.getInputField(),\"compositionupdate\",n.state.placeholderCompose=function(){r(n)}),o(n);else if(!a&&s){n.off(\"blur\",i),n.off(\"change\",o),n.off(\"swapDoc\",o),e.off(n.getInputField(),\"compositionupdate\",n.state.placeholderCompose),t(n);var u=n.getWrapperElement();u.className=u.className.replace(\" CodeMirror-empty\",\"\")}a&&!n.hasFocus()&&i(n)}))}(n(287))},900:function(e,t,n){!function(e){\"use strict\";function t(t,r){function i(){t.display.wrapper.offsetHeight?(n(t,r),t.display.lastWrapHeight!=t.display.wrapper.clientHeight&&t.refresh()):r.timeout=setTimeout(i,r.delay)}r.timeout=setTimeout(i,r.delay),r.hurry=function(){clearTimeout(r.timeout),r.timeout=setTimeout(i,50)},e.on(window,\"mouseup\",r.hurry),e.on(window,\"keyup\",r.hurry)}function n(t,n){clearTimeout(n.timeout),e.off(window,\"mouseup\",n.hurry),e.off(window,\"keyup\",n.hurry)}e.defineOption(\"autoRefresh\",!1,(function(e,r){e.state.autoRefresh&&(n(e,e.state.autoRefresh),e.state.autoRefresh=null),r&&0==e.display.wrapper.offsetHeight&&t(e,e.state.autoRefresh={delay:r.delay||250})}))}(n(287))},901:function(e,t,n){!function(e){\"use strict\";function t(e){e.state.markedSelection&&e.operation((function(){u(e)}))}function n(e){e.state.markedSelection&&e.state.markedSelection.length&&e.operation((function(){l(e)}))}e.defineOption(\"styleSelectedText\",!1,(function(r,i,o){var a=o&&o!=e.Init;i&&!a?(r.state.markedSelection=[],r.state.markedSelectionStyle=\"string\"==typeof i?i:\"CodeMirror-selectedtext\",s(r),r.on(\"cursorActivity\",t),r.on(\"change\",n)):!i&&a&&(r.off(\"cursorActivity\",t),r.off(\"change\",n),l(r),r.state.markedSelection=r.state.markedSelectionStyle=null)}));var r=8,i=e.Pos,o=e.cmpPos;function a(e,t,n,a){if(0!=o(t,n))for(var l=e.state.markedSelection,s=e.state.markedSelectionStyle,u=t.line;;){var c=u==t.line?t:i(u,0),d=u+r,f=d>=n.line,h=f?n:i(d,0),p=e.markText(c,h,{className:s});if(null==a?l.push(p):l.splice(a++,0,p),f)break;u=d}}function l(e){for(var t=e.state.markedSelection,n=0;n<t.length;++n)t[n].clear();t.length=0}function s(e){l(e);for(var t=e.listSelections(),n=0;n<t.length;n++)a(e,t[n].from(),t[n].to())}function u(e){if(!e.somethingSelected())return l(e);if(e.listSelections().length>1)return s(e);var t=e.getCursor(\"start\"),n=e.getCursor(\"end\"),i=e.state.markedSelection;if(!i.length)return a(e,t,n);var u=i[0].find(),c=i[i.length-1].find();if(!u||!c||n.line-t.line<=r||o(t,c.to)>=0||o(n,u.from)<=0)return s(e);for(;o(t,u.from)>0;)i.shift().clear(),u=i[0].find();for(o(t,u.from)<0&&(u.to.line-t.line<r?(i.shift().clear(),a(e,t,u.to,0)):a(e,t,u.from,0));o(n,c.to)<0;)i.pop().clear(),c=i[i.length-1].find();o(n,c.to)>0&&(n.line-c.from.line<r?(i.pop().clear(),a(e,c.from,n)):a(e,c.to,n))}}(n(287))},902:function(e,t,n){!function(e){\"use strict\";var t,n,r=e.Pos;function i(e){var t=e.flags;return null!=t?t:(e.ignoreCase?\"i\":\"\")+(e.global?\"g\":\"\")+(e.multiline?\"m\":\"\")}function o(e,t){for(var n=i(e),r=n,o=0;o<t.length;o++)-1==r.indexOf(t.charAt(o))&&(r+=t.charAt(o));return n==r?e:new RegExp(e.source,r)}function a(e){return/\\\\s|\\\\n|\\n|\\\\W|\\\\D|\\[\\^/.test(e.source)}function l(e,t,n){t=o(t,\"g\");for(var i=n.line,a=n.ch,l=e.lastLine();i<=l;i++,a=0){t.lastIndex=a;var s=e.getLine(i),u=t.exec(s);if(u)return{from:r(i,u.index),to:r(i,u.index+u[0].length),match:u}}}function s(e,t,n){if(!a(t))return l(e,t,n);t=o(t,\"gm\");for(var i,s=1,u=n.line,c=e.lastLine();u<=c;){for(var d=0;d<s&&!(u>c);d++){var f=e.getLine(u++);i=null==i?f:i+\"\\n\"+f}s*=2,t.lastIndex=n.ch;var h=t.exec(i);if(h){var p=i.slice(0,h.index).split(\"\\n\"),m=h[0].split(\"\\n\"),g=n.line+p.length-1,v=p[p.length-1].length;return{from:r(g,v),to:r(g+m.length-1,1==m.length?v+m[0].length:m[m.length-1].length),match:h}}}}function u(e,t,n){for(var r,i=0;i<=e.length;){t.lastIndex=i;var o=t.exec(e);if(!o)break;var a=o.index+o[0].length;if(a>e.length-n)break;(!r||a>r.index+r[0].length)&&(r=o),i=o.index+1}return r}function c(e,t,n){t=o(t,\"g\");for(var i=n.line,a=n.ch,l=e.firstLine();i>=l;i--,a=-1){var s=e.getLine(i),c=u(s,t,a<0?0:s.length-a);if(c)return{from:r(i,c.index),to:r(i,c.index+c[0].length),match:c}}}function d(e,t,n){if(!a(t))return c(e,t,n);t=o(t,\"gm\");for(var i,l=1,s=e.getLine(n.line).length-n.ch,d=n.line,f=e.firstLine();d>=f;){for(var h=0;h<l&&d>=f;h++){var p=e.getLine(d--);i=null==i?p:p+\"\\n\"+i}l*=2;var m=u(i,t,s);if(m){var g=i.slice(0,m.index).split(\"\\n\"),v=m[0].split(\"\\n\"),x=d+g.length,y=g[g.length-1].length;return{from:r(x,y),to:r(x+v.length-1,1==v.length?y+v[0].length:v[v.length-1].length),match:m}}}}function f(e,t,n,r){if(e.length==t.length)return n;for(var i=0,o=n+Math.max(0,e.length-t.length);;){if(i==o)return i;var a=i+o>>1,l=r(e.slice(0,a)).length;if(l==n)return a;l>n?o=a:i=a+1}}function h(e,i,o,a){if(!i.length)return null;var l=a?t:n,s=l(i).split(/\\r|\\n\\r?/);e:for(var u=o.line,c=o.ch,d=e.lastLine()+1-s.length;u<=d;u++,c=0){var h=e.getLine(u).slice(c),p=l(h);if(1==s.length){var m=p.indexOf(s[0]);if(-1==m)continue e;return o=f(h,p,m,l)+c,{from:r(u,f(h,p,m,l)+c),to:r(u,f(h,p,m+s[0].length,l)+c)}}var g=p.length-s[0].length;if(p.slice(g)==s[0]){for(var v=1;v<s.length-1;v++)if(l(e.getLine(u+v))!=s[v])continue e;var x=e.getLine(u+s.length-1),y=l(x),b=s[s.length-1];if(y.slice(0,b.length)==b)return{from:r(u,f(h,p,g,l)+c),to:r(u+s.length-1,f(x,y,b.length,l))}}}}function p(e,i,o,a){if(!i.length)return null;var l=a?t:n,s=l(i).split(/\\r|\\n\\r?/);e:for(var u=o.line,c=o.ch,d=e.firstLine()-1+s.length;u>=d;u--,c=-1){var h=e.getLine(u);c>-1&&(h=h.slice(0,c));var p=l(h);if(1==s.length){var m=p.lastIndexOf(s[0]);if(-1==m)continue e;return{from:r(u,f(h,p,m,l)),to:r(u,f(h,p,m+s[0].length,l))}}var g=s[s.length-1];if(p.slice(0,g.length)==g){var v=1;for(o=u-s.length+1;v<s.length-1;v++)if(l(e.getLine(o+v))!=s[v])continue e;var x=e.getLine(u+1-s.length),y=l(x);if(y.slice(y.length-s[0].length)==s[0])return{from:r(u+1-s.length,f(x,y,x.length-s[0].length,l)),to:r(u,f(h,p,g.length,l))}}}}function m(e,t,n,i){var a;this.atOccurrence=!1,this.doc=e,n=n?e.clipPos(n):r(0,0),this.pos={from:n,to:n},\"object\"==typeof i?a=i.caseFold:(a=i,i=null),\"string\"==typeof t?(null==a&&(a=!1),this.matches=function(n,r){return(n?p:h)(e,t,r,a)}):(t=o(t,\"gm\"),i&&!1===i.multiline?this.matches=function(n,r){return(n?c:l)(e,t,r)}:this.matches=function(n,r){return(n?d:s)(e,t,r)})}String.prototype.normalize?(t=function(e){return e.normalize(\"NFD\").toLowerCase()},n=function(e){return e.normalize(\"NFD\")}):(t=function(e){return e.toLowerCase()},n=function(e){return e}),m.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(t){for(var n=this.matches(t,this.doc.clipPos(t?this.pos.from:this.pos.to));n&&0==e.cmpPos(n.from,n.to);)t?n.from.ch?n.from=r(n.from.line,n.from.ch-1):n=n.from.line==this.doc.firstLine()?null:this.matches(t,this.doc.clipPos(r(n.from.line-1))):n.to.ch<this.doc.getLine(n.to.line).length?n.to=r(n.to.line,n.to.ch+1):n=n.to.line==this.doc.lastLine()?null:this.matches(t,r(n.to.line+1,0));if(n)return this.pos=n,this.atOccurrence=!0,this.pos.match||!0;var i=r(t?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:i,to:i},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(t,n){if(this.atOccurrence){var i=e.splitLines(t);this.doc.replaceRange(i,this.pos.from,this.pos.to,n),this.pos.to=r(this.pos.from.line+i.length-1,i[i.length-1].length+(1==i.length?this.pos.from.ch:0))}}},e.defineExtension(\"getSearchCursor\",(function(e,t,n){return new m(this.doc,e,t,n)})),e.defineDocExtension(\"getSearchCursor\",(function(e,t,n){return new m(this,e,t,n)})),e.defineExtension(\"selectMatches\",(function(t,n){for(var r=[],i=this.getSearchCursor(t,this.getCursor(\"from\"),n);i.findNext()&&!(e.cmpPos(i.to(),this.getCursor(\"to\"))>0);)r.push({anchor:i.from(),head:i.to()});r.length&&this.setSelections(r,0)}))}(n(287))},903:function(e,t,n){!function(e){\"use strict\";var t=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\\.beep|\\.lwz|\\.xpc|\\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\\.beeps?|xmpp|xri|ymsgr|z39\\.50[rs]?):(?:\\/{1,3}|[a-z0-9%])|www\\d{0,3}[.]|[a-z0-9.\\-]+[.][a-z]{2,4}\\/)(?:[^\\s()<>]|\\([^\\s()<>]*\\))+(?:\\([^\\s()<>]*\\)|[^\\s`*!()\\[\\]{};:'\".,<>?\\xab\\xbb\\u201c\\u201d\\u2018\\u2019]))/i;e.defineMode(\"gfm\",(function(n,r){var i=0;function o(e){return e.code=!1,null}var a={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(e){return{code:e.code,codeBlock:e.codeBlock,ateSpace:e.ateSpace}},token:function(e,n){if(n.combineTokens=null,n.codeBlock)return e.match(/^```+/)?(n.codeBlock=!1,null):(e.skipToEnd(),null);if(e.sol()&&(n.code=!1),e.sol()&&e.match(/^```+/))return e.skipToEnd(),n.codeBlock=!0,null;if(\"`\"===e.peek()){e.next();var o=e.pos;e.eatWhile(\"`\");var a=1+e.pos-o;return n.code?a===i&&(n.code=!1):(i=a,n.code=!0),null}if(n.code)return e.next(),null;if(e.eatSpace())return n.ateSpace=!0,null;if((e.sol()||n.ateSpace)&&(n.ateSpace=!1,!1!==r.gitHubSpice)){if(e.match(/^(?:[a-zA-Z0-9\\-_]+\\/)?(?:[a-zA-Z0-9\\-_]+@)?(?=.{0,6}\\d)(?:[a-f0-9]{7,40}\\b)/))return n.combineTokens=!0,\"link\";if(e.match(/^(?:[a-zA-Z0-9\\-_]+\\/)?(?:[a-zA-Z0-9\\-_]+)?#[0-9]+\\b/))return n.combineTokens=!0,\"link\"}return e.match(t)&&\"](\"!=e.string.slice(e.start-2,e.start)&&(0==e.start||/\\W/.test(e.string.charAt(e.start-1)))?(n.combineTokens=!0,\"link\"):(e.next(),null)},blankLine:o},l={taskLists:!0,strikethrough:!0,emoji:!0};for(var s in r)l[s]=r[s];return l.name=\"markdown\",e.overlayMode(e.getMode(n,l),a)}),\"markdown\"),e.defineMIME(\"text/x-gfm\",\"gfm\")}(n(287),n(849),n(851))},904:function(e,t,n){\"use strict\";var r=n(905);function i(e){\"function\"===typeof(e=e||{}).codeMirrorInstance&&\"function\"===typeof e.codeMirrorInstance.defineMode?(String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),e.codeMirrorInstance.defineMode(\"spell-checker\",(function(t){if(!i.aff_loading){i.aff_loading=!0;var n=new XMLHttpRequest;n.open(\"GET\",\"https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff\",!0),n.onload=function(){4===n.readyState&&200===n.status&&(i.aff_data=n.responseText,i.num_loaded++,2==i.num_loaded&&(i.typo=new r(\"en_US\",i.aff_data,i.dic_data,{platform:\"any\"})))},n.send(null)}if(!i.dic_loading){i.dic_loading=!0;var o=new XMLHttpRequest;o.open(\"GET\",\"https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic\",!0),o.onload=function(){4===o.readyState&&200===o.status&&(i.dic_data=o.responseText,i.num_loaded++,2==i.num_loaded&&(i.typo=new r(\"en_US\",i.aff_data,i.dic_data,{platform:\"any\"})))},o.send(null)}var a='!\"#$%&()*+,-./:;<=>?@[\\\\]^_`{|}~ ',l={token:function(e){var t=e.peek(),n=\"\";if(a.includes(t))return e.next(),null;for(;null!=(t=e.peek())&&!a.includes(t);)n+=t,e.next();return i.typo&&!i.typo.check(n)?\"spell-error\":null}},s=e.codeMirrorInstance.getMode(t,t.backdrop||\"text/plain\");return e.codeMirrorInstance.overlayMode(s,l,!0)}))):console.log(\"CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`\")}i.num_loaded=0,i.aff_loading=!1,i.dic_loading=!1,i.aff_data=\"\",i.dic_data=\"\",i.typo,e.exports=i},905:function(e,t,n){(function(t){var r;!function(){\"use strict\";(r=function(e,n,r,i){i=i||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=i.flags||{},this.memoized={},this.loaded=!1;var o,a,l,s,u,c=this;function d(e,t){var n=c._readFile(e,null,i.asyncLoad);i.asyncLoad?n.then((function(e){t(e)})):t(n)}function f(e){n=e,r&&p()}function h(e){r=e,n&&p()}function p(){for(c.rules=c._parseAFF(n),c.compoundRuleCodes={},a=0,s=c.compoundRules.length;a<s;a++){var e=c.compoundRules[a];for(l=0,u=e.length;l<u;l++)c.compoundRuleCodes[e[l]]=[]}for(a in\"ONLYINCOMPOUND\"in c.flags&&(c.compoundRuleCodes[c.flags.ONLYINCOMPOUND]=[]),c.dictionaryTable=c._parseDIC(r),c.compoundRuleCodes)0===c.compoundRuleCodes[a].length&&delete c.compoundRuleCodes[a];for(a=0,s=c.compoundRules.length;a<s;a++){var t=c.compoundRules[a],o=\"\";for(l=0,u=t.length;l<u;l++){var d=t[l];d in c.compoundRuleCodes?o+=\"(\"+c.compoundRuleCodes[d].join(\"|\")+\")\":o+=d}c.compoundRules[a]=new RegExp(o,\"i\")}c.loaded=!0,i.asyncLoad&&i.loadedCallback&&i.loadedCallback(c)}return e&&(c.dictionary=e,n&&r?p():\"undefined\"!==typeof window&&\"chrome\"in window&&\"extension\"in window.chrome&&\"getURL\"in window.chrome.extension?(o=i.dictionaryPath?i.dictionaryPath:\"typo/dictionaries\",n||d(chrome.extension.getURL(o+\"/\"+e+\"/\"+e+\".aff\"),f),r||d(chrome.extension.getURL(o+\"/\"+e+\"/\"+e+\".dic\"),h)):(o=i.dictionaryPath?i.dictionaryPath:t+\"/dictionaries\",n||d(o+\"/\"+e+\"/\"+e+\".aff\",f),r||d(o+\"/\"+e+\"/\"+e+\".dic\",h))),this}).prototype={load:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);return this},_readFile:function(e,t,r){if(t=t||\"utf8\",\"undefined\"!==typeof XMLHttpRequest){var i,o=new XMLHttpRequest;return o.open(\"GET\",e,r),r&&(i=new Promise((function(e,t){o.onload=function(){200===o.status?e(o.responseText):t(o.statusText)},o.onerror=function(){t(o.statusText)}}))),o.overrideMimeType&&o.overrideMimeType(\"text/plain; charset=\"+t),o.send(null),r?i:o.responseText}var a=n(906);try{if(a.existsSync(e))return a.readFileSync(e,t);console.log(\"Path \"+e+\" does not exist.\")}catch(l){return console.log(l),\"\"}},_parseAFF:function(e){var t,n,r,i,o,a,l,s={},u=(e=this._removeAffixComments(e)).split(/\\r?\\n/);for(i=0,a=u.length;i<a;i++){var c=(t=u[i]).split(/\\s+/),d=c[0];if(\"PFX\"==d||\"SFX\"==d){var f=c[1],h=c[2],p=[];for(o=i+1,l=i+1+(n=parseInt(c[3],10));o<l;o++){var m=(r=u[o].split(/\\s+/))[2],g=r[3].split(\"/\"),v=g[0];\"0\"===v&&(v=\"\");var x=this.parseRuleCodes(g[1]),y=r[4],b={};b.add=v,x.length>0&&(b.continuationClasses=x),\".\"!==y&&(b.match=\"SFX\"===d?new RegExp(y+\"$\"):new RegExp(\"^\"+y)),\"0\"!=m&&(b.remove=\"SFX\"===d?new RegExp(m+\"$\"):m),p.push(b)}s[f]={type:d,combineable:\"Y\"==h,entries:p},i+=n}else if(\"COMPOUNDRULE\"===d){for(o=i+1,l=i+1+(n=parseInt(c[1],10));o<l;o++)r=(t=u[o]).split(/\\s+/),this.compoundRules.push(r[1]);i+=n}else\"REP\"===d?3===(r=t.split(/\\s+/)).length&&this.replacementTable.push([r[1],r[2]]):this.flags[d]=c[1]}return s},_removeAffixComments:function(e){return e=(e=(e=(e=e.replace(/^\\s*#.*$/gm,\"\")).replace(/^\\s\\s*/m,\"\").replace(/\\s\\s*$/m,\"\")).replace(/\\n{2,}/g,\"\\n\")).replace(/^\\s\\s*/,\"\").replace(/\\s\\s*$/,\"\")},_parseDIC:function(e){var t=(e=this._removeDicComments(e)).split(/\\r?\\n/),n={};function r(e,t){n.hasOwnProperty(e)||(n[e]=null),t.length>0&&(null===n[e]&&(n[e]=[]),n[e].push(t))}for(var i=1,o=t.length;i<o;i++){var a=t[i];if(a){var l=a.split(\"/\",2),s=l[0];if(l.length>1){var u=this.parseRuleCodes(l[1]);\"NEEDAFFIX\"in this.flags&&-1!=u.indexOf(this.flags.NEEDAFFIX)||r(s,u);for(var c=0,d=u.length;c<d;c++){var f=u[c],h=this.rules[f];if(h)for(var p=this._applyRule(s,h),m=0,g=p.length;m<g;m++){var v=p[m];if(r(v,[]),h.combineable)for(var x=c+1;x<d;x++){var y=u[x],b=this.rules[y];if(b&&b.combineable&&h.type!=b.type)for(var D=this._applyRule(v,b),C=0,w=D.length;C<w;C++){r(D[C],[])}}}f in this.compoundRuleCodes&&this.compoundRuleCodes[f].push(s)}}else r(s.trim(),[])}}return n},_removeDicComments:function(e){return e=e.replace(/^\\t.*$/gm,\"\")},parseRuleCodes:function(e){if(!e)return[];if(!(\"FLAG\"in this.flags))return e.split(\"\");if(\"long\"===this.flags.FLAG){for(var t=[],n=0,r=e.length;n<r;n+=2)t.push(e.substr(n,2));return t}return\"num\"===this.flags.FLAG?e.split(\",\"):void 0},_applyRule:function(e,t){for(var n=t.entries,r=[],i=0,o=n.length;i<o;i++){var a=n[i];if(!a.match||e.match(a.match)){var l=e;if(a.remove&&(l=l.replace(a.remove,\"\")),\"SFX\"===t.type?l+=a.add:l=a.add+l,r.push(l),\"continuationClasses\"in a)for(var s=0,u=a.continuationClasses.length;s<u;s++){var c=this.rules[a.continuationClasses[s]];c&&(r=r.concat(this._applyRule(l,c)))}}}return r},check:function(e){if(!this.loaded)throw\"Dictionary not loaded.\";var t=e.replace(/^\\s\\s*/,\"\").replace(/\\s\\s*$/,\"\");if(this.checkExact(t))return!0;if(t.toUpperCase()===t){var n=t[0]+t.substring(1).toLowerCase();if(this.hasFlag(n,\"KEEPCASE\"))return!1;if(this.checkExact(n))return!0;if(this.checkExact(t.toLowerCase()))return!0}var r=t[0].toLowerCase()+t.substring(1);if(r!==t){if(this.hasFlag(r,\"KEEPCASE\"))return!1;if(this.checkExact(r))return!0}return!1},checkExact:function(e){if(!this.loaded)throw\"Dictionary not loaded.\";var t,n,r=this.dictionaryTable[e];if(\"undefined\"===typeof r){if(\"COMPOUNDMIN\"in this.flags&&e.length>=this.flags.COMPOUNDMIN)for(t=0,n=this.compoundRules.length;t<n;t++)if(e.match(this.compoundRules[t]))return!0}else{if(null===r)return!0;if(\"object\"===typeof r)for(t=0,n=r.length;t<n;t++)if(!this.hasFlag(e,\"ONLYINCOMPOUND\",r[t]))return!0}return!1},hasFlag:function(e,t,n){if(!this.loaded)throw\"Dictionary not loaded.\";return!(!(t in this.flags)||(\"undefined\"===typeof n&&(n=Array.prototype.concat.apply([],this.dictionaryTable[e])),!n||-1===n.indexOf(this.flags[t])))},alphabet:\"\",suggest:function(e,t){if(!this.loaded)throw\"Dictionary not loaded.\";if(t=t||5,this.memoized.hasOwnProperty(e)){var n=this.memoized[e].limit;if(t<=n||this.memoized[e].suggestions.length<n)return this.memoized[e].suggestions.slice(0,t)}if(this.check(e))return[];for(var r=0,i=this.replacementTable.length;r<i;r++){var o=this.replacementTable[r];if(-1!==e.indexOf(o[0])){var a=e.replace(o[0],o[1]);if(this.check(a))return[a]}}var l=this;function s(e,t){var n,r,i,o,a={},s=l.alphabet.length;if(\"string\"==typeof e){var u=e;(e={})[u]=!0}for(var u in e)for(n=0,i=u.length+1;n<i;n++){var c=[u.substring(0,n),u.substring(n)];if(c[1]&&(o=c[0]+c[1].substring(1),t&&!l.check(o)||(o in a?a[o]+=1:a[o]=1)),c[1].length>1&&c[1][1]!==c[1][0]&&(o=c[0]+c[1][1]+c[1][0]+c[1].substring(2),t&&!l.check(o)||(o in a?a[o]+=1:a[o]=1)),c[1]){var d=c[1].substring(0,1).toUpperCase()===c[1].substring(0,1)?\"uppercase\":\"lowercase\";for(r=0;r<s;r++){var f=l.alphabet[r];\"uppercase\"===d&&(f=f.toUpperCase()),f!=c[1].substring(0,1)&&(o=c[0]+f+c[1].substring(1),t&&!l.check(o)||(o in a?a[o]+=1:a[o]=1))}}if(c[1])for(r=0;r<s;r++){d=c[0].substring(-1).toUpperCase()===c[0].substring(-1)&&c[1].substring(0,1).toUpperCase()===c[1].substring(0,1)?\"uppercase\":\"lowercase\",f=l.alphabet[r];\"uppercase\"===d&&(f=f.toUpperCase()),o=c[0]+f+c[1],t&&!l.check(o)||(o in a?a[o]+=1:a[o]=1)}}return a}return l.alphabet=\"abcdefghijklmnopqrstuvwxyz\",this.memoized[e]={suggestions:function(e){var n,r=s(e),i=s(r,!0);for(var o in r)l.check(o)&&(o in i?i[o]+=r[o]:i[o]=r[o]);var a=[];for(n in i)i.hasOwnProperty(n)&&a.push([n,i[n]]);a.sort((function(e,t){var n=e[1],r=t[1];return n<r?-1:n>r?1:t[0].localeCompare(e[0])})).reverse();var u=[],c=\"lowercase\";e.toUpperCase()===e?c=\"uppercase\":e.substr(0,1).toUpperCase()+e.substr(1).toLowerCase()===e&&(c=\"capitalized\");var d=t;for(n=0;n<Math.min(d,a.length);n++)\"uppercase\"===c?a[n][0]=a[n][0].toUpperCase():\"capitalized\"===c&&(a[n][0]=a[n][0].substr(0,1).toUpperCase()+a[n][0].substr(1)),l.hasFlag(a[n][0],\"NOSUGGEST\")||-1!=u.indexOf(a[n][0])?d++:u.push(a[n][0]);return u}(e),limit:t},this.memoized[e].suggestions}}}(),e.exports=r}).call(this,\"/\")},907:function(e,t,n){e.exports=function(){\"use strict\";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}function n(e,t){if(e){if(\"string\"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){var r=\"undefined\"!==typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=n(e))||t&&e&&\"number\"===typeof e.length){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o={exports:{}};function a(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:\"\",highlight:null,langPrefix:\"language-\",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function l(e){o.exports.defaults=e}o.exports={defaults:a(),getDefaults:a,changeDefaults:l};var s=/[&<>\"']/,u=/[&<>\"']/g,c=/[<>\"']|&(?!#?\\w+;)/,d=/[<>\"']|&(?!#?\\w+;)/g,f={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"},h=function(e){return f[e]};function p(e,t){if(t){if(s.test(e))return e.replace(u,h)}else if(c.test(e))return e.replace(d,h);return e}var m=/&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/gi;function g(e){return e.replace(m,(function(e,t){return\"colon\"===(t=t.toLowerCase())?\":\":\"#\"===t.charAt(0)?\"x\"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):\"\"}))}var v=/(^|[^\\[])\\^/g;function x(e,t){e=e.source||e,t=t||\"\";var n={replace:function(t,r){return r=(r=r.source||r).replace(v,\"$1\"),e=e.replace(t,r),n},getRegex:function(){return new RegExp(e,t)}};return n}var y=/[^\\w:]/g,b=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function D(e,t,n){if(e){var r;try{r=decodeURIComponent(g(n)).replace(y,\"\").toLowerCase()}catch(i){return null}if(0===r.indexOf(\"javascript:\")||0===r.indexOf(\"vbscript:\")||0===r.indexOf(\"data:\"))return null}t&&!b.test(n)&&(n=A(t,n));try{n=encodeURI(n).replace(/%25/g,\"%\")}catch(i){return null}return n}var C={},w=/^[^:]+:\\/*[^/]*$/,k=/^([^:]+:)[\\s\\S]*$/,S=/^([^:]+:\\/*[^/]*)[\\s\\S]*$/;function A(e,t){C[\" \"+e]||(w.test(e)?C[\" \"+e]=e+\"/\":C[\" \"+e]=T(e,\"/\",!0));var n=-1===(e=C[\" \"+e]).indexOf(\":\");return\"//\"===t.substring(0,2)?n?t:e.replace(k,\"$1\")+t:\"/\"===t.charAt(0)?n?t:e.replace(S,\"$1\")+t:e+t}function F(e){for(var t,n,r=1;r<arguments.length;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function E(e,t){var n=e.replace(/\\|/g,(function(e,t,n){for(var r=!1,i=t;--i>=0&&\"\\\\\"===n[i];)r=!r;return r?\"|\":\" |\"})).split(/ \\|/),r=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push(\"\");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\\\\|/g,\"|\");return n}function T(e,t,n){var r=e.length;if(0===r)return\"\";for(var i=0;i<r;){var o=e.charAt(r-i-1);if(o!==t||n){if(o===t||!n)break;i++}else i++}return e.substr(0,r-i)}function L(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=e.length,r=0,i=0;i<n;i++)if(\"\\\\\"===e[i])i++;else if(e[i]===t[0])r++;else if(e[i]===t[1]&&--r<0)return i;return-1}function M(e){e&&e.sanitize&&!e.silent&&console.warn(\"marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options\")}function N(e,t){if(t<1)return\"\";for(var n=\"\";t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}var O={escape:p,unescape:g,edit:x,cleanUrl:D,resolveUrl:A,noopTest:{exec:function(){}},merge:F,splitCells:E,rtrim:T,findClosingBracket:L,checkSanitizeDeprecation:M,repeatString:N},B=o.exports.defaults,I=O.rtrim,z=O.splitCells,P=O.escape,R=O.findClosingBracket;function j(e,t,n){var r=t.href,i=t.title?P(t.title):null,o=e[1].replace(/\\\\([\\[\\]])/g,\"$1\");return\"!\"!==e[0].charAt(0)?{type:\"link\",raw:n,href:r,title:i,text:o}:{type:\"image\",raw:n,href:r,title:i,text:P(o)}}function H(e,t){var n=e.match(/^(\\s+)(?:```)/);if(null===n)return t;var r=n[1];return t.split(\"\\n\").map((function(e){var t=e.match(/^\\s+/);return null===t?e:t[0].length>=r.length?e.slice(r.length):e})).join(\"\\n\")}var _=function(){function e(e){this.options=e||B}var t=e.prototype;return t.space=function(e){var t=this.rules.block.newline.exec(e);if(t)return t[0].length>1?{type:\"space\",raw:t[0]}:{raw:\"\\n\"}},t.code=function(e){var t=this.rules.block.code.exec(e);if(t){var n=t[0].replace(/^ {1,4}/gm,\"\");return{type:\"code\",raw:t[0],codeBlockStyle:\"indented\",text:this.options.pedantic?n:I(n,\"\\n\")}}},t.fences=function(e){var t=this.rules.block.fences.exec(e);if(t){var n=t[0],r=H(n,t[3]||\"\");return{type:\"code\",raw:n,lang:t[2]?t[2].trim():t[2],text:r}}},t.heading=function(e){var t=this.rules.block.heading.exec(e);if(t){var n=t[2].trim();if(/#$/.test(n)){var r=I(n,\"#\");this.options.pedantic?n=r.trim():r&&!/ $/.test(r)||(n=r.trim())}return{type:\"heading\",raw:t[0],depth:t[1].length,text:n}}},t.nptable=function(e){var t=this.rules.block.nptable.exec(e);if(t){var n={type:\"table\",header:z(t[1].replace(/^ *| *\\| *$/g,\"\")),align:t[2].replace(/^ *|\\| *$/g,\"\").split(/ *\\| */),cells:t[3]?t[3].replace(/\\n$/,\"\").split(\"\\n\"):[],raw:t[0]};if(n.header.length===n.align.length){var r,i=n.align.length;for(r=0;r<i;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]=\"right\":/^ *:-+: *$/.test(n.align[r])?n.align[r]=\"center\":/^ *:-+ *$/.test(n.align[r])?n.align[r]=\"left\":n.align[r]=null;for(i=n.cells.length,r=0;r<i;r++)n.cells[r]=z(n.cells[r],n.header.length);return n}}},t.hr=function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:\"hr\",raw:t[0]}},t.blockquote=function(e){var t=this.rules.block.blockquote.exec(e);if(t){var n=t[0].replace(/^ *> ?/gm,\"\");return{type:\"blockquote\",raw:t[0],text:n}}},t.list=function(e){var t=this.rules.block.list.exec(e);if(t){var n,r,i,o,a,l,s,u,c,d=t[0],f=t[2],h=f.length>1,p={type:\"list\",raw:d,ordered:h,start:h?+f.slice(0,-1):\"\",loose:!1,items:[]},m=t[0].match(this.rules.block.item),g=!1,v=m.length;i=this.rules.block.listItemStart.exec(m[0]);for(var x=0;x<v;x++){if(d=n=m[x],this.options.pedantic||(c=n.match(new RegExp(\"\\\\n\\\\s*\\\\n {0,\"+(i[0].length-1)+\"}\\\\S\")))&&(a=n.length-c.index+m.slice(x+1).join(\"\\n\").length,p.raw=p.raw.substring(0,p.raw.length-a),d=n=n.substring(0,c.index),v=x+1),x!==v-1){if(o=this.rules.block.listItemStart.exec(m[x+1]),this.options.pedantic?o[1].length>i[1].length:o[1].length>=i[0].length||o[1].length>3){m.splice(x,2,m[x]+(!this.options.pedantic&&o[1].length<i[0].length&&!m[x].match(/\\n$/)?\"\":\"\\n\")+m[x+1]),x--,v--;continue}(!this.options.pedantic||this.options.smartLists?o[2][o[2].length-1]!==f[f.length-1]:h===(1===o[2].length))&&(a=m.slice(x+1).join(\"\\n\").length,p.raw=p.raw.substring(0,p.raw.length-a),x=v-1),i=o}r=n.length,~(n=n.replace(/^ *([*+-]|\\d+[.)]) ?/,\"\")).indexOf(\"\\n \")&&(r-=n.length,n=this.options.pedantic?n.replace(/^ {1,4}/gm,\"\"):n.replace(new RegExp(\"^ {1,\"+r+\"}\",\"gm\"),\"\")),n=I(n,\"\\n\"),x!==v-1&&(d+=\"\\n\"),l=g||/\\n\\n(?!\\s*$)/.test(d),x!==v-1&&(g=\"\\n\\n\"===d.slice(-2),l||(l=g)),l&&(p.loose=!0),this.options.gfm&&(u=void 0,(s=/^\\[[ xX]\\] /.test(n))&&(u=\" \"!==n[1],n=n.replace(/^\\[[ xX]\\] +/,\"\"))),p.items.push({type:\"list_item\",raw:d,task:s,checked:u,loose:l,text:n})}return p}},t.html=function(e){var t=this.rules.block.html.exec(e);if(t)return{type:this.options.sanitize?\"paragraph\":\"html\",raw:t[0],pre:!this.options.sanitizer&&(\"pre\"===t[1]||\"script\"===t[1]||\"style\"===t[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):P(t[0]):t[0]}},t.def=function(e){var t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:\"def\",tag:t[1].toLowerCase().replace(/\\s+/g,\" \"),raw:t[0],href:t[2],title:t[3]}},t.table=function(e){var t=this.rules.block.table.exec(e);if(t){var n={type:\"table\",header:z(t[1].replace(/^ *| *\\| *$/g,\"\")),align:t[2].replace(/^ *|\\| *$/g,\"\").split(/ *\\| */),cells:t[3]?t[3].replace(/\\n$/,\"\").split(\"\\n\"):[]};if(n.header.length===n.align.length){n.raw=t[0];var r,i=n.align.length;for(r=0;r<i;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]=\"right\":/^ *:-+: *$/.test(n.align[r])?n.align[r]=\"center\":/^ *:-+ *$/.test(n.align[r])?n.align[r]=\"left\":n.align[r]=null;for(i=n.cells.length,r=0;r<i;r++)n.cells[r]=z(n.cells[r].replace(/^ *\\| *| *\\| *$/g,\"\"),n.header.length);return n}}},t.lheading=function(e){var t=this.rules.block.lheading.exec(e);if(t)return{type:\"heading\",raw:t[0],depth:\"=\"===t[2].charAt(0)?1:2,text:t[1]}},t.paragraph=function(e){var t=this.rules.block.paragraph.exec(e);if(t)return{type:\"paragraph\",raw:t[0],text:\"\\n\"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1]}},t.text=function(e){var t=this.rules.block.text.exec(e);if(t)return{type:\"text\",raw:t[0],text:t[0]}},t.escape=function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:\"escape\",raw:t[0],text:P(t[1])}},t.tag=function(e,t,n){var r=this.rules.inline.tag.exec(e);if(r)return!t&&/^<a /i.test(r[0])?t=!0:t&&/^<\\/a>/i.test(r[0])&&(t=!1),!n&&/^<(pre|code|kbd|script)(\\s|>)/i.test(r[0])?n=!0:n&&/^<\\/(pre|code|kbd|script)(\\s|>)/i.test(r[0])&&(n=!1),{type:this.options.sanitize?\"text\":\"html\",raw:r[0],inLink:t,inRawBlock:n,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):P(r[0]):r[0]}},t.link=function(e){var t=this.rules.inline.link.exec(e);if(t){var n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;var r=I(n.slice(0,-1),\"\\\\\");if((n.length-r.length)%2===0)return}else{var i=R(t[2],\"()\");if(i>-1){var o=(0===t[0].indexOf(\"!\")?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,o).trim(),t[3]=\"\"}}var a=t[2],l=\"\";if(this.options.pedantic){var s=/^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(a);s&&(a=s[1],l=s[3])}else l=t[3]?t[3].slice(1,-1):\"\";return a=a.trim(),/^</.test(a)&&(a=this.options.pedantic&&!/>$/.test(n)?a.slice(1):a.slice(1,-1)),j(t,{href:a?a.replace(this.rules.inline._escapes,\"$1\"):a,title:l?l.replace(this.rules.inline._escapes,\"$1\"):l},t[0])}},t.reflink=function(e,t){var n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){var r=(n[2]||n[1]).replace(/\\s+/g,\" \");if(!(r=t[r.toLowerCase()])||!r.href){var i=n[0].charAt(0);return{type:\"text\",raw:i,text:i}}return j(n,r,n[0])}},t.emStrong=function(e,t,n){void 0===n&&(n=\"\");var r=this.rules.inline.emStrong.lDelim.exec(e);if(r&&(!r[3]||!n.match(/(?:[0-9A-Za-z\\xAA\\xB2\\xB3\\xB5\\xB9\\xBA\\xBC-\\xBE\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0560-\\u0588\\u05D0-\\u05EA\\u05EF-\\u05F2\\u0620-\\u064A\\u0660-\\u0669\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07C0-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086A\\u08A0-\\u08B4\\u08B6-\\u08C7\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0966-\\u096F\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09E6-\\u09F1\\u09F4-\\u09F9\\u09FC\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A6F\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AE6-\\u0AEF\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B66-\\u0B6F\\u0B71-\\u0B77\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0BE6-\\u0BF2\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C66-\\u0C6F\\u0C78-\\u0C7E\\u0C80\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D04-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D54-\\u0D56\\u0D58-\\u0D61\\u0D66-\\u0D78\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DE6-\\u0DEF\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E86-\\u0E8A\\u0E8C-\\u0EA3\\u0EA5\\u0EA7-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F20-\\u0F33\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F-\\u1049\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u1090-\\u1099\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1369-\\u137C\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u17E0-\\u17E9\\u17F0-\\u17F9\\u1810-\\u1819\\u1820-\\u1878\\u1880-\\u1884\\u1887-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19DA\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B50-\\u1B59\\u1B83-\\u1BA0\\u1BAE-\\u1BE5\\u1C00-\\u1C23\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1C80-\\u1C88\\u1C90-\\u1CBA\\u1CBD-\\u1CBF\\u1CE9-\\u1CEC\\u1CEE-\\u1CF3\\u1CF5\\u1CF6\\u1CFA\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2070\\u2071\\u2074-\\u2079\\u207F-\\u2089\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2150-\\u2189\\u2460-\\u249B\\u24EA-\\u24FF\\u2776-\\u2793\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2CFD\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312F\\u3131-\\u318E\\u3192-\\u3195\\u31A0-\\u31BF\\u31F0-\\u31FF\\u3220-\\u3229\\u3248-\\u324F\\u3251-\\u325F\\u3280-\\u3289\\u32B1-\\u32BF\\u3400-\\u4DBF\\u4E00-\\u9FFC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7BF\\uA7C2-\\uA7CA\\uA7F5-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA830-\\uA835\\uA840-\\uA873\\uA882-\\uA8B3\\uA8D0-\\uA8D9\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA8FE\\uA900-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF-\\uA9D9\\uA9E0-\\uA9E4\\uA9E6-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB69\\uAB70-\\uABE2\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD07-\\uDD33\\uDD40-\\uDD78\\uDD8A\\uDD8B\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDEE1-\\uDEFB\\uDF00-\\uDF23\\uDF2D-\\uDF4A\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCA0-\\uDCA9\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC58-\\uDC76\\uDC79-\\uDC9E\\uDCA7-\\uDCAF\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDCFB-\\uDD1B\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBC-\\uDDCF\\uDDD2-\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE35\\uDE40-\\uDE48\\uDE60-\\uDE7E\\uDE80-\\uDE9F\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDEEB-\\uDEEF\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF58-\\uDF72\\uDF78-\\uDF91\\uDFA9-\\uDFAF]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2\\uDCFA-\\uDD23\\uDD30-\\uDD39\\uDE60-\\uDE7E\\uDE80-\\uDEA9\\uDEB0\\uDEB1\\uDF00-\\uDF27\\uDF30-\\uDF45\\uDF51-\\uDF54\\uDFB0-\\uDFCB\\uDFE0-\\uDFF6]|\\uD804[\\uDC03-\\uDC37\\uDC52-\\uDC6F\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDCF0-\\uDCF9\\uDD03-\\uDD26\\uDD36-\\uDD3F\\uDD44\\uDD47\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDD0-\\uDDDA\\uDDDC\\uDDE1-\\uDDF4\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDEF0-\\uDEF9\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC00-\\uDC34\\uDC47-\\uDC4A\\uDC50-\\uDC59\\uDC5F-\\uDC61\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDCD0-\\uDCD9\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE50-\\uDE59\\uDE80-\\uDEAA\\uDEB8\\uDEC0-\\uDEC9\\uDF00-\\uDF1A\\uDF30-\\uDF3B]|\\uD806[\\uDC00-\\uDC2B\\uDCA0-\\uDCF2\\uDCFF-\\uDD06\\uDD09\\uDD0C-\\uDD13\\uDD15\\uDD16\\uDD18-\\uDD2F\\uDD3F\\uDD41\\uDD50-\\uDD59\\uDDA0-\\uDDA7\\uDDAA-\\uDDD0\\uDDE1\\uDDE3\\uDE00\\uDE0B-\\uDE32\\uDE3A\\uDE50\\uDE5C-\\uDE89\\uDE9D\\uDEC0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC2E\\uDC40\\uDC50-\\uDC6C\\uDC72-\\uDC8F\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD30\\uDD46\\uDD50-\\uDD59\\uDD60-\\uDD65\\uDD67\\uDD68\\uDD6A-\\uDD89\\uDD98\\uDDA0-\\uDDA9\\uDEE0-\\uDEF2\\uDFB0\\uDFC0-\\uDFD4]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|[\\uD80C\\uD81C-\\uD820\\uD822\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879\\uD880-\\uD883][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDE60-\\uDE69\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF50-\\uDF59\\uDF5B-\\uDF61\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDE40-\\uDE96\\uDF00-\\uDF4A\\uDF50\\uDF93-\\uDF9F\\uDFE0\\uDFE1\\uDFE3]|\\uD821[\\uDC00-\\uDFF7]|\\uD823[\\uDC00-\\uDCD5\\uDD00-\\uDD08]|\\uD82C[\\uDC00-\\uDD1E\\uDD50-\\uDD52\\uDD64-\\uDD67\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD834[\\uDEE0-\\uDEF3\\uDF60-\\uDF78]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB\\uDFCE-\\uDFFF]|\\uD838[\\uDD00-\\uDD2C\\uDD37-\\uDD3D\\uDD40-\\uDD49\\uDD4E\\uDEC0-\\uDEEB\\uDEF0-\\uDEF9]|\\uD83A[\\uDC00-\\uDCC4\\uDCC7-\\uDCCF\\uDD00-\\uDD43\\uDD4B\\uDD50-\\uDD59]|\\uD83B[\\uDC71-\\uDCAB\\uDCAD-\\uDCAF\\uDCB1-\\uDCB4\\uDD01-\\uDD2D\\uDD2F-\\uDD3D\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD83C[\\uDD00-\\uDD0C]|\\uD83E[\\uDFF0-\\uDFF9]|\\uD869[\\uDC00-\\uDEDD\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D]|\\uD884[\\uDC00-\\uDF4A])/))){var i=r[1]||r[2]||\"\";if(!i||i&&(\"\"===n||this.rules.inline.punctuation.exec(n))){var o,a,l=r[0].length-1,s=l,u=0,c=\"*\"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+l);null!=(r=c.exec(t));)if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6])if(a=o.length,r[3]||r[4])s+=a;else if(!((r[5]||r[6])&&l%3)||(l+a)%3){if(!((s-=a)>0))return a=Math.min(a,a+s+u),Math.min(l,a)%2?{type:\"em\",raw:e.slice(0,l+r.index+a+1),text:e.slice(1,l+r.index+a)}:{type:\"strong\",raw:e.slice(0,l+r.index+a+1),text:e.slice(2,l+r.index+a-1)}}else u+=a}}},t.codespan=function(e){var t=this.rules.inline.code.exec(e);if(t){var n=t[2].replace(/\\n/g,\" \"),r=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return r&&i&&(n=n.substring(1,n.length-1)),n=P(n,!0),{type:\"codespan\",raw:t[0],text:n}}},t.br=function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:\"br\",raw:t[0]}},t.del=function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:\"del\",raw:t[0],text:t[2]}},t.autolink=function(e,t){var n,r,i=this.rules.inline.autolink.exec(e);if(i)return r=\"@\"===i[2]?\"mailto:\"+(n=P(this.options.mangle?t(i[1]):i[1])):n=P(i[1]),{type:\"link\",raw:i[0],text:n,href:r,tokens:[{type:\"text\",raw:n,text:n}]}},t.url=function(e,t){var n;if(n=this.rules.inline.url.exec(e)){var r,i;if(\"@\"===n[2])i=\"mailto:\"+(r=P(this.options.mangle?t(n[0]):n[0]));else{var o;do{o=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(o!==n[0]);r=P(n[0]),i=\"www.\"===n[1]?\"http://\"+r:r}return{type:\"link\",raw:n[0],text:r,href:i,tokens:[{type:\"text\",raw:r,text:r}]}}},t.inlineText=function(e,t,n){var r,i=this.rules.inline.text.exec(e);if(i)return r=t?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):P(i[0]):i[0]:P(this.options.smartypants?n(i[0]):i[0]),{type:\"text\",raw:i[0],text:r}},e}(),W=O.noopTest,q=O.edit,U=O.merge,$={newline:/^(?: *(?:\\n|$))+/,code:/^( {4}[^\\n]+(?:\\n(?: *(?:\\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\\n]*\\n)|~{3,})([^\\n]*)\\n(?:|([\\s\\S]*?)\\n)(?: {0,3}\\1[~`]* *(?:\\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\\s|$)(.*)(?:\\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,list:/^( {0,3})(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?! {0,3}bull )\\n*|\\s*$)/,html:\"^ {0,3}(?:<(script|pre|style|textarea)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)|comment[^\\\\n]*(\\\\n+|$)|<\\\\?[\\\\s\\\\S]*?(?:\\\\?>\\\\n*|$)|<![A-Z][\\\\s\\\\S]*?(?:>\\\\n*|$)|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?(?:\\\\]\\\\]>\\\\n*|$)|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)|<(?!script|pre|style|textarea)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)|</(?!script|pre|style|textarea)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$))\",def:/^ {0,3}\\[(label)\\]: *\\n? *<?([^\\s>]+)>?(?:(?: +\\n? *| *\\n *)(title))? *(?:\\n+|$)/,nptable:W,table:W,lheading:/^([^\\n]+)\\n {0,3}(=+|-+) *(?:\\n+|$)/,_paragraph:/^([^\\n]+(?:\\n(?!hr|heading|lheading|blockquote|fences|list|html| +\\n)[^\\n]+)*)/,text:/^[^\\n]+/,_label:/(?!\\s*\\])(?:\\\\[\\[\\]]|[^\\[\\]])+/,_title:/(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/};$.def=q($.def).replace(\"label\",$._label).replace(\"title\",$._title).getRegex(),$.bullet=/(?:[*+-]|\\d{1,9}[.)])/,$.item=/^( *)(bull) ?[^\\n]*(?:\\n(?! *bull ?)[^\\n]*)*/,$.item=q($.item,\"gm\").replace(/bull/g,$.bullet).getRegex(),$.listItemStart=q(/^( *)(bull) */).replace(\"bull\",$.bullet).getRegex(),$.list=q($.list).replace(/bull/g,$.bullet).replace(\"hr\",\"\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))\").replace(\"def\",\"\\\\n+(?=\"+$.def.source+\")\").getRegex(),$._tag=\"address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul\",$._comment=/<!--(?!-?>)[\\s\\S]*?(?:-->|$)/,$.html=q($.html,\"i\").replace(\"comment\",$._comment).replace(\"tag\",$._tag).replace(\"attribute\",/ +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/).getRegex(),$.paragraph=q($._paragraph).replace(\"hr\",$.hr).replace(\"heading\",\" {0,3}#{1,6} \").replace(\"|lheading\",\"\").replace(\"blockquote\",\" {0,3}>\").replace(\"fences\",\" {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n\").replace(\"list\",\" {0,3}(?:[*+-]|1[.)]) \").replace(\"html\",\"</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)\").replace(\"tag\",$._tag).getRegex(),$.blockquote=q($.blockquote).replace(\"paragraph\",$.paragraph).getRegex(),$.normal=U({},$),$.gfm=U({},$.normal,{nptable:\"^ *([^|\\\\n ].*\\\\|.*)\\\\n {0,3}([-:]+ *\\\\|[-| :]*)(?:\\\\n((?:(?!\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)\",table:\"^ *\\\\|(.+)\\\\n {0,3}\\\\|?( *[-:]+[-| :]*)(?:\\\\n *((?:(?!\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)\"}),$.gfm.nptable=q($.gfm.nptable).replace(\"hr\",$.hr).replace(\"heading\",\" {0,3}#{1,6} \").replace(\"blockquote\",\" {0,3}>\").replace(\"code\",\" {4}[^\\\\n]\").replace(\"fences\",\" {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n\").replace(\"list\",\" {0,3}(?:[*+-]|1[.)]) \").replace(\"html\",\"</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)\").replace(\"tag\",$._tag).getRegex(),$.gfm.table=q($.gfm.table).replace(\"hr\",$.hr).replace(\"heading\",\" {0,3}#{1,6} \").replace(\"blockquote\",\" {0,3}>\").replace(\"code\",\" {4}[^\\\\n]\").replace(\"fences\",\" {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n\").replace(\"list\",\" {0,3}(?:[*+-]|1[.)]) \").replace(\"html\",\"</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)\").replace(\"tag\",$._tag).getRegex(),$.pedantic=U({},$.normal,{html:q(\"^ *(?:comment *(?:\\\\n|\\\\s*$)|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)|<tag(?:\\\"[^\\\"]*\\\"|'[^']*'|\\\\s[^'\\\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))\").replace(\"comment\",$._comment).replace(/tag/g,\"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b\").getRegex(),def:/^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/,heading:/^(#{1,6})(.*)(?:\\n+|$)/,fences:W,paragraph:q($.normal._paragraph).replace(\"hr\",$.hr).replace(\"heading\",\" *#{1,6} *[^\\n]\").replace(\"lheading\",$.lheading).replace(\"blockquote\",\" {0,3}>\").replace(\"|fences\",\"\").replace(\"|list\",\"\").replace(\"|html\",\"\").getRegex()});var G={escape:/^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,autolink:/^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,url:W,tag:\"^comment|^</[a-zA-Z][\\\\w:-]*\\\\s*>|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>|^<\\\\?[\\\\s\\\\S]*?\\\\?>|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>\",link:/^!?\\[(label)\\]\\(\\s*(href)(?:\\s+(title))?\\s*\\)/,reflink:/^!?\\[(label)\\]\\[(?!\\s*\\])((?:\\\\[\\[\\]]?|[^\\[\\]\\\\])+)\\]/,nolink:/^!?\\[(?!\\s*\\])((?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]])*)\\](?:\\[\\])?/,reflinkSearch:\"reflink|nolink(?!\\\\()\",emStrong:{lDelim:/^(?:\\*+(?:([punct_])|[^\\s*]))|^_+(?:([punct*])|([^\\s_]))/,rDelimAst:/\\_\\_[^_*]*?\\*[^_*]*?\\_\\_|[punct_](\\*+)(?=[\\s]|$)|[^punct*_\\s](\\*+)(?=[punct_\\s]|$)|[punct_\\s](\\*+)(?=[^punct*_\\s])|[\\s](\\*+)(?=[punct_])|[punct_](\\*+)(?=[punct_])|[^punct*_\\s](\\*+)(?=[^punct*_\\s])/,rDelimUnd:/\\*\\*[^_*]*?\\_[^_*]*?\\*\\*|[punct*](\\_+)(?=[\\s]|$)|[^punct*_\\s](\\_+)(?=[punct*\\s]|$)|[punct*\\s](\\_+)(?=[^punct*_\\s])|[\\s](\\_+)(?=[punct*])|[punct*](\\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,br:/^( {2,}|\\\\)\\n(?!\\s*$)/,del:W,text:/^(`+|[^`])(?:(?= {2,}\\n)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*_]|\\b_|$)|[^ ](?= {2,}\\n)))/,punctuation:/^([\\spunctuation])/,_punctuation:\"!\\\"#$%&'()+\\\\-.,/:;<=>?@\\\\[\\\\]`^{|}~\"};G.punctuation=q(G.punctuation).replace(/punctuation/g,G._punctuation).getRegex(),G.blockSkip=/\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>/g,G.escapedEmSt=/\\\\\\*|\\\\_/g,G._comment=q($._comment).replace(\"(?:--\\x3e|$)\",\"--\\x3e\").getRegex(),G.emStrong.lDelim=q(G.emStrong.lDelim).replace(/punct/g,G._punctuation).getRegex(),G.emStrong.rDelimAst=q(G.emStrong.rDelimAst,\"g\").replace(/punct/g,G._punctuation).getRegex(),G.emStrong.rDelimUnd=q(G.emStrong.rDelimUnd,\"g\").replace(/punct/g,G._punctuation).getRegex(),G._escapes=/\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g,G._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,G._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,G.autolink=q(G.autolink).replace(\"scheme\",G._scheme).replace(\"email\",G._email).getRegex(),G._attribute=/\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/,G.tag=q(G.tag).replace(\"comment\",G._comment).replace(\"attribute\",G._attribute).getRegex(),G._label=/(?:\\[(?:\\\\.|[^\\[\\]\\\\])*\\]|\\\\.|`[^`]*`|[^\\[\\]\\\\`])*?/,G._href=/<(?:\\\\.|[^\\n<>\\\\])+>|[^\\s\\x00-\\x1f]*/,G._title=/\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/,G.link=q(G.link).replace(\"label\",G._label).replace(\"href\",G._href).replace(\"title\",G._title).getRegex(),G.reflink=q(G.reflink).replace(\"label\",G._label).getRegex(),G.reflinkSearch=q(G.reflinkSearch,\"g\").replace(\"reflink\",G.reflink).replace(\"nolink\",G.nolink).getRegex(),G.normal=U({},G),G.pedantic=U({},G.normal,{strong:{start:/^__|\\*\\*/,middle:/^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,endAst:/\\*\\*(?!\\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\\*/,middle:/^()\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)|^_(?=\\S)([\\s\\S]*?\\S)_(?!_)/,endAst:/\\*(?!\\*)/g,endUnd:/_(?!_)/g},link:q(/^!?\\[(label)\\]\\((.*?)\\)/).replace(\"label\",G._label).getRegex(),reflink:q(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/).replace(\"label\",G._label).getRegex()}),G.gfm=U({},G.normal,{escape:q(G.escape).replace(\"])\",\"~|])\").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\\s~])([\\s\\S]*?[^\\s~])\\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\\n)|(?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*~_]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)))/}),G.gfm.url=q(G.gfm.url,\"i\").replace(\"email\",G.gfm._extended_email).getRegex(),G.breaks=U({},G.gfm,{br:q(G.br).replace(\"{2,}\",\"*\").getRegex(),text:q(G.gfm.text).replace(\"\\\\b_\",\"\\\\b_| {2,}\\\\n\").replace(/\\{2,\\}/g,\"*\").getRegex()});var V={block:$,inline:G},K=_,X=o.exports.defaults,Z=V.block,Y=V.inline,J=O.repeatString;function Q(e){return e.replace(/---/g,\"\\u2014\").replace(/--/g,\"\\u2013\").replace(/(^|[-\\u2014/(\\[{\"\\s])'/g,\"$1\\u2018\").replace(/'/g,\"\\u2019\").replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g,\"$1\\u201c\").replace(/\"/g,\"\\u201d\").replace(/\\.{3}/g,\"\\u2026\")}function ee(e){var t,n,r=\"\",i=e.length;for(t=0;t<i;t++)n=e.charCodeAt(t),Math.random()>.5&&(n=\"x\"+n.toString(16)),r+=\"&#\"+n+\";\";return r}var te=function(){function e(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||X,this.options.tokenizer=this.options.tokenizer||new K,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var t={block:Z.normal,inline:Y.normal};this.options.pedantic?(t.block=Z.pedantic,t.inline=Y.pedantic):this.options.gfm&&(t.block=Z.gfm,this.options.breaks?t.inline=Y.breaks:t.inline=Y.gfm),this.tokenizer.rules=t}e.lex=function(t,n){return new e(n).lex(t)},e.lexInline=function(t,n){return new e(n).inlineTokens(t)};var n=e.prototype;return n.lex=function(e){return e=e.replace(/\\r\\n|\\r/g,\"\\n\").replace(/\\t/g,\"    \"),this.blockTokens(e,this.tokens,!0),this.inline(this.tokens),this.tokens},n.blockTokens=function(e,t,n){var r,i,o,a,l,s,u=this;for(void 0===t&&(t=[]),void 0===n&&(n=!0),this.options.pedantic&&(e=e.replace(/^ +$/gm,\"\"));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((function(n){return!!(r=n.call(u,e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)}))))if(r=this.tokenizer.space(e))e=e.substring(r.raw.length),r.type&&t.push(r);else if(r=this.tokenizer.code(e))e=e.substring(r.raw.length),(a=t[t.length-1])&&\"paragraph\"===a.type?(a.raw+=\"\\n\"+r.raw,a.text+=\"\\n\"+r.text):t.push(r);else if(r=this.tokenizer.fences(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.heading(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.nptable(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.hr(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.blockquote(e))e=e.substring(r.raw.length),r.tokens=this.blockTokens(r.text,[],n),t.push(r);else if(r=this.tokenizer.list(e)){for(e=e.substring(r.raw.length),o=r.items.length,i=0;i<o;i++)r.items[i].tokens=this.blockTokens(r.items[i].text,[],!1);t.push(r)}else if(r=this.tokenizer.html(e))e=e.substring(r.raw.length),t.push(r);else if(n&&(r=this.tokenizer.def(e)))e=e.substring(r.raw.length),this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});else if(r=this.tokenizer.table(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.lheading(e))e=e.substring(r.raw.length),t.push(r);else if(l=e,this.options.extensions&&this.options.extensions.startBlock&&function(){var t=1/0,n=e.slice(1),r=void 0;u.options.extensions.startBlock.forEach((function(e){\"number\"===typeof(r=e.call(this,n))&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(l=e.substring(0,t+1))}(),n&&(r=this.tokenizer.paragraph(l)))a=t[t.length-1],s&&\"paragraph\"===a.type?(a.raw+=\"\\n\"+r.raw,a.text+=\"\\n\"+r.text):t.push(r),s=l.length!==e.length,e=e.substring(r.raw.length);else if(r=this.tokenizer.text(e))e=e.substring(r.raw.length),(a=t[t.length-1])&&\"text\"===a.type?(a.raw+=\"\\n\"+r.raw,a.text+=\"\\n\"+r.text):t.push(r);else if(e){var c=\"Infinite loop on byte: \"+e.charCodeAt(0);if(this.options.silent){console.error(c);break}throw new Error(c)}return t},n.inline=function(e){var t,n,r,i,o,a,l=e.length;for(t=0;t<l;t++)switch((a=e[t]).type){case\"paragraph\":case\"text\":case\"heading\":a.tokens=[],this.inlineTokens(a.text,a.tokens);break;case\"table\":for(a.tokens={header:[],cells:[]},i=a.header.length,n=0;n<i;n++)a.tokens.header[n]=[],this.inlineTokens(a.header[n],a.tokens.header[n]);for(i=a.cells.length,n=0;n<i;n++)for(o=a.cells[n],a.tokens.cells[n]=[],r=0;r<o.length;r++)a.tokens.cells[n][r]=[],this.inlineTokens(o[r],a.tokens.cells[n][r]);break;case\"blockquote\":this.inline(a.tokens);break;case\"list\":for(i=a.items.length,n=0;n<i;n++)this.inline(a.items[n].tokens)}return e},n.inlineTokens=function(e,t,n,r){var i,o,a,l=this;void 0===t&&(t=[]),void 0===n&&(n=!1),void 0===r&&(r=!1);var s,u,c,d=e;if(this.tokens.links){var f=Object.keys(this.tokens.links);if(f.length>0)for(;null!=(s=this.tokenizer.rules.inline.reflinkSearch.exec(d));)f.includes(s[0].slice(s[0].lastIndexOf(\"[\")+1,-1))&&(d=d.slice(0,s.index)+\"[\"+J(\"a\",s[0].length-2)+\"]\"+d.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(s=this.tokenizer.rules.inline.blockSkip.exec(d));)d=d.slice(0,s.index)+\"[\"+J(\"a\",s[0].length-2)+\"]\"+d.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(s=this.tokenizer.rules.inline.escapedEmSt.exec(d));)d=d.slice(0,s.index)+\"++\"+d.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(u||(c=\"\"),u=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((function(n){return!!(i=n.call(l,e,t))&&(e=e.substring(i.raw.length),t.push(i),!0)}))))if(i=this.tokenizer.escape(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.tag(e,n,r))e=e.substring(i.raw.length),n=i.inLink,r=i.inRawBlock,(o=t[t.length-1])&&\"text\"===i.type&&\"text\"===o.type?(o.raw+=i.raw,o.text+=i.text):t.push(i);else if(i=this.tokenizer.link(e))e=e.substring(i.raw.length),\"link\"===i.type&&(i.tokens=this.inlineTokens(i.text,[],!0,r)),t.push(i);else if(i=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(i.raw.length),o=t[t.length-1],\"link\"===i.type?(i.tokens=this.inlineTokens(i.text,[],!0,r),t.push(i)):o&&\"text\"===i.type&&\"text\"===o.type?(o.raw+=i.raw,o.text+=i.text):t.push(i);else if(i=this.tokenizer.emStrong(e,d,c))e=e.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),t.push(i);else if(i=this.tokenizer.codespan(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.br(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.del(e))e=e.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),t.push(i);else if(i=this.tokenizer.autolink(e,ee))e=e.substring(i.raw.length),t.push(i);else if(n||!(i=this.tokenizer.url(e,ee))){if(a=e,this.options.extensions&&this.options.extensions.startInline&&function(){var t=1/0,n=e.slice(1),r=void 0;l.options.extensions.startInline.forEach((function(e){\"number\"===typeof(r=e.call(this,n))&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(a=e.substring(0,t+1))}(),i=this.tokenizer.inlineText(a,r,Q))e=e.substring(i.raw.length),\"_\"!==i.raw.slice(-1)&&(c=i.raw.slice(-1)),u=!0,(o=t[t.length-1])&&\"text\"===o.type?(o.raw+=i.raw,o.text+=i.text):t.push(i);else if(e){var h=\"Infinite loop on byte: \"+e.charCodeAt(0);if(this.options.silent){console.error(h);break}throw new Error(h)}}else e=e.substring(i.raw.length),t.push(i);return t},t(e,null,[{key:\"rules\",get:function(){return{block:Z,inline:Y}}}]),e}(),ne=o.exports.defaults,re=O.cleanUrl,ie=O.escape,oe=function(){function e(e){this.options=e||ne}var t=e.prototype;return t.code=function(e,t,n){var r=(t||\"\").match(/\\S*/)[0];if(this.options.highlight){var i=this.options.highlight(e,r);null!=i&&i!==e&&(n=!0,e=i)}return e=e.replace(/\\n$/,\"\")+\"\\n\",r?'<pre><code class=\"'+this.options.langPrefix+ie(r,!0)+'\">'+(n?e:ie(e,!0))+\"</code></pre>\\n\":\"<pre><code>\"+(n?e:ie(e,!0))+\"</code></pre>\\n\"},t.blockquote=function(e){return\"<blockquote>\\n\"+e+\"</blockquote>\\n\"},t.html=function(e){return e},t.heading=function(e,t,n,r){return this.options.headerIds?\"<h\"+t+' id=\"'+this.options.headerPrefix+r.slug(n)+'\">'+e+\"</h\"+t+\">\\n\":\"<h\"+t+\">\"+e+\"</h\"+t+\">\\n\"},t.hr=function(){return this.options.xhtml?\"<hr/>\\n\":\"<hr>\\n\"},t.list=function(e,t,n){var r=t?\"ol\":\"ul\";return\"<\"+r+(t&&1!==n?' start=\"'+n+'\"':\"\")+\">\\n\"+e+\"</\"+r+\">\\n\"},t.listitem=function(e){return\"<li>\"+e+\"</li>\\n\"},t.checkbox=function(e){return\"<input \"+(e?'checked=\"\" ':\"\")+'disabled=\"\" type=\"checkbox\"'+(this.options.xhtml?\" /\":\"\")+\"> \"},t.paragraph=function(e){return\"<p>\"+e+\"</p>\\n\"},t.table=function(e,t){return t&&(t=\"<tbody>\"+t+\"</tbody>\"),\"<table>\\n<thead>\\n\"+e+\"</thead>\\n\"+t+\"</table>\\n\"},t.tablerow=function(e){return\"<tr>\\n\"+e+\"</tr>\\n\"},t.tablecell=function(e,t){var n=t.header?\"th\":\"td\";return(t.align?\"<\"+n+' align=\"'+t.align+'\">':\"<\"+n+\">\")+e+\"</\"+n+\">\\n\"},t.strong=function(e){return\"<strong>\"+e+\"</strong>\"},t.em=function(e){return\"<em>\"+e+\"</em>\"},t.codespan=function(e){return\"<code>\"+e+\"</code>\"},t.br=function(){return this.options.xhtml?\"<br/>\":\"<br>\"},t.del=function(e){return\"<del>\"+e+\"</del>\"},t.link=function(e,t,n){if(null===(e=re(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<a href=\"'+ie(e)+'\"';return t&&(r+=' title=\"'+t+'\"'),r+=\">\"+n+\"</a>\"},t.image=function(e,t,n){if(null===(e=re(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<img src=\"'+e+'\" alt=\"'+n+'\"';return t&&(r+=' title=\"'+t+'\"'),r+=this.options.xhtml?\"/>\":\">\"},t.text=function(e){return e},e}(),ae=function(){function e(){}var t=e.prototype;return t.strong=function(e){return e},t.em=function(e){return e},t.codespan=function(e){return e},t.del=function(e){return e},t.html=function(e){return e},t.text=function(e){return e},t.link=function(e,t,n){return\"\"+n},t.image=function(e,t,n){return\"\"+n},t.br=function(){return\"\"},e}(),le=function(){function e(){this.seen={}}var t=e.prototype;return t.serialize=function(e){return e.toLowerCase().trim().replace(/<[!\\/a-z].*?>/gi,\"\").replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,./:;<=>?@[\\]^`{|}~]/g,\"\").replace(/\\s/g,\"-\")},t.getNextSafeSlug=function(e,t){var n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do{n=e+\"-\"+ ++r}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n},t.slug=function(e,t){void 0===t&&(t={});var n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)},e}(),se=oe,ue=ae,ce=le,de=o.exports.defaults,fe=O.unescape,he=te,pe=function(){function e(e){this.options=e||de,this.options.renderer=this.options.renderer||new se,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ue,this.slugger=new ce}e.parse=function(t,n){return new e(n).parse(t)},e.parseInline=function(t,n){return new e(n).parseInline(t)};var t=e.prototype;return t.parse=function(e,t){void 0===t&&(t=!0);var n,r,i,o,a,l,s,u,c,d,f,h,p,m,g,v,x,y,b,D=\"\",C=e.length;for(n=0;n<C;n++)if(d=e[n],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[d.type])||!1===(b=this.options.extensions.renderers[d.type].call(this,d))&&[\"space\",\"hr\",\"heading\",\"code\",\"table\",\"blockquote\",\"list\",\"html\",\"paragraph\",\"text\"].includes(d.type))switch(d.type){case\"space\":continue;case\"hr\":D+=this.renderer.hr();continue;case\"heading\":D+=this.renderer.heading(this.parseInline(d.tokens),d.depth,fe(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue;case\"code\":D+=this.renderer.code(d.text,d.lang,d.escaped);continue;case\"table\":for(u=\"\",s=\"\",o=d.header.length,r=0;r<o;r++)s+=this.renderer.tablecell(this.parseInline(d.tokens.header[r]),{header:!0,align:d.align[r]});for(u+=this.renderer.tablerow(s),c=\"\",o=d.cells.length,r=0;r<o;r++){for(s=\"\",a=(l=d.tokens.cells[r]).length,i=0;i<a;i++)s+=this.renderer.tablecell(this.parseInline(l[i]),{header:!1,align:d.align[i]});c+=this.renderer.tablerow(s)}D+=this.renderer.table(u,c);continue;case\"blockquote\":c=this.parse(d.tokens),D+=this.renderer.blockquote(c);continue;case\"list\":for(f=d.ordered,h=d.start,p=d.loose,o=d.items.length,c=\"\",r=0;r<o;r++)v=(g=d.items[r]).checked,x=g.task,m=\"\",g.task&&(y=this.renderer.checkbox(v),p?g.tokens.length>0&&\"text\"===g.tokens[0].type?(g.tokens[0].text=y+\" \"+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&\"text\"===g.tokens[0].tokens[0].type&&(g.tokens[0].tokens[0].text=y+\" \"+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:\"text\",text:y}):m+=y),m+=this.parse(g.tokens,p),c+=this.renderer.listitem(m,x,v);D+=this.renderer.list(c,f,h);continue;case\"html\":D+=this.renderer.html(d.text);continue;case\"paragraph\":D+=this.renderer.paragraph(this.parseInline(d.tokens));continue;case\"text\":for(c=d.tokens?this.parseInline(d.tokens):d.text;n+1<C&&\"text\"===e[n+1].type;)c+=\"\\n\"+((d=e[++n]).tokens?this.parseInline(d.tokens):d.text);D+=t?this.renderer.paragraph(c):c;continue;default:var w='Token with \"'+d.type+'\" type was not found.';if(this.options.silent)return void console.error(w);throw new Error(w)}else D+=b||\"\";return D},t.parseInline=function(e,t){t=t||this.renderer;var n,r,i,o=\"\",a=e.length;for(n=0;n<a;n++)if(r=e[n],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type])||!1===(i=this.options.extensions.renderers[r.type].call(this,r))&&[\"escape\",\"html\",\"link\",\"image\",\"strong\",\"em\",\"codespan\",\"br\",\"del\",\"text\"].includes(r.type))switch(r.type){case\"escape\":o+=t.text(r.text);break;case\"html\":o+=t.html(r.text);break;case\"link\":o+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break;case\"image\":o+=t.image(r.href,r.title,r.text);break;case\"strong\":o+=t.strong(this.parseInline(r.tokens,t));break;case\"em\":o+=t.em(this.parseInline(r.tokens,t));break;case\"codespan\":o+=t.codespan(r.text);break;case\"br\":o+=t.br();break;case\"del\":o+=t.del(this.parseInline(r.tokens,t));break;case\"text\":o+=t.text(r.text);break;default:var l='Token with \"'+r.type+'\" type was not found.';if(this.options.silent)return void console.error(l);throw new Error(l)}else o+=i||\"\";return o},e}(),me=_,ge=oe,ve=ae,xe=le,ye=O.merge,be=O.checkSanitizeDeprecation,De=O.escape,Ce=o.exports.getDefaults,we=o.exports.changeDefaults,ke=o.exports.defaults;function Se(e,t,n){if(\"undefined\"===typeof e||null===e)throw new Error(\"marked(): input parameter is undefined or null\");if(\"string\"!==typeof e)throw new Error(\"marked(): input parameter is of type \"+Object.prototype.toString.call(e)+\", string expected\");if(\"function\"===typeof t&&(n=t,t=null),t=ye({},Se.defaults,t||{}),be(t),n){var r,i=t.highlight;try{r=he.lex(e,t)}catch(s){return n(s)}var o=function(e){var o;if(!e)try{t.walkTokens&&Se.walkTokens(r,t.walkTokens),o=pe.parse(r,t)}catch(s){e=s}return t.highlight=i,e?n(e):n(null,o)};if(!i||i.length<3)return o();if(delete t.highlight,!r.length)return o();var a=0;return Se.walkTokens(r,(function(e){\"code\"===e.type&&(a++,setTimeout((function(){i(e.text,e.lang,(function(t,n){if(t)return o(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),0===--a&&o()}))}),0))})),void(0===a&&o())}try{var l=he.lex(e,t);return t.walkTokens&&Se.walkTokens(l,t.walkTokens),pe.parse(l,t)}catch(s){if(s.message+=\"\\nPlease report this to https://github.com/markedjs/marked.\",t.silent)return\"<p>An error occurred:</p><pre>\"+De(s.message+\"\",!0)+\"</pre>\";throw s}}return Se.options=Se.setOptions=function(e){return ye(Se.defaults,e),we(Se.defaults),Se},Se.getDefaults=Ce,Se.defaults=ke,Se.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i,o=ye.apply(void 0,[{}].concat(n)),a=Se.defaults.extensions||{renderers:{},childTokens:{}};n.forEach((function(t){if(t.extensions&&(i=!0,t.extensions.forEach((function(e){if(!e.name)throw new Error(\"extension name required\");if(e.renderer){var t=a.renderers?a.renderers[e.name]:null;a.renderers[e.name]=t?function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=e.renderer.apply(this,r);return!1===o&&(o=t.apply(this,r)),o}:e.renderer}if(e.tokenizer){if(!e.level||\"block\"!==e.level&&\"inline\"!==e.level)throw new Error(\"extension level must be 'block' or 'inline'\");a[e.level]?a[e.level].unshift(e.tokenizer):a[e.level]=[e.tokenizer],e.start&&(\"block\"===e.level?a.startBlock?a.startBlock.push(e.start):a.startBlock=[e.start]:\"inline\"===e.level&&(a.startInline?a.startInline.push(e.start):a.startInline=[e.start]))}e.childTokens&&(a.childTokens[e.name]=e.childTokens)}))),t.renderer&&function(){var e=Se.defaults.renderer||new ge,n=function(n){var r=e[n];e[n]=function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var l=t.renderer[n].apply(e,o);return!1===l&&(l=r.apply(e,o)),l}};for(var r in t.renderer)n(r);o.renderer=e}(),t.tokenizer&&function(){var e=Se.defaults.tokenizer||new me,n=function(n){var r=e[n];e[n]=function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var l=t.tokenizer[n].apply(e,o);return!1===l&&(l=r.apply(e,o)),l}};for(var r in t.tokenizer)n(r);o.tokenizer=e}(),t.walkTokens){var n=Se.defaults.walkTokens;o.walkTokens=function(r){t.walkTokens.call(e,r),n&&n(r)}}i&&(o.extensions=a),Se.setOptions(o)}))},Se.walkTokens=function(e,t){for(var n,r=function(){var e=n.value;switch(t(e),e.type){case\"table\":for(var r,o=i(e.tokens.header);!(r=o()).done;){var a=r.value;Se.walkTokens(a,t)}for(var l,s=i(e.tokens.cells);!(l=s()).done;)for(var u,c=i(l.value);!(u=c()).done;){var d=u.value;Se.walkTokens(d,t)}break;case\"list\":Se.walkTokens(e.items,t);break;default:Se.defaults.extensions&&Se.defaults.extensions.childTokens&&Se.defaults.extensions.childTokens[e.type]?Se.defaults.extensions.childTokens[e.type].forEach((function(n){Se.walkTokens(e[n],t)})):e.tokens&&Se.walkTokens(e.tokens,t)}},o=i(e);!(n=o()).done;)r()},Se.parseInline=function(e,t){if(\"undefined\"===typeof e||null===e)throw new Error(\"marked.parseInline(): input parameter is undefined or null\");if(\"string\"!==typeof e)throw new Error(\"marked.parseInline(): input parameter is of type \"+Object.prototype.toString.call(e)+\", string expected\");t=ye({},Se.defaults,t||{}),be(t);try{var n=he.lexInline(e,t);return t.walkTokens&&Se.walkTokens(n,t.walkTokens),pe.parseInline(n,t)}catch(r){if(r.message+=\"\\nPlease report this to https://github.com/markedjs/marked.\",t.silent)return\"<p>An error occurred:</p><pre>\"+De(r.message+\"\",!0)+\"</pre>\";throw r}},Se.Parser=pe,Se.parser=pe.parse,Se.Renderer=ge,Se.TextRenderer=ve,Se.Lexer=he,Se.lexer=he.lex,Se.Tokenizer=me,Se.Slugger=xe,Se.parse=Se,Se}()},908:function(e,t,n){}}]);","name":"static/js/26.79dbed4d.chunk.js","map":{"version":3,"sources":["static/js/26.79dbed4d.chunk.js"],"names":["this","push","110","module","__webpack_exports__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0__","value","ref","Object","current","111","d","useEventCallback","_useCommittedRef__WEBPACK_IMPORTED_MODULE_1__","fn","apply","arguments","112","useEventListener","_useEventCallback__WEBPACK_IMPORTED_MODULE_1__","eventTarget","event","listener","capture","handler","target","addEventListener","removeEventListener","114","createWithBsPrefix","objectSpread2","objectWithoutProperties","classnames","classnames_default","n","rHyphen","react","ThemeProvider","jsx_runtime","createWithBsPrefix_pascalCase","str","toUpperCase","string","replace","_","chr","slice","prefix","_ref","length","undefined","_ref$displayName","displayName","Component","defaultProps","BsComponent","_ref2","className","bsPrefix","_ref2$as","as","Tag","props","resolvedPrefix","115","usePrevious","116","useGlobalListener","_useEventListener__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","documentTarget","document","117","useCallbackRef","120","useMounted","mounted","isMounted","121","slicedToArray","WeakMap","Button","_excluded","Anchor","href","onKeyDown","source","excluded","key","i","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","_useButtonProps","assign","tagName","buttonProps","handleKeyDown","e","trim","role","124","useButtonProps","_Users_nazarethavaqueirogradin_Documents_Grupo_Gradi_n_testeo_Shreyu_react_v1_0_0_shreyu_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__","disabled","rel","onClick","_ref2$tabIndex","tabIndex","type","meta","handleClick","isTrivialHref","preventDefault","stopPropagation","aria-disabled","asProp","_useButtonProps2","126","_Users_nazarethavaqueirogradin_Documents_Grupo_Gradi_n_testeo_Shreyu_react_v1_0_0_shreyu_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__","classnames__WEBPACK_IMPORTED_MODULE_2__","classnames__WEBPACK_IMPORTED_MODULE_2___default","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__","p","129","global","isReactNative","navigator","product","isDOM","call","130","context","153","_Users_nazarethavaqueirogradin_Documents_Grupo_Gradi_n_testeo_Shreyu_react_v1_0_0_shreyu_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__","_Users_nazarethavaqueirogradin_Documents_Grupo_Gradi_n_testeo_Shreyu_react_v1_0_0_shreyu_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__","classnames__WEBPACK_IMPORTED_MODULE_3__","classnames__WEBPACK_IMPORTED_MODULE_3___default","react__WEBPACK_IMPORTED_MODULE_4__","_ThemeProvider__WEBPACK_IMPORTED_MODULE_5__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__","DEVICE_SIZES","Col","_useCol","spans","classes","forEach","brkPoint","span","offset","order","propValue","infix","concat","a","useCol","_useCol2","_useCol2$","colProps","_useCol2$2","_useCol2$2$as","160","divWithClassName","CardImg","variant","_ref$as","esm_CardImg","CardHeaderContext","CardHeader","contextValue","cardHeaderBsPrefix","Provider","children","esm_CardHeader","DivStyledAsH5","DivStyledAsH6","CardBody","CardTitle","CardSubtitle","CardLink","CardText","CardFooter","CardImgOverlay","Card","bg","text","border","body","Img","Title","Subtitle","Body","Link","Text","Header","Footer","ImgOverlay","163","BreadcrumbItem","active","_ref$linkAs","linkAs","LinkComponent","linkProps","title","aria-current","esm_BreadcrumbItem","Breadcrumb","listProps","label","aria-label","Item","167","_Users_nazarethavaqueirogradin_Documents_Grupo_Gradi_n_testeo_Shreyu_react_v1_0_0_shreyu_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_3__","_ThemeProvider__WEBPACK_IMPORTED_MODULE_4__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__","Row","decoratedBsPrefix","sizePrefix","cols","212","exports","objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","__esModule","287","userAgent","platform","gecko","test","ie_upto10","ie_11up","exec","edge","ie","ie_version","documentMode","webkit","qtwebkit","chrome","presto","safari","vendor","mac_geMountainLion","phantom","ios","maxTouchPoints","android","mobile","mac","chromeOS","windows","presto_version","match","Number","flipCtrlCmd","captureRightClick","classTest","cls","RegExp","range","rmClass","node","after","index","removeChildren","count","childNodes","removeChild","firstChild","removeChildrenAndAdd","parent","appendChild","elt","tag","content","style","createElement","cssText","createTextNode","eltP","setAttribute","contains","child","nodeType","parentNode","host","activeElt","activeElement","shadowRoot","addClass","joinClasses","b","split","createRange","start","end","endNode","r","setEnd","setStart","createTextRange","moveToElementText","collapse","moveEnd","moveStart","selectInput","select","bind","f","args","Array","copyObj","obj","overwrite","prop","hasOwnProperty","countColumn","tabSize","startIndex","startValue","search","nextTab","selectionStart","selectionEnd","_e","Delayed","id","time","onTimeout","array","self","Date","setTimeout","set","ms","clearTimeout","scrollerGap","Pass","toString","sel_dontScroll","scroll","sel_mouse","origin","sel_move","findColumn","goal","pos","col","skipped","Math","min","spaceStrs","spaceStr","lst","arr","map","out","insertSorted","score","priority","splice","nothing","createObj","base","inst","create","nonASCIISingleCaseWordChar","isWordCharBasic","ch","toLowerCase","isWordChar","helper","isEmpty","extendingChars","isExtendingChar","charCodeAt","skipExtendingChars","dir","charAt","findFirst","pred","from","to","midF","mid","ceil","floor","iterateBidiSections","found","part","max","level","bidiOther","getBidiPartAt","sticky","cur","bidiOrdering","lowTypes","arabicTypes","charType","code","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","BidiSpan","direction","outerType","len","types","i$1","prev","i$2","type$1","i$3","prev$1","type$2","i$4","type$3","j","i$5","cur$1","type$4","i$6","end$1","before","replace$1","j$1","m","i$7","at","isRTL","j$2","nstart","unshift","reverse","getOrder","line","noHandlers","on","emitter","attachEvent","_handlers","getHandlers","off","detachEvent","signal","handlers","signalDOMEvent","cm","override","defaultPrevented","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","cursorActivity","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","e_preventDefault","returnValue","e_stopPropagation","cancelBubble","e_stop","e_target","srcElement","e_button","which","button","ctrlKey","zwspSupported","badBidiRects","dragAndDrop","div","zeroWidthElement","measure","offsetHeight","offsetWidth","hasBadBidiRects","txt","r0","getBoundingClientRect","r1","left","right","splitLinesAuto","result","l","nl","rt","hasSelection","window","getSelection","te","ownerDocument","selection","parentElement","compareEndPoints","hasCopyEvent","oncopy","badZoomedRects","hasBadZoomedRects","normal","fromRange","abs","modes","mimeModes","defineMode","name","mode","dependencies","defineMIME","mime","spec","resolveMode","getMode","options","mfactory","modeObj","modeExtensions","exts","helperType","modeProps","prop$1","extendMode","properties","copyState","state","nstate","val","innerMode","info","startState","a1","a2","StringStream","lineOracle","lastColumnPos","lastColumnValue","lineStart","getLine","doc","first","size","Error","chunk","lines","sz","chunkSize","getBetween","iter","getLines","updateLineHeight","height","diff","lineNo","no","_lineAtHeight","h","outer","lh","isLine","lineNumberFor","String","lineNumberFormatter","firstLineNumber","Pos","cmp","equalCursorPos","copyPos","x","maxPos","minPos","clipLine","_clipPos","last","clipToLen","linelen","clipPosArray","eol","sol","peek","next","eat","eatWhile","eatSpace","skipToEnd","skipTo","backUp","column","indentation","pattern","consume","caseInsensitive","cased","substr","hideFirstChars","inner","lookAhead","oracle","baseToken","SavedContext","Context","maxLookAhead","baseTokens","baseTokenPos","highlightLine","forceToEnd","st","modeGen","lineClasses","runMode","loop","o","overlay","overlays","i_end","opaque","styles","bgClass","textClass","getLineStyles","updateFrontier","getContextBefore","resetState","maxHighlightLength","stateAfter","save","styleClasses","highlightFrontier","modeFrontier","precise","display","findStartLine","saved","fromSaved","processLine","viewFrom","viewTo","nextLine","startAt","stream","callBlankLine","readToken","blankLine","token","copy","Token","takeToken","asArray","tokens","extractLineClasses","output","lineClass","flattenSpans","curStart","curStyle","addModeClass","mName","minindent","minline","lim","indented","retreatFrontier","sawReadOnlySpans","sawCollapsedSpans","seeReadOnlySpans","seeCollapsedSpans","MarkedSpan","marker","getMarkedSpanFor","removeMarkedSpan","addMarkedSpan","op","inThisOp","WeakSet","markedSpans","has","add","attachLine","markedSpansBefore","old","startCh","isInsert","nw","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","markedSpansAfter","endCh","startsBefore","stretchSpansOverChange","change","full","oldFirst","oldLast","sameLine","span$1","clearEmptySpans","newMarkers","gapMarkers","gap","clearWhenEmpty","removeReadOnlyRanges","markers","mark","readOnly","parts","mk","find","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsed","collapsedSpanAtStart","collapsedSpanAtEnd","collapsedSpanAround","conflictingCollapsedRange","visualLine","merged","visualLineEnd","visualLineContinued","visualLineNo","lineN","vis","visualLineEndNo","lastLine","lineIsHidden","widgetNode","lineIsHiddenInner","_heightAtLine","lineObj","lineLength","found$1","findMaxLine","maxLine","maxLineLength","maxLineChanged","Line","estimateHeight","updateLine","estHeight","cleanUpLine","styleToClassCache","styleToClassCacheWithMode","interpretTokenStyle","cache","buildLineContent","lineView","builder","pre","trailingSpace","splitSpaces","getOption","rest","addToken","buildToken","buildTokenBadBidi","insertLineContent","externalMeasured","maps","caches","lastChild","querySelector","defaultSpecialCharPlaceholder","startStyle","endStyle","css","attributes","displayText","special","specialChars","mustWrap","createDocumentFragment","lastIndex","txt$1","tabWidth","specialCharPlaceholder","fullStyle","attr","trailingBefore","spaceBefore","buildCollapsedSpan","ignoreWidget","widget","input","needsContentAttribute","setUneditable","allText","spanStyle","spanEndStyle","spanStartStyle","nextChange","Infinity","foundBookmarks","endStyles","upto","tokenText","LineView","hidden","buildViewArray","nextPos","view","operationGroup","pushOperation","ops","ownsGroup","delayedCallbacks","fireCallbacksForOps","group","callbacks","cursorActivityCalled","finishOperation","endCb","orphanDelayedCallbacks","signalLater","list","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","zIndex","updateLineBackground","background","wrap","insertBefore","getLineContent","ext","built","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","gutterMarkers","lineNumbers","wrap$1","gutterWrap","lineNumber","gutterLeft","lineNumInnerWidth","k","gutterSpecs","gutterWidth","alignable","isWidget","nextSibling","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","ws","handleMouseEvents","positionLineWidget","above","noHScroll","width","wrapperWidth","coverGutter","paddingLeft","position","marginLeft","widgetHeight","parentStyle","gutters","wrapper","clientWidth","eventInWidget","getAttribute","sizer","mover","paddingTop","lineSpace","offsetTop","paddingVert","paddingH","cachedPaddingH","getComputedStyle","currentStyle","data","parseInt","paddingRight","isNaN","scrollGap","nativeBarWidth","displayWidth","scroller","barWidth","displayHeight","clientHeight","barHeight","ensureLineHeights","rect","wrapping","lineWrapping","curWidth","heights","rects","getClientRects","bottom","top","mapFromLineView","updateExternalMeasurement","lineMeasure","measureChar","bias","measureCharPrepared","prepareMeasureForLine","findViewForLine","findViewIndex","getDimensions","forceUpdate","hasHeights","prepared","varHeight","measureCharInner","bogus","rtop","rbottom","measureText","nullRect","nodeAndOffsetInLineMap","mStart","mEnd","coverStart","coverEnd","getUsefulRect","place","maybeUpdateRectForZooming","rSpan","charWidth","rbot","bot","singleCursorHeightPerLine","screen","logicalXDPI","deviceXDPI","scaleX","scaleY","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","cachedCharWidth","cachedTextHeight","lineNumChars","pageScrollX","pageXOffset","documentElement","scrollLeft","pageScrollY","marginTop","pageYOffset","scrollTop","widgetTopHeight","intoCoordSystem","includeWidgets","yOff","viewOffset","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","_charCoords","_cursorCoords","preparedMeasure","get","getBidi","partPos","invert","other","estimateCoords","PosWithInfo","outside","xRel","_coordsChar","y","coordsCharInner","rangeEnd","wrappedLineExtent","begin","wrappedLineExtentChar","boxIsAfter","box","ltr","coordsBidiPartWrapped","coordsBidiPart","baseX","chAround","boxAround","atLeft","atStart","_lineNo","closestDist","endX","dist","textHeight","anchor","clientLeft","offsetLeft","compensateForHScroll","th","perLine","widgetsHeight","estimateLineHeights","est","posFromMouse","liberal","forRect","space","clientX","clientY","e$1","colDiff","round","regChange","lendiff","updateLineNumbers","viewChanged","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","adjustView","countDirtyView","dirty","updateSelection","showSelection","prepareSelection","primary","curFragment","cursors","selFragment","sel","ranges","primIndex","empty","showCursorWhenSelecting","drawSelectionCursor","head","drawSelectionRange","cursor","cursorHeight","otherCursor","cmpCoords","fragment","padding","leftSide","rightSide","sizerWidth","docLTR","drawForLine","fromArg","toArg","lineLen","wrapX","side","extent","fromPos","toPos","openStart","openEnd","openRight","topLeft","topRight","botLeft","botRight","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","focused","clearInterval","blinker","cursorDiv","visibility","cursorBlinkRate","setInterval","hasFocus","onBlur","ensureFocus","focus","onFocus","delayBlurEvent","delayingBlurEvent","draggingText","selForContextMenu","reset","receivedFocus","shift","updateHeightsInViewport","prevBottom","lineDiv","updateWidgetHeight","chWidth","w","visibleLines","viewport","ensure","ensureFrom","ensureTo","maybeScrollWindow","doScroll","innerHeight","scrollNode","scrollIntoView","scrollPosIntoView","margin","limit","changed","endCoords","scrollPos","calculateScrollPos","startTop","startLeft","updateScrollTop","setScrollLeft","snapMargin","screentop","docBottom","atTop","atBottom","newTop","gutterSpace","screenleft","screenw","tooWide","addToScrollTop","resolveScrollToPos","ensureCursorVisible","getCursor","scrollToPos","cursorScrollMargin","scrollToCoords","scrollToRange","scrollToCoordsRange","sPos","updateDisplaySimple","setScrollTop","startWorker","forceScroll","scrollHeight","scrollbars","isScroller","scrollWidth","alignHorizontally","measureForScrollbars","gutterW","docH","viewHeight","viewWidth","barLeft","docHeight","NativeScrollbars","vert","horiz","checkedZeroWidth","minHeight","minWidth","update","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","pointerEvents","bar","delay","maybeDisable","elementFromPoint","clear","NullScrollbars","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","sizes","paddingBottom","heightForcer","borderBottom","scrollbarFiller","coverGutterNextToScrollbar","gutterFiller","scrollbarModel","native","null","initScrollbars","scrollbarStyle","axis","nextOpId","_startOperation","updateInput","typing","changeObjs","selectionChanged","updateMaxLine","markArrays","_endOperation","endOperations","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","endOperation_finish","maybeClipScrollbars","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","takeFocus","setDocumentHeight","postUpdateDisplay","wheelStartX","wheelStartY","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","operation","methodOp","docMethodOp","highlight","highlightWorker","workTime","changedLines","oldStyles","highlighted","oldCls","newCls","ischange","workDelay","force","visible","editorIsHidden","wrapperHeight","oldDisplayWidth","events","scrollbarsClipped","marginBottom","borderRightWidth","selectionSnapshot","anchorNode","extend","anchorOffset","focusNode","focusOffset","restoreSelection","snapshot","nodeName","removeAllRanges","addRange","renderedView","maybeUpdateLineNumberWidth","viewportMargin","different","lastWrapHeight","lastWrapWidth","toUpdate","selSnapshot","patchDisplay","selectionDiv","reportedViewFrom","reportedViewTo","updateNumbersFrom","container","rm","currentWheelTarget","updateNumber","updateGutterSpace","alignWidgets","comp","align","innerW","lineGutter","lineNumWidth","getGutters","sawLineNumbers","renderGutters","specs","gElt","updateGutters","Display","draggable","wheelDX","wheelDY","activeTouch","init","wheelSamples","wheelPixelsPerUnit","wheelEventDelta","dx","wheelDeltaX","dy","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","delta","onScrollWheel","canScrollX","canScrollY","pixels","movedX","movedY","sample","Selection","equals","here","there","deepCopy","Range","somethingSelected","normalizeSelection","mayTouch","selectionsMayTouch","prim","sort","inv","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","computeReplacedSel","hint","oldPrev","newPrev","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","spansFor","linesFor","firstLine","lastText","lastSpans","nlines","insert","remove","added","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","shared","attachDoc","setDirectionClass","directionChanged","History","done","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","pop","lastChangeEvent","hist","addChangeToHistory","selAfter","opId","history","historyEventDelay","pushSelectionToHistory","selectionEventCanBeMerged","addSelectionToHistory","clearRedo","dest","existing","removeClearedSpans","explicitlyCleared","getOldSpans","mergeOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","newGroup","instantiateSel","newChanges","extendRange","posBefore","extendSelection","setSelection","extendSelections","heads","replaceOneSelection","setSimpleSelection","filterSelectionChange","setSelectionReplaceHistory","setSelectionNoUndo","NaN","setSelectionInner","skipAtomicInSelection","reCheckSelection","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","preventCursorLeft","selectLeft","preventCursorRight","selectRight","atomic","near","movePos","far","cantEdit","selectAll","filterChange","canceled","cancel","makeChange","ignoreReadOnly","suppressEdits","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","suppress","antiChanges","filter","returned","v","shiftDoc","distance","removed","makeChangeSingleDocInEditor","recomputeMaxLength","checkWidthStart","changesHandler","changeHandler","_replaceRange","splitLines","rebaseHistSelSingle","rebaseHistArray","sub","ok","copied","changeLine","handle","changeType","LeafChunk","BranchChunk","removeInner","insertInner","iterN","oldHeight","remaining","leaf","maybeSpill","me","sibling","myIndex","used","LineWidget","opt","adjustScrollWhenAboveVisible","addLineWidget","insertAt","aboveVisible","this$1","oldH","nextMarkerId","TextMarker","_markText","markTextShared","replacedWith","addToHistory","curLine","clearOnEnter","clearHistory","withOp","visual","dHeight","SharedTextMarker","cloneNode","isParent","findSharedMarkers","findMarks","clipPos","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","nextDocId","Doc","lineSep","cleanGeneration","constructor","getValue","join","lineSeparator","setValue","replaceRange","getRange","getLineHandle","getLineNumber","getLineHandleVisualStart","lineCount","listSelections","setCursor","extendSelectionsBy","setSelections","addSelection","getSelections","replaceSelection","dup","replaceSelections","newSel","undo","redo","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","gen","getHistory","setHistory","histData","setGutterMarker","gutterID","clearGutter","lineInfo","addLineClass","where","removeLineClass","removeLineWidget","markText","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","unlinkDoc","CodeMirror","splitIds","iterLinkedDocs","getEditor","setDirection","eachLine","lastDrop","onDrop","clearDragCursor","files","dataTransfer","isReadOnly","FileReader","File","read","markAsReadAndPasteIfAllFilesAreRead","t","readTextFromFile","file","allowDropFileTypes","reader","onerror","onload","readAsText","text$1","getData","selected","onDragStart","setData","effectAllowed","setDragImage","img","src","_top","onDragOver","frag","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","editors","globalsRegistered","ensureGlobalHandlers","registerGlobalHandlers","resizeTimer","onResize","setSize","keyNames","3","8","9","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","44","45","46","59","61","91","92","93","106","107","109","145","173","186","187","188","189","190","191","192","219","220","221","222","224","63232","63233","63234","63235","63272","63273","63275","63276","63277","63302","fromCharCode","keyMap","normalizeKeyName","alt","ctrl","cmd","mod","normalizeKeyMap","keymap","keyname","lookupKey","getKeyMap","fallthrough","isModifierKey","keyCode","addModifierNames","noShift","altKey","metaKey","shiftKey","keyName","altGraphKey","deleteNearSelection","compute","kill","toKill","replaced","moveCharLogically","moveLogically","endOfLine","visually","prep","targetTop","moveVisually","bidi","mv","getWrappedLineExtent","moveInStorageOrder","searchInVisualLine","getRes","res","nextCh","basic","Left","Right","Up","Down","End","Home","PageUp","PageDown","Delete","Backspace","Shift-Backspace","Tab","Shift-Tab","Enter","Insert","Esc","pcDefault","Ctrl-A","Ctrl-D","Ctrl-Z","Shift-Ctrl-Z","Ctrl-Y","Ctrl-Home","Ctrl-End","Ctrl-Up","Ctrl-Down","Ctrl-Left","Ctrl-Right","Alt-Left","Alt-Right","Ctrl-Backspace","Ctrl-Delete","Ctrl-S","Ctrl-F","Ctrl-G","Shift-Ctrl-G","Shift-Ctrl-F","Shift-Ctrl-R","Ctrl-[","Ctrl-]","Ctrl-U","Shift-Ctrl-U","Alt-U","emacsy","Ctrl-B","Ctrl-P","Ctrl-N","Ctrl-E","Ctrl-V","Shift-Ctrl-V","Ctrl-H","Alt-Backspace","Ctrl-K","Ctrl-T","Ctrl-O","macDefault","Cmd-A","Cmd-D","Cmd-Z","Shift-Cmd-Z","Cmd-Y","Cmd-Home","Cmd-Up","Cmd-End","Cmd-Down","Cmd-Left","Cmd-Right","Ctrl-Alt-Backspace","Alt-Delete","Cmd-S","Cmd-F","Cmd-G","Shift-Cmd-G","Cmd-Alt-F","Shift-Cmd-Alt-F","Cmd-[","Cmd-]","Cmd-Backspace","Cmd-Delete","Cmd-U","Shift-Cmd-U","commands","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","charCoords","coordsChar","delWrappedLineRight","rightPos","goDocStart","goDocEnd","goLineStart","goLineStartSmart","lineStartSmart","goLineEnd","lineEnd","goLineRight","cursorCoords","goLineLeft","goLineLeftSmart","goLineUp","moveV","goLineDown","goPageUp","goPageDown","goCharLeft","moveH","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","deleteH","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentSelection","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","execCommand","transposeChars","newlineAndIndent","sels","indentLine","openLine","toggleOverwrite","firstNonWS","inWS","doHandleBinding","bound","dropShift","ensurePolled","prevShift","lookupKeyForEditor","keyMaps","extraKeys","stopSeq","dispatchKey","seq","keySeq","dispatchKeyInner","handleKeyBinding","motion","handleCharBinding","lastStoppedKey","getField","handled","showCrossHair","up","onKeyUp","onKeyPress","charCode","lastClick","lastDoubleClick","DOUBLECLICK_DELAY","PastClick","clickRepeat","now","compare","onMouseDown","supportsTouch","clickInGutter","repeat","selectingText","handleMappedButton","leftButtonDown","onContextMenu","configureMouse","option","unit","addNew","moveOnDrag","contained","behavior","dragDrop","leftButtonStartDrag","leftButtonSelect","moved","dragEnd","mouseMove","dragStart","preventScroll","e2","rangeForUnit","findWordAt","ourRange","ourIndex","startSel","lastPos","extendTo","startCol","posCol","leftPos","oldRange","ranges$1","bidiSimplify","editorSize","counter","curCount","move","buttons","anchorLine","boundary","headIndex","usePart","gutterEvent","prevent","mX","mY","touches","lineBox","g","contextMenuInGutter","themeChanged","theme","Init","defaults","optionHandlers","defineOptions","deflt","notOnInit","defineOption","newBreaks","refresh","getInputField","spellcheck","autocorrect","autocapitalize","detach","attach","wrappingChanged","integer","blur","readOnlyChanged","screenReaderLabelChanged","dragDropChanged","resetPosition","funcs","dragFunctions","toggle","enter","over","leave","drop","inputStyles","inputStyle","pasteIncoming","cutIncoming","autofocus","registerEventHandlers","finishInit","initHooks","textRendering","word","touchFinished","prevTouch","finishTouch","isMouseLikeTouchEvent","touch","radiusX","radiusY","farAway","pageX","pageY","inp","how","aggressive","indent","curSpace","curSpaceString","indentUnit","indentString","indentWithTabs","pos$1","defineInitHook","lastCopied","setLastCopied","newLastCopied","applyTextInput","inserted","deleted","recent","paste","textLines","multiPaste","pasteLinesPerSelection","lineWise","changeEvent","triggerElectric","handlePaste","pasted","clipboardData","disableInput","electricChars","smartIndent","getModeAt","electricInput","copyableRanges","lineRange","disableBrowserMagic","field","hiddenTextarea","addEditorMethods","helpers","setOption","getDoc","addKeyMap","removeKeyMap","addOverlay","modeSpec","removeOverlay","newRanges","getTokenAt","getLineTokens","getTokenTypeAt","getHelper","getHelpers","help","_global","getStateAfter","lineAtHeight","heightAtLine","defaultTextHeight","defaultCharWidth","getViewport","addWidget","vspace","hspace","triggerOnKeyDown","triggerOnKeyPress","triggerOnKeyUp","triggerOnMouseDown","findPosH","amount","_findPosH","hitSide","rtlMoveVisually","findPosV","goalColumn","_findPosV","goals","headPos","startChar","check","scrollTo","getScrollInfo","interpret","startOperation","endOperation","swapDoc","phrase","phraseText","phrases","getWrapperElement","getScrollerElement","getGutterElement","registerHelper","registerGlobalHelper","predicate","origDir","lineDir","findNextLine","moveOnce","boundToLine","astral","sawType","pageSize","moveAmount","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","posToDOM","isInGutter","scan","badPos","bad","domTextBetween","closing","extraLinebreak","recognizeMarker","close","addText","walk","cmText","markerID","isBlock","textContent","nodeValue","domToPos","lineNode","locateNodeInLineView","textNode","topNode","curNode","previousSibling","dist$1","belongsToInput","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","contentEditable","updateFromDOM","readFromDOMSoon","forceCompositionEnd","removeAttribute","showMultipleSelections","curAnchor","curFocus","rng","rangeCount","getRangeAt","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","poll","pollSelection","pollInterval","pollContent","fromIndex","fromNode","toNode","toIndex","newText","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","TextareaInput","prevInput","pollingFast","fromTextArea","textarea","tabindex","placeholder","realSubmit","form","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","toTextArea","addLegacyProps","cmpPos","createField","prepareCopyCut","fastPoll","dispatchEvent","Event","_display","moveInputWithCursor","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","slowPoll","missed","same","resetSelectionOnContextMenu","oldScrollY","oldCSS","oldWrapperCSS","wrapperBox","offsetParent","scrollY","rehide","detectingSelectAll","prepareSelectAllHack","mouseup","extval","dontDelegate","method","contenteditable","defineExtension","func","defineDocExtension","version","factory","424","arr2","425","arrayLikeToArray","minLen","426","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","543","556","isArray","557","_i","Symbol","iterator","_s","_arr","_n","_d","err","558","TypeError","849","cmCfg","modeCfg","htmlMode","htmlModeMissing","findModeByName","mimes","highlightFormatting","maxBlockquoteDepth","taskLists","strikethrough","emoji","fencedCodeBlockHighlighting","fencedCodeBlockDefaultMode","xml","tokenTypeOverrides","tokenTypes","header","quote","list1","list2","list3","hr","image","imageAltText","imageMarker","formatting","linkInline","linkEmail","linkText","linkHref","em","strong","tokenType","hrRE","listRE","taskListRE","atxHeaderRE","allowAtxHeaderWithoutSpace","setextHeaderRE","textRE","fencedCodeRE","linkDefRE","punctuation","expandedTab","switchInline","inline","switchBlock","block","lineIsEmpty","linkTitle","indentedCode","htmlBlock","exit","htmlState","tagStart","tokenize","isInText","inlineNormal","blockNormal","trailingSpaceNewLine","prevLine","thisLine","firstTokenOnLine","prevLineLineIsEmpty","prevLineIsIndentedCode","prevLineIsHr","prevLineIsList","maxNonCodeIndentation","listStack","lineIndentation","indentationDiff","allowsInlineContinuation","fencedCodeEnd","isHr","getType","setext","listType","taskList","fencedEndRE","localMode","localState","local","footnoteLink","md_inside","returnType","currListInd","hasExitedList","maxFencedEndInd","taskOpen","taskClosed","listMod","handleText","matchCh","regex","previousFormatting","formattingEscape","atts","substring","leftFlanking","rightFlanking","setEm","setStrong","retType","getLinkHrefInside","linkRE",")","]","endChar","returnState","footnoteLinkInside","footnoteUrl","s","textAfter","blockCommentStart","blockCommentEnd","closeBrackets","fold","850","htmlConfig","autoSelfClosers","area","br","command","embed","frame","keygen","link","param","track","wbr","menuitem","implicitlyClosed","dd","li","optgroup","rp","tbody","td","tfoot","tr","contextGrabbers","dt","address","article","aside","blockquote","dl","fieldset","footer","h1","h2","h3","h4","h5","h6","hgroup","menu","nav","ol","section","table","ul","thead","doNotIndent","allowUnquoted","allowMissing","caseFold","xmlConfig","allowMissingTagName","editorConf","config_","setStyle","config","inText","chain","parser","inBlock","doctype","inTag","baseState","inAttribute","stringStartCol","closure","isInAttribute","terminator","depth","startOfLine","noIndent","popContext","maybePopContext","nextTagName","parentTagName","tagNameState","closeTagNameState","attrState","matchClosing","closeState","closeStateErr","_stream","attrEqState","attrValueState","attrContinuedState","baseIndent","fullLine","multilineTagIndentPastTag","multilineTagIndentFactor","alignCDATA","tagAfter","grabbers","configuration","skipAttribute","xmlCurrentTag","xmlCurrentContext","cx","851","overlayMode","combine","basePos","baseCur","overlayPos","overlayCur","streamSeen","combineTokens","overlayToken","892","_interopRequireDefault","defineProperty","default","SimpleMdeReact","_objectWithoutProperties2","_slicedToArray2","_react","nodeInterop","_getRequireWildcardCache","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","desc","_interopRequireWildcard","_easymde","cacheBabelInterop","cacheNodeInterop","_id","forwardRef","_ref8","getLineAndCursor","getMdeInstance","getCodemirrorInstance","onChange","anId","useMemo","elementWrapperRef","useRef","nonEventChangeRef","currentValueRef","_useState3","useState","_useState4","textRef","setTextRef","_useHandleEditorInsta","_useState","_useState2","editor","setEditor","imageUploadCallback","useCallback","onSuccess","onError","imageUpload","imageUploadFunction","url","useEffect","initialOptions","element","initialValue","_editor","_editor2","cleanup","codemirror","useHandleEditorInstanceLifecycle","onCodemirrorChangeHandler","_editor$value","getCursorCallback","_elementWrapperRef$cu","toolbarNode","prevEvents","entries","_ref3","_ref4","_ref5","_ref6","_ref7","aRef","_default","893","894","CodeMirrorSpellChecker","marked","isMac","anchorToExternalRegex","bindings","toggleBold","toggleItalic","drawLink","toggleHeadingSmaller","toggleHeadingBigger","drawImage","toggleBlockquote","toggleOrderedList","toggleUnorderedList","toggleCodeBlock","togglePreview","toggleStrikethrough","toggleHeading1","toggleHeading2","toggleHeading3","cleanBlock","drawTable","drawHorizontalRule","toggleSideBySide","toggleFullScreen","shortcuts","isMobile","opera","fixShortcut","CLASS_REGEX","getClassRegex","el","classRegex","removeClass","createToolbarDropdown","enableTooltips","createToolbarButton","childrenIndex","childElement","toolbarBuiltInButtons","enableActions","markup","action","actionName","tooltip","getBindingName","createTooltip","noDisable","classList","noMobile","classNameParts","iconClasses","classNameIndex","classNamePart","icon","iconClassIndex","iconClass","innerHTML","onclick","open","createSep","getState","stat","ret","bold","italic","saved_overflow","overflow","sidebyside","sideBySideFullscreen","easyMDEContainer","onToggleFullScreen","maxHeight","removeProperty","setPreviewMaxHeight","toolbar_div","toolbarElements","fullscreen","toolbarButton","_toggleBlock","blockStyles","fenceCharsToInsert","fencing_line","token_state","code_type","line_num","firstTok","lastTok","fencedChars","block_start","block_end","cur_start","cur_end","tok","is_code","start_text","start_line","end_text","end_line","fence_chars","search_from","next_line","next_line_last_tok","no_sel_and_starting_of_line","sel_multi","start_line_sel","end_line_sel","repl_start","repl_end","_replaceSelection","insertFencingAtSelection","_toggleLine","_toggleHeading","startPoint","endPoint","_cleanBlock","promptURLs","prompt","promptTexts","insertTexts","drawUploadedImage","openBrowseFileWindow","afterImageUploaded","imageName","lastIndexOf","includes","uploadedImage","text_link","updateStatusBar","imageTexts","sbOnUploaded","sbInit","horizontalRule","preview","useSideBySideListener","previewNormal","toolbar","sideBySideRenderingFunction","newValue","previewRender","previewClass","startEnd","currHeadingLevel","listRegexp","whitespacesRegexp","repl","unordered-list","ordered-list","_toggle","untoggleOnly","char","_getChar","_checkChar","start_chars","end_chars","humanFileSize","bytes","units","u","toFixed","_mergeProperties","property","wordCount","heading","heading-smaller","heading-bigger","heading-1","heading-2","heading-3","separator-1","clean-block","separator-2","upload-image","horizontal-rule","separator-3","side-by-side","separator-4","guide","separator-5","timeFormat","locale","format","hour","minute","sbOnDragEnter","sbOnDrop","sbProgress","sizeUnits","errorMessages","noFileGiven","typeNotAllowed","fileTooLarge","importError","EasyMDE","autoDownloadFA","autoDownloadFontAwesome","styleSheets","getElementsByTagName","console","log","showIcons","status","uploadImage","plainText","markdown","parsingConfig","autosave","errorCallback","errorMessage","alert","imageMaxSize","imageAccept","unique_id","uniqueId","render","foundSavedValue","uploadImagesUsingCustomFunction","uploadImages","isLocalStorageAvailable","localStorage","setItem","removeItem","names","uploadImageUsingCustomFunction","itemName","gui","statusbar","matchingClasses","markedOptions","renderingConfig","singleLineBreaks","breaks","codeSyntaxHighlighting","hljs","language","getLanguage","highlightAuto","setOptions","htmlText","sanitizerFunction","htmlDoc","DOMParser","parseFromString","listItems","listItem","listItemChild","HTMLInputElement","listStyleType","removeListStyleWhenCheckbox","linkString","fixedLinkString","addAnchorTargetBlank","_rendered","backdrop","documentOnKeyDown","spellChecker","gitHubSpice","codeMirrorInstance","styleSelectedText","nativeSpellcheck","autoRefresh","forceSync","cmWrapper","createToolbar","createStatusbar","enabled","_autosave_timeout","submit_delay","_vm","previewImagesInEditor","querySelectorAll","parentEl","innerText","hasAttribute","srcAttr","EMDEimagesCache","keySrc","assignImageBlockAttributes","naturalWidth","naturalHeight","sideBySide","createSideBySide","temp_cm","easyMDE","binded","autosaveTimeoutId","loaded","getItem","getElementById","Intl","DateTimeFormat","clearAutosavedValue","imageInput","click","onErrorSup","fillErrorMessage","imageUrl","formData","FormData","append","imageCSRFToken","request","XMLHttpRequest","upload","onprogress","lengthComputable","progress","total","imageUploadEndpoint","response","JSON","parse","responseText","error","filePath","imagePathAbsolute","location","statusText","send","filledErrorMessage","borderTopWidth","previewMaxHeight","syncSideBySidePreviewScroll","cScroll","pScroll","ratio","parseFloat","onscroll","items","toolbarData","toolbarGuideIcon","hideIcons","nonSeparatorIconsFollow","item","toolbarTips","multiple","accept","opacity","onUpdate","onActivity","defaultValue","isPreviewActive","isSideBySideActive","isFullscreenActive","895","emptyListRE","unorderedListRE","incrementRemainingMarkdownListNumbers","startLine","skipCount","startItem","startIndent","nextLineNumber","nextItem","nextIndent","newNumber","nextNumber","itemNumber","newlineAndIndentContinueMarkdownList","replacements","eolState","inList","inQuote","cursorBeforeBullet","endOfQuote","endOfList","numbered","bullet","896","tabAndIndentMarkdownList","shiftTabAndUnindentMarkdownList","897","setFullscreen","fullScreenRestore","setNormal","898","modeInfo","alias","findModeByMIME","findModeByExtension","findModeByFileName","filename","dot","899","clearPlaceholder","setPlaceholder","placeHolder","onComposition","placeholderCompose","900","startListening","stopListening","timeout","hurry","_cm","901","onCursorActivity","markedSelection","markedSelectionStyle","CHUNK_SIZE","coverRange","addAt","endLine","atEnd","902","doFold","noFold","regexpFlags","regexp","flags","ignoreCase","multiline","ensureFlags","maybeMultiline","searchRegexpForward","searchRegexpForwardMultiline","inside","lastMatchIn","endMargin","newMatch","searchRegexpBackward","searchRegexpBackwardMultiline","adjustPos","orig","folded","foldFunc","searchStringForward","query","cutFrom","endString","searchStringBackward","topString","SearchCursor","atOccurrence","matches","normalize","findNext","findPrevious","getSearchCursor","903","urlRE","modeConfig","codeDepth","gfmOverlay","codeBlock","ateSpace","difference","markdownConfig","904","Typo","aff_loading","xhr_aff","readyState","aff_data","num_loaded","typo","dic_data","dic_loading","xhr_dic","rx_word","905","__dirname","dictionary","affData","wordsData","settings","rules","dictionaryTable","compoundRules","compoundRuleCodes","replacementTable","memoized","path","_len","_jlen","readDataFile","setFunc","_readFile","asyncLoad","then","setAffData","setup","setWordsData","_parseAFF","rule","ONLYINCOMPOUND","_parseDIC","ruleText","expressionText","character","loadedCallback","extension","dictionaryPath","getURL","load","charset","async","promise","req","Promise","resolve","reject","overrideMimeType","fs","existsSync","readFileSync","numEntries","lineParts","_removeAffixComments","definitionParts","ruleType","ruleCode","combineable","charactersToRemove","additionParts","charactersToAdd","continuationClasses","parseRuleCodes","regexToMatch","entry","_removeDicComments","addWord","ruleCodesArray","NEEDAFFIX","newWords","_applyRule","ii","_iilen","newWord","combineCode","combineRule","otherNewWords","iii","_iiilen","textCodes","FLAG","continuationRule","aWord","trimmedWord","checkExact","capitalizedWord","hasFlag","uncapitalizedWord","ruleCodes","COMPOUNDMIN","flag","wordFlags","alphabet","suggest","memoizedLimit","replacementEntry","correctedWord","edits1","words","known_only","_edit","rv","alphabetLength","lettercase","replacementLetter","suggestions","ed1","weighted_corrections","ed1word","sorted_corrections","a_val","b_val","localeCompare","capitalization_scheme","working_limit","correct","907","_defineProperties","descriptor","enumerable","configurable","writable","_createClass","Constructor","protoProps","staticProps","_unsupportedIterableToArray","_arrayLikeToArray","_createForOfIteratorHelperLoose","allowArrayLike","it","defaults$5","getDefaults$1","baseUrl","extensions","gfm","headerIds","headerPrefix","langPrefix","mangle","pedantic","renderer","sanitize","sanitizer","silent","smartLists","smartypants","tokenizer","walkTokens","xhtml","changeDefaults$1","newDefaults","getDefaults","changeDefaults","escapeTest","escapeReplace","escapeTestNoEncode","escapeReplaceNoEncode","escapeReplacements","&","<",">","\"","'","getEscapeReplacement","escape$2","html","encode","unescapeTest","unescape$1","caret","edit$1","getRegex","nonWordAndColonTest","originIndependentUrl","cleanUrl$1","prot","decodeURIComponent","resolveUrl","encodeURI","baseUrls","justDomain","protocol","domain","rtrim$1","relativeBase","merge$2","splitCells$1","tableRow","cells","escaped","curr","c","suffLen","currChar","findClosingBracket$1","checkSanitizeDeprecation$1","warn","repeatString$1","escape","unescape","edit","cleanUrl","noopTest","merge","splitCells","rtrim","findClosingBracket","checkSanitizeDeprecation","repeatString","defaults$4","_escape","outputLink","cap","raw","indentCodeCompensation","matchIndentToCode","indentToCode","matchIndentInNode","Tokenizer_1","Tokenizer","_proto","newline","codeBlockStyle","fences","lang","trimmed","nptable","bcurr","bnext","addBack","loose","istask","ischecked","endMatch","bull","isordered","ordered","itemMatch","listItemStart","task","checked","def","lheading","paragraph","inLink","inRawBlock","trimmedUrl","rtrimSlash","lastParenIndex","linkLen","_escapes","reflink","links","nolink","emStrong","maskedSrc","prevChar","lDelim","nextChar","rDelim","rLength","lLength","delimTotal","midDelimTotal","endReg","rDelimAst","rDelimUnd","codespan","hasNonSpaceChars","hasSpaceCharsOnBothEnds","del","autolink","prevCapZero","_backpedal","inlineText","merge$1","block$1","_paragraph","_label","_title","_tag","_comment","inline$1","reflinkSearch","_punctuation","blockSkip","escapedEmSt","_scheme","_email","_attribute","_href","middle","endAst","endUnd","_extended_email","Tokenizer$1","defaults$3","random","Lexer_1","Lexer","lex","lexInline","inlineTokens","blockTokens","lastToken","cutSrc","lastParagraphClipped","_this","some","extTokenizer","startBlock","tempSrc","tempStart","getStartIndex","errMsg","l2","row","_this2","keepPrevChar","startInline","defaults$2","escape$1","Renderer_1","Renderer","_code","infostring","_html","slugger","slug","listitem","checkbox","tablerow","tablecell","_text","TextRenderer_1","TextRenderer","Slugger_1","Slugger","seen","serialize","getNextSafeSlug","originalSlug","isDryRun","occurenceAccumulator","dryrun","Renderer$1","TextRenderer$1","Slugger$1","defaults$1","Parser","textRenderer","parseInline","l3","cell","itemBody","renderers","callback","pending","_tokens","message","use","_key","hasExtensions","opts","childTokens","pack","prevRenderer","_len2","_key2","_loop","_len3","_key3","_loop2","prevTokenizer","_len4","_key4","_step","_loop3","_step2","_iterator2","_step3","_iterator3","_step4","_iterator4","_cell","_iterator","lexer","908"],"mappings":"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"},"input":"(this[\"webpackJsonpshreyu-react-app\"] = this[\"webpackJsonpshreyu-react-app\"] || []).push([[26,51,52,53,54],{\n\n/***/ 110:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n/**\n * Creates a `Ref` whose value is updated in an effect, ensuring the most recent\n * value is the one rendered with. Generally only required for Concurrent mode usage\n * where previous work in `render()` may be discarded befor being used.\n *\n * This is safe to access in an event handler.\n *\n * @param value The `Ref` value\n */\n\nfunction useCommittedRef(value) {\n  var ref = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useRef\"])(value);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(function () {\n    ref.current = value;\n  }, [value]);\n  return ref;\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (useCommittedRef);\n\n/***/ }),\n\n/***/ 111:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return useEventCallback; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _useCommittedRef__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(110);\n\n\nfunction useEventCallback(fn) {\n  var ref = Object(_useCommittedRef__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(fn);\n  return Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useCallback\"])(function () {\n    return ref.current && ref.current.apply(ref, arguments);\n  }, [ref]);\n}\n\n/***/ }),\n\n/***/ 112:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return useEventListener; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _useEventCallback__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(111);\n\n\n/**\n * Attaches an event handler outside directly to specified DOM element\n * bypassing the react synthetic event system.\n *\n * @param element The target to listen for events on\n * @param event The DOM event name\n * @param handler An event handler\n * @param capture Whether or not to listen during the capture event phase\n */\n\nfunction useEventListener(eventTarget, event, listener, capture) {\n  if (capture === void 0) {\n    capture = false;\n  }\n\n  var handler = Object(_useEventCallback__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(listener);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(function () {\n    var target = typeof eventTarget === 'function' ? eventTarget() : eventTarget;\n    target.addEventListener(event, handler, capture);\n    return function () {\n      return target.removeEventListener(event, handler, capture);\n    };\n  }, [eventTarget]);\n}\n\n/***/ }),\n\n/***/ 114:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* binding */ createWithBsPrefix; });\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules\nvar objectWithoutProperties = __webpack_require__(35);\n\n// EXTERNAL MODULE: ./node_modules/classnames/index.js\nvar classnames = __webpack_require__(47);\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n\n// CONCATENATED MODULE: ./node_modules/dom-helpers/esm/camelize.js\nvar rHyphen = /-(.)/g;\nfunction camelize(string) {\n  return string.replace(rHyphen, function (_, chr) {\n    return chr.toUpperCase();\n  });\n}\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/ThemeProvider.js\nvar ThemeProvider = __webpack_require__(48);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./node_modules/react-bootstrap/esm/createWithBsPrefix.js\n\n\n\n\n\n\n\n\nvar createWithBsPrefix_pascalCase = function pascalCase(str) {\n  return str[0].toUpperCase() + camelize(str).slice(1);\n}; // TODO: emstricten & fix the typing here! `createWithBsPrefix<TElementType>...`\n\n\nfunction createWithBsPrefix(prefix) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$displayName = _ref.displayName,\n      displayName = _ref$displayName === void 0 ? createWithBsPrefix_pascalCase(prefix) : _ref$displayName,\n      Component = _ref.Component,\n      defaultProps = _ref.defaultProps;\n\n  var BsComponent = /*#__PURE__*/react[\"forwardRef\"](function (_ref2, ref) {\n    var className = _ref2.className,\n        bsPrefix = _ref2.bsPrefix,\n        _ref2$as = _ref2.as,\n        Tag = _ref2$as === void 0 ? Component || 'div' : _ref2$as,\n        props = Object(objectWithoutProperties[\"a\" /* default */])(_ref2, [\"className\", \"bsPrefix\", \"as\"]);\n\n    var resolvedPrefix = Object(ThemeProvider[\"a\" /* useBootstrapPrefix */])(bsPrefix, prefix);\n    return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tag, Object(objectSpread2[\"a\" /* default */])({\n      ref: ref,\n      className: classnames_default()(className, resolvedPrefix)\n    }, props));\n  });\n  BsComponent.defaultProps = defaultProps;\n  BsComponent.displayName = displayName;\n  return BsComponent;\n}\n\n/***/ }),\n\n/***/ 115:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return usePrevious; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n/**\n * Store the last of some value. Tracked via a `Ref` only updating it\n * after the component renders.\n *\n * Helpful if you need to compare a prop value to it's previous value during render.\n *\n * ```ts\n * function Component(props) {\n *   const lastProps = usePrevious(props)\n *\n *   if (lastProps.foo !== props.foo)\n *     resetValueFromProps(props.foo)\n * }\n * ```\n *\n * @param value the value to track\n */\n\nfunction usePrevious(value) {\n  var ref = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useRef\"])(null);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(function () {\n    ref.current = value;\n  });\n  return ref.current;\n}\n\n/***/ }),\n\n/***/ 116:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return useGlobalListener; });\n/* harmony import */ var _useEventListener__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(112);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\n/**\n * Attaches an event handler outside directly to the `document`,\n * bypassing the react synthetic event system.\n *\n * ```ts\n * useGlobalListener('keydown', (event) => {\n *  console.log(event.key)\n * })\n * ```\n *\n * @param event The DOM event name\n * @param handler An event handler\n * @param capture Whether or not to listen during the capture event phase\n */\n\nfunction useGlobalListener(event, handler, capture) {\n  if (capture === void 0) {\n    capture = false;\n  }\n\n  var documentTarget = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useCallback\"])(function () {\n    return document;\n  }, []);\n  return Object(_useEventListener__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(documentTarget, event, handler, capture);\n}\n\n/***/ }),\n\n/***/ 117:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return useCallbackRef; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n/**\n * A convenience hook around `useState` designed to be paired with\n * the component [callback ref](https://reactjs.org/docs/refs-and-the-dom.html#callback-refs) api.\n * Callback refs are useful over `useRef()` when you need to respond to the ref being set\n * instead of lazily accessing it in an effect.\n *\n * ```ts\n * const [element, attachRef] = useCallbackRef<HTMLDivElement>()\n *\n * useEffect(() => {\n *   if (!element) return\n *\n *   const calendar = new FullCalendar.Calendar(element)\n *\n *   return () => {\n *     calendar.destroy()\n *   }\n * }, [element])\n *\n * return <div ref={attachRef} />\n * ```\n *\n * @category refs\n */\n\nfunction useCallbackRef() {\n  return Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(null);\n}\n\n/***/ }),\n\n/***/ 120:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return useMounted; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n/**\n * Track whether a component is current mounted. Generally less preferable than\n * properlly canceling effects so they don't run after a component is unmounted,\n * but helpful in cases where that isn't feasible, such as a `Promise` resolution.\n *\n * @returns a function that returns the current isMounted state of the component\n *\n * ```ts\n * const [data, setData] = useState(null)\n * const isMounted = useMounted()\n *\n * useEffect(() => {\n *   fetchdata().then((newData) => {\n *      if (isMounted()) {\n *        setData(newData);\n *      }\n *   })\n * })\n * ```\n */\n\nfunction useMounted() {\n  var mounted = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useRef\"])(true);\n  var isMounted = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useRef\"])(function () {\n    return mounted.current;\n  });\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(function () {\n    return function () {\n      mounted.current = false;\n    };\n  }, []);\n  return isMounted.current;\n}\n\n/***/ }),\n\n/***/ 121:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// UNUSED EXPORTS: isTrivialHref\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(23);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/@restart/ui/node_modules/@restart/hooks/esm/useCallbackRef.js\nvar useCallbackRef = __webpack_require__(117);\n\n// EXTERNAL MODULE: ./node_modules/@restart/ui/node_modules/@restart/hooks/esm/useCommittedRef.js\nvar useCommittedRef = __webpack_require__(110);\n\n// EXTERNAL MODULE: ./node_modules/@restart/ui/node_modules/@restart/hooks/esm/useEventCallback.js\nvar useEventCallback = __webpack_require__(111);\n\n// EXTERNAL MODULE: ./node_modules/@restart/ui/node_modules/@restart/hooks/esm/useEventListener.js\nvar useEventListener = __webpack_require__(112);\n\n// EXTERNAL MODULE: ./node_modules/@restart/ui/node_modules/@restart/hooks/esm/useGlobalListener.js\nvar useGlobalListener = __webpack_require__(116);\n\n// CONCATENATED MODULE: ./node_modules/@restart/ui/node_modules/@restart/hooks/esm/useInterval.js\n\n\n/**\n * Creates a `setInterval` that is properly cleaned up when a component unmounted\n *\n * ```tsx\n *  function Timer() {\n *    const [timer, setTimer] = useState(0)\n *    useInterval(() => setTimer(i => i + 1), 1000)\n *\n *    return <span>{timer} seconds past</span>\n *  }\n * ```\n *\n * @param fn an function run on each interval\n * @param ms The milliseconds duration of the interval\n */\n\nfunction useInterval(fn, ms, paused, runImmediately) {\n  if (paused === void 0) {\n    paused = false;\n  }\n\n  if (runImmediately === void 0) {\n    runImmediately = false;\n  }\n\n  var handle;\n  var fnRef = Object(useCommittedRef[\"a\" /* default */])(fn); // this ref is necessary b/c useEffect will sometimes miss a paused toggle\n  // orphaning a setTimeout chain in the aether, so relying on it's refresh logic is not reliable.\n\n  var pausedRef = Object(useCommittedRef[\"a\" /* default */])(paused);\n\n  var tick = function tick() {\n    if (pausedRef.current) return;\n    fnRef.current();\n    schedule(); // eslint-disable-line no-use-before-define\n  };\n\n  var schedule = function schedule() {\n    clearTimeout(handle);\n    handle = setTimeout(tick, ms);\n  };\n\n  Object(react[\"useEffect\"])(function () {\n    if (runImmediately) {\n      tick();\n    } else {\n      schedule();\n    }\n\n    return function () {\n      return clearTimeout(handle);\n    };\n  }, [paused, runImmediately]);\n}\n\n/* harmony default export */ var esm_useInterval = (useInterval);\n// CONCATENATED MODULE: ./node_modules/@restart/ui/node_modules/@restart/hooks/esm/useRafInterval.js\n\n\n\nfunction useRafInterval(fn, ms, paused) {\n  if (paused === void 0) {\n    paused = false;\n  }\n\n  var handle;\n  var start = new Date().getTime();\n  var fnRef = Object(useCommittedRef[\"a\" /* default */])(fn); // this ref is necessary b/c useEffect will sometimes miss a paused toggle\n  // orphaning a setTimeout chain in the aether, so relying on it's refresh logic is not reliable.\n\n  var pausedRef = Object(useCommittedRef[\"a\" /* default */])(paused);\n\n  function loop() {\n    var current = new Date().getTime();\n    var delta = current - start;\n    if (pausedRef.current) return;\n\n    if (delta >= ms && fnRef.current) {\n      fnRef.current();\n      start = new Date().getTime();\n    }\n\n    cancelAnimationFrame(handle);\n    handle = requestAnimationFrame(loop);\n  }\n\n  Object(react[\"useEffect\"])(function () {\n    handle = requestAnimationFrame(loop);\n    return function () {\n      return cancelAnimationFrame(handle);\n    };\n  }, []);\n}\n\n/* harmony default export */ var esm_useRafInterval = (useRafInterval);\n// CONCATENATED MODULE: ./node_modules/@restart/ui/node_modules/@restart/hooks/esm/useMergeState.js\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\n\n/**\n * Mimics a React class component's state model, of having a single unified\n * `state` object and an updater that merges updates into the existing state, as\n * opposed to replacing it.\n *\n * ```js\n * const [state, setState] = useMergeState({ name: 'Betsy', age: 24 })\n *\n * setState({ name: 'Johan' }) // { name: 'Johan', age: 24 }\n *\n * setState(state => ({ age: state.age + 10 })) // { name: 'Johan', age: 34 }\n * ```\n *\n * @param initialState The initial state object\n */\n\nfunction useMergeState(initialState) {\n  var _useState = Object(react[\"useState\"])(initialState),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var updater = Object(react[\"useCallback\"])(function (update) {\n    if (update === null) return;\n\n    if (typeof update === 'function') {\n      setState(function (state) {\n        var nextState = update(state);\n        return nextState == null ? state : _extends({}, state, nextState);\n      });\n    } else {\n      setState(function (state) {\n        return _extends({}, state, update);\n      });\n    }\n  }, [setState]);\n  return [state, updater];\n}\n// CONCATENATED MODULE: ./node_modules/@restart/ui/node_modules/@restart/hooks/esm/useMergeStateFromProps.js\n\nfunction useMergeStateFromProps(props, gDSFP, initialState) {\n  var _useMergeState = useMergeState(initialState),\n      state = _useMergeState[0],\n      setState = _useMergeState[1];\n\n  var nextState = gDSFP(props, state);\n  if (nextState !== null) setState(nextState);\n  return [state, setState];\n}\n// EXTERNAL MODULE: ./node_modules/@restart/ui/node_modules/@restart/hooks/esm/useMounted.js\nvar useMounted = __webpack_require__(120);\n\n// EXTERNAL MODULE: ./node_modules/@restart/ui/node_modules/@restart/hooks/esm/usePrevious.js\nvar usePrevious = __webpack_require__(115);\n\n// CONCATENATED MODULE: ./node_modules/@restart/ui/node_modules/@restart/hooks/esm/useImage.js\n\n/**\n * Fetch and load an image for programatic use such as in a `<canvas>` element.\n *\n * @param imageOrUrl The `HtmlImageElement` or image url to load\n * @param crossOrigin The `crossorigin` attribute to set\n *\n * ```ts\n * const { image, error } = useImage('/static/kittens.png')\n * const ref = useRef<HTMLCanvasElement>()\n *\n * useEffect(() => {\n *   const ctx = ref.current.getContext('2d')\n *\n *   if (image) {\n *     ctx.drawImage(image, 0, 0)\n *   }\n * }, [ref, image])\n *\n * return (\n *   <>\n *     {error && \"there was a problem loading the image\"}\n *     <canvas ref={ref} />\n *   </>\n * ```\n */\n\nfunction useImage(imageOrUrl, crossOrigin) {\n  var _useState = Object(react[\"useState\"])({\n    image: null,\n    error: null\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  Object(react[\"useEffect\"])(function () {\n    if (!imageOrUrl) return undefined;\n    var image;\n\n    if (typeof imageOrUrl === 'string') {\n      image = new Image();\n      if (crossOrigin) image.crossOrigin = crossOrigin;\n      image.src = imageOrUrl;\n    } else {\n      image = imageOrUrl;\n\n      if (image.complete && image.naturalHeight > 0) {\n        setState({\n          image: image,\n          error: null\n        });\n        return;\n      }\n    }\n\n    function onLoad() {\n      setState({\n        image: image,\n        error: null\n      });\n    }\n\n    function onError(error) {\n      setState({\n        image: image,\n        error: error\n      });\n    }\n\n    image.addEventListener('load', onLoad);\n    image.addEventListener('error', onError);\n    return function () {\n      image.removeEventListener('load', onLoad);\n      image.removeEventListener('error', onError);\n    };\n  }, [imageOrUrl, crossOrigin]);\n  return state;\n}\n// EXTERNAL MODULE: ./node_modules/@restart/ui/node_modules/@restart/hooks/esm/useIsomorphicEffect.js\nvar useIsomorphicEffect = __webpack_require__(129);\n\n// CONCATENATED MODULE: ./node_modules/@restart/ui/node_modules/@restart/hooks/esm/useResizeObserver.js\n\n\nvar targetMap = new WeakMap();\nvar resizeObserver;\n\nfunction getResizeObserver() {\n  // eslint-disable-next-line no-return-assign\n  return resizeObserver = resizeObserver || new window.ResizeObserver(function (entries) {\n    entries.forEach(function (entry) {\n      var handler = targetMap.get(entry.target);\n      if (handler) handler(entry.contentRect);\n    });\n  });\n}\n/**\n * Efficiently observe size changes on an element. Depends on the `ResizeObserver` api,\n * and polyfills are needed in older browsers.\n *\n * ```ts\n * const [ref, attachRef] = useCallbackRef(null);\n *\n * const rect = useResizeObserver(ref);\n *\n * return (\n *  <div ref={attachRef}>\n *    {JSON.stringify(rect)}\n *  </div>\n * )\n * ```\n *\n * @param element The DOM element to observe\n */\n\n\nfunction useResizeObserver(element) {\n  var _useState = Object(react[\"useState\"])(null),\n      rect = _useState[0],\n      setRect = _useState[1];\n\n  Object(useIsomorphicEffect[\"a\" /* default */])(function () {\n    if (!element) return;\n    getResizeObserver().observe(element);\n    setRect(element.getBoundingClientRect());\n    targetMap.set(element, function (rect) {\n      setRect(rect);\n    });\n    return function () {\n      targetMap.delete(element);\n    };\n  }, [element]);\n  return rect;\n}\n// CONCATENATED MODULE: ./node_modules/@restart/ui/node_modules/@restart/hooks/esm/index.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// EXTERNAL MODULE: ./node_modules/@restart/ui/esm/Button.js\nvar Button = __webpack_require__(124);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./node_modules/@restart/ui/esm/Anchor.js\n\nvar _excluded = [\"onKeyDown\"];\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n\n/* eslint-disable jsx-a11y/anchor-has-content */\n\n\n\n\n\n\nfunction isTrivialHref(href) {\n  return !href || href.trim() === '#';\n}\n/**\n * An generic `<a>` component that covers a few A11y cases, ensuring that\n * cases where the `href` is missing or trivial like \"#\" are treated like buttons.\n */\n\nvar Anchor = /*#__PURE__*/react[\"forwardRef\"](function (_ref, ref) {\n  var onKeyDown = _ref.onKeyDown,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var _useButtonProps = Object(Button[\"b\" /* useButtonProps */])(Object.assign({\n    tagName: 'a'\n  }, props)),\n      _useButtonProps2 = Object(slicedToArray[\"a\" /* default */])(_useButtonProps, 1),\n      buttonProps = _useButtonProps2[0];\n\n  var handleKeyDown = Object(useEventCallback[\"a\" /* default */])(function (e) {\n    buttonProps.onKeyDown(e);\n    onKeyDown == null ? void 0 : onKeyDown(e);\n  });\n\n  if (isTrivialHref(props.href) && !props.role || props.role === 'button') {\n    return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\", Object.assign({\n      ref: ref\n    }, props, buttonProps, {\n      onKeyDown: handleKeyDown\n    }));\n  }\n\n  return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\", Object.assign({\n    ref: ref\n  }, props, {\n    onKeyDown: onKeyDown\n  }));\n});\nAnchor.displayName = 'Anchor';\n/* harmony default export */ var esm_Anchor = __webpack_exports__[\"a\"] = (Anchor);\n\n/***/ }),\n\n/***/ 124:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export isTrivialHref */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return useButtonProps; });\n/* harmony import */ var _Users_nazarethavaqueirogradin_Documents_Grupo_Gradi_n_testeo_Shreyu_react_v1_0_0_shreyu_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(23);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(1);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__);\n\nvar _excluded = [\"as\", \"disabled\"];\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\n\n\nfunction isTrivialHref(href) {\n  return !href || href.trim() === '#';\n}\nfunction useButtonProps(_ref2) {\n  var tagName = _ref2.tagName,\n      disabled = _ref2.disabled,\n      href = _ref2.href,\n      target = _ref2.target,\n      rel = _ref2.rel,\n      onClick = _ref2.onClick,\n      _ref2$tabIndex = _ref2.tabIndex,\n      tabIndex = _ref2$tabIndex === void 0 ? 0 : _ref2$tabIndex,\n      type = _ref2.type;\n\n  if (!tagName) {\n    if (href != null || target != null || rel != null) {\n      tagName = 'a';\n    } else {\n      tagName = 'button';\n    }\n  }\n\n  var meta = {\n    tagName: tagName\n  };\n\n  if (tagName === 'button') {\n    return [{\n      type: type || 'button',\n      disabled: disabled\n    }, meta];\n  }\n\n  var handleClick = function handleClick(event) {\n    if (disabled || tagName === 'a' && isTrivialHref(href)) {\n      event.preventDefault();\n    }\n\n    if (disabled) {\n      event.stopPropagation();\n      return;\n    }\n\n    onClick == null ? void 0 : onClick(event);\n  };\n\n  var handleKeyDown = function handleKeyDown(event) {\n    if (event.key === ' ') {\n      event.preventDefault();\n      handleClick(event);\n    }\n  };\n\n  return [{\n    role: 'button',\n    // explicitly undefined so that it overrides the props disabled in a spread\n    // e.g. <Tag {...props} {...hookProps} />\n    disabled: undefined,\n    tabIndex: disabled ? undefined : tabIndex,\n    href: tagName === 'a' && disabled ? undefined : href,\n    target: tagName === 'a' ? target : undefined,\n    'aria-disabled': !disabled ? undefined : disabled,\n    rel: tagName === 'a' ? rel : undefined,\n    onClick: handleClick,\n    onKeyDown: handleKeyDown\n  }, meta];\n}\nvar Button = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__[\"forwardRef\"](function (_ref, ref) {\n  var asProp = _ref.as,\n      disabled = _ref.disabled,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var _useButtonProps = useButtonProps(Object.assign({\n    tagName: asProp,\n    disabled: disabled\n  }, props)),\n      _useButtonProps2 = Object(_Users_nazarethavaqueirogradin_Documents_Grupo_Gradi_n_testeo_Shreyu_react_v1_0_0_shreyu_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_useButtonProps, 2),\n      buttonProps = _useButtonProps2[0],\n      Component = _useButtonProps2[1].tagName;\n\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(Component, Object.assign({}, props, buttonProps, {\n    ref: ref\n  }));\n});\nButton.displayName = 'Button';\n/* harmony default export */ __webpack_exports__[\"a\"] = (Button);\n\n/***/ }),\n\n/***/ 126:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _Users_nazarethavaqueirogradin_Documents_Grupo_Gradi_n_testeo_Shreyu_react_v1_0_0_shreyu_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(47);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (className) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__[\"forwardRef\"](function (p, ref) {\n    return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__[\"jsx\"])(\"div\", Object(_Users_nazarethavaqueirogradin_Documents_Grupo_Gradi_n_testeo_Shreyu_react_v1_0_0_shreyu_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(Object(_Users_nazarethavaqueirogradin_Documents_Grupo_Gradi_n_testeo_Shreyu_react_v1_0_0_shreyu_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({}, p), {}, {\n      ref: ref,\n      className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(p.className, className)\n    }));\n  });\n});\n\n/***/ }),\n\n/***/ 129:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nvar isReactNative = typeof global !== 'undefined' && // @ts-ignore\nglobal.navigator && // @ts-ignore\nglobal.navigator.product === 'ReactNative';\nvar isDOM = typeof document !== 'undefined';\n/**\n * Is `useLayoutEffect` in a DOM or React Native environment, otherwise resolves to useEffect\n * Only useful to avoid the console warning.\n *\n * PREFER `useEffect` UNLESS YOU KNOW WHAT YOU ARE DOING.\n *\n * @category effects\n */\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (isDOM || isReactNative ? react__WEBPACK_IMPORTED_MODULE_0__[\"useLayoutEffect\"] : react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"]);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(71)))\n\n/***/ }),\n\n/***/ 130:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nvar context = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__[\"createContext\"](null);\ncontext.displayName = 'CardHeaderContext';\n/* harmony default export */ __webpack_exports__[\"a\"] = (context);\n\n/***/ }),\n\n/***/ 153:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export useCol */\n/* harmony import */ var _Users_nazarethavaqueirogradin_Documents_Grupo_Gradi_n_testeo_Shreyu_react_v1_0_0_shreyu_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(23);\n/* harmony import */ var _Users_nazarethavaqueirogradin_Documents_Grupo_Gradi_n_testeo_Shreyu_react_v1_0_0_shreyu_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3);\n/* harmony import */ var _Users_nazarethavaqueirogradin_Documents_Grupo_Gradi_n_testeo_Shreyu_react_v1_0_0_shreyu_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(35);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(47);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _ThemeProvider__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(48);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(1);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__);\n\n\n\n\n\n\n\nvar DEVICE_SIZES = ['xxl', 'xl', 'lg', 'md', 'sm', 'xs'];\nfunction useCol(_ref) {\n  var as = _ref.as,\n      bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      props = Object(_Users_nazarethavaqueirogradin_Documents_Grupo_Gradi_n_testeo_Shreyu_react_v1_0_0_shreyu_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_ref, [\"as\", \"bsPrefix\", \"className\"]);\n\n  bsPrefix = Object(_ThemeProvider__WEBPACK_IMPORTED_MODULE_5__[/* useBootstrapPrefix */ \"a\"])(bsPrefix, 'col');\n  var spans = [];\n  var classes = [];\n  DEVICE_SIZES.forEach(function (brkPoint) {\n    var propValue = props[brkPoint];\n    delete props[brkPoint];\n    var span;\n    var offset;\n    var order;\n\n    if (typeof propValue === 'object' && propValue != null) {\n      span = propValue.span;\n      offset = propValue.offset;\n      order = propValue.order;\n    } else {\n      span = propValue;\n    }\n\n    var infix = brkPoint !== 'xs' ? \"-\".concat(brkPoint) : '';\n    if (span) spans.push(span === true ? \"\".concat(bsPrefix).concat(infix) : \"\".concat(bsPrefix).concat(infix, \"-\").concat(span));\n    if (order != null) classes.push(\"order\".concat(infix, \"-\").concat(order));\n    if (offset != null) classes.push(\"offset\".concat(infix, \"-\").concat(offset));\n  });\n  return [Object(_Users_nazarethavaqueirogradin_Documents_Grupo_Gradi_n_testeo_Shreyu_react_v1_0_0_shreyu_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(Object(_Users_nazarethavaqueirogradin_Documents_Grupo_Gradi_n_testeo_Shreyu_react_v1_0_0_shreyu_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])({}, props), {}, {\n    className: classnames__WEBPACK_IMPORTED_MODULE_3___default.a.apply(void 0, [className].concat(spans, classes))\n  }), {\n    as: as,\n    bsPrefix: bsPrefix,\n    spans: spans\n  }];\n}\nvar Col = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4__[\"forwardRef\"]( // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\nfunction (props, ref) {\n  var _useCol = useCol(props),\n      _useCol2 = Object(_Users_nazarethavaqueirogradin_Documents_Grupo_Gradi_n_testeo_Shreyu_react_v1_0_0_shreyu_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_useCol, 2),\n      _useCol2$ = _useCol2[0],\n      className = _useCol2$.className,\n      colProps = Object(_Users_nazarethavaqueirogradin_Documents_Grupo_Gradi_n_testeo_Shreyu_react_v1_0_0_shreyu_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useCol2$, [\"className\"]),\n      _useCol2$2 = _useCol2[1],\n      _useCol2$2$as = _useCol2$2.as,\n      Component = _useCol2$2$as === void 0 ? 'div' : _useCol2$2$as,\n      bsPrefix = _useCol2$2.bsPrefix,\n      spans = _useCol2$2.spans;\n\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsx\"])(Component, Object(_Users_nazarethavaqueirogradin_Documents_Grupo_Gradi_n_testeo_Shreyu_react_v1_0_0_shreyu_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(Object(_Users_nazarethavaqueirogradin_Documents_Grupo_Gradi_n_testeo_Shreyu_react_v1_0_0_shreyu_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])({}, colProps), {}, {\n    ref: ref,\n    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(className, !spans.length && bsPrefix)\n  }));\n});\nCol.displayName = 'Col';\n/* harmony default export */ __webpack_exports__[\"a\"] = (Col);\n\n/***/ }),\n\n/***/ 160:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules\nvar objectWithoutProperties = __webpack_require__(35);\n\n// EXTERNAL MODULE: ./node_modules/classnames/index.js\nvar classnames = __webpack_require__(47);\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/ThemeProvider.js\nvar ThemeProvider = __webpack_require__(48);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/createWithBsPrefix.js + 1 modules\nvar createWithBsPrefix = __webpack_require__(114);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/divWithClassName.js\nvar divWithClassName = __webpack_require__(126);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./node_modules/react-bootstrap/esm/CardImg.js\n\n\n\n\n\n\nvar CardImg = /*#__PURE__*/react[\"forwardRef\"]( // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\nfunction (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      variant = _ref.variant,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'img' : _ref$as,\n      props = Object(objectWithoutProperties[\"a\" /* default */])(_ref, [\"bsPrefix\", \"className\", \"variant\", \"as\"]);\n\n  var prefix = Object(ThemeProvider[\"a\" /* useBootstrapPrefix */])(bsPrefix, 'card-img');\n  return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Component, Object(objectSpread2[\"a\" /* default */])({\n    ref: ref,\n    className: classnames_default()(variant ? \"\".concat(prefix, \"-\").concat(variant) : prefix, className)\n  }, props));\n});\nCardImg.displayName = 'CardImg';\n/* harmony default export */ var esm_CardImg = (CardImg);\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/CardHeaderContext.js\nvar CardHeaderContext = __webpack_require__(130);\n\n// CONCATENATED MODULE: ./node_modules/react-bootstrap/esm/CardHeader.js\n\n\n\n\n\n\n\n\nvar CardHeader = /*#__PURE__*/react[\"forwardRef\"](function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      props = Object(objectWithoutProperties[\"a\" /* default */])(_ref, [\"bsPrefix\", \"className\", \"as\"]);\n\n  var prefix = Object(ThemeProvider[\"a\" /* useBootstrapPrefix */])(bsPrefix, 'card-header');\n  var contextValue = Object(react[\"useMemo\"])(function () {\n    return {\n      cardHeaderBsPrefix: prefix\n    };\n  }, [prefix]);\n  return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CardHeaderContext[\"a\" /* default */].Provider, {\n    value: contextValue,\n    children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Component, Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({\n      ref: ref\n    }, props), {}, {\n      className: classnames_default()(className, prefix)\n    }))\n  });\n});\nCardHeader.displayName = 'CardHeader';\n/* harmony default export */ var esm_CardHeader = (CardHeader);\n// CONCATENATED MODULE: ./node_modules/react-bootstrap/esm/Card.js\n\n\n\n\n\n\n\n\n\n\nvar DivStyledAsH5 = Object(divWithClassName[\"a\" /* default */])('h5');\nvar DivStyledAsH6 = Object(divWithClassName[\"a\" /* default */])('h6');\nvar CardBody = Object(createWithBsPrefix[\"a\" /* default */])('card-body');\nvar CardTitle = Object(createWithBsPrefix[\"a\" /* default */])('card-title', {\n  Component: DivStyledAsH5\n});\nvar CardSubtitle = Object(createWithBsPrefix[\"a\" /* default */])('card-subtitle', {\n  Component: DivStyledAsH6\n});\nvar CardLink = Object(createWithBsPrefix[\"a\" /* default */])('card-link', {\n  Component: 'a'\n});\nvar CardText = Object(createWithBsPrefix[\"a\" /* default */])('card-text', {\n  Component: 'p'\n});\nvar CardFooter = Object(createWithBsPrefix[\"a\" /* default */])('card-footer');\nvar CardImgOverlay = Object(createWithBsPrefix[\"a\" /* default */])('card-img-overlay');\nvar defaultProps = {\n  body: false\n};\nvar Card = /*#__PURE__*/react[\"forwardRef\"](function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      bg = _ref.bg,\n      text = _ref.text,\n      border = _ref.border,\n      body = _ref.body,\n      children = _ref.children,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      props = Object(objectWithoutProperties[\"a\" /* default */])(_ref, [\"bsPrefix\", \"className\", \"bg\", \"text\", \"border\", \"body\", \"children\", \"as\"]);\n\n  var prefix = Object(ThemeProvider[\"a\" /* useBootstrapPrefix */])(bsPrefix, 'card');\n  return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Component, Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({\n    ref: ref\n  }, props), {}, {\n    className: classnames_default()(className, prefix, bg && \"bg-\".concat(bg), text && \"text-\".concat(text), border && \"border-\".concat(border)),\n    children: body ? /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CardBody, {\n      children: children\n    }) : children\n  }));\n});\nCard.displayName = 'Card';\nCard.defaultProps = defaultProps;\n/* harmony default export */ var esm_Card = __webpack_exports__[\"a\"] = (Object.assign(Card, {\n  Img: esm_CardImg,\n  Title: CardTitle,\n  Subtitle: CardSubtitle,\n  Body: CardBody,\n  Link: CardLink,\n  Text: CardText,\n  Header: esm_CardHeader,\n  Footer: CardFooter,\n  ImgOverlay: CardImgOverlay\n}));\n\n/***/ }),\n\n/***/ 163:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules\nvar objectWithoutProperties = __webpack_require__(35);\n\n// EXTERNAL MODULE: ./node_modules/classnames/index.js\nvar classnames = __webpack_require__(47);\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/ThemeProvider.js\nvar ThemeProvider = __webpack_require__(48);\n\n// EXTERNAL MODULE: ./node_modules/@restart/ui/esm/Anchor.js + 7 modules\nvar Anchor = __webpack_require__(121);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./node_modules/react-bootstrap/esm/BreadcrumbItem.js\n\n\n\n\n\n\n\nvar defaultProps = {\n  active: false,\n  linkProps: {}\n};\nvar BreadcrumbItem = /*#__PURE__*/react[\"forwardRef\"](function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      active = _ref.active,\n      children = _ref.children,\n      className = _ref.className,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'li' : _ref$as,\n      _ref$linkAs = _ref.linkAs,\n      LinkComponent = _ref$linkAs === void 0 ? Anchor[\"a\" /* default */] : _ref$linkAs,\n      linkProps = _ref.linkProps,\n      href = _ref.href,\n      title = _ref.title,\n      target = _ref.target,\n      props = Object(objectWithoutProperties[\"a\" /* default */])(_ref, [\"bsPrefix\", \"active\", \"children\", \"className\", \"as\", \"linkAs\", \"linkProps\", \"href\", \"title\", \"target\"]);\n\n  var prefix = Object(ThemeProvider[\"a\" /* useBootstrapPrefix */])(bsPrefix, 'breadcrumb-item');\n  return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Component, Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({\n    ref: ref\n  }, props), {}, {\n    className: classnames_default()(prefix, className, {\n      active: active\n    }),\n    \"aria-current\": active ? 'page' : undefined,\n    children: active ? children : /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LinkComponent, Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({}, linkProps), {}, {\n      href: href,\n      title: title,\n      target: target,\n      children: children\n    }))\n  }));\n});\nBreadcrumbItem.displayName = 'BreadcrumbItem';\nBreadcrumbItem.defaultProps = defaultProps;\n/* harmony default export */ var esm_BreadcrumbItem = (BreadcrumbItem);\n// CONCATENATED MODULE: ./node_modules/react-bootstrap/esm/Breadcrumb.js\n\n\n\n\n\n\n\nvar Breadcrumb_defaultProps = {\n  label: 'breadcrumb',\n  listProps: {}\n};\nvar Breadcrumb = /*#__PURE__*/react[\"forwardRef\"](function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      listProps = _ref.listProps,\n      children = _ref.children,\n      label = _ref.label,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'nav' : _ref$as,\n      props = Object(objectWithoutProperties[\"a\" /* default */])(_ref, [\"bsPrefix\", \"className\", \"listProps\", \"children\", \"label\", \"as\"]);\n\n  var prefix = Object(ThemeProvider[\"a\" /* useBootstrapPrefix */])(bsPrefix, 'breadcrumb');\n  return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Component, Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({\n    \"aria-label\": label,\n    className: className,\n    ref: ref\n  }, props), {}, {\n    children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ol\", Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({}, listProps), {}, {\n      className: classnames_default()(prefix, listProps == null ? void 0 : listProps.className),\n      children: children\n    }))\n  }));\n});\nBreadcrumb.displayName = 'Breadcrumb';\nBreadcrumb.defaultProps = Breadcrumb_defaultProps;\n/* harmony default export */ var esm_Breadcrumb = __webpack_exports__[\"a\"] = (Object.assign(Breadcrumb, {\n  Item: esm_BreadcrumbItem\n}));\n\n/***/ }),\n\n/***/ 167:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _Users_nazarethavaqueirogradin_Documents_Grupo_Gradi_n_testeo_Shreyu_react_v1_0_0_shreyu_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);\n/* harmony import */ var _Users_nazarethavaqueirogradin_Documents_Grupo_Gradi_n_testeo_Shreyu_react_v1_0_0_shreyu_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(35);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(47);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _ThemeProvider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(48);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(1);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\nvar DEVICE_SIZES = ['xxl', 'xl', 'lg', 'md', 'sm', 'xs'];\nvar Row = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__[\"forwardRef\"](function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      props = Object(_Users_nazarethavaqueirogradin_Documents_Grupo_Gradi_n_testeo_Shreyu_react_v1_0_0_shreyu_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_ref, [\"bsPrefix\", \"className\", \"as\"]);\n\n  var decoratedBsPrefix = Object(_ThemeProvider__WEBPACK_IMPORTED_MODULE_4__[/* useBootstrapPrefix */ \"a\"])(bsPrefix, 'row');\n  var sizePrefix = \"\".concat(decoratedBsPrefix, \"-cols\");\n  var classes = [];\n  DEVICE_SIZES.forEach(function (brkPoint) {\n    var propValue = props[brkPoint];\n    delete props[brkPoint];\n    var cols;\n\n    if (propValue != null && typeof propValue === 'object') {\n      cols = propValue.cols;\n    } else {\n      cols = propValue;\n    }\n\n    var infix = brkPoint !== 'xs' ? \"-\".concat(brkPoint) : '';\n    if (cols != null) classes.push(\"\".concat(sizePrefix).concat(infix, \"-\").concat(cols));\n  });\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsx\"])(Component, Object(_Users_nazarethavaqueirogradin_Documents_Grupo_Gradi_n_testeo_Shreyu_react_v1_0_0_shreyu_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(Object(_Users_nazarethavaqueirogradin_Documents_Grupo_Gradi_n_testeo_Shreyu_react_v1_0_0_shreyu_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({\n    ref: ref\n  }, props), {}, {\n    className: classnames__WEBPACK_IMPORTED_MODULE_2___default.a.apply(void 0, [className, decoratedBsPrefix].concat(classes))\n  }));\n});\nRow.displayName = 'Row';\n/* harmony default export */ __webpack_exports__[\"a\"] = (Row);\n\n/***/ }),\n\n/***/ 212:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar objectWithoutPropertiesLoose = __webpack_require__(543);\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n\n/***/ }),\n\n/***/ 287:\n/***/ (function(module, exports, __webpack_require__) {\n\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n// This is CodeMirror (https://codemirror.net), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n(function (global, factory) {\n   true ? module.exports = factory() : undefined;\n})(this, function () {\n  'use strict'; // Kludges for bugs and behavior differences that can't be feature\n  // detected are enabled based on userAgent etc sniffing.\n\n  var userAgent = navigator.userAgent;\n  var platform = navigator.platform;\n  var gecko = /gecko\\/\\d/i.test(userAgent);\n  var ie_upto10 = /MSIE \\d/.test(userAgent);\n  var ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\n  var edge = /Edge\\/(\\d+)/.exec(userAgent);\n  var ie = ie_upto10 || ie_11up || edge;\n  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);\n  var webkit = !edge && /WebKit\\//.test(userAgent);\n  var qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\n  var chrome = !edge && /Chrome\\//.test(userAgent);\n  var presto = /Opera\\//.test(userAgent);\n  var safari = /Apple Computer/.test(navigator.vendor);\n  var mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\n  var phantom = /PhantomJS/.test(userAgent);\n  var ios = safari && (/Mobile\\/\\w+/.test(userAgent) || navigator.maxTouchPoints > 2);\n  var android = /Android/.test(userAgent); // This is woefully incomplete. Suggestions for alternative methods welcome.\n\n  var mobile = ios || android || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\n  var mac = ios || /Mac/.test(platform);\n  var chromeOS = /\\bCrOS\\b/.test(userAgent);\n  var windows = /win/i.test(platform);\n  var presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\n\n  if (presto_version) {\n    presto_version = Number(presto_version[1]);\n  }\n\n  if (presto_version && presto_version >= 15) {\n    presto = false;\n    webkit = true;\n  } // Some browsers use the wrong event properties to signal cmd/ctrl on OS X\n\n\n  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\n  var captureRightClick = gecko || ie && ie_version >= 9;\n\n  function classTest(cls) {\n    return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\");\n  }\n\n  var rmClass = function rmClass(node, cls) {\n    var current = node.className;\n    var match = classTest(cls).exec(current);\n\n    if (match) {\n      var after = current.slice(match.index + match[0].length);\n      node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n    }\n  };\n\n  function removeChildren(e) {\n    for (var count = e.childNodes.length; count > 0; --count) {\n      e.removeChild(e.firstChild);\n    }\n\n    return e;\n  }\n\n  function removeChildrenAndAdd(parent, e) {\n    return removeChildren(parent).appendChild(e);\n  }\n\n  function elt(tag, content, className, style) {\n    var e = document.createElement(tag);\n\n    if (className) {\n      e.className = className;\n    }\n\n    if (style) {\n      e.style.cssText = style;\n    }\n\n    if (typeof content == \"string\") {\n      e.appendChild(document.createTextNode(content));\n    } else if (content) {\n      for (var i = 0; i < content.length; ++i) {\n        e.appendChild(content[i]);\n      }\n    }\n\n    return e;\n  } // wrapper for elt, which removes the elt from the accessibility tree\n\n\n  function eltP(tag, content, className, style) {\n    var e = elt(tag, content, className, style);\n    e.setAttribute(\"role\", \"presentation\");\n    return e;\n  }\n\n  var range;\n\n  if (document.createRange) {\n    range = function range(node, start, end, endNode) {\n      var r = document.createRange();\n      r.setEnd(endNode || node, end);\n      r.setStart(node, start);\n      return r;\n    };\n  } else {\n    range = function range(node, start, end) {\n      var r = document.body.createTextRange();\n\n      try {\n        r.moveToElementText(node.parentNode);\n      } catch (e) {\n        return r;\n      }\n\n      r.collapse(true);\n      r.moveEnd(\"character\", end);\n      r.moveStart(\"character\", start);\n      return r;\n    };\n  }\n\n  function contains(parent, child) {\n    if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n      {\n        child = child.parentNode;\n      }\n\n    if (parent.contains) {\n      return parent.contains(child);\n    }\n\n    do {\n      if (child.nodeType == 11) {\n        child = child.host;\n      }\n\n      if (child == parent) {\n        return true;\n      }\n    } while (child = child.parentNode);\n  }\n\n  function activeElt() {\n    // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n    // IE < 10 will throw when accessed while the page is loading or in an iframe.\n    // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n    var activeElement;\n\n    try {\n      activeElement = document.activeElement;\n    } catch (e) {\n      activeElement = document.body || null;\n    }\n\n    while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement) {\n      activeElement = activeElement.shadowRoot.activeElement;\n    }\n\n    return activeElement;\n  }\n\n  function addClass(node, cls) {\n    var current = node.className;\n\n    if (!classTest(cls).test(current)) {\n      node.className += (current ? \" \" : \"\") + cls;\n    }\n  }\n\n  function joinClasses(a, b) {\n    var as = a.split(\" \");\n\n    for (var i = 0; i < as.length; i++) {\n      if (as[i] && !classTest(as[i]).test(b)) {\n        b += \" \" + as[i];\n      }\n    }\n\n    return b;\n  }\n\n  var selectInput = function selectInput(node) {\n    node.select();\n  };\n\n  if (ios) // Mobile Safari apparently has a bug where select() is broken.\n    {\n      selectInput = function selectInput(node) {\n        node.selectionStart = 0;\n        node.selectionEnd = node.value.length;\n      };\n    } else if (ie) // Suppress mysterious IE10 errors\n    {\n      selectInput = function selectInput(node) {\n        try {\n          node.select();\n        } catch (_e) {}\n      };\n    }\n\n  function bind(f) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function () {\n      return f.apply(null, args);\n    };\n  }\n\n  function copyObj(obj, target, overwrite) {\n    if (!target) {\n      target = {};\n    }\n\n    for (var prop in obj) {\n      if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop))) {\n        target[prop] = obj[prop];\n      }\n    }\n\n    return target;\n  } // Counts the column offset in a string, taking tabs into account.\n  // Used mostly to find indentation.\n\n\n  function countColumn(string, end, tabSize, startIndex, startValue) {\n    if (end == null) {\n      end = string.search(/[^\\s\\u00a0]/);\n\n      if (end == -1) {\n        end = string.length;\n      }\n    }\n\n    for (var i = startIndex || 0, n = startValue || 0;;) {\n      var nextTab = string.indexOf(\"\\t\", i);\n\n      if (nextTab < 0 || nextTab >= end) {\n        return n + (end - i);\n      }\n\n      n += nextTab - i;\n      n += tabSize - n % tabSize;\n      i = nextTab + 1;\n    }\n  }\n\n  var Delayed = function Delayed() {\n    this.id = null;\n    this.f = null;\n    this.time = 0;\n    this.handler = bind(this.onTimeout, this);\n  };\n\n  Delayed.prototype.onTimeout = function (self) {\n    self.id = 0;\n\n    if (self.time <= +new Date()) {\n      self.f();\n    } else {\n      setTimeout(self.handler, self.time - +new Date());\n    }\n  };\n\n  Delayed.prototype.set = function (ms, f) {\n    this.f = f;\n    var time = +new Date() + ms;\n\n    if (!this.id || time < this.time) {\n      clearTimeout(this.id);\n      this.id = setTimeout(this.handler, ms);\n      this.time = time;\n    }\n  };\n\n  function indexOf(array, elt) {\n    for (var i = 0; i < array.length; ++i) {\n      if (array[i] == elt) {\n        return i;\n      }\n    }\n\n    return -1;\n  } // Number of pixels added to scroller and sizer to hide scrollbar\n\n\n  var scrollerGap = 50; // Returned or thrown by various protocols to signal 'I'm not\n  // handling this'.\n\n  var Pass = {\n    toString: function toString() {\n      return \"CodeMirror.Pass\";\n    }\n  }; // Reused option objects for setSelection & friends\n\n  var sel_dontScroll = {\n    scroll: false\n  },\n      sel_mouse = {\n    origin: \"*mouse\"\n  },\n      sel_move = {\n    origin: \"+move\"\n  }; // The inverse of countColumn -- find the offset that corresponds to\n  // a particular column.\n\n  function findColumn(string, goal, tabSize) {\n    for (var pos = 0, col = 0;;) {\n      var nextTab = string.indexOf(\"\\t\", pos);\n\n      if (nextTab == -1) {\n        nextTab = string.length;\n      }\n\n      var skipped = nextTab - pos;\n\n      if (nextTab == string.length || col + skipped >= goal) {\n        return pos + Math.min(skipped, goal - col);\n      }\n\n      col += nextTab - pos;\n      col += tabSize - col % tabSize;\n      pos = nextTab + 1;\n\n      if (col >= goal) {\n        return pos;\n      }\n    }\n  }\n\n  var spaceStrs = [\"\"];\n\n  function spaceStr(n) {\n    while (spaceStrs.length <= n) {\n      spaceStrs.push(lst(spaceStrs) + \" \");\n    }\n\n    return spaceStrs[n];\n  }\n\n  function lst(arr) {\n    return arr[arr.length - 1];\n  }\n\n  function map(array, f) {\n    var out = [];\n\n    for (var i = 0; i < array.length; i++) {\n      out[i] = f(array[i], i);\n    }\n\n    return out;\n  }\n\n  function insertSorted(array, value, score) {\n    var pos = 0,\n        priority = score(value);\n\n    while (pos < array.length && score(array[pos]) <= priority) {\n      pos++;\n    }\n\n    array.splice(pos, 0, value);\n  }\n\n  function nothing() {}\n\n  function createObj(base, props) {\n    var inst;\n\n    if (Object.create) {\n      inst = Object.create(base);\n    } else {\n      nothing.prototype = base;\n      inst = new nothing();\n    }\n\n    if (props) {\n      copyObj(props, inst);\n    }\n\n    return inst;\n  }\n\n  var nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\n\n  function isWordCharBasic(ch) {\n    return /\\w/.test(ch) || ch > \"\\x80\" && (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch));\n  }\n\n  function isWordChar(ch, helper) {\n    if (!helper) {\n      return isWordCharBasic(ch);\n    }\n\n    if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) {\n      return true;\n    }\n\n    return helper.test(ch);\n  }\n\n  function isEmpty(obj) {\n    for (var n in obj) {\n      if (obj.hasOwnProperty(n) && obj[n]) {\n        return false;\n      }\n    }\n\n    return true;\n  } // Extending unicode characters. A series of a non-extending char +\n  // any number of extending chars is treated as a single unit as far\n  // as editing and measuring is concerned. This is not fully correct,\n  // since some scripts/fonts/browsers also treat other configurations\n  // of code points as a group.\n\n\n  var extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\n\n  function isExtendingChar(ch) {\n    return ch.charCodeAt(0) >= 768 && extendingChars.test(ch);\n  } // Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\n\n\n  function skipExtendingChars(str, pos, dir) {\n    while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) {\n      pos += dir;\n    }\n\n    return pos;\n  } // Returns the value from the range [`from`; `to`] that satisfies\n  // `pred` and is closest to `from`. Assumes that at least `to`\n  // satisfies `pred`. Supports `from` being greater than `to`.\n\n\n  function findFirst(pred, from, to) {\n    // At any point we are certain `to` satisfies `pred`, don't know\n    // whether `from` does.\n    var dir = from > to ? -1 : 1;\n\n    for (;;) {\n      if (from == to) {\n        return from;\n      }\n\n      var midF = (from + to) / 2,\n          mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);\n\n      if (mid == from) {\n        return pred(mid) ? from : to;\n      }\n\n      if (pred(mid)) {\n        to = mid;\n      } else {\n        from = mid + dir;\n      }\n    }\n  } // BIDI HELPERS\n\n\n  function iterateBidiSections(order, from, to, f) {\n    if (!order) {\n      return f(from, to, \"ltr\", 0);\n    }\n\n    var found = false;\n\n    for (var i = 0; i < order.length; ++i) {\n      var part = order[i];\n\n      if (part.from < to && part.to > from || from == to && part.to == from) {\n        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\", i);\n        found = true;\n      }\n    }\n\n    if (!found) {\n      f(from, to, \"ltr\");\n    }\n  }\n\n  var bidiOther = null;\n\n  function getBidiPartAt(order, ch, sticky) {\n    var found;\n    bidiOther = null;\n\n    for (var i = 0; i < order.length; ++i) {\n      var cur = order[i];\n\n      if (cur.from < ch && cur.to > ch) {\n        return i;\n      }\n\n      if (cur.to == ch) {\n        if (cur.from != cur.to && sticky == \"before\") {\n          found = i;\n        } else {\n          bidiOther = i;\n        }\n      }\n\n      if (cur.from == ch) {\n        if (cur.from != cur.to && sticky != \"before\") {\n          found = i;\n        } else {\n          bidiOther = i;\n        }\n      }\n    }\n\n    return found != null ? found : bidiOther;\n  } // Bidirectional ordering algorithm\n  // See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n  // that this (partially) implements.\n  // One-char codes used for character types:\n  // L (L):   Left-to-Right\n  // R (R):   Right-to-Left\n  // r (AL):  Right-to-Left Arabic\n  // 1 (EN):  European Number\n  // + (ES):  European Number Separator\n  // % (ET):  European Number Terminator\n  // n (AN):  Arabic Number\n  // , (CS):  Common Number Separator\n  // m (NSM): Non-Spacing Mark\n  // b (BN):  Boundary Neutral\n  // s (B):   Paragraph Separator\n  // t (S):   Segment Separator\n  // w (WS):  Whitespace\n  // N (ON):  Other Neutrals\n  // Returns null if characters are ordered as they appear\n  // (left-to-right), or an array of sections ({from, to, level}\n  // objects) in the order in which they occur visually.\n\n\n  var bidiOrdering = function () {\n    // Character types for codepoints 0 to 0xff\n    var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\"; // Character types for codepoints 0x600 to 0x6f9\n\n    var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";\n\n    function charType(code) {\n      if (code <= 0xf7) {\n        return lowTypes.charAt(code);\n      } else if (0x590 <= code && code <= 0x5f4) {\n        return \"R\";\n      } else if (0x600 <= code && code <= 0x6f9) {\n        return arabicTypes.charAt(code - 0x600);\n      } else if (0x6ee <= code && code <= 0x8ac) {\n        return \"r\";\n      } else if (0x2000 <= code && code <= 0x200b) {\n        return \"w\";\n      } else if (code == 0x200c) {\n        return \"b\";\n      } else {\n        return \"L\";\n      }\n    }\n\n    var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n    var isNeutral = /[stwN]/,\n        isStrong = /[LRr]/,\n        countsAsLeft = /[Lb1n]/,\n        countsAsNum = /[1n]/;\n\n    function BidiSpan(level, from, to) {\n      this.level = level;\n      this.from = from;\n      this.to = to;\n    }\n\n    return function (str, direction) {\n      var outerType = direction == \"ltr\" ? \"L\" : \"R\";\n\n      if (str.length == 0 || direction == \"ltr\" && !bidiRE.test(str)) {\n        return false;\n      }\n\n      var len = str.length,\n          types = [];\n\n      for (var i = 0; i < len; ++i) {\n        types.push(charType(str.charCodeAt(i)));\n      } // W1. Examine each non-spacing mark (NSM) in the level run, and\n      // change the type of the NSM to the type of the previous\n      // character. If the NSM is at the start of the level run, it will\n      // get the type of sor.\n\n\n      for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n        var type = types[i$1];\n\n        if (type == \"m\") {\n          types[i$1] = prev;\n        } else {\n          prev = type;\n        }\n      } // W2. Search backwards from each instance of a European number\n      // until the first strong type (R, L, AL, or sor) is found. If an\n      // AL is found, change the type of the European number to Arabic\n      // number.\n      // W3. Change all ALs to R.\n\n\n      for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n        var type$1 = types[i$2];\n\n        if (type$1 == \"1\" && cur == \"r\") {\n          types[i$2] = \"n\";\n        } else if (isStrong.test(type$1)) {\n          cur = type$1;\n\n          if (type$1 == \"r\") {\n            types[i$2] = \"R\";\n          }\n        }\n      } // W4. A single European separator between two European numbers\n      // changes to a European number. A single common separator between\n      // two numbers of the same type changes to that type.\n\n\n      for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n        var type$2 = types[i$3];\n\n        if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3 + 1] == \"1\") {\n          types[i$3] = \"1\";\n        } else if (type$2 == \",\" && prev$1 == types[i$3 + 1] && (prev$1 == \"1\" || prev$1 == \"n\")) {\n          types[i$3] = prev$1;\n        }\n\n        prev$1 = type$2;\n      } // W5. A sequence of European terminators adjacent to European\n      // numbers changes to all European numbers.\n      // W6. Otherwise, separators and terminators change to Other\n      // Neutral.\n\n\n      for (var i$4 = 0; i$4 < len; ++i$4) {\n        var type$3 = types[i$4];\n\n        if (type$3 == \",\") {\n          types[i$4] = \"N\";\n        } else if (type$3 == \"%\") {\n          var end = void 0;\n\n          for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n\n          var replace = i$4 && types[i$4 - 1] == \"!\" || end < len && types[end] == \"1\" ? \"1\" : \"N\";\n\n          for (var j = i$4; j < end; ++j) {\n            types[j] = replace;\n          }\n\n          i$4 = end - 1;\n        }\n      } // W7. Search backwards from each instance of a European number\n      // until the first strong type (R, L, or sor) is found. If an L is\n      // found, then change the type of the European number to L.\n\n\n      for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n        var type$4 = types[i$5];\n\n        if (cur$1 == \"L\" && type$4 == \"1\") {\n          types[i$5] = \"L\";\n        } else if (isStrong.test(type$4)) {\n          cur$1 = type$4;\n        }\n      } // N1. A sequence of neutrals takes the direction of the\n      // surrounding strong text if the text on both sides has the same\n      // direction. European and Arabic numbers act as if they were R in\n      // terms of their influence on neutrals. Start-of-level-run (sor)\n      // and end-of-level-run (eor) are used at level run boundaries.\n      // N2. Any remaining neutrals take the embedding direction.\n\n\n      for (var i$6 = 0; i$6 < len; ++i$6) {\n        if (isNeutral.test(types[i$6])) {\n          var end$1 = void 0;\n\n          for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n\n          var before = (i$6 ? types[i$6 - 1] : outerType) == \"L\";\n          var after = (end$1 < len ? types[end$1] : outerType) == \"L\";\n          var replace$1 = before == after ? before ? \"L\" : \"R\" : outerType;\n\n          for (var j$1 = i$6; j$1 < end$1; ++j$1) {\n            types[j$1] = replace$1;\n          }\n\n          i$6 = end$1 - 1;\n        }\n      } // Here we depart from the documented algorithm, in order to avoid\n      // building up an actual levels array. Since there are only three\n      // levels (0, 1, 2) in an implementation that doesn't take\n      // explicit embedding into account, we can build up the order on\n      // the fly, without following the level-based algorithm.\n\n\n      var order = [],\n          m;\n\n      for (var i$7 = 0; i$7 < len;) {\n        if (countsAsLeft.test(types[i$7])) {\n          var start = i$7;\n\n          for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n\n          order.push(new BidiSpan(0, start, i$7));\n        } else {\n          var pos = i$7,\n              at = order.length,\n              isRTL = direction == \"rtl\" ? 1 : 0;\n\n          for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n\n          for (var j$2 = pos; j$2 < i$7;) {\n            if (countsAsNum.test(types[j$2])) {\n              if (pos < j$2) {\n                order.splice(at, 0, new BidiSpan(1, pos, j$2));\n                at += isRTL;\n              }\n\n              var nstart = j$2;\n\n              for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n\n              order.splice(at, 0, new BidiSpan(2, nstart, j$2));\n              at += isRTL;\n              pos = j$2;\n            } else {\n              ++j$2;\n            }\n          }\n\n          if (pos < i$7) {\n            order.splice(at, 0, new BidiSpan(1, pos, i$7));\n          }\n        }\n      }\n\n      if (direction == \"ltr\") {\n        if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n          order[0].from = m[0].length;\n          order.unshift(new BidiSpan(0, 0, m[0].length));\n        }\n\n        if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n          lst(order).to -= m[0].length;\n          order.push(new BidiSpan(0, len - m[0].length, len));\n        }\n      }\n\n      return direction == \"rtl\" ? order.reverse() : order;\n    };\n  }(); // Get the bidi ordering for the given line (and cache it). Returns\n  // false for lines that are fully left-to-right, and an array of\n  // BidiSpan objects otherwise.\n\n\n  function getOrder(line, direction) {\n    var order = line.order;\n\n    if (order == null) {\n      order = line.order = bidiOrdering(line.text, direction);\n    }\n\n    return order;\n  } // EVENT HANDLING\n  // Lightweight event framework. on/off also work on DOM nodes,\n  // registering native DOM handlers.\n\n\n  var noHandlers = [];\n\n  var on = function on(emitter, type, f) {\n    if (emitter.addEventListener) {\n      emitter.addEventListener(type, f, false);\n    } else if (emitter.attachEvent) {\n      emitter.attachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers || (emitter._handlers = {});\n      map[type] = (map[type] || noHandlers).concat(f);\n    }\n  };\n\n  function getHandlers(emitter, type) {\n    return emitter._handlers && emitter._handlers[type] || noHandlers;\n  }\n\n  function off(emitter, type, f) {\n    if (emitter.removeEventListener) {\n      emitter.removeEventListener(type, f, false);\n    } else if (emitter.detachEvent) {\n      emitter.detachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers,\n          arr = map && map[type];\n\n      if (arr) {\n        var index = indexOf(arr, f);\n\n        if (index > -1) {\n          map[type] = arr.slice(0, index).concat(arr.slice(index + 1));\n        }\n      }\n    }\n  }\n\n  function signal(emitter, type\n  /*, values...*/\n  ) {\n    var handlers = getHandlers(emitter, type);\n\n    if (!handlers.length) {\n      return;\n    }\n\n    var args = Array.prototype.slice.call(arguments, 2);\n\n    for (var i = 0; i < handlers.length; ++i) {\n      handlers[i].apply(null, args);\n    }\n  } // The DOM events that CodeMirror handles can be overridden by\n  // registering a (non-DOM) handler on the editor for the event name,\n  // and preventDefault-ing the event in that handler.\n\n\n  function signalDOMEvent(cm, e, override) {\n    if (typeof e == \"string\") {\n      e = {\n        type: e,\n        preventDefault: function preventDefault() {\n          this.defaultPrevented = true;\n        }\n      };\n    }\n\n    signal(cm, override || e.type, cm, e);\n    return e_defaultPrevented(e) || e.codemirrorIgnore;\n  }\n\n  function signalCursorActivity(cm) {\n    var arr = cm._handlers && cm._handlers.cursorActivity;\n\n    if (!arr) {\n      return;\n    }\n\n    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n\n    for (var i = 0; i < arr.length; ++i) {\n      if (indexOf(set, arr[i]) == -1) {\n        set.push(arr[i]);\n      }\n    }\n  }\n\n  function hasHandler(emitter, type) {\n    return getHandlers(emitter, type).length > 0;\n  } // Add on and off methods to a constructor's prototype, to make\n  // registering events on such objects more convenient.\n\n\n  function eventMixin(ctor) {\n    ctor.prototype.on = function (type, f) {\n      on(this, type, f);\n    };\n\n    ctor.prototype.off = function (type, f) {\n      off(this, type, f);\n    };\n  } // Due to the fact that we still support jurassic IE versions, some\n  // compatibility wrappers are needed.\n\n\n  function e_preventDefault(e) {\n    if (e.preventDefault) {\n      e.preventDefault();\n    } else {\n      e.returnValue = false;\n    }\n  }\n\n  function e_stopPropagation(e) {\n    if (e.stopPropagation) {\n      e.stopPropagation();\n    } else {\n      e.cancelBubble = true;\n    }\n  }\n\n  function e_defaultPrevented(e) {\n    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false;\n  }\n\n  function e_stop(e) {\n    e_preventDefault(e);\n    e_stopPropagation(e);\n  }\n\n  function e_target(e) {\n    return e.target || e.srcElement;\n  }\n\n  function e_button(e) {\n    var b = e.which;\n\n    if (b == null) {\n      if (e.button & 1) {\n        b = 1;\n      } else if (e.button & 2) {\n        b = 3;\n      } else if (e.button & 4) {\n        b = 2;\n      }\n    }\n\n    if (mac && e.ctrlKey && b == 1) {\n      b = 3;\n    }\n\n    return b;\n  } // Detect drag-and-drop\n\n\n  var dragAndDrop = function () {\n    // There is *some* kind of drag-and-drop support in IE6-8, but I\n    // couldn't get it to work yet.\n    if (ie && ie_version < 9) {\n      return false;\n    }\n\n    var div = elt('div');\n    return \"draggable\" in div || \"dragDrop\" in div;\n  }();\n\n  var zwspSupported;\n\n  function zeroWidthElement(measure) {\n    if (zwspSupported == null) {\n      var test = elt(\"span\", \"\\u200B\");\n      removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n\n      if (measure.firstChild.offsetHeight != 0) {\n        zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8);\n      }\n    }\n\n    var node = zwspSupported ? elt(\"span\", \"\\u200B\") : elt(\"span\", \"\\xA0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n    node.setAttribute(\"cm-text\", \"\");\n    return node;\n  } // Feature-detect IE's crummy client rect reporting for bidi text\n\n\n  var badBidiRects;\n\n  function hasBadBidiRects(measure) {\n    if (badBidiRects != null) {\n      return badBidiRects;\n    }\n\n    var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062EA\"));\n    var r0 = range(txt, 0, 1).getBoundingClientRect();\n    var r1 = range(txt, 1, 2).getBoundingClientRect();\n    removeChildren(measure);\n\n    if (!r0 || r0.left == r0.right) {\n      return false;\n    } // Safari returns null in some cases (#2780)\n\n\n    return badBidiRects = r1.right - r0.right < 3;\n  } // See if \"\".split is the broken IE version, if so, provide an\n  // alternative way to split lines.\n\n\n  var splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\n    var pos = 0,\n        result = [],\n        l = string.length;\n\n    while (pos <= l) {\n      var nl = string.indexOf(\"\\n\", pos);\n\n      if (nl == -1) {\n        nl = string.length;\n      }\n\n      var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n      var rt = line.indexOf(\"\\r\");\n\n      if (rt != -1) {\n        result.push(line.slice(0, rt));\n        pos += rt + 1;\n      } else {\n        result.push(line);\n        pos = nl + 1;\n      }\n    }\n\n    return result;\n  } : function (string) {\n    return string.split(/\\r\\n?|\\n/);\n  };\n  var hasSelection = window.getSelection ? function (te) {\n    try {\n      return te.selectionStart != te.selectionEnd;\n    } catch (e) {\n      return false;\n    }\n  } : function (te) {\n    var range;\n\n    try {\n      range = te.ownerDocument.selection.createRange();\n    } catch (e) {}\n\n    if (!range || range.parentElement() != te) {\n      return false;\n    }\n\n    return range.compareEndPoints(\"StartToEnd\", range) != 0;\n  };\n\n  var hasCopyEvent = function () {\n    var e = elt(\"div\");\n\n    if (\"oncopy\" in e) {\n      return true;\n    }\n\n    e.setAttribute(\"oncopy\", \"return;\");\n    return typeof e.oncopy == \"function\";\n  }();\n\n  var badZoomedRects = null;\n\n  function hasBadZoomedRects(measure) {\n    if (badZoomedRects != null) {\n      return badZoomedRects;\n    }\n\n    var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n    var normal = node.getBoundingClientRect();\n    var fromRange = range(node, 0, 1).getBoundingClientRect();\n    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1;\n  } // Known modes, by name and by MIME\n\n\n  var modes = {},\n      mimeModes = {}; // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n\n  function defineMode(name, mode) {\n    if (arguments.length > 2) {\n      mode.dependencies = Array.prototype.slice.call(arguments, 2);\n    }\n\n    modes[name] = mode;\n  }\n\n  function defineMIME(mime, spec) {\n    mimeModes[mime] = spec;\n  } // Given a MIME type, a {name, ...options} config object, or a name\n  // string, return a mode config object.\n\n\n  function resolveMode(spec) {\n    if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n      spec = mimeModes[spec];\n    } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n      var found = mimeModes[spec.name];\n\n      if (typeof found == \"string\") {\n        found = {\n          name: found\n        };\n      }\n\n      spec = createObj(found, spec);\n      spec.name = found.name;\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n      return resolveMode(\"application/xml\");\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\n      return resolveMode(\"application/json\");\n    }\n\n    if (typeof spec == \"string\") {\n      return {\n        name: spec\n      };\n    } else {\n      return spec || {\n        name: \"null\"\n      };\n    }\n  } // Given a mode spec (anything that resolveMode accepts), find and\n  // initialize an actual mode object.\n\n\n  function getMode(options, spec) {\n    spec = resolveMode(spec);\n    var mfactory = modes[spec.name];\n\n    if (!mfactory) {\n      return getMode(options, \"text/plain\");\n    }\n\n    var modeObj = mfactory(options, spec);\n\n    if (modeExtensions.hasOwnProperty(spec.name)) {\n      var exts = modeExtensions[spec.name];\n\n      for (var prop in exts) {\n        if (!exts.hasOwnProperty(prop)) {\n          continue;\n        }\n\n        if (modeObj.hasOwnProperty(prop)) {\n          modeObj[\"_\" + prop] = modeObj[prop];\n        }\n\n        modeObj[prop] = exts[prop];\n      }\n    }\n\n    modeObj.name = spec.name;\n\n    if (spec.helperType) {\n      modeObj.helperType = spec.helperType;\n    }\n\n    if (spec.modeProps) {\n      for (var prop$1 in spec.modeProps) {\n        modeObj[prop$1] = spec.modeProps[prop$1];\n      }\n    }\n\n    return modeObj;\n  } // This can be used to attach properties to mode objects from\n  // outside the actual mode definition.\n\n\n  var modeExtensions = {};\n\n  function extendMode(mode, properties) {\n    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : modeExtensions[mode] = {};\n    copyObj(properties, exts);\n  }\n\n  function copyState(mode, state) {\n    if (state === true) {\n      return state;\n    }\n\n    if (mode.copyState) {\n      return mode.copyState(state);\n    }\n\n    var nstate = {};\n\n    for (var n in state) {\n      var val = state[n];\n\n      if (val instanceof Array) {\n        val = val.concat([]);\n      }\n\n      nstate[n] = val;\n    }\n\n    return nstate;\n  } // Given a mode and a state (for that mode), find the inner mode and\n  // state at the position that the state refers to.\n\n\n  function innerMode(mode, state) {\n    var info;\n\n    while (mode.innerMode) {\n      info = mode.innerMode(state);\n\n      if (!info || info.mode == mode) {\n        break;\n      }\n\n      state = info.state;\n      mode = info.mode;\n    }\n\n    return info || {\n      mode: mode,\n      state: state\n    };\n  }\n\n  function startState(mode, a1, a2) {\n    return mode.startState ? mode.startState(a1, a2) : true;\n  } // STRING STREAM\n  // Fed to the mode parsers, provides helper functions to make\n  // parsers more succinct.\n\n\n  var StringStream = function StringStream(string, tabSize, lineOracle) {\n    this.pos = this.start = 0;\n    this.string = string;\n    this.tabSize = tabSize || 8;\n    this.lastColumnPos = this.lastColumnValue = 0;\n    this.lineStart = 0;\n    this.lineOracle = lineOracle;\n  };\n\n  StringStream.prototype.eol = function () {\n    return this.pos >= this.string.length;\n  };\n\n  StringStream.prototype.sol = function () {\n    return this.pos == this.lineStart;\n  };\n\n  StringStream.prototype.peek = function () {\n    return this.string.charAt(this.pos) || undefined;\n  };\n\n  StringStream.prototype.next = function () {\n    if (this.pos < this.string.length) {\n      return this.string.charAt(this.pos++);\n    }\n  };\n\n  StringStream.prototype.eat = function (match) {\n    var ch = this.string.charAt(this.pos);\n    var ok;\n\n    if (typeof match == \"string\") {\n      ok = ch == match;\n    } else {\n      ok = ch && (match.test ? match.test(ch) : match(ch));\n    }\n\n    if (ok) {\n      ++this.pos;\n      return ch;\n    }\n  };\n\n  StringStream.prototype.eatWhile = function (match) {\n    var start = this.pos;\n\n    while (this.eat(match)) {}\n\n    return this.pos > start;\n  };\n\n  StringStream.prototype.eatSpace = function () {\n    var start = this.pos;\n\n    while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) {\n      ++this.pos;\n    }\n\n    return this.pos > start;\n  };\n\n  StringStream.prototype.skipToEnd = function () {\n    this.pos = this.string.length;\n  };\n\n  StringStream.prototype.skipTo = function (ch) {\n    var found = this.string.indexOf(ch, this.pos);\n\n    if (found > -1) {\n      this.pos = found;\n      return true;\n    }\n  };\n\n  StringStream.prototype.backUp = function (n) {\n    this.pos -= n;\n  };\n\n  StringStream.prototype.column = function () {\n    if (this.lastColumnPos < this.start) {\n      this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n      this.lastColumnPos = this.start;\n    }\n\n    return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0);\n  };\n\n  StringStream.prototype.indentation = function () {\n    return countColumn(this.string, null, this.tabSize) - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0);\n  };\n\n  StringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n    if (typeof pattern == \"string\") {\n      var cased = function cased(str) {\n        return caseInsensitive ? str.toLowerCase() : str;\n      };\n\n      var substr = this.string.substr(this.pos, pattern.length);\n\n      if (cased(substr) == cased(pattern)) {\n        if (consume !== false) {\n          this.pos += pattern.length;\n        }\n\n        return true;\n      }\n    } else {\n      var match = this.string.slice(this.pos).match(pattern);\n\n      if (match && match.index > 0) {\n        return null;\n      }\n\n      if (match && consume !== false) {\n        this.pos += match[0].length;\n      }\n\n      return match;\n    }\n  };\n\n  StringStream.prototype.current = function () {\n    return this.string.slice(this.start, this.pos);\n  };\n\n  StringStream.prototype.hideFirstChars = function (n, inner) {\n    this.lineStart += n;\n\n    try {\n      return inner();\n    } finally {\n      this.lineStart -= n;\n    }\n  };\n\n  StringStream.prototype.lookAhead = function (n) {\n    var oracle = this.lineOracle;\n    return oracle && oracle.lookAhead(n);\n  };\n\n  StringStream.prototype.baseToken = function () {\n    var oracle = this.lineOracle;\n    return oracle && oracle.baseToken(this.pos);\n  }; // Find the line object corresponding to the given line number.\n\n\n  function getLine(doc, n) {\n    n -= doc.first;\n\n    if (n < 0 || n >= doc.size) {\n      throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\");\n    }\n\n    var chunk = doc;\n\n    while (!chunk.lines) {\n      for (var i = 0;; ++i) {\n        var child = chunk.children[i],\n            sz = child.chunkSize();\n\n        if (n < sz) {\n          chunk = child;\n          break;\n        }\n\n        n -= sz;\n      }\n    }\n\n    return chunk.lines[n];\n  } // Get the part of a document between two positions, as an array of\n  // strings.\n\n\n  function getBetween(doc, start, end) {\n    var out = [],\n        n = start.line;\n    doc.iter(start.line, end.line + 1, function (line) {\n      var text = line.text;\n\n      if (n == end.line) {\n        text = text.slice(0, end.ch);\n      }\n\n      if (n == start.line) {\n        text = text.slice(start.ch);\n      }\n\n      out.push(text);\n      ++n;\n    });\n    return out;\n  } // Get the lines between from and to, as array of strings.\n\n\n  function getLines(doc, from, to) {\n    var out = [];\n    doc.iter(from, to, function (line) {\n      out.push(line.text);\n    }); // iter aborts when callback returns truthy value\n\n    return out;\n  } // Update the height of a line, propagating the height change\n  // upwards to parent nodes.\n\n\n  function updateLineHeight(line, height) {\n    var diff = height - line.height;\n\n    if (diff) {\n      for (var n = line; n; n = n.parent) {\n        n.height += diff;\n      }\n    }\n  } // Given a line object, find its line number by walking up through\n  // its parent links.\n\n\n  function lineNo(line) {\n    if (line.parent == null) {\n      return null;\n    }\n\n    var cur = line.parent,\n        no = indexOf(cur.lines, line);\n\n    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (var i = 0;; ++i) {\n        if (chunk.children[i] == cur) {\n          break;\n        }\n\n        no += chunk.children[i].chunkSize();\n      }\n    }\n\n    return no + cur.first;\n  } // Find the line at the given vertical position, using the height\n  // information in the document tree.\n\n\n  function _lineAtHeight(chunk, h) {\n    var n = chunk.first;\n\n    outer: do {\n      for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n        var child = chunk.children[i$1],\n            ch = child.height;\n\n        if (h < ch) {\n          chunk = child;\n          continue outer;\n        }\n\n        h -= ch;\n        n += child.chunkSize();\n      }\n\n      return n;\n    } while (!chunk.lines);\n\n    var i = 0;\n\n    for (; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i],\n          lh = line.height;\n\n      if (h < lh) {\n        break;\n      }\n\n      h -= lh;\n    }\n\n    return n + i;\n  }\n\n  function isLine(doc, l) {\n    return l >= doc.first && l < doc.first + doc.size;\n  }\n\n  function lineNumberFor(options, i) {\n    return String(options.lineNumberFormatter(i + options.firstLineNumber));\n  } // A Pos instance represents a position within the text.\n\n\n  function Pos(line, ch, sticky) {\n    if (sticky === void 0) sticky = null;\n\n    if (!(this instanceof Pos)) {\n      return new Pos(line, ch, sticky);\n    }\n\n    this.line = line;\n    this.ch = ch;\n    this.sticky = sticky;\n  } // Compare two positions, return 0 if they are the same, a negative\n  // number when a is less, and a positive number otherwise.\n\n\n  function cmp(a, b) {\n    return a.line - b.line || a.ch - b.ch;\n  }\n\n  function equalCursorPos(a, b) {\n    return a.sticky == b.sticky && cmp(a, b) == 0;\n  }\n\n  function copyPos(x) {\n    return Pos(x.line, x.ch);\n  }\n\n  function maxPos(a, b) {\n    return cmp(a, b) < 0 ? b : a;\n  }\n\n  function minPos(a, b) {\n    return cmp(a, b) < 0 ? a : b;\n  } // Most of the external API clips given positions to make sure they\n  // actually exist within the document.\n\n\n  function clipLine(doc, n) {\n    return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1));\n  }\n\n  function _clipPos(doc, pos) {\n    if (pos.line < doc.first) {\n      return Pos(doc.first, 0);\n    }\n\n    var last = doc.first + doc.size - 1;\n\n    if (pos.line > last) {\n      return Pos(last, getLine(doc, last).text.length);\n    }\n\n    return clipToLen(pos, getLine(doc, pos.line).text.length);\n  }\n\n  function clipToLen(pos, linelen) {\n    var ch = pos.ch;\n\n    if (ch == null || ch > linelen) {\n      return Pos(pos.line, linelen);\n    } else if (ch < 0) {\n      return Pos(pos.line, 0);\n    } else {\n      return pos;\n    }\n  }\n\n  function clipPosArray(doc, array) {\n    var out = [];\n\n    for (var i = 0; i < array.length; i++) {\n      out[i] = _clipPos(doc, array[i]);\n    }\n\n    return out;\n  }\n\n  var SavedContext = function SavedContext(state, lookAhead) {\n    this.state = state;\n    this.lookAhead = lookAhead;\n  };\n\n  var Context = function Context(doc, state, line, lookAhead) {\n    this.state = state;\n    this.doc = doc;\n    this.line = line;\n    this.maxLookAhead = lookAhead || 0;\n    this.baseTokens = null;\n    this.baseTokenPos = 1;\n  };\n\n  Context.prototype.lookAhead = function (n) {\n    var line = this.doc.getLine(this.line + n);\n\n    if (line != null && n > this.maxLookAhead) {\n      this.maxLookAhead = n;\n    }\n\n    return line;\n  };\n\n  Context.prototype.baseToken = function (n) {\n    if (!this.baseTokens) {\n      return null;\n    }\n\n    while (this.baseTokens[this.baseTokenPos] <= n) {\n      this.baseTokenPos += 2;\n    }\n\n    var type = this.baseTokens[this.baseTokenPos + 1];\n    return {\n      type: type && type.replace(/( |^)overlay .*/, \"\"),\n      size: this.baseTokens[this.baseTokenPos] - n\n    };\n  };\n\n  Context.prototype.nextLine = function () {\n    this.line++;\n\n    if (this.maxLookAhead > 0) {\n      this.maxLookAhead--;\n    }\n  };\n\n  Context.fromSaved = function (doc, saved, line) {\n    if (saved instanceof SavedContext) {\n      return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead);\n    } else {\n      return new Context(doc, copyState(doc.mode, saved), line);\n    }\n  };\n\n  Context.prototype.save = function (copy) {\n    var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;\n    return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state;\n  }; // Compute a style array (an array starting with a mode generation\n  // -- for invalidation -- followed by pairs of end positions and\n  // style strings), which is used to highlight the tokens on the\n  // line.\n\n\n  function highlightLine(cm, line, context, forceToEnd) {\n    // A styles array always starts with a number identifying the\n    // mode/overlays that it is based on (for easy invalidation).\n    var st = [cm.state.modeGen],\n        lineClasses = {}; // Compute the base array of styles\n\n    runMode(cm, line.text, cm.doc.mode, context, function (end, style) {\n      return st.push(end, style);\n    }, lineClasses, forceToEnd);\n    var state = context.state; // Run overlays, adjust style array.\n\n    var loop = function loop(o) {\n      context.baseTokens = st;\n      var overlay = cm.state.overlays[o],\n          i = 1,\n          at = 0;\n      context.state = true;\n      runMode(cm, line.text, overlay.mode, context, function (end, style) {\n        var start = i; // Ensure there's a token end at the current position, and that i points at it\n\n        while (at < end) {\n          var i_end = st[i];\n\n          if (i_end > end) {\n            st.splice(i, 1, end, st[i + 1], i_end);\n          }\n\n          i += 2;\n          at = Math.min(end, i_end);\n        }\n\n        if (!style) {\n          return;\n        }\n\n        if (overlay.opaque) {\n          st.splice(start, i - start, end, \"overlay \" + style);\n          i = start + 2;\n        } else {\n          for (; start < i; start += 2) {\n            var cur = st[start + 1];\n            st[start + 1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style;\n          }\n        }\n      }, lineClasses);\n      context.state = state;\n      context.baseTokens = null;\n      context.baseTokenPos = 1;\n    };\n\n    for (var o = 0; o < cm.state.overlays.length; ++o) {\n      loop(o);\n    }\n\n    return {\n      styles: st,\n      classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null\n    };\n  }\n\n  function getLineStyles(cm, line, updateFrontier) {\n    if (!line.styles || line.styles[0] != cm.state.modeGen) {\n      var context = getContextBefore(cm, lineNo(line));\n      var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);\n      var result = highlightLine(cm, line, context);\n\n      if (resetState) {\n        context.state = resetState;\n      }\n\n      line.stateAfter = context.save(!resetState);\n      line.styles = result.styles;\n\n      if (result.classes) {\n        line.styleClasses = result.classes;\n      } else if (line.styleClasses) {\n        line.styleClasses = null;\n      }\n\n      if (updateFrontier === cm.doc.highlightFrontier) {\n        cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier);\n      }\n    }\n\n    return line.styles;\n  }\n\n  function getContextBefore(cm, n, precise) {\n    var doc = cm.doc,\n        display = cm.display;\n\n    if (!doc.mode.startState) {\n      return new Context(doc, true, n);\n    }\n\n    var start = findStartLine(cm, n, precise);\n    var saved = start > doc.first && getLine(doc, start - 1).stateAfter;\n    var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start);\n    doc.iter(start, n, function (line) {\n      processLine(cm, line.text, context);\n      var pos = context.line;\n      line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;\n      context.nextLine();\n    });\n\n    if (precise) {\n      doc.modeFrontier = context.line;\n    }\n\n    return context;\n  } // Lightweight form of highlight -- proceed over this line and\n  // update state, but don't save a style array. Used for lines that\n  // aren't currently visible.\n\n\n  function processLine(cm, text, context, startAt) {\n    var mode = cm.doc.mode;\n    var stream = new StringStream(text, cm.options.tabSize, context);\n    stream.start = stream.pos = startAt || 0;\n\n    if (text == \"\") {\n      callBlankLine(mode, context.state);\n    }\n\n    while (!stream.eol()) {\n      readToken(mode, stream, context.state);\n      stream.start = stream.pos;\n    }\n  }\n\n  function callBlankLine(mode, state) {\n    if (mode.blankLine) {\n      return mode.blankLine(state);\n    }\n\n    if (!mode.innerMode) {\n      return;\n    }\n\n    var inner = innerMode(mode, state);\n\n    if (inner.mode.blankLine) {\n      return inner.mode.blankLine(inner.state);\n    }\n  }\n\n  function readToken(mode, stream, state, inner) {\n    for (var i = 0; i < 10; i++) {\n      if (inner) {\n        inner[0] = innerMode(mode, state).mode;\n      }\n\n      var style = mode.token(stream, state);\n\n      if (stream.pos > stream.start) {\n        return style;\n      }\n    }\n\n    throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\");\n  }\n\n  var Token = function Token(stream, type, state) {\n    this.start = stream.start;\n    this.end = stream.pos;\n    this.string = stream.current();\n    this.type = type || null;\n    this.state = state;\n  }; // Utility for getTokenAt and getLineTokens\n\n\n  function takeToken(cm, pos, precise, asArray) {\n    var doc = cm.doc,\n        mode = doc.mode,\n        style;\n    pos = _clipPos(doc, pos);\n    var line = getLine(doc, pos.line),\n        context = getContextBefore(cm, pos.line, precise);\n    var stream = new StringStream(line.text, cm.options.tabSize, context),\n        tokens;\n\n    if (asArray) {\n      tokens = [];\n    }\n\n    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n      stream.start = stream.pos;\n      style = readToken(mode, stream, context.state);\n\n      if (asArray) {\n        tokens.push(new Token(stream, style, copyState(doc.mode, context.state)));\n      }\n    }\n\n    return asArray ? tokens : new Token(stream, style, context.state);\n  }\n\n  function extractLineClasses(type, output) {\n    if (type) {\n      for (;;) {\n        var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n\n        if (!lineClass) {\n          break;\n        }\n\n        type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n        var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n\n        if (output[prop] == null) {\n          output[prop] = lineClass[2];\n        } else if (!new RegExp(\"(?:^|\\\\s)\" + lineClass[2] + \"(?:$|\\\\s)\").test(output[prop])) {\n          output[prop] += \" \" + lineClass[2];\n        }\n      }\n    }\n\n    return type;\n  } // Run the given mode's parser over a line, calling f for each token.\n\n\n  function runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {\n    var flattenSpans = mode.flattenSpans;\n\n    if (flattenSpans == null) {\n      flattenSpans = cm.options.flattenSpans;\n    }\n\n    var curStart = 0,\n        curStyle = null;\n    var stream = new StringStream(text, cm.options.tabSize, context),\n        style;\n    var inner = cm.options.addModeClass && [null];\n\n    if (text == \"\") {\n      extractLineClasses(callBlankLine(mode, context.state), lineClasses);\n    }\n\n    while (!stream.eol()) {\n      if (stream.pos > cm.options.maxHighlightLength) {\n        flattenSpans = false;\n\n        if (forceToEnd) {\n          processLine(cm, text, context, stream.pos);\n        }\n\n        stream.pos = text.length;\n        style = null;\n      } else {\n        style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);\n      }\n\n      if (inner) {\n        var mName = inner[0].name;\n\n        if (mName) {\n          style = \"m-\" + (style ? mName + \" \" + style : mName);\n        }\n      }\n\n      if (!flattenSpans || curStyle != style) {\n        while (curStart < stream.start) {\n          curStart = Math.min(stream.start, curStart + 5000);\n          f(curStart, curStyle);\n        }\n\n        curStyle = style;\n      }\n\n      stream.start = stream.pos;\n    }\n\n    while (curStart < stream.pos) {\n      // Webkit seems to refuse to render text nodes longer than 57444\n      // characters, and returns inaccurate measurements in nodes\n      // starting around 5000 chars.\n      var pos = Math.min(stream.pos, curStart + 5000);\n      f(pos, curStyle);\n      curStart = pos;\n    }\n  } // Finds the line to start with when starting a parse. Tries to\n  // find a line with a stateAfter, so that it can start with a\n  // valid state. If that fails, it returns the line with the\n  // smallest indentation, which tends to need the least context to\n  // parse correctly.\n\n\n  function findStartLine(cm, n, precise) {\n    var minindent,\n        minline,\n        doc = cm.doc;\n    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n\n    for (var search = n; search > lim; --search) {\n      if (search <= doc.first) {\n        return doc.first;\n      }\n\n      var line = getLine(doc, search - 1),\n          after = line.stateAfter;\n\n      if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier)) {\n        return search;\n      }\n\n      var indented = countColumn(line.text, null, cm.options.tabSize);\n\n      if (minline == null || minindent > indented) {\n        minline = search - 1;\n        minindent = indented;\n      }\n    }\n\n    return minline;\n  }\n\n  function retreatFrontier(doc, n) {\n    doc.modeFrontier = Math.min(doc.modeFrontier, n);\n\n    if (doc.highlightFrontier < n - 10) {\n      return;\n    }\n\n    var start = doc.first;\n\n    for (var line = n - 1; line > start; line--) {\n      var saved = getLine(doc, line).stateAfter; // change is on 3\n      // state on line 1 looked ahead 2 -- so saw 3\n      // test 1 + 2 < 3 should cover this\n\n      if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {\n        start = line + 1;\n        break;\n      }\n    }\n\n    doc.highlightFrontier = Math.min(doc.highlightFrontier, start);\n  } // Optimize some code when these features are not used.\n\n\n  var sawReadOnlySpans = false,\n      sawCollapsedSpans = false;\n\n  function seeReadOnlySpans() {\n    sawReadOnlySpans = true;\n  }\n\n  function seeCollapsedSpans() {\n    sawCollapsedSpans = true;\n  } // TEXTMARKER SPANS\n\n\n  function MarkedSpan(marker, from, to) {\n    this.marker = marker;\n    this.from = from;\n    this.to = to;\n  } // Search an array of spans for a span matching the given marker.\n\n\n  function getMarkedSpanFor(spans, marker) {\n    if (spans) {\n      for (var i = 0; i < spans.length; ++i) {\n        var span = spans[i];\n\n        if (span.marker == marker) {\n          return span;\n        }\n      }\n    }\n  } // Remove a span from an array, returning undefined if no spans are\n  // left (we don't store arrays for lines without spans).\n\n\n  function removeMarkedSpan(spans, span) {\n    var r;\n\n    for (var i = 0; i < spans.length; ++i) {\n      if (spans[i] != span) {\n        (r || (r = [])).push(spans[i]);\n      }\n    }\n\n    return r;\n  } // Add a span to a line.\n\n\n  function addMarkedSpan(line, span, op) {\n    var inThisOp = op && window.WeakSet && (op.markedSpans || (op.markedSpans = new WeakSet()));\n\n    if (inThisOp && inThisOp.has(line.markedSpans)) {\n      line.markedSpans.push(span);\n    } else {\n      line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n\n      if (inThisOp) {\n        inThisOp.add(line.markedSpans);\n      }\n    }\n\n    span.marker.attachLine(line);\n  } // Used for the algorithm that adjusts markers for a change in the\n  // document. These functions cut an array of spans at a given\n  // character position, returning an array of remaining chunks (or\n  // undefined if nothing remains).\n\n\n  function markedSpansBefore(old, startCh, isInsert) {\n    var nw;\n\n    if (old) {\n      for (var i = 0; i < old.length; ++i) {\n        var span = old[i],\n            marker = span.marker;\n        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n\n        if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n          var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh);\n          (nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n        }\n      }\n    }\n\n    return nw;\n  }\n\n  function markedSpansAfter(old, endCh, isInsert) {\n    var nw;\n\n    if (old) {\n      for (var i = 0; i < old.length; ++i) {\n        var span = old[i],\n            marker = span.marker;\n        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n\n        if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n          var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh);\n          (nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh, span.to == null ? null : span.to - endCh));\n        }\n      }\n    }\n\n    return nw;\n  } // Given a change object, compute the new set of marker spans that\n  // cover the line in which the change took place. Removes spans\n  // entirely within the change, reconnects spans belonging to the\n  // same marker that appear on both sides of the change, and cuts off\n  // spans partially within the change. Returns an array of span\n  // arrays with one element for each line in (after) the change.\n\n\n  function stretchSpansOverChange(doc, change) {\n    if (change.full) {\n      return null;\n    }\n\n    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n\n    if (!oldFirst && !oldLast) {\n      return null;\n    }\n\n    var startCh = change.from.ch,\n        endCh = change.to.ch,\n        isInsert = cmp(change.from, change.to) == 0; // Get the spans that 'stick out' on both sides\n\n    var first = markedSpansBefore(oldFirst, startCh, isInsert);\n    var last = markedSpansAfter(oldLast, endCh, isInsert); // Next, merge those two ends\n\n    var sameLine = change.text.length == 1,\n        offset = lst(change.text).length + (sameLine ? startCh : 0);\n\n    if (first) {\n      // Fix up .to properties of first\n      for (var i = 0; i < first.length; ++i) {\n        var span = first[i];\n\n        if (span.to == null) {\n          var found = getMarkedSpanFor(last, span.marker);\n\n          if (!found) {\n            span.to = startCh;\n          } else if (sameLine) {\n            span.to = found.to == null ? null : found.to + offset;\n          }\n        }\n      }\n    }\n\n    if (last) {\n      // Fix up .from in last (or move them into first in case of sameLine)\n      for (var i$1 = 0; i$1 < last.length; ++i$1) {\n        var span$1 = last[i$1];\n\n        if (span$1.to != null) {\n          span$1.to += offset;\n        }\n\n        if (span$1.from == null) {\n          var found$1 = getMarkedSpanFor(first, span$1.marker);\n\n          if (!found$1) {\n            span$1.from = offset;\n\n            if (sameLine) {\n              (first || (first = [])).push(span$1);\n            }\n          }\n        } else {\n          span$1.from += offset;\n\n          if (sameLine) {\n            (first || (first = [])).push(span$1);\n          }\n        }\n      }\n    } // Make sure we didn't create any zero-length spans\n\n\n    if (first) {\n      first = clearEmptySpans(first);\n    }\n\n    if (last && last != first) {\n      last = clearEmptySpans(last);\n    }\n\n    var newMarkers = [first];\n\n    if (!sameLine) {\n      // Fill gap with whole-line-spans\n      var gap = change.text.length - 2,\n          gapMarkers;\n\n      if (gap > 0 && first) {\n        for (var i$2 = 0; i$2 < first.length; ++i$2) {\n          if (first[i$2].to == null) {\n            (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null));\n          }\n        }\n      }\n\n      for (var i$3 = 0; i$3 < gap; ++i$3) {\n        newMarkers.push(gapMarkers);\n      }\n\n      newMarkers.push(last);\n    }\n\n    return newMarkers;\n  } // Remove spans that are empty and don't have a clearWhenEmpty\n  // option of false.\n\n\n  function clearEmptySpans(spans) {\n    for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n\n      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false) {\n        spans.splice(i--, 1);\n      }\n    }\n\n    if (!spans.length) {\n      return null;\n    }\n\n    return spans;\n  } // Used to 'clip' out readOnly ranges when making a change.\n\n\n  function removeReadOnlyRanges(doc, from, to) {\n    var markers = null;\n    doc.iter(from.line, to.line + 1, function (line) {\n      if (line.markedSpans) {\n        for (var i = 0; i < line.markedSpans.length; ++i) {\n          var mark = line.markedSpans[i].marker;\n\n          if (mark.readOnly && (!markers || indexOf(markers, mark) == -1)) {\n            (markers || (markers = [])).push(mark);\n          }\n        }\n      }\n    });\n\n    if (!markers) {\n      return null;\n    }\n\n    var parts = [{\n      from: from,\n      to: to\n    }];\n\n    for (var i = 0; i < markers.length; ++i) {\n      var mk = markers[i],\n          m = mk.find(0);\n\n      for (var j = 0; j < parts.length; ++j) {\n        var p = parts[j];\n\n        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) {\n          continue;\n        }\n\n        var newParts = [j, 1],\n            dfrom = cmp(p.from, m.from),\n            dto = cmp(p.to, m.to);\n\n        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom) {\n          newParts.push({\n            from: p.from,\n            to: m.from\n          });\n        }\n\n        if (dto > 0 || !mk.inclusiveRight && !dto) {\n          newParts.push({\n            from: m.to,\n            to: p.to\n          });\n        }\n\n        parts.splice.apply(parts, newParts);\n        j += newParts.length - 3;\n      }\n    }\n\n    return parts;\n  } // Connect or disconnect spans from a line.\n\n\n  function detachMarkedSpans(line) {\n    var spans = line.markedSpans;\n\n    if (!spans) {\n      return;\n    }\n\n    for (var i = 0; i < spans.length; ++i) {\n      spans[i].marker.detachLine(line);\n    }\n\n    line.markedSpans = null;\n  }\n\n  function attachMarkedSpans(line, spans) {\n    if (!spans) {\n      return;\n    }\n\n    for (var i = 0; i < spans.length; ++i) {\n      spans[i].marker.attachLine(line);\n    }\n\n    line.markedSpans = spans;\n  } // Helpers used when computing which overlapping collapsed span\n  // counts as the larger one.\n\n\n  function extraLeft(marker) {\n    return marker.inclusiveLeft ? -1 : 0;\n  }\n\n  function extraRight(marker) {\n    return marker.inclusiveRight ? 1 : 0;\n  } // Returns a number indicating which of two overlapping collapsed\n  // spans is larger (and thus includes the other). Falls back to\n  // comparing ids when the spans cover exactly the same range.\n\n\n  function compareCollapsedMarkers(a, b) {\n    var lenDiff = a.lines.length - b.lines.length;\n\n    if (lenDiff != 0) {\n      return lenDiff;\n    }\n\n    var aPos = a.find(),\n        bPos = b.find();\n    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n\n    if (fromCmp) {\n      return -fromCmp;\n    }\n\n    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n\n    if (toCmp) {\n      return toCmp;\n    }\n\n    return b.id - a.id;\n  } // Find out whether a line ends or starts in a collapsed span. If\n  // so, return the marker for that span.\n\n\n  function collapsedSpanAtSide(line, start) {\n    var sps = sawCollapsedSpans && line.markedSpans,\n        found;\n\n    if (sps) {\n      for (var sp = void 0, i = 0; i < sps.length; ++i) {\n        sp = sps[i];\n\n        if (sp.marker.collapsed && (start ? sp.from : sp.to) == null && (!found || compareCollapsedMarkers(found, sp.marker) < 0)) {\n          found = sp.marker;\n        }\n      }\n    }\n\n    return found;\n  }\n\n  function collapsedSpanAtStart(line) {\n    return collapsedSpanAtSide(line, true);\n  }\n\n  function collapsedSpanAtEnd(line) {\n    return collapsedSpanAtSide(line, false);\n  }\n\n  function collapsedSpanAround(line, ch) {\n    var sps = sawCollapsedSpans && line.markedSpans,\n        found;\n\n    if (sps) {\n      for (var i = 0; i < sps.length; ++i) {\n        var sp = sps[i];\n\n        if (sp.marker.collapsed && (sp.from == null || sp.from < ch) && (sp.to == null || sp.to > ch) && (!found || compareCollapsedMarkers(found, sp.marker) < 0)) {\n          found = sp.marker;\n        }\n      }\n    }\n\n    return found;\n  } // Test whether there exists a collapsed span that partially\n  // overlaps (covers the start or end, but not both) of a new span.\n  // Such overlap is not allowed.\n\n\n  function conflictingCollapsedRange(doc, lineNo, from, to, marker) {\n    var line = getLine(doc, lineNo);\n    var sps = sawCollapsedSpans && line.markedSpans;\n\n    if (sps) {\n      for (var i = 0; i < sps.length; ++i) {\n        var sp = sps[i];\n\n        if (!sp.marker.collapsed) {\n          continue;\n        }\n\n        var found = sp.marker.find(0);\n        var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n        var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n\n        if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) {\n          continue;\n        }\n\n        if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) || fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0)) {\n          return true;\n        }\n      }\n    }\n  } // A visual line is a line as drawn on the screen. Folding, for\n  // example, can cause multiple logical lines to appear on the same\n  // visual line. This finds the start of the visual line that the\n  // given line is part of (usually that is the line itself).\n\n\n  function visualLine(line) {\n    var merged;\n\n    while (merged = collapsedSpanAtStart(line)) {\n      line = merged.find(-1, true).line;\n    }\n\n    return line;\n  }\n\n  function visualLineEnd(line) {\n    var merged;\n\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line;\n    }\n\n    return line;\n  } // Returns an array of logical lines that continue the visual line\n  // started by the argument, or undefined if there are no such lines.\n\n\n  function visualLineContinued(line) {\n    var merged, lines;\n\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line;\n      (lines || (lines = [])).push(line);\n    }\n\n    return lines;\n  } // Get the line number of the start of the visual line that the\n  // given line number is part of.\n\n\n  function visualLineNo(doc, lineN) {\n    var line = getLine(doc, lineN),\n        vis = visualLine(line);\n\n    if (line == vis) {\n      return lineN;\n    }\n\n    return lineNo(vis);\n  } // Get the line number of the start of the next visual line after\n  // the given line.\n\n\n  function visualLineEndNo(doc, lineN) {\n    if (lineN > doc.lastLine()) {\n      return lineN;\n    }\n\n    var line = getLine(doc, lineN),\n        merged;\n\n    if (!lineIsHidden(doc, line)) {\n      return lineN;\n    }\n\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line;\n    }\n\n    return lineNo(line) + 1;\n  } // Compute whether a line is hidden. Lines count as hidden when they\n  // are part of a visual line that starts with another line, or when\n  // they are entirely covered by collapsed, non-widget span.\n\n\n  function lineIsHidden(doc, line) {\n    var sps = sawCollapsedSpans && line.markedSpans;\n\n    if (sps) {\n      for (var sp = void 0, i = 0; i < sps.length; ++i) {\n        sp = sps[i];\n\n        if (!sp.marker.collapsed) {\n          continue;\n        }\n\n        if (sp.from == null) {\n          return true;\n        }\n\n        if (sp.marker.widgetNode) {\n          continue;\n        }\n\n        if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp)) {\n          return true;\n        }\n      }\n    }\n  }\n\n  function lineIsHiddenInner(doc, line, span) {\n    if (span.to == null) {\n      var end = span.marker.find(1, true);\n      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker));\n    }\n\n    if (span.marker.inclusiveRight && span.to == line.text.length) {\n      return true;\n    }\n\n    for (var sp = void 0, i = 0; i < line.markedSpans.length; ++i) {\n      sp = line.markedSpans[i];\n\n      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to && (sp.to == null || sp.to != span.from) && (sp.marker.inclusiveLeft || span.marker.inclusiveRight) && lineIsHiddenInner(doc, line, sp)) {\n        return true;\n      }\n    }\n  } // Find the height above the given line.\n\n\n  function _heightAtLine(lineObj) {\n    lineObj = visualLine(lineObj);\n    var h = 0,\n        chunk = lineObj.parent;\n\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i];\n\n      if (line == lineObj) {\n        break;\n      } else {\n        h += line.height;\n      }\n    }\n\n    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n        var cur = p.children[i$1];\n\n        if (cur == chunk) {\n          break;\n        } else {\n          h += cur.height;\n        }\n      }\n    }\n\n    return h;\n  } // Compute the character length of a line, taking into account\n  // collapsed ranges (see markText) that might hide parts, and join\n  // other lines onto it.\n\n\n  function lineLength(line) {\n    if (line.height == 0) {\n      return 0;\n    }\n\n    var len = line.text.length,\n        merged,\n        cur = line;\n\n    while (merged = collapsedSpanAtStart(cur)) {\n      var found = merged.find(0, true);\n      cur = found.from.line;\n      len += found.from.ch - found.to.ch;\n    }\n\n    cur = line;\n\n    while (merged = collapsedSpanAtEnd(cur)) {\n      var found$1 = merged.find(0, true);\n      len -= cur.text.length - found$1.from.ch;\n      cur = found$1.to.line;\n      len += cur.text.length - found$1.to.ch;\n    }\n\n    return len;\n  } // Find the longest line in the document.\n\n\n  function findMaxLine(cm) {\n    var d = cm.display,\n        doc = cm.doc;\n    d.maxLine = getLine(doc, doc.first);\n    d.maxLineLength = lineLength(d.maxLine);\n    d.maxLineChanged = true;\n    doc.iter(function (line) {\n      var len = lineLength(line);\n\n      if (len > d.maxLineLength) {\n        d.maxLineLength = len;\n        d.maxLine = line;\n      }\n    });\n  } // LINE DATA STRUCTURE\n  // Line objects. These hold state related to a line, including\n  // highlighting info (the styles array).\n\n\n  var Line = function Line(text, markedSpans, estimateHeight) {\n    this.text = text;\n    attachMarkedSpans(this, markedSpans);\n    this.height = estimateHeight ? estimateHeight(this) : 1;\n  };\n\n  Line.prototype.lineNo = function () {\n    return lineNo(this);\n  };\n\n  eventMixin(Line); // Change the content (text, markers) of a line. Automatically\n  // invalidates cached information and tries to re-estimate the\n  // line's height.\n\n  function updateLine(line, text, markedSpans, estimateHeight) {\n    line.text = text;\n\n    if (line.stateAfter) {\n      line.stateAfter = null;\n    }\n\n    if (line.styles) {\n      line.styles = null;\n    }\n\n    if (line.order != null) {\n      line.order = null;\n    }\n\n    detachMarkedSpans(line);\n    attachMarkedSpans(line, markedSpans);\n    var estHeight = estimateHeight ? estimateHeight(line) : 1;\n\n    if (estHeight != line.height) {\n      updateLineHeight(line, estHeight);\n    }\n  } // Detach a line from the document tree and its markers.\n\n\n  function cleanUpLine(line) {\n    line.parent = null;\n    detachMarkedSpans(line);\n  } // Convert a style as returned by a mode (either null, or a string\n  // containing one or more styles) to a CSS style. This is cached,\n  // and also looks for line-wide styles.\n\n\n  var styleToClassCache = {},\n      styleToClassCacheWithMode = {};\n\n  function interpretTokenStyle(style, options) {\n    if (!style || /^\\s*$/.test(style)) {\n      return null;\n    }\n\n    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n    return cache[style] || (cache[style] = style.replace(/\\S+/g, \"cm-$&\"));\n  } // Render the DOM representation of the text of a line. Also builds\n  // up a 'line map', which points at the DOM nodes that represent\n  // specific stretches of text, and is used by the measuring code.\n  // The returned object contains the DOM node, this map, and\n  // information about line-wide styles that were set by the mode.\n\n\n  function buildLineContent(cm, lineView) {\n    // The padding-right forces the element to have a 'border', which\n    // is needed on Webkit to be able to get line-level bounding\n    // rectangles for it (in measureChar).\n    var content = eltP(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n    var builder = {\n      pre: eltP(\"pre\", [content], \"CodeMirror-line\"),\n      content: content,\n      col: 0,\n      pos: 0,\n      cm: cm,\n      trailingSpace: false,\n      splitSpaces: cm.getOption(\"lineWrapping\")\n    };\n    lineView.measure = {}; // Iterate over the logical lines that make up this visual line.\n\n    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n      var line = i ? lineView.rest[i - 1] : lineView.line,\n          order = void 0;\n      builder.pos = 0;\n      builder.addToken = buildToken; // Optionally wire in some hacks into the token-rendering\n      // algorithm, to deal with browser quirks.\n\n      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction))) {\n        builder.addToken = buildTokenBadBidi(builder.addToken, order);\n      }\n\n      builder.map = [];\n      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n\n      if (line.styleClasses) {\n        if (line.styleClasses.bgClass) {\n          builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\");\n        }\n\n        if (line.styleClasses.textClass) {\n          builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\");\n        }\n      } // Ensure at least a single node is present, for measuring.\n\n\n      if (builder.map.length == 0) {\n        builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure)));\n      } // Store the map and a cache object for the current logical line\n\n\n      if (i == 0) {\n        lineView.measure.map = builder.map;\n        lineView.measure.cache = {};\n      } else {\n        (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map);\n        (lineView.measure.caches || (lineView.measure.caches = [])).push({});\n      }\n    } // See issue #2901\n\n\n    if (webkit) {\n      var last = builder.content.lastChild;\n\n      if (/\\bcm-tab\\b/.test(last.className) || last.querySelector && last.querySelector(\".cm-tab\")) {\n        builder.content.className = \"cm-tab-wrap-hack\";\n      }\n    }\n\n    signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n\n    if (builder.pre.className) {\n      builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\");\n    }\n\n    return builder;\n  }\n\n  function defaultSpecialCharPlaceholder(ch) {\n    var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n    token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n    token.setAttribute(\"aria-label\", token.title);\n    return token;\n  } // Build up the DOM representation for a single token, and add it to\n  // the line map. Takes care to render special characters separately.\n\n\n  function buildToken(builder, text, style, startStyle, endStyle, css, attributes) {\n    if (!text) {\n      return;\n    }\n\n    var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;\n    var special = builder.cm.state.specialChars,\n        mustWrap = false;\n    var content;\n\n    if (!special.test(text)) {\n      builder.col += text.length;\n      content = document.createTextNode(displayText);\n      builder.map.push(builder.pos, builder.pos + text.length, content);\n\n      if (ie && ie_version < 9) {\n        mustWrap = true;\n      }\n\n      builder.pos += text.length;\n    } else {\n      content = document.createDocumentFragment();\n      var pos = 0;\n\n      while (true) {\n        special.lastIndex = pos;\n        var m = special.exec(text);\n        var skipped = m ? m.index - pos : text.length - pos;\n\n        if (skipped) {\n          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n\n          if (ie && ie_version < 9) {\n            content.appendChild(elt(\"span\", [txt]));\n          } else {\n            content.appendChild(txt);\n          }\n\n          builder.map.push(builder.pos, builder.pos + skipped, txt);\n          builder.col += skipped;\n          builder.pos += skipped;\n        }\n\n        if (!m) {\n          break;\n        }\n\n        pos += skipped + 1;\n        var txt$1 = void 0;\n\n        if (m[0] == \"\\t\") {\n          var tabSize = builder.cm.options.tabSize,\n              tabWidth = tabSize - builder.col % tabSize;\n          txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n          txt$1.setAttribute(\"role\", \"presentation\");\n          txt$1.setAttribute(\"cm-text\", \"\\t\");\n          builder.col += tabWidth;\n        } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n          txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240D\" : \"\\u2424\", \"cm-invalidchar\"));\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          builder.col += 1;\n        } else {\n          txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);\n          txt$1.setAttribute(\"cm-text\", m[0]);\n\n          if (ie && ie_version < 9) {\n            content.appendChild(elt(\"span\", [txt$1]));\n          } else {\n            content.appendChild(txt$1);\n          }\n\n          builder.col += 1;\n        }\n\n        builder.map.push(builder.pos, builder.pos + 1, txt$1);\n        builder.pos++;\n      }\n    }\n\n    builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;\n\n    if (style || startStyle || endStyle || mustWrap || css || attributes) {\n      var fullStyle = style || \"\";\n\n      if (startStyle) {\n        fullStyle += startStyle;\n      }\n\n      if (endStyle) {\n        fullStyle += endStyle;\n      }\n\n      var token = elt(\"span\", [content], fullStyle, css);\n\n      if (attributes) {\n        for (var attr in attributes) {\n          if (attributes.hasOwnProperty(attr) && attr != \"style\" && attr != \"class\") {\n            token.setAttribute(attr, attributes[attr]);\n          }\n        }\n      }\n\n      return builder.content.appendChild(token);\n    }\n\n    builder.content.appendChild(content);\n  } // Change some spaces to NBSP to prevent the browser from collapsing\n  // trailing spaces at the end of a line when rendering text (issue #1362).\n\n\n  function splitSpaces(text, trailingBefore) {\n    if (text.length > 1 && !/  /.test(text)) {\n      return text;\n    }\n\n    var spaceBefore = trailingBefore,\n        result = \"\";\n\n    for (var i = 0; i < text.length; i++) {\n      var ch = text.charAt(i);\n\n      if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32)) {\n        ch = \"\\xA0\";\n      }\n\n      result += ch;\n      spaceBefore = ch == \" \";\n    }\n\n    return result;\n  } // Work around nonsense dimensions being reported for stretches of\n  // right-to-left text.\n\n\n  function buildTokenBadBidi(inner, order) {\n    return function (builder, text, style, startStyle, endStyle, css, attributes) {\n      style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n      var start = builder.pos,\n          end = start + text.length;\n\n      for (;;) {\n        // Find the part that overlaps with the start of this text\n        var part = void 0;\n\n        for (var i = 0; i < order.length; i++) {\n          part = order[i];\n\n          if (part.to > start && part.from <= start) {\n            break;\n          }\n        }\n\n        if (part.to >= end) {\n          return inner(builder, text, style, startStyle, endStyle, css, attributes);\n        }\n\n        inner(builder, text.slice(0, part.to - start), style, startStyle, null, css, attributes);\n        startStyle = null;\n        text = text.slice(part.to - start);\n        start = part.to;\n      }\n    };\n  }\n\n  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n    var widget = !ignoreWidget && marker.widgetNode;\n\n    if (widget) {\n      builder.map.push(builder.pos, builder.pos + size, widget);\n    }\n\n    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n      if (!widget) {\n        widget = builder.content.appendChild(document.createElement(\"span\"));\n      }\n\n      widget.setAttribute(\"cm-marker\", marker.id);\n    }\n\n    if (widget) {\n      builder.cm.display.input.setUneditable(widget);\n      builder.content.appendChild(widget);\n    }\n\n    builder.pos += size;\n    builder.trailingSpace = false;\n  } // Outputs a number of spans to make up a line, taking highlighting\n  // and marked text into account.\n\n\n  function insertLineContent(line, builder, styles) {\n    var spans = line.markedSpans,\n        allText = line.text,\n        at = 0;\n\n    if (!spans) {\n      for (var i$1 = 1; i$1 < styles.length; i$1 += 2) {\n        builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1 + 1], builder.cm.options));\n      }\n\n      return;\n    }\n\n    var len = allText.length,\n        pos = 0,\n        i = 1,\n        text = \"\",\n        style,\n        css;\n    var nextChange = 0,\n        spanStyle,\n        spanEndStyle,\n        spanStartStyle,\n        collapsed,\n        attributes;\n\n    for (;;) {\n      if (nextChange == pos) {\n        // Update current marker set\n        spanStyle = spanEndStyle = spanStartStyle = css = \"\";\n        attributes = null;\n        collapsed = null;\n        nextChange = Infinity;\n        var foundBookmarks = [],\n            endStyles = void 0;\n\n        for (var j = 0; j < spans.length; ++j) {\n          var sp = spans[j],\n              m = sp.marker;\n\n          if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n            foundBookmarks.push(m);\n          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n            if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n              nextChange = sp.to;\n              spanEndStyle = \"\";\n            }\n\n            if (m.className) {\n              spanStyle += \" \" + m.className;\n            }\n\n            if (m.css) {\n              css = (css ? css + \";\" : \"\") + m.css;\n            }\n\n            if (m.startStyle && sp.from == pos) {\n              spanStartStyle += \" \" + m.startStyle;\n            }\n\n            if (m.endStyle && sp.to == nextChange) {\n              (endStyles || (endStyles = [])).push(m.endStyle, sp.to);\n            } // support for the old title property\n            // https://github.com/codemirror/CodeMirror/pull/5673\n\n\n            if (m.title) {\n              (attributes || (attributes = {})).title = m.title;\n            }\n\n            if (m.attributes) {\n              for (var attr in m.attributes) {\n                (attributes || (attributes = {}))[attr] = m.attributes[attr];\n              }\n            }\n\n            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0)) {\n              collapsed = sp;\n            }\n          } else if (sp.from > pos && nextChange > sp.from) {\n            nextChange = sp.from;\n          }\n        }\n\n        if (endStyles) {\n          for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2) {\n            if (endStyles[j$1 + 1] == nextChange) {\n              spanEndStyle += \" \" + endStyles[j$1];\n            }\n          }\n        }\n\n        if (!collapsed || collapsed.from == pos) {\n          for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2) {\n            buildCollapsedSpan(builder, 0, foundBookmarks[j$2]);\n          }\n        }\n\n        if (collapsed && (collapsed.from || 0) == pos) {\n          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos, collapsed.marker, collapsed.from == null);\n\n          if (collapsed.to == null) {\n            return;\n          }\n\n          if (collapsed.to == pos) {\n            collapsed = false;\n          }\n        }\n      }\n\n      if (pos >= len) {\n        break;\n      }\n\n      var upto = Math.min(len, nextChange);\n\n      while (true) {\n        if (text) {\n          var end = pos + text.length;\n\n          if (!collapsed) {\n            var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle, spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", css, attributes);\n          }\n\n          if (end >= upto) {\n            text = text.slice(upto - pos);\n            pos = upto;\n            break;\n          }\n\n          pos = end;\n          spanStartStyle = \"\";\n        }\n\n        text = allText.slice(at, at = styles[i++]);\n        style = interpretTokenStyle(styles[i++], builder.cm.options);\n      }\n    }\n  } // These objects are used to represent the visible (currently drawn)\n  // part of the document. A LineView may correspond to multiple\n  // logical lines, if those are connected by collapsed ranges.\n\n\n  function LineView(doc, line, lineN) {\n    // The starting line\n    this.line = line; // Continuing lines, if any\n\n    this.rest = visualLineContinued(line); // Number of logical lines in this visual line\n\n    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n    this.node = this.text = null;\n    this.hidden = lineIsHidden(doc, line);\n  } // Create a range of LineView objects for the given lines.\n\n\n  function buildViewArray(cm, from, to) {\n    var array = [],\n        nextPos;\n\n    for (var pos = from; pos < to; pos = nextPos) {\n      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n      nextPos = pos + view.size;\n      array.push(view);\n    }\n\n    return array;\n  }\n\n  var operationGroup = null;\n\n  function pushOperation(op) {\n    if (operationGroup) {\n      operationGroup.ops.push(op);\n    } else {\n      op.ownsGroup = operationGroup = {\n        ops: [op],\n        delayedCallbacks: []\n      };\n    }\n  }\n\n  function fireCallbacksForOps(group) {\n    // Calls delayed callbacks and cursorActivity handlers until no\n    // new ones appear\n    var callbacks = group.delayedCallbacks,\n        i = 0;\n\n    do {\n      for (; i < callbacks.length; i++) {\n        callbacks[i].call(null);\n      }\n\n      for (var j = 0; j < group.ops.length; j++) {\n        var op = group.ops[j];\n\n        if (op.cursorActivityHandlers) {\n          while (op.cursorActivityCalled < op.cursorActivityHandlers.length) {\n            op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm);\n          }\n        }\n      }\n    } while (i < callbacks.length);\n  }\n\n  function finishOperation(op, endCb) {\n    var group = op.ownsGroup;\n\n    if (!group) {\n      return;\n    }\n\n    try {\n      fireCallbacksForOps(group);\n    } finally {\n      operationGroup = null;\n      endCb(group);\n    }\n  }\n\n  var orphanDelayedCallbacks = null; // Often, we want to signal events at a point where we are in the\n  // middle of some work, but don't want the handler to start calling\n  // other methods on the editor, which might be in an inconsistent\n  // state or simply not expect any other events to happen.\n  // signalLater looks whether there are any handlers, and schedules\n  // them to be executed when the last operation ends, or, if no\n  // operation is active, when a timeout fires.\n\n  function signalLater(emitter, type\n  /*, values...*/\n  ) {\n    var arr = getHandlers(emitter, type);\n\n    if (!arr.length) {\n      return;\n    }\n\n    var args = Array.prototype.slice.call(arguments, 2),\n        list;\n\n    if (operationGroup) {\n      list = operationGroup.delayedCallbacks;\n    } else if (orphanDelayedCallbacks) {\n      list = orphanDelayedCallbacks;\n    } else {\n      list = orphanDelayedCallbacks = [];\n      setTimeout(fireOrphanDelayed, 0);\n    }\n\n    var loop = function loop(i) {\n      list.push(function () {\n        return arr[i].apply(null, args);\n      });\n    };\n\n    for (var i = 0; i < arr.length; ++i) {\n      loop(i);\n    }\n  }\n\n  function fireOrphanDelayed() {\n    var delayed = orphanDelayedCallbacks;\n    orphanDelayedCallbacks = null;\n\n    for (var i = 0; i < delayed.length; ++i) {\n      delayed[i]();\n    }\n  } // When an aspect of a line changes, a string is added to\n  // lineView.changes. This updates the relevant part of the line's\n  // DOM structure.\n\n\n  function updateLineForChanges(cm, lineView, lineN, dims) {\n    for (var j = 0; j < lineView.changes.length; j++) {\n      var type = lineView.changes[j];\n\n      if (type == \"text\") {\n        updateLineText(cm, lineView);\n      } else if (type == \"gutter\") {\n        updateLineGutter(cm, lineView, lineN, dims);\n      } else if (type == \"class\") {\n        updateLineClasses(cm, lineView);\n      } else if (type == \"widget\") {\n        updateLineWidgets(cm, lineView, dims);\n      }\n    }\n\n    lineView.changes = null;\n  } // Lines with gutter elements, widgets or a background class need to\n  // be wrapped, and have the extra elements added to the wrapper div\n\n\n  function ensureLineWrapped(lineView) {\n    if (lineView.node == lineView.text) {\n      lineView.node = elt(\"div\", null, null, \"position: relative\");\n\n      if (lineView.text.parentNode) {\n        lineView.text.parentNode.replaceChild(lineView.node, lineView.text);\n      }\n\n      lineView.node.appendChild(lineView.text);\n\n      if (ie && ie_version < 8) {\n        lineView.node.style.zIndex = 2;\n      }\n    }\n\n    return lineView.node;\n  }\n\n  function updateLineBackground(cm, lineView) {\n    var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n\n    if (cls) {\n      cls += \" CodeMirror-linebackground\";\n    }\n\n    if (lineView.background) {\n      if (cls) {\n        lineView.background.className = cls;\n      } else {\n        lineView.background.parentNode.removeChild(lineView.background);\n        lineView.background = null;\n      }\n    } else if (cls) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n      cm.display.input.setUneditable(lineView.background);\n    }\n  } // Wrapper around buildLineContent which will reuse the structure\n  // in display.externalMeasured when possible.\n\n\n  function getLineContent(cm, lineView) {\n    var ext = cm.display.externalMeasured;\n\n    if (ext && ext.line == lineView.line) {\n      cm.display.externalMeasured = null;\n      lineView.measure = ext.measure;\n      return ext.built;\n    }\n\n    return buildLineContent(cm, lineView);\n  } // Redraw the line's text. Interacts with the background and text\n  // classes because the mode may output tokens that influence these\n  // classes.\n\n\n  function updateLineText(cm, lineView) {\n    var cls = lineView.text.className;\n    var built = getLineContent(cm, lineView);\n\n    if (lineView.text == lineView.node) {\n      lineView.node = built.pre;\n    }\n\n    lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n    lineView.text = built.pre;\n\n    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n      lineView.bgClass = built.bgClass;\n      lineView.textClass = built.textClass;\n      updateLineClasses(cm, lineView);\n    } else if (cls) {\n      lineView.text.className = cls;\n    }\n  }\n\n  function updateLineClasses(cm, lineView) {\n    updateLineBackground(cm, lineView);\n\n    if (lineView.line.wrapClass) {\n      ensureLineWrapped(lineView).className = lineView.line.wrapClass;\n    } else if (lineView.node != lineView.text) {\n      lineView.node.className = \"\";\n    }\n\n    var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n    lineView.text.className = textClass || \"\";\n  }\n\n  function updateLineGutter(cm, lineView, lineN, dims) {\n    if (lineView.gutter) {\n      lineView.node.removeChild(lineView.gutter);\n      lineView.gutter = null;\n    }\n\n    if (lineView.gutterBackground) {\n      lineView.node.removeChild(lineView.gutterBackground);\n      lineView.gutterBackground = null;\n    }\n\n    if (lineView.line.gutterClass) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass, \"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + dims.gutterTotalWidth + \"px\");\n      cm.display.input.setUneditable(lineView.gutterBackground);\n      wrap.insertBefore(lineView.gutterBackground, lineView.text);\n    }\n\n    var markers = lineView.line.gutterMarkers;\n\n    if (cm.options.lineNumbers || markers) {\n      var wrap$1 = ensureLineWrapped(lineView);\n      var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", \"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\");\n      gutterWrap.setAttribute(\"aria-hidden\", \"true\");\n      cm.display.input.setUneditable(gutterWrap);\n      wrap$1.insertBefore(gutterWrap, lineView.text);\n\n      if (lineView.line.gutterClass) {\n        gutterWrap.className += \" \" + lineView.line.gutterClass;\n      }\n\n      if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"])) {\n        lineView.lineNumber = gutterWrap.appendChild(elt(\"div\", lineNumberFor(cm.options, lineN), \"CodeMirror-linenumber CodeMirror-gutter-elt\", \"left: \" + dims.gutterLeft[\"CodeMirror-linenumbers\"] + \"px; width: \" + cm.display.lineNumInnerWidth + \"px\"));\n      }\n\n      if (markers) {\n        for (var k = 0; k < cm.display.gutterSpecs.length; ++k) {\n          var id = cm.display.gutterSpecs[k].className,\n              found = markers.hasOwnProperty(id) && markers[id];\n\n          if (found) {\n            gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\", \"left: \" + dims.gutterLeft[id] + \"px; width: \" + dims.gutterWidth[id] + \"px\"));\n          }\n        }\n      }\n    }\n  }\n\n  function updateLineWidgets(cm, lineView, dims) {\n    if (lineView.alignable) {\n      lineView.alignable = null;\n    }\n\n    var isWidget = classTest(\"CodeMirror-linewidget\");\n\n    for (var node = lineView.node.firstChild, next = void 0; node; node = next) {\n      next = node.nextSibling;\n\n      if (isWidget.test(node.className)) {\n        lineView.node.removeChild(node);\n      }\n    }\n\n    insertLineWidgets(cm, lineView, dims);\n  } // Build a line's DOM representation from scratch\n\n\n  function buildLineElement(cm, lineView, lineN, dims) {\n    var built = getLineContent(cm, lineView);\n    lineView.text = lineView.node = built.pre;\n\n    if (built.bgClass) {\n      lineView.bgClass = built.bgClass;\n    }\n\n    if (built.textClass) {\n      lineView.textClass = built.textClass;\n    }\n\n    updateLineClasses(cm, lineView);\n    updateLineGutter(cm, lineView, lineN, dims);\n    insertLineWidgets(cm, lineView, dims);\n    return lineView.node;\n  } // A lineView may contain multiple logical lines (when merged by\n  // collapsed spans). The widgets for all of them need to be drawn.\n\n\n  function insertLineWidgets(cm, lineView, dims) {\n    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n\n    if (lineView.rest) {\n      for (var i = 0; i < lineView.rest.length; i++) {\n        insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false);\n      }\n    }\n  }\n\n  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n    if (!line.widgets) {\n      return;\n    }\n\n    var wrap = ensureLineWrapped(lineView);\n\n    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n      var widget = ws[i],\n          node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\" + (widget.className ? \" \" + widget.className : \"\"));\n\n      if (!widget.handleMouseEvents) {\n        node.setAttribute(\"cm-ignore-events\", \"true\");\n      }\n\n      positionLineWidget(widget, node, lineView, dims);\n      cm.display.input.setUneditable(node);\n\n      if (allowAbove && widget.above) {\n        wrap.insertBefore(node, lineView.gutter || lineView.text);\n      } else {\n        wrap.appendChild(node);\n      }\n\n      signalLater(widget, \"redraw\");\n    }\n  }\n\n  function positionLineWidget(widget, node, lineView, dims) {\n    if (widget.noHScroll) {\n      (lineView.alignable || (lineView.alignable = [])).push(node);\n      var width = dims.wrapperWidth;\n      node.style.left = dims.fixedPos + \"px\";\n\n      if (!widget.coverGutter) {\n        width -= dims.gutterTotalWidth;\n        node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n      }\n\n      node.style.width = width + \"px\";\n    }\n\n    if (widget.coverGutter) {\n      node.style.zIndex = 5;\n      node.style.position = \"relative\";\n\n      if (!widget.noHScroll) {\n        node.style.marginLeft = -dims.gutterTotalWidth + \"px\";\n      }\n    }\n  }\n\n  function widgetHeight(widget) {\n    if (widget.height != null) {\n      return widget.height;\n    }\n\n    var cm = widget.doc.cm;\n\n    if (!cm) {\n      return 0;\n    }\n\n    if (!contains(document.body, widget.node)) {\n      var parentStyle = \"position: relative;\";\n\n      if (widget.coverGutter) {\n        parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\";\n      }\n\n      if (widget.noHScroll) {\n        parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\";\n      }\n\n      removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n    }\n\n    return widget.height = widget.node.parentNode.offsetHeight;\n  } // Return true when the given mouse event happened in a widget\n\n\n  function eventInWidget(display, e) {\n    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n      if (!n || n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\" || n.parentNode == display.sizer && n != display.mover) {\n        return true;\n      }\n    }\n  } // POSITION MEASUREMENT\n\n\n  function paddingTop(display) {\n    return display.lineSpace.offsetTop;\n  }\n\n  function paddingVert(display) {\n    return display.mover.offsetHeight - display.lineSpace.offsetHeight;\n  }\n\n  function paddingH(display) {\n    if (display.cachedPaddingH) {\n      return display.cachedPaddingH;\n    }\n\n    var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\", \"CodeMirror-line-like\"));\n    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n    var data = {\n      left: parseInt(style.paddingLeft),\n      right: parseInt(style.paddingRight)\n    };\n\n    if (!isNaN(data.left) && !isNaN(data.right)) {\n      display.cachedPaddingH = data;\n    }\n\n    return data;\n  }\n\n  function scrollGap(cm) {\n    return scrollerGap - cm.display.nativeBarWidth;\n  }\n\n  function displayWidth(cm) {\n    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth;\n  }\n\n  function displayHeight(cm) {\n    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight;\n  } // Ensure the lineView.wrapping.heights array is populated. This is\n  // an array of bottom offsets for the lines that make up a drawn\n  // line. When lineWrapping is on, there might be more than one\n  // height.\n\n\n  function ensureLineHeights(cm, lineView, rect) {\n    var wrapping = cm.options.lineWrapping;\n    var curWidth = wrapping && displayWidth(cm);\n\n    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n      var heights = lineView.measure.heights = [];\n\n      if (wrapping) {\n        lineView.measure.width = curWidth;\n        var rects = lineView.text.firstChild.getClientRects();\n\n        for (var i = 0; i < rects.length - 1; i++) {\n          var cur = rects[i],\n              next = rects[i + 1];\n\n          if (Math.abs(cur.bottom - next.bottom) > 2) {\n            heights.push((cur.bottom + next.top) / 2 - rect.top);\n          }\n        }\n      }\n\n      heights.push(rect.bottom - rect.top);\n    }\n  } // Find a line map (mapping character offsets to text nodes) and a\n  // measurement cache for the given line number. (A line view might\n  // contain multiple lines when collapsed ranges are present.)\n\n\n  function mapFromLineView(lineView, line, lineN) {\n    if (lineView.line == line) {\n      return {\n        map: lineView.measure.map,\n        cache: lineView.measure.cache\n      };\n    }\n\n    for (var i = 0; i < lineView.rest.length; i++) {\n      if (lineView.rest[i] == line) {\n        return {\n          map: lineView.measure.maps[i],\n          cache: lineView.measure.caches[i]\n        };\n      }\n    }\n\n    for (var i$1 = 0; i$1 < lineView.rest.length; i$1++) {\n      if (lineNo(lineView.rest[i$1]) > lineN) {\n        return {\n          map: lineView.measure.maps[i$1],\n          cache: lineView.measure.caches[i$1],\n          before: true\n        };\n      }\n    }\n  } // Render a line into the hidden node display.externalMeasured. Used\n  // when measurement is needed for a line that's not in the viewport.\n\n\n  function updateExternalMeasurement(cm, line) {\n    line = visualLine(line);\n    var lineN = lineNo(line);\n    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n    view.lineN = lineN;\n    var built = view.built = buildLineContent(cm, view);\n    view.text = built.pre;\n    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n    return view;\n  } // Get a {top, bottom, left, right} box (in line-local coordinates)\n  // for a given character.\n\n\n  function measureChar(cm, line, ch, bias) {\n    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias);\n  } // Find a line view that corresponds to the given line number.\n\n\n  function findViewForLine(cm, lineN) {\n    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo) {\n      return cm.display.view[findViewIndex(cm, lineN)];\n    }\n\n    var ext = cm.display.externalMeasured;\n\n    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size) {\n      return ext;\n    }\n  } // Measurement can be split in two steps, the set-up work that\n  // applies to the whole line, and the measurement of the actual\n  // character. Functions like coordsChar, that need to do a lot of\n  // measurements in a row, can thus ensure that the set-up work is\n  // only done once.\n\n\n  function prepareMeasureForLine(cm, line) {\n    var lineN = lineNo(line);\n    var view = findViewForLine(cm, lineN);\n\n    if (view && !view.text) {\n      view = null;\n    } else if (view && view.changes) {\n      updateLineForChanges(cm, view, lineN, getDimensions(cm));\n      cm.curOp.forceUpdate = true;\n    }\n\n    if (!view) {\n      view = updateExternalMeasurement(cm, line);\n    }\n\n    var info = mapFromLineView(view, line, lineN);\n    return {\n      line: line,\n      view: view,\n      rect: null,\n      map: info.map,\n      cache: info.cache,\n      before: info.before,\n      hasHeights: false\n    };\n  } // Given a prepared measurement object, measures the position of an\n  // actual character (or fetches it from the cache).\n\n\n  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n    if (prepared.before) {\n      ch = -1;\n    }\n\n    var key = ch + (bias || \"\"),\n        found;\n\n    if (prepared.cache.hasOwnProperty(key)) {\n      found = prepared.cache[key];\n    } else {\n      if (!prepared.rect) {\n        prepared.rect = prepared.view.text.getBoundingClientRect();\n      }\n\n      if (!prepared.hasHeights) {\n        ensureLineHeights(cm, prepared.view, prepared.rect);\n        prepared.hasHeights = true;\n      }\n\n      found = measureCharInner(cm, prepared, ch, bias);\n\n      if (!found.bogus) {\n        prepared.cache[key] = found;\n      }\n    }\n\n    return {\n      left: found.left,\n      right: found.right,\n      top: varHeight ? found.rtop : found.top,\n      bottom: varHeight ? found.rbottom : found.bottom\n    };\n  }\n\n  var nullRect = {\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0\n  };\n\n  function nodeAndOffsetInLineMap(map, ch, bias) {\n    var node, start, end, collapse, mStart, mEnd; // First, search the line map for the text node corresponding to,\n    // or closest to, the target character.\n\n    for (var i = 0; i < map.length; i += 3) {\n      mStart = map[i];\n      mEnd = map[i + 1];\n\n      if (ch < mStart) {\n        start = 0;\n        end = 1;\n        collapse = \"left\";\n      } else if (ch < mEnd) {\n        start = ch - mStart;\n        end = start + 1;\n      } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {\n        end = mEnd - mStart;\n        start = end - 1;\n\n        if (ch >= mEnd) {\n          collapse = \"right\";\n        }\n      }\n\n      if (start != null) {\n        node = map[i + 2];\n\n        if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\")) {\n          collapse = bias;\n        }\n\n        if (bias == \"left\" && start == 0) {\n          while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {\n            node = map[(i -= 3) + 2];\n            collapse = \"left\";\n          }\n        }\n\n        if (bias == \"right\" && start == mEnd - mStart) {\n          while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {\n            node = map[(i += 3) + 2];\n            collapse = \"right\";\n          }\n        }\n\n        break;\n      }\n    }\n\n    return {\n      node: node,\n      start: start,\n      end: end,\n      collapse: collapse,\n      coverStart: mStart,\n      coverEnd: mEnd\n    };\n  }\n\n  function getUsefulRect(rects, bias) {\n    var rect = nullRect;\n\n    if (bias == \"left\") {\n      for (var i = 0; i < rects.length; i++) {\n        if ((rect = rects[i]).left != rect.right) {\n          break;\n        }\n      }\n    } else {\n      for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n        if ((rect = rects[i$1]).left != rect.right) {\n          break;\n        }\n      }\n    }\n\n    return rect;\n  }\n\n  function measureCharInner(cm, prepared, ch, bias) {\n    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n    var node = place.node,\n        start = place.start,\n        end = place.end,\n        collapse = place.collapse;\n    var rect;\n\n    if (node.nodeType == 3) {\n      // If it is a text node, use a range to retrieve the coordinates.\n      for (var i$1 = 0; i$1 < 4; i$1++) {\n        // Retry a maximum of 4 times when nonsense rectangles are returned\n        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) {\n          --start;\n        }\n\n        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) {\n          ++end;\n        }\n\n        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart) {\n          rect = node.parentNode.getBoundingClientRect();\n        } else {\n          rect = getUsefulRect(range(node, start, end).getClientRects(), bias);\n        }\n\n        if (rect.left || rect.right || start == 0) {\n          break;\n        }\n\n        end = start;\n        start = start - 1;\n        collapse = \"right\";\n      }\n\n      if (ie && ie_version < 11) {\n        rect = maybeUpdateRectForZooming(cm.display.measure, rect);\n      }\n    } else {\n      // If it is a widget, simply get the box for the whole widget.\n      if (start > 0) {\n        collapse = bias = \"right\";\n      }\n\n      var rects;\n\n      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1) {\n        rect = rects[bias == \"right\" ? rects.length - 1 : 0];\n      } else {\n        rect = node.getBoundingClientRect();\n      }\n    }\n\n    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n      var rSpan = node.parentNode.getClientRects()[0];\n\n      if (rSpan) {\n        rect = {\n          left: rSpan.left,\n          right: rSpan.left + charWidth(cm.display),\n          top: rSpan.top,\n          bottom: rSpan.bottom\n        };\n      } else {\n        rect = nullRect;\n      }\n    }\n\n    var rtop = rect.top - prepared.rect.top,\n        rbot = rect.bottom - prepared.rect.top;\n    var mid = (rtop + rbot) / 2;\n    var heights = prepared.view.measure.heights;\n    var i = 0;\n\n    for (; i < heights.length - 1; i++) {\n      if (mid < heights[i]) {\n        break;\n      }\n    }\n\n    var top = i ? heights[i - 1] : 0,\n        bot = heights[i];\n    var result = {\n      left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n      right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n      top: top,\n      bottom: bot\n    };\n\n    if (!rect.left && !rect.right) {\n      result.bogus = true;\n    }\n\n    if (!cm.options.singleCursorHeightPerLine) {\n      result.rtop = rtop;\n      result.rbottom = rbot;\n    }\n\n    return result;\n  } // Work around problem with bounding client rects on ranges being\n  // returned incorrectly when zoomed on IE10 and below.\n\n\n  function maybeUpdateRectForZooming(measure, rect) {\n    if (!window.screen || screen.logicalXDPI == null || screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure)) {\n      return rect;\n    }\n\n    var scaleX = screen.logicalXDPI / screen.deviceXDPI;\n    var scaleY = screen.logicalYDPI / screen.deviceYDPI;\n    return {\n      left: rect.left * scaleX,\n      right: rect.right * scaleX,\n      top: rect.top * scaleY,\n      bottom: rect.bottom * scaleY\n    };\n  }\n\n  function clearLineMeasurementCacheFor(lineView) {\n    if (lineView.measure) {\n      lineView.measure.cache = {};\n      lineView.measure.heights = null;\n\n      if (lineView.rest) {\n        for (var i = 0; i < lineView.rest.length; i++) {\n          lineView.measure.caches[i] = {};\n        }\n      }\n    }\n  }\n\n  function clearLineMeasurementCache(cm) {\n    cm.display.externalMeasure = null;\n    removeChildren(cm.display.lineMeasure);\n\n    for (var i = 0; i < cm.display.view.length; i++) {\n      clearLineMeasurementCacheFor(cm.display.view[i]);\n    }\n  }\n\n  function clearCaches(cm) {\n    clearLineMeasurementCache(cm);\n    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n\n    if (!cm.options.lineWrapping) {\n      cm.display.maxLineChanged = true;\n    }\n\n    cm.display.lineNumChars = null;\n  }\n\n  function pageScrollX() {\n    // Work around https://bugs.chromium.org/p/chromium/issues/detail?id=489206\n    // which causes page_Offset and bounding client rects to use\n    // different reference viewports and invalidate our calculations.\n    if (chrome && android) {\n      return -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft));\n    }\n\n    return window.pageXOffset || (document.documentElement || document.body).scrollLeft;\n  }\n\n  function pageScrollY() {\n    if (chrome && android) {\n      return -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop));\n    }\n\n    return window.pageYOffset || (document.documentElement || document.body).scrollTop;\n  }\n\n  function widgetTopHeight(lineObj) {\n    var height = 0;\n\n    if (lineObj.widgets) {\n      for (var i = 0; i < lineObj.widgets.length; ++i) {\n        if (lineObj.widgets[i].above) {\n          height += widgetHeight(lineObj.widgets[i]);\n        }\n      }\n    }\n\n    return height;\n  } // Converts a {top, bottom, left, right} box from line-local\n  // coordinates into another coordinate system. Context may be one of\n  // \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\n  // or \"page\".\n\n\n  function intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n    if (!includeWidgets) {\n      var height = widgetTopHeight(lineObj);\n      rect.top += height;\n      rect.bottom += height;\n    }\n\n    if (context == \"line\") {\n      return rect;\n    }\n\n    if (!context) {\n      context = \"local\";\n    }\n\n    var yOff = _heightAtLine(lineObj);\n\n    if (context == \"local\") {\n      yOff += paddingTop(cm.display);\n    } else {\n      yOff -= cm.display.viewOffset;\n    }\n\n    if (context == \"page\" || context == \"window\") {\n      var lOff = cm.display.lineSpace.getBoundingClientRect();\n      yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY());\n      var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX());\n      rect.left += xOff;\n      rect.right += xOff;\n    }\n\n    rect.top += yOff;\n    rect.bottom += yOff;\n    return rect;\n  } // Coverts a box from \"div\" coords to another coordinate system.\n  // Context may be \"window\", \"page\", \"div\", or \"local\"./null.\n\n\n  function fromCoordSystem(cm, coords, context) {\n    if (context == \"div\") {\n      return coords;\n    }\n\n    var left = coords.left,\n        top = coords.top; // First move into \"page\" coordinate system\n\n    if (context == \"page\") {\n      left -= pageScrollX();\n      top -= pageScrollY();\n    } else if (context == \"local\" || !context) {\n      var localBox = cm.display.sizer.getBoundingClientRect();\n      left += localBox.left;\n      top += localBox.top;\n    }\n\n    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n    return {\n      left: left - lineSpaceBox.left,\n      top: top - lineSpaceBox.top\n    };\n  }\n\n  function _charCoords(cm, pos, context, lineObj, bias) {\n    if (!lineObj) {\n      lineObj = getLine(cm.doc, pos.line);\n    }\n\n    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context);\n  } // Returns a box for a given cursor position, which may have an\n  // 'other' property containing the position of the secondary cursor\n  // on a bidi boundary.\n  // A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\n  // and after `char - 1` in writing order of `char - 1`\n  // A cursor Pos(line, char, \"after\") is on the same visual line as `char`\n  // and before `char` in writing order of `char`\n  // Examples (upper-case letters are RTL, lower-case are LTR):\n  //     Pos(0, 1, ...)\n  //     before   after\n  // ab     a|b     a|b\n  // aB     a|B     aB|\n  // Ab     |Ab     A|b\n  // AB     B|A     B|A\n  // Every position after the last character on a line is considered to stick\n  // to the last character on the line.\n\n\n  function _cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n    lineObj = lineObj || getLine(cm.doc, pos.line);\n\n    if (!preparedMeasure) {\n      preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    }\n\n    function get(ch, right) {\n      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n\n      if (right) {\n        m.left = m.right;\n      } else {\n        m.right = m.left;\n      }\n\n      return intoCoordSystem(cm, lineObj, m, context);\n    }\n\n    var order = getOrder(lineObj, cm.doc.direction),\n        ch = pos.ch,\n        sticky = pos.sticky;\n\n    if (ch >= lineObj.text.length) {\n      ch = lineObj.text.length;\n      sticky = \"before\";\n    } else if (ch <= 0) {\n      ch = 0;\n      sticky = \"after\";\n    }\n\n    if (!order) {\n      return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\");\n    }\n\n    function getBidi(ch, partPos, invert) {\n      var part = order[partPos],\n          right = part.level == 1;\n      return get(invert ? ch - 1 : ch, right != invert);\n    }\n\n    var partPos = getBidiPartAt(order, ch, sticky);\n    var other = bidiOther;\n    var val = getBidi(ch, partPos, sticky == \"before\");\n\n    if (other != null) {\n      val.other = getBidi(ch, other, sticky != \"before\");\n    }\n\n    return val;\n  } // Used to cheaply estimate the coordinates for a position. Used for\n  // intermediate scroll updates.\n\n\n  function estimateCoords(cm, pos) {\n    var left = 0;\n    pos = _clipPos(cm.doc, pos);\n\n    if (!cm.options.lineWrapping) {\n      left = charWidth(cm.display) * pos.ch;\n    }\n\n    var lineObj = getLine(cm.doc, pos.line);\n    var top = _heightAtLine(lineObj) + paddingTop(cm.display);\n    return {\n      left: left,\n      right: left,\n      top: top,\n      bottom: top + lineObj.height\n    };\n  } // Positions returned by coordsChar contain some extra information.\n  // xRel is the relative x position of the input coordinates compared\n  // to the found position (so xRel > 0 means the coordinates are to\n  // the right of the character position, for example). When outside\n  // is true, that means the coordinates lie outside the line's\n  // vertical range.\n\n\n  function PosWithInfo(line, ch, sticky, outside, xRel) {\n    var pos = Pos(line, ch, sticky);\n    pos.xRel = xRel;\n\n    if (outside) {\n      pos.outside = outside;\n    }\n\n    return pos;\n  } // Compute the character position closest to the given coordinates.\n  // Input must be lineSpace-local (\"div\" coordinate system).\n\n\n  function _coordsChar(cm, x, y) {\n    var doc = cm.doc;\n    y += cm.display.viewOffset;\n\n    if (y < 0) {\n      return PosWithInfo(doc.first, 0, null, -1, -1);\n    }\n\n    var lineN = _lineAtHeight(doc, y),\n        last = doc.first + doc.size - 1;\n\n    if (lineN > last) {\n      return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, 1, 1);\n    }\n\n    if (x < 0) {\n      x = 0;\n    }\n\n    var lineObj = getLine(doc, lineN);\n\n    for (;;) {\n      var found = coordsCharInner(cm, lineObj, lineN, x, y);\n      var collapsed = collapsedSpanAround(lineObj, found.ch + (found.xRel > 0 || found.outside > 0 ? 1 : 0));\n\n      if (!collapsed) {\n        return found;\n      }\n\n      var rangeEnd = collapsed.find(1);\n\n      if (rangeEnd.line == lineN) {\n        return rangeEnd;\n      }\n\n      lineObj = getLine(doc, lineN = rangeEnd.line);\n    }\n  }\n\n  function wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n    y -= widgetTopHeight(lineObj);\n    var end = lineObj.text.length;\n    var begin = findFirst(function (ch) {\n      return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y;\n    }, end, 0);\n    end = findFirst(function (ch) {\n      return measureCharPrepared(cm, preparedMeasure, ch).top > y;\n    }, begin, end);\n    return {\n      begin: begin,\n      end: end\n    };\n  }\n\n  function wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n    if (!preparedMeasure) {\n      preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    }\n\n    var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top;\n    return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop);\n  } // Returns true if the given side of a box is after the given\n  // coordinates, in top-to-bottom, left-to-right order.\n\n\n  function boxIsAfter(box, x, y, left) {\n    return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x;\n  }\n\n  function coordsCharInner(cm, lineObj, lineNo, x, y) {\n    // Move y into line-local coordinate space\n    y -= _heightAtLine(lineObj);\n    var preparedMeasure = prepareMeasureForLine(cm, lineObj); // When directly calling `measureCharPrepared`, we have to adjust\n    // for the widgets at this line.\n\n    var widgetHeight = widgetTopHeight(lineObj);\n    var begin = 0,\n        end = lineObj.text.length,\n        ltr = true;\n    var order = getOrder(lineObj, cm.doc.direction); // If the line isn't plain left-to-right text, first figure out\n    // which bidi section the coordinates fall into.\n\n    if (order) {\n      var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)(cm, lineObj, lineNo, preparedMeasure, order, x, y);\n      ltr = part.level != 1; // The awkward -1 offsets are needed because findFirst (called\n      // on these below) will treat its first bound as inclusive,\n      // second as exclusive, but we want to actually address the\n      // characters in the part's range\n\n      begin = ltr ? part.from : part.to - 1;\n      end = ltr ? part.to : part.from - 1;\n    } // A binary search to find the first character whose bounding box\n    // starts after the coordinates. If we run across any whose box wrap\n    // the coordinates, store that.\n\n\n    var chAround = null,\n        boxAround = null;\n    var ch = findFirst(function (ch) {\n      var box = measureCharPrepared(cm, preparedMeasure, ch);\n      box.top += widgetHeight;\n      box.bottom += widgetHeight;\n\n      if (!boxIsAfter(box, x, y, false)) {\n        return false;\n      }\n\n      if (box.top <= y && box.left <= x) {\n        chAround = ch;\n        boxAround = box;\n      }\n\n      return true;\n    }, begin, end);\n    var baseX,\n        sticky,\n        outside = false; // If a box around the coordinates was found, use that\n\n    if (boxAround) {\n      // Distinguish coordinates nearer to the left or right side of the box\n      var atLeft = x - boxAround.left < boxAround.right - x,\n          atStart = atLeft == ltr;\n      ch = chAround + (atStart ? 0 : 1);\n      sticky = atStart ? \"after\" : \"before\";\n      baseX = atLeft ? boxAround.left : boxAround.right;\n    } else {\n      // (Adjust for extended bound, if necessary.)\n      if (!ltr && (ch == end || ch == begin)) {\n        ch++;\n      } // To determine which side to associate with, get the box to the\n      // left of the character and compare it's vertical position to the\n      // coordinates\n\n\n      sticky = ch == 0 ? \"after\" : ch == lineObj.text.length ? \"before\" : measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight <= y == ltr ? \"after\" : \"before\"; // Now get accurate coordinates for this place, in order to get a\n      // base X position\n\n      var coords = _cursorCoords(cm, Pos(lineNo, ch, sticky), \"line\", lineObj, preparedMeasure);\n\n      baseX = coords.left;\n      outside = y < coords.top ? -1 : y >= coords.bottom ? 1 : 0;\n    }\n\n    ch = skipExtendingChars(lineObj.text, ch, 1);\n    return PosWithInfo(lineNo, ch, sticky, outside, x - baseX);\n  }\n\n  function coordsBidiPart(cm, lineObj, lineNo, preparedMeasure, order, x, y) {\n    // Bidi parts are sorted left-to-right, and in a non-line-wrapping\n    // situation, we can take this ordering to correspond to the visual\n    // ordering. This finds the first part whose end is after the given\n    // coordinates.\n    var index = findFirst(function (i) {\n      var part = order[i],\n          ltr = part.level != 1;\n      return boxIsAfter(_cursorCoords(cm, Pos(lineNo, ltr ? part.to : part.from, ltr ? \"before\" : \"after\"), \"line\", lineObj, preparedMeasure), x, y, true);\n    }, 0, order.length - 1);\n    var part = order[index]; // If this isn't the first part, the part's start is also after\n    // the coordinates, and the coordinates aren't on the same line as\n    // that start, move one part back.\n\n    if (index > 0) {\n      var ltr = part.level != 1;\n\n      var start = _cursorCoords(cm, Pos(lineNo, ltr ? part.from : part.to, ltr ? \"after\" : \"before\"), \"line\", lineObj, preparedMeasure);\n\n      if (boxIsAfter(start, x, y, true) && start.top > y) {\n        part = order[index - 1];\n      }\n    }\n\n    return part;\n  }\n\n  function coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {\n    // In a wrapped line, rtl text on wrapping boundaries can do things\n    // that don't correspond to the ordering in our `order` array at\n    // all, so a binary search doesn't work, and we want to return a\n    // part that only spans one line so that the binary search in\n    // coordsCharInner is safe. As such, we first find the extent of the\n    // wrapped line, and then do a flat search in which we discard any\n    // spans that aren't on the line.\n    var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);\n    var begin = ref.begin;\n    var end = ref.end;\n\n    if (/\\s/.test(lineObj.text.charAt(end - 1))) {\n      end--;\n    }\n\n    var part = null,\n        closestDist = null;\n\n    for (var i = 0; i < order.length; i++) {\n      var p = order[i];\n\n      if (p.from >= end || p.to <= begin) {\n        continue;\n      }\n\n      var ltr = p.level != 1;\n      var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right; // Weigh against spans ending before this, so that they are only\n      // picked if nothing ends after\n\n      var dist = endX < x ? x - endX + 1e9 : endX - x;\n\n      if (!part || closestDist > dist) {\n        part = p;\n        closestDist = dist;\n      }\n    }\n\n    if (!part) {\n      part = order[order.length - 1];\n    } // Clip the part to the wrapped line.\n\n\n    if (part.from < begin) {\n      part = {\n        from: begin,\n        to: part.to,\n        level: part.level\n      };\n    }\n\n    if (part.to > end) {\n      part = {\n        from: part.from,\n        to: end,\n        level: part.level\n      };\n    }\n\n    return part;\n  }\n\n  var measureText; // Compute the default text height.\n\n  function textHeight(display) {\n    if (display.cachedTextHeight != null) {\n      return display.cachedTextHeight;\n    }\n\n    if (measureText == null) {\n      measureText = elt(\"pre\", null, \"CodeMirror-line-like\"); // Measure a bunch of lines, for browsers that compute\n      // fractional heights.\n\n      for (var i = 0; i < 49; ++i) {\n        measureText.appendChild(document.createTextNode(\"x\"));\n        measureText.appendChild(elt(\"br\"));\n      }\n\n      measureText.appendChild(document.createTextNode(\"x\"));\n    }\n\n    removeChildrenAndAdd(display.measure, measureText);\n    var height = measureText.offsetHeight / 50;\n\n    if (height > 3) {\n      display.cachedTextHeight = height;\n    }\n\n    removeChildren(display.measure);\n    return height || 1;\n  } // Compute the default character width.\n\n\n  function charWidth(display) {\n    if (display.cachedCharWidth != null) {\n      return display.cachedCharWidth;\n    }\n\n    var anchor = elt(\"span\", \"xxxxxxxxxx\");\n    var pre = elt(\"pre\", [anchor], \"CodeMirror-line-like\");\n    removeChildrenAndAdd(display.measure, pre);\n    var rect = anchor.getBoundingClientRect(),\n        width = (rect.right - rect.left) / 10;\n\n    if (width > 2) {\n      display.cachedCharWidth = width;\n    }\n\n    return width || 10;\n  } // Do a bulk-read of the DOM positions and sizes needed to draw the\n  // view, so that we don't interleave reading and writing to the DOM.\n\n\n  function getDimensions(cm) {\n    var d = cm.display,\n        left = {},\n        width = {};\n    var gutterLeft = d.gutters.clientLeft;\n\n    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n      var id = cm.display.gutterSpecs[i].className;\n      left[id] = n.offsetLeft + n.clientLeft + gutterLeft;\n      width[id] = n.clientWidth;\n    }\n\n    return {\n      fixedPos: compensateForHScroll(d),\n      gutterTotalWidth: d.gutters.offsetWidth,\n      gutterLeft: left,\n      gutterWidth: width,\n      wrapperWidth: d.wrapper.clientWidth\n    };\n  } // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n  // but using getBoundingClientRect to get a sub-pixel-accurate\n  // result.\n\n\n  function compensateForHScroll(display) {\n    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left;\n  } // Returns a function that estimates the height of a line, to use as\n  // first approximation until the line becomes visible (and is thus\n  // properly measurable).\n\n\n  function estimateHeight(cm) {\n    var th = textHeight(cm.display),\n        wrapping = cm.options.lineWrapping;\n    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);\n    return function (line) {\n      if (lineIsHidden(cm.doc, line)) {\n        return 0;\n      }\n\n      var widgetsHeight = 0;\n\n      if (line.widgets) {\n        for (var i = 0; i < line.widgets.length; i++) {\n          if (line.widgets[i].height) {\n            widgetsHeight += line.widgets[i].height;\n          }\n        }\n      }\n\n      if (wrapping) {\n        return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th;\n      } else {\n        return widgetsHeight + th;\n      }\n    };\n  }\n\n  function estimateLineHeights(cm) {\n    var doc = cm.doc,\n        est = estimateHeight(cm);\n    doc.iter(function (line) {\n      var estHeight = est(line);\n\n      if (estHeight != line.height) {\n        updateLineHeight(line, estHeight);\n      }\n    });\n  } // Given a mouse event, find the corresponding position. If liberal\n  // is false, it checks whether a gutter or scrollbar was clicked,\n  // and returns null if it was. forRect is used by rectangular\n  // selections, and tries to estimate a character position even for\n  // coordinates beyond the right of the text.\n\n\n  function posFromMouse(cm, e, liberal, forRect) {\n    var display = cm.display;\n\n    if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") {\n      return null;\n    }\n\n    var x,\n        y,\n        space = display.lineSpace.getBoundingClientRect(); // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n\n    try {\n      x = e.clientX - space.left;\n      y = e.clientY - space.top;\n    } catch (e$1) {\n      return null;\n    }\n\n    var coords = _coordsChar(cm, x, y),\n        line;\n\n    if (forRect && coords.xRel > 0 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));\n    }\n\n    return coords;\n  } // Find the view element corresponding to a given line. Return null\n  // when the line isn't visible.\n\n\n  function findViewIndex(cm, n) {\n    if (n >= cm.display.viewTo) {\n      return null;\n    }\n\n    n -= cm.display.viewFrom;\n\n    if (n < 0) {\n      return null;\n    }\n\n    var view = cm.display.view;\n\n    for (var i = 0; i < view.length; i++) {\n      n -= view[i].size;\n\n      if (n < 0) {\n        return i;\n      }\n    }\n  } // Updates the display.view data structure for a given change to the\n  // document. From and to are in pre-change coordinates. Lendiff is\n  // the amount of lines added or subtracted by the change. This is\n  // used for changes that span multiple lines, or change the way\n  // lines are divided into visual lines. regLineChange (below)\n  // registers single-line changes.\n\n\n  function regChange(cm, from, to, lendiff) {\n    if (from == null) {\n      from = cm.doc.first;\n    }\n\n    if (to == null) {\n      to = cm.doc.first + cm.doc.size;\n    }\n\n    if (!lendiff) {\n      lendiff = 0;\n    }\n\n    var display = cm.display;\n\n    if (lendiff && to < display.viewTo && (display.updateLineNumbers == null || display.updateLineNumbers > from)) {\n      display.updateLineNumbers = from;\n    }\n\n    cm.curOp.viewChanged = true;\n\n    if (from >= display.viewTo) {\n      // Change after\n      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo) {\n        resetView(cm);\n      }\n    } else if (to <= display.viewFrom) {\n      // Change before\n      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n        resetView(cm);\n      } else {\n        display.viewFrom += lendiff;\n        display.viewTo += lendiff;\n      }\n    } else if (from <= display.viewFrom && to >= display.viewTo) {\n      // Full overlap\n      resetView(cm);\n    } else if (from <= display.viewFrom) {\n      // Top overlap\n      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n\n      if (cut) {\n        display.view = display.view.slice(cut.index);\n        display.viewFrom = cut.lineN;\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    } else if (to >= display.viewTo) {\n      // Bottom overlap\n      var cut$1 = viewCuttingPoint(cm, from, from, -1);\n\n      if (cut$1) {\n        display.view = display.view.slice(0, cut$1.index);\n        display.viewTo = cut$1.lineN;\n      } else {\n        resetView(cm);\n      }\n    } else {\n      // Gap in the middle\n      var cutTop = viewCuttingPoint(cm, from, from, -1);\n      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n\n      if (cutTop && cutBot) {\n        display.view = display.view.slice(0, cutTop.index).concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN)).concat(display.view.slice(cutBot.index));\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    }\n\n    var ext = display.externalMeasured;\n\n    if (ext) {\n      if (to < ext.lineN) {\n        ext.lineN += lendiff;\n      } else if (from < ext.lineN + ext.size) {\n        display.externalMeasured = null;\n      }\n    }\n  } // Register a change to a single line. Type must be one of \"text\",\n  // \"gutter\", \"class\", \"widget\"\n\n\n  function regLineChange(cm, line, type) {\n    cm.curOp.viewChanged = true;\n    var display = cm.display,\n        ext = cm.display.externalMeasured;\n\n    if (ext && line >= ext.lineN && line < ext.lineN + ext.size) {\n      display.externalMeasured = null;\n    }\n\n    if (line < display.viewFrom || line >= display.viewTo) {\n      return;\n    }\n\n    var lineView = display.view[findViewIndex(cm, line)];\n\n    if (lineView.node == null) {\n      return;\n    }\n\n    var arr = lineView.changes || (lineView.changes = []);\n\n    if (indexOf(arr, type) == -1) {\n      arr.push(type);\n    }\n  } // Clear the view.\n\n\n  function resetView(cm) {\n    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n    cm.display.view = [];\n    cm.display.viewOffset = 0;\n  }\n\n  function viewCuttingPoint(cm, oldN, newN, dir) {\n    var index = findViewIndex(cm, oldN),\n        diff,\n        view = cm.display.view;\n\n    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size) {\n      return {\n        index: index,\n        lineN: newN\n      };\n    }\n\n    var n = cm.display.viewFrom;\n\n    for (var i = 0; i < index; i++) {\n      n += view[i].size;\n    }\n\n    if (n != oldN) {\n      if (dir > 0) {\n        if (index == view.length - 1) {\n          return null;\n        }\n\n        diff = n + view[index].size - oldN;\n        index++;\n      } else {\n        diff = n - oldN;\n      }\n\n      oldN += diff;\n      newN += diff;\n    }\n\n    while (visualLineNo(cm.doc, newN) != newN) {\n      if (index == (dir < 0 ? 0 : view.length - 1)) {\n        return null;\n      }\n\n      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n      index += dir;\n    }\n\n    return {\n      index: index,\n      lineN: newN\n    };\n  } // Force the view to cover a given range, adding empty view element\n  // or clipping off existing ones as needed.\n\n\n  function adjustView(cm, from, to) {\n    var display = cm.display,\n        view = display.view;\n\n    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n      display.view = buildViewArray(cm, from, to);\n      display.viewFrom = from;\n    } else {\n      if (display.viewFrom > from) {\n        display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view);\n      } else if (display.viewFrom < from) {\n        display.view = display.view.slice(findViewIndex(cm, from));\n      }\n\n      display.viewFrom = from;\n\n      if (display.viewTo < to) {\n        display.view = display.view.concat(buildViewArray(cm, display.viewTo, to));\n      } else if (display.viewTo > to) {\n        display.view = display.view.slice(0, findViewIndex(cm, to));\n      }\n    }\n\n    display.viewTo = to;\n  } // Count the number of lines in the view whose DOM representation is\n  // out of date (or nonexistent).\n\n\n  function countDirtyView(cm) {\n    var view = cm.display.view,\n        dirty = 0;\n\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n\n      if (!lineView.hidden && (!lineView.node || lineView.changes)) {\n        ++dirty;\n      }\n    }\n\n    return dirty;\n  }\n\n  function updateSelection(cm) {\n    cm.display.input.showSelection(cm.display.input.prepareSelection());\n  }\n\n  function prepareSelection(cm, primary) {\n    if (primary === void 0) primary = true;\n    var doc = cm.doc,\n        result = {};\n    var curFragment = result.cursors = document.createDocumentFragment();\n    var selFragment = result.selection = document.createDocumentFragment();\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      if (!primary && i == doc.sel.primIndex) {\n        continue;\n      }\n\n      var range = doc.sel.ranges[i];\n\n      if (range.from().line >= cm.display.viewTo || range.to().line < cm.display.viewFrom) {\n        continue;\n      }\n\n      var collapsed = range.empty();\n\n      if (collapsed || cm.options.showCursorWhenSelecting) {\n        drawSelectionCursor(cm, range.head, curFragment);\n      }\n\n      if (!collapsed) {\n        drawSelectionRange(cm, range, selFragment);\n      }\n    }\n\n    return result;\n  } // Draws a cursor for the given range\n\n\n  function drawSelectionCursor(cm, head, output) {\n    var pos = _cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n\n    var cursor = output.appendChild(elt(\"div\", \"\\xA0\", \"CodeMirror-cursor\"));\n    cursor.style.left = pos.left + \"px\";\n    cursor.style.top = pos.top + \"px\";\n    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n    if (pos.other) {\n      // Secondary cursor, shown when on a 'jump' in bi-directional text\n      var otherCursor = output.appendChild(elt(\"div\", \"\\xA0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n      otherCursor.style.display = \"\";\n      otherCursor.style.left = pos.other.left + \"px\";\n      otherCursor.style.top = pos.other.top + \"px\";\n      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n    }\n  }\n\n  function cmpCoords(a, b) {\n    return a.top - b.top || a.left - b.left;\n  } // Draws the given range as a highlighted selection\n\n\n  function drawSelectionRange(cm, range, output) {\n    var display = cm.display,\n        doc = cm.doc;\n    var fragment = document.createDocumentFragment();\n    var padding = paddingH(cm.display),\n        leftSide = padding.left;\n    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n    var docLTR = doc.direction == \"ltr\";\n\n    function add(left, top, width, bottom) {\n      if (top < 0) {\n        top = 0;\n      }\n\n      top = Math.round(top);\n      bottom = Math.round(bottom);\n      fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", \"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\"));\n    }\n\n    function drawForLine(line, fromArg, toArg) {\n      var lineObj = getLine(doc, line);\n      var lineLen = lineObj.text.length;\n      var start, end;\n\n      function coords(ch, bias) {\n        return _charCoords(cm, Pos(line, ch), \"div\", lineObj, bias);\n      }\n\n      function wrapX(pos, dir, side) {\n        var extent = wrappedLineExtentChar(cm, lineObj, null, pos);\n        var prop = dir == \"ltr\" == (side == \"after\") ? \"left\" : \"right\";\n        var ch = side == \"after\" ? extent.begin : extent.end - (/\\s/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);\n        return coords(ch, prop)[prop];\n      }\n\n      var order = getOrder(lineObj, doc.direction);\n      iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {\n        var ltr = dir == \"ltr\";\n        var fromPos = coords(from, ltr ? \"left\" : \"right\");\n        var toPos = coords(to - 1, ltr ? \"right\" : \"left\");\n        var openStart = fromArg == null && from == 0,\n            openEnd = toArg == null && to == lineLen;\n        var first = i == 0,\n            last = !order || i == order.length - 1;\n\n        if (toPos.top - fromPos.top <= 3) {\n          // Single line\n          var openLeft = (docLTR ? openStart : openEnd) && first;\n          var openRight = (docLTR ? openEnd : openStart) && last;\n          var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;\n          var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;\n          add(left, fromPos.top, right - left, fromPos.bottom);\n        } else {\n          // Multiple lines\n          var topLeft, topRight, botLeft, botRight;\n\n          if (ltr) {\n            topLeft = docLTR && openStart && first ? leftSide : fromPos.left;\n            topRight = docLTR ? rightSide : wrapX(from, dir, \"before\");\n            botLeft = docLTR ? leftSide : wrapX(to, dir, \"after\");\n            botRight = docLTR && openEnd && last ? rightSide : toPos.right;\n          } else {\n            topLeft = !docLTR ? leftSide : wrapX(from, dir, \"before\");\n            topRight = !docLTR && openStart && first ? rightSide : fromPos.right;\n            botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;\n            botRight = !docLTR ? rightSide : wrapX(to, dir, \"after\");\n          }\n\n          add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);\n\n          if (fromPos.bottom < toPos.top) {\n            add(leftSide, fromPos.bottom, null, toPos.top);\n          }\n\n          add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);\n        }\n\n        if (!start || cmpCoords(fromPos, start) < 0) {\n          start = fromPos;\n        }\n\n        if (cmpCoords(toPos, start) < 0) {\n          start = toPos;\n        }\n\n        if (!end || cmpCoords(fromPos, end) < 0) {\n          end = fromPos;\n        }\n\n        if (cmpCoords(toPos, end) < 0) {\n          end = toPos;\n        }\n      });\n      return {\n        start: start,\n        end: end\n      };\n    }\n\n    var sFrom = range.from(),\n        sTo = range.to();\n\n    if (sFrom.line == sTo.line) {\n      drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n    } else {\n      var fromLine = getLine(doc, sFrom.line),\n          toLine = getLine(doc, sTo.line);\n      var singleVLine = visualLine(fromLine) == visualLine(toLine);\n      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n\n      if (singleVLine) {\n        if (leftEnd.top < rightStart.top - 2) {\n          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n        } else {\n          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n        }\n      }\n\n      if (leftEnd.bottom < rightStart.top) {\n        add(leftSide, leftEnd.bottom, null, rightStart.top);\n      }\n    }\n\n    output.appendChild(fragment);\n  } // Cursor-blinking\n\n\n  function restartBlink(cm) {\n    if (!cm.state.focused) {\n      return;\n    }\n\n    var display = cm.display;\n    clearInterval(display.blinker);\n    var on = true;\n    display.cursorDiv.style.visibility = \"\";\n\n    if (cm.options.cursorBlinkRate > 0) {\n      display.blinker = setInterval(function () {\n        if (!cm.hasFocus()) {\n          onBlur(cm);\n        }\n\n        display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\";\n      }, cm.options.cursorBlinkRate);\n    } else if (cm.options.cursorBlinkRate < 0) {\n      display.cursorDiv.style.visibility = \"hidden\";\n    }\n  }\n\n  function ensureFocus(cm) {\n    if (!cm.hasFocus()) {\n      cm.display.input.focus();\n\n      if (!cm.state.focused) {\n        onFocus(cm);\n      }\n    }\n  }\n\n  function delayBlurEvent(cm) {\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () {\n      if (cm.state.delayingBlurEvent) {\n        cm.state.delayingBlurEvent = false;\n\n        if (cm.state.focused) {\n          onBlur(cm);\n        }\n      }\n    }, 100);\n  }\n\n  function onFocus(cm, e) {\n    if (cm.state.delayingBlurEvent && !cm.state.draggingText) {\n      cm.state.delayingBlurEvent = false;\n    }\n\n    if (cm.options.readOnly == \"nocursor\") {\n      return;\n    }\n\n    if (!cm.state.focused) {\n      signal(cm, \"focus\", cm, e);\n      cm.state.focused = true;\n      addClass(cm.display.wrapper, \"CodeMirror-focused\"); // This test prevents this from firing when a context\n      // menu is closed (since the input reset would kill the\n      // select-all detection hack)\n\n      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n        cm.display.input.reset();\n\n        if (webkit) {\n          setTimeout(function () {\n            return cm.display.input.reset(true);\n          }, 20);\n        } // Issue #1730\n\n      }\n\n      cm.display.input.receivedFocus();\n    }\n\n    restartBlink(cm);\n  }\n\n  function onBlur(cm, e) {\n    if (cm.state.delayingBlurEvent) {\n      return;\n    }\n\n    if (cm.state.focused) {\n      signal(cm, \"blur\", cm, e);\n      cm.state.focused = false;\n      rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n    }\n\n    clearInterval(cm.display.blinker);\n    setTimeout(function () {\n      if (!cm.state.focused) {\n        cm.display.shift = false;\n      }\n    }, 150);\n  } // Read the actual heights of the rendered lines, and update their\n  // stored heights to match.\n\n\n  function updateHeightsInViewport(cm) {\n    var display = cm.display;\n    var prevBottom = display.lineDiv.offsetTop;\n\n    for (var i = 0; i < display.view.length; i++) {\n      var cur = display.view[i],\n          wrapping = cm.options.lineWrapping;\n      var height = void 0,\n          width = 0;\n\n      if (cur.hidden) {\n        continue;\n      }\n\n      if (ie && ie_version < 8) {\n        var bot = cur.node.offsetTop + cur.node.offsetHeight;\n        height = bot - prevBottom;\n        prevBottom = bot;\n      } else {\n        var box = cur.node.getBoundingClientRect();\n        height = box.bottom - box.top; // Check that lines don't extend past the right of the current\n        // editor width\n\n        if (!wrapping && cur.text.firstChild) {\n          width = cur.text.firstChild.getBoundingClientRect().right - box.left - 1;\n        }\n      }\n\n      var diff = cur.line.height - height;\n\n      if (diff > .005 || diff < -.005) {\n        updateLineHeight(cur.line, height);\n        updateWidgetHeight(cur.line);\n\n        if (cur.rest) {\n          for (var j = 0; j < cur.rest.length; j++) {\n            updateWidgetHeight(cur.rest[j]);\n          }\n        }\n      }\n\n      if (width > cm.display.sizerWidth) {\n        var chWidth = Math.ceil(width / charWidth(cm.display));\n\n        if (chWidth > cm.display.maxLineLength) {\n          cm.display.maxLineLength = chWidth;\n          cm.display.maxLine = cur.line;\n          cm.display.maxLineChanged = true;\n        }\n      }\n    }\n  } // Read and store the height of line widgets associated with the\n  // given line.\n\n\n  function updateWidgetHeight(line) {\n    if (line.widgets) {\n      for (var i = 0; i < line.widgets.length; ++i) {\n        var w = line.widgets[i],\n            parent = w.node.parentNode;\n\n        if (parent) {\n          w.height = parent.offsetHeight;\n        }\n      }\n    }\n  } // Compute the lines that are visible in a given viewport (defaults\n  // the the current scroll position). viewport may contain top,\n  // height, and ensure (see op.scrollToPos) properties.\n\n\n  function visibleLines(display, doc, viewport) {\n    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n    top = Math.floor(top - paddingTop(display));\n    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n\n    var from = _lineAtHeight(doc, top),\n        to = _lineAtHeight(doc, bottom); // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n    // forces those lines into the viewport (if possible).\n\n\n    if (viewport && viewport.ensure) {\n      var ensureFrom = viewport.ensure.from.line,\n          ensureTo = viewport.ensure.to.line;\n\n      if (ensureFrom < from) {\n        from = ensureFrom;\n        to = _lineAtHeight(doc, _heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n        from = _lineAtHeight(doc, _heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n        to = ensureTo;\n      }\n    }\n\n    return {\n      from: from,\n      to: Math.max(to, from + 1)\n    };\n  } // SCROLLING THINGS INTO VIEW\n  // If an editor sits on the top or bottom of the window, partially\n  // scrolled out of view, this ensures that the cursor is visible.\n\n\n  function maybeScrollWindow(cm, rect) {\n    if (signalDOMEvent(cm, \"scrollCursorIntoView\")) {\n      return;\n    }\n\n    var display = cm.display,\n        box = display.sizer.getBoundingClientRect(),\n        doScroll = null;\n\n    if (rect.top + box.top < 0) {\n      doScroll = true;\n    } else if (rect.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) {\n      doScroll = false;\n    }\n\n    if (doScroll != null && !phantom) {\n      var scrollNode = elt(\"div\", \"\\u200B\", null, \"position: absolute;\\n                         top: \" + (rect.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + rect.left + \"px; width: \" + Math.max(2, rect.right - rect.left) + \"px;\");\n      cm.display.lineSpace.appendChild(scrollNode);\n      scrollNode.scrollIntoView(doScroll);\n      cm.display.lineSpace.removeChild(scrollNode);\n    }\n  } // Scroll a given position into view (immediately), verifying that\n  // it actually became visible (as line heights are accurately\n  // measured, the position of something may 'drift' during drawing).\n\n\n  function scrollPosIntoView(cm, pos, end, margin) {\n    if (margin == null) {\n      margin = 0;\n    }\n\n    var rect;\n\n    if (!cm.options.lineWrapping && pos == end) {\n      // Set pos and end to the cursor positions around the character pos sticks to\n      // If pos.sticky == \"before\", that is around pos.ch - 1, otherwise around pos.ch\n      // If pos == Pos(_, 0, \"before\"), pos and end are unchanged\n      end = pos.sticky == \"before\" ? Pos(pos.line, pos.ch + 1, \"before\") : pos;\n      pos = pos.ch ? Pos(pos.line, pos.sticky == \"before\" ? pos.ch - 1 : pos.ch, \"after\") : pos;\n    }\n\n    for (var limit = 0; limit < 5; limit++) {\n      var changed = false;\n\n      var coords = _cursorCoords(cm, pos);\n\n      var endCoords = !end || end == pos ? coords : _cursorCoords(cm, end);\n      rect = {\n        left: Math.min(coords.left, endCoords.left),\n        top: Math.min(coords.top, endCoords.top) - margin,\n        right: Math.max(coords.left, endCoords.left),\n        bottom: Math.max(coords.bottom, endCoords.bottom) + margin\n      };\n      var scrollPos = calculateScrollPos(cm, rect);\n      var startTop = cm.doc.scrollTop,\n          startLeft = cm.doc.scrollLeft;\n\n      if (scrollPos.scrollTop != null) {\n        updateScrollTop(cm, scrollPos.scrollTop);\n\n        if (Math.abs(cm.doc.scrollTop - startTop) > 1) {\n          changed = true;\n        }\n      }\n\n      if (scrollPos.scrollLeft != null) {\n        setScrollLeft(cm, scrollPos.scrollLeft);\n\n        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) {\n          changed = true;\n        }\n      }\n\n      if (!changed) {\n        break;\n      }\n    }\n\n    return rect;\n  } // Scroll a given set of coordinates into view (immediately).\n\n\n  function scrollIntoView(cm, rect) {\n    var scrollPos = calculateScrollPos(cm, rect);\n\n    if (scrollPos.scrollTop != null) {\n      updateScrollTop(cm, scrollPos.scrollTop);\n    }\n\n    if (scrollPos.scrollLeft != null) {\n      setScrollLeft(cm, scrollPos.scrollLeft);\n    }\n  } // Calculate a new scroll position needed to scroll the given\n  // rectangle into view. Returns an object with scrollTop and\n  // scrollLeft properties. When these are undefined, the\n  // vertical/horizontal position does not need to be adjusted.\n\n\n  function calculateScrollPos(cm, rect) {\n    var display = cm.display,\n        snapMargin = textHeight(cm.display);\n\n    if (rect.top < 0) {\n      rect.top = 0;\n    }\n\n    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n    var screen = displayHeight(cm),\n        result = {};\n\n    if (rect.bottom - rect.top > screen) {\n      rect.bottom = rect.top + screen;\n    }\n\n    var docBottom = cm.doc.height + paddingVert(display);\n    var atTop = rect.top < snapMargin,\n        atBottom = rect.bottom > docBottom - snapMargin;\n\n    if (rect.top < screentop) {\n      result.scrollTop = atTop ? 0 : rect.top;\n    } else if (rect.bottom > screentop + screen) {\n      var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen);\n\n      if (newTop != screentop) {\n        result.scrollTop = newTop;\n      }\n    }\n\n    var gutterSpace = cm.options.fixedGutter ? 0 : display.gutters.offsetWidth;\n    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft - gutterSpace;\n    var screenw = displayWidth(cm) - display.gutters.offsetWidth;\n    var tooWide = rect.right - rect.left > screenw;\n\n    if (tooWide) {\n      rect.right = rect.left + screenw;\n    }\n\n    if (rect.left < 10) {\n      result.scrollLeft = 0;\n    } else if (rect.left < screenleft) {\n      result.scrollLeft = Math.max(0, rect.left + gutterSpace - (tooWide ? 0 : 10));\n    } else if (rect.right > screenw + screenleft - 3) {\n      result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw;\n    }\n\n    return result;\n  } // Store a relative adjustment to the scroll position in the current\n  // operation (to be applied when the operation finishes).\n\n\n  function addToScrollTop(cm, top) {\n    if (top == null) {\n      return;\n    }\n\n    resolveScrollToPos(cm);\n    cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n  } // Make sure that at the end of the operation the current cursor is\n  // shown.\n\n\n  function ensureCursorVisible(cm) {\n    resolveScrollToPos(cm);\n    var cur = cm.getCursor();\n    cm.curOp.scrollToPos = {\n      from: cur,\n      to: cur,\n      margin: cm.options.cursorScrollMargin\n    };\n  }\n\n  function scrollToCoords(cm, x, y) {\n    if (x != null || y != null) {\n      resolveScrollToPos(cm);\n    }\n\n    if (x != null) {\n      cm.curOp.scrollLeft = x;\n    }\n\n    if (y != null) {\n      cm.curOp.scrollTop = y;\n    }\n  }\n\n  function scrollToRange(cm, range) {\n    resolveScrollToPos(cm);\n    cm.curOp.scrollToPos = range;\n  } // When an operation has its scrollToPos property set, and another\n  // scroll action is applied before the end of the operation, this\n  // 'simulates' scrolling that position into view in a cheap way, so\n  // that the effect of intermediate scroll commands is not ignored.\n\n\n  function resolveScrollToPos(cm) {\n    var range = cm.curOp.scrollToPos;\n\n    if (range) {\n      cm.curOp.scrollToPos = null;\n      var from = estimateCoords(cm, range.from),\n          to = estimateCoords(cm, range.to);\n      scrollToCoordsRange(cm, from, to, range.margin);\n    }\n  }\n\n  function scrollToCoordsRange(cm, from, to, margin) {\n    var sPos = calculateScrollPos(cm, {\n      left: Math.min(from.left, to.left),\n      top: Math.min(from.top, to.top) - margin,\n      right: Math.max(from.right, to.right),\n      bottom: Math.max(from.bottom, to.bottom) + margin\n    });\n    scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);\n  } // Sync the scrollable area and scrollbars, ensure the viewport\n  // covers the visible area.\n\n\n  function updateScrollTop(cm, val) {\n    if (Math.abs(cm.doc.scrollTop - val) < 2) {\n      return;\n    }\n\n    if (!gecko) {\n      updateDisplaySimple(cm, {\n        top: val\n      });\n    }\n\n    setScrollTop(cm, val, true);\n\n    if (gecko) {\n      updateDisplaySimple(cm);\n    }\n\n    startWorker(cm, 100);\n  }\n\n  function setScrollTop(cm, val, forceScroll) {\n    val = Math.max(0, Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val));\n\n    if (cm.display.scroller.scrollTop == val && !forceScroll) {\n      return;\n    }\n\n    cm.doc.scrollTop = val;\n    cm.display.scrollbars.setScrollTop(val);\n\n    if (cm.display.scroller.scrollTop != val) {\n      cm.display.scroller.scrollTop = val;\n    }\n  } // Sync scroller and scrollbar, ensure the gutter elements are\n  // aligned.\n\n\n  function setScrollLeft(cm, val, isScroller, forceScroll) {\n    val = Math.max(0, Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth));\n\n    if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) {\n      return;\n    }\n\n    cm.doc.scrollLeft = val;\n    alignHorizontally(cm);\n\n    if (cm.display.scroller.scrollLeft != val) {\n      cm.display.scroller.scrollLeft = val;\n    }\n\n    cm.display.scrollbars.setScrollLeft(val);\n  } // SCROLLBARS\n  // Prepare DOM reads needed to update the scrollbars. Done in one\n  // shot to minimize update/measure roundtrips.\n\n\n  function measureForScrollbars(cm) {\n    var d = cm.display,\n        gutterW = d.gutters.offsetWidth;\n    var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n    return {\n      clientHeight: d.scroller.clientHeight,\n      viewHeight: d.wrapper.clientHeight,\n      scrollWidth: d.scroller.scrollWidth,\n      clientWidth: d.scroller.clientWidth,\n      viewWidth: d.wrapper.clientWidth,\n      barLeft: cm.options.fixedGutter ? gutterW : 0,\n      docHeight: docH,\n      scrollHeight: docH + scrollGap(cm) + d.barHeight,\n      nativeBarWidth: d.nativeBarWidth,\n      gutterWidth: gutterW\n    };\n  }\n\n  var NativeScrollbars = function NativeScrollbars(place, scroll, cm) {\n    this.cm = cm;\n    var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n    var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n    vert.tabIndex = horiz.tabIndex = -1;\n    place(vert);\n    place(horiz);\n    on(vert, \"scroll\", function () {\n      if (vert.clientHeight) {\n        scroll(vert.scrollTop, \"vertical\");\n      }\n    });\n    on(horiz, \"scroll\", function () {\n      if (horiz.clientWidth) {\n        scroll(horiz.scrollLeft, \"horizontal\");\n      }\n    });\n    this.checkedZeroWidth = false; // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n\n    if (ie && ie_version < 8) {\n      this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\";\n    }\n  };\n\n  NativeScrollbars.prototype.update = function (measure) {\n    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n    var sWidth = measure.nativeBarWidth;\n\n    if (needsV) {\n      this.vert.style.display = \"block\";\n      this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n      var totalHeight = measure.viewHeight - (needsH ? sWidth : 0); // A bug in IE8 can cause this value to be negative, so guard it.\n\n      this.vert.firstChild.style.height = Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n    } else {\n      this.vert.style.display = \"\";\n      this.vert.firstChild.style.height = \"0\";\n    }\n\n    if (needsH) {\n      this.horiz.style.display = \"block\";\n      this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n      this.horiz.style.left = measure.barLeft + \"px\";\n      var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n      this.horiz.firstChild.style.width = Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n    } else {\n      this.horiz.style.display = \"\";\n      this.horiz.firstChild.style.width = \"0\";\n    }\n\n    if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n      if (sWidth == 0) {\n        this.zeroWidthHack();\n      }\n\n      this.checkedZeroWidth = true;\n    }\n\n    return {\n      right: needsV ? sWidth : 0,\n      bottom: needsH ? sWidth : 0\n    };\n  };\n\n  NativeScrollbars.prototype.setScrollLeft = function (pos) {\n    if (this.horiz.scrollLeft != pos) {\n      this.horiz.scrollLeft = pos;\n    }\n\n    if (this.disableHoriz) {\n      this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\");\n    }\n  };\n\n  NativeScrollbars.prototype.setScrollTop = function (pos) {\n    if (this.vert.scrollTop != pos) {\n      this.vert.scrollTop = pos;\n    }\n\n    if (this.disableVert) {\n      this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\");\n    }\n  };\n\n  NativeScrollbars.prototype.zeroWidthHack = function () {\n    var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n    this.horiz.style.height = this.vert.style.width = w;\n    this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\";\n    this.disableHoriz = new Delayed();\n    this.disableVert = new Delayed();\n  };\n\n  NativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {\n    bar.style.pointerEvents = \"auto\";\n\n    function maybeDisable() {\n      // To find out whether the scrollbar is still visible, we\n      // check whether the element under the pixel in the bottom\n      // right corner of the scrollbar box is the scrollbar box\n      // itself (when the bar is still visible) or its filler child\n      // (when the bar is hidden). If it is still visible, we keep\n      // it enabled, if it's hidden, we disable pointer events.\n      var box = bar.getBoundingClientRect();\n      var elt = type == \"vert\" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) / 2) : document.elementFromPoint((box.right + box.left) / 2, box.bottom - 1);\n\n      if (elt != bar) {\n        bar.style.pointerEvents = \"none\";\n      } else {\n        delay.set(1000, maybeDisable);\n      }\n    }\n\n    delay.set(1000, maybeDisable);\n  };\n\n  NativeScrollbars.prototype.clear = function () {\n    var parent = this.horiz.parentNode;\n    parent.removeChild(this.horiz);\n    parent.removeChild(this.vert);\n  };\n\n  var NullScrollbars = function NullScrollbars() {};\n\n  NullScrollbars.prototype.update = function () {\n    return {\n      bottom: 0,\n      right: 0\n    };\n  };\n\n  NullScrollbars.prototype.setScrollLeft = function () {};\n\n  NullScrollbars.prototype.setScrollTop = function () {};\n\n  NullScrollbars.prototype.clear = function () {};\n\n  function updateScrollbars(cm, measure) {\n    if (!measure) {\n      measure = measureForScrollbars(cm);\n    }\n\n    var startWidth = cm.display.barWidth,\n        startHeight = cm.display.barHeight;\n    updateScrollbarsInner(cm, measure);\n\n    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n      if (startWidth != cm.display.barWidth && cm.options.lineWrapping) {\n        updateHeightsInViewport(cm);\n      }\n\n      updateScrollbarsInner(cm, measureForScrollbars(cm));\n      startWidth = cm.display.barWidth;\n      startHeight = cm.display.barHeight;\n    }\n  } // Re-synchronize the fake scrollbars with the actual size of the\n  // content.\n\n\n  function updateScrollbarsInner(cm, measure) {\n    var d = cm.display;\n    var sizes = d.scrollbars.update(measure);\n    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n    d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\";\n\n    if (sizes.right && sizes.bottom) {\n      d.scrollbarFiller.style.display = \"block\";\n      d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n      d.scrollbarFiller.style.width = sizes.right + \"px\";\n    } else {\n      d.scrollbarFiller.style.display = \"\";\n    }\n\n    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n      d.gutterFiller.style.display = \"block\";\n      d.gutterFiller.style.height = sizes.bottom + \"px\";\n      d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n    } else {\n      d.gutterFiller.style.display = \"\";\n    }\n  }\n\n  var scrollbarModel = {\n    \"native\": NativeScrollbars,\n    \"null\": NullScrollbars\n  };\n\n  function initScrollbars(cm) {\n    if (cm.display.scrollbars) {\n      cm.display.scrollbars.clear();\n\n      if (cm.display.scrollbars.addClass) {\n        rmClass(cm.display.wrapper, cm.display.scrollbars.addClass);\n      }\n    }\n\n    cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller); // Prevent clicks in the scrollbars from killing focus\n\n      on(node, \"mousedown\", function () {\n        if (cm.state.focused) {\n          setTimeout(function () {\n            return cm.display.input.focus();\n          }, 0);\n        }\n      });\n      node.setAttribute(\"cm-not-content\", \"true\");\n    }, function (pos, axis) {\n      if (axis == \"horizontal\") {\n        setScrollLeft(cm, pos);\n      } else {\n        updateScrollTop(cm, pos);\n      }\n    }, cm);\n\n    if (cm.display.scrollbars.addClass) {\n      addClass(cm.display.wrapper, cm.display.scrollbars.addClass);\n    }\n  } // Operations are used to wrap a series of changes to the editor\n  // state in such a way that each change won't have to update the\n  // cursor and display (which would be awkward, slow, and\n  // error-prone). Instead, display updates are batched and then all\n  // combined and executed at once.\n\n\n  var nextOpId = 0; // Start a new operation.\n\n  function _startOperation(cm) {\n    cm.curOp = {\n      cm: cm,\n      viewChanged: false,\n      // Flag that indicates that lines might need to be redrawn\n      startHeight: cm.doc.height,\n      // Used to detect need to update scrollbar\n      forceUpdate: false,\n      // Used to force a redraw\n      updateInput: 0,\n      // Whether to reset the input textarea\n      typing: false,\n      // Whether this reset should be careful to leave existing text (for compositing)\n      changeObjs: null,\n      // Accumulated changes, for firing change events\n      cursorActivityHandlers: null,\n      // Set of handlers to fire cursorActivity on\n      cursorActivityCalled: 0,\n      // Tracks which cursorActivity handlers have been called already\n      selectionChanged: false,\n      // Whether the selection needs to be redrawn\n      updateMaxLine: false,\n      // Set when the widest line needs to be determined anew\n      scrollLeft: null,\n      scrollTop: null,\n      // Intermediate scroll position, not pushed to DOM yet\n      scrollToPos: null,\n      // Used to scroll to a specific position\n      focus: false,\n      id: ++nextOpId,\n      // Unique ID\n      markArrays: null // Used by addMarkedSpan\n\n    };\n    pushOperation(cm.curOp);\n  } // Finish an operation, updating the display and signalling delayed events\n\n\n  function _endOperation(cm) {\n    var op = cm.curOp;\n\n    if (op) {\n      finishOperation(op, function (group) {\n        for (var i = 0; i < group.ops.length; i++) {\n          group.ops[i].cm.curOp = null;\n        }\n\n        endOperations(group);\n      });\n    }\n  } // The DOM updates done when an operation finishes are batched so\n  // that the minimum number of relayouts are required.\n\n\n  function endOperations(group) {\n    var ops = group.ops;\n\n    for (var i = 0; i < ops.length; i++) // Read DOM\n    {\n      endOperation_R1(ops[i]);\n    }\n\n    for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\n    {\n      endOperation_W1(ops[i$1]);\n    }\n\n    for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\n    {\n      endOperation_R2(ops[i$2]);\n    }\n\n    for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\n    {\n      endOperation_W2(ops[i$3]);\n    }\n\n    for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\n    {\n      endOperation_finish(ops[i$4]);\n    }\n  }\n\n  function endOperation_R1(op) {\n    var cm = op.cm,\n        display = cm.display;\n    maybeClipScrollbars(cm);\n\n    if (op.updateMaxLine) {\n      findMaxLine(cm);\n    }\n\n    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null || op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom || op.scrollToPos.to.line >= display.viewTo) || display.maxLineChanged && cm.options.lineWrapping;\n    op.update = op.mustUpdate && new DisplayUpdate(cm, op.mustUpdate && {\n      top: op.scrollTop,\n      ensure: op.scrollToPos\n    }, op.forceUpdate);\n  }\n\n  function endOperation_W1(op) {\n    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n  }\n\n  function endOperation_R2(op) {\n    var cm = op.cm,\n        display = cm.display;\n\n    if (op.updatedDisplay) {\n      updateHeightsInViewport(cm);\n    }\n\n    op.barMeasure = measureForScrollbars(cm); // If the max line changed since it was last measured, measure it,\n    // and ensure the document's width matches it.\n    // updateDisplay_W2 will use these properties to do the actual resizing\n\n    if (display.maxLineChanged && !cm.options.lineWrapping) {\n      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n      cm.display.sizerWidth = op.adjustWidthTo;\n      op.barMeasure.scrollWidth = Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n    }\n\n    if (op.updatedDisplay || op.selectionChanged) {\n      op.preparedSelection = display.input.prepareSelection();\n    }\n  }\n\n  function endOperation_W2(op) {\n    var cm = op.cm;\n\n    if (op.adjustWidthTo != null) {\n      cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n\n      if (op.maxScrollLeft < cm.doc.scrollLeft) {\n        setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true);\n      }\n\n      cm.display.maxLineChanged = false;\n    }\n\n    var takeFocus = op.focus && op.focus == activeElt();\n\n    if (op.preparedSelection) {\n      cm.display.input.showSelection(op.preparedSelection, takeFocus);\n    }\n\n    if (op.updatedDisplay || op.startHeight != cm.doc.height) {\n      updateScrollbars(cm, op.barMeasure);\n    }\n\n    if (op.updatedDisplay) {\n      setDocumentHeight(cm, op.barMeasure);\n    }\n\n    if (op.selectionChanged) {\n      restartBlink(cm);\n    }\n\n    if (cm.state.focused && op.updateInput) {\n      cm.display.input.reset(op.typing);\n    }\n\n    if (takeFocus) {\n      ensureFocus(op.cm);\n    }\n  }\n\n  function endOperation_finish(op) {\n    var cm = op.cm,\n        display = cm.display,\n        doc = cm.doc;\n\n    if (op.updatedDisplay) {\n      postUpdateDisplay(cm, op.update);\n    } // Abort mouse wheel delta measurement, when scrolling explicitly\n\n\n    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos)) {\n      display.wheelStartX = display.wheelStartY = null;\n    } // Propagate the scroll position to the actual DOM scroller\n\n\n    if (op.scrollTop != null) {\n      setScrollTop(cm, op.scrollTop, op.forceScroll);\n    }\n\n    if (op.scrollLeft != null) {\n      setScrollLeft(cm, op.scrollLeft, true, true);\n    } // If we need to scroll a specific position into view, do so.\n\n\n    if (op.scrollToPos) {\n      var rect = scrollPosIntoView(cm, _clipPos(doc, op.scrollToPos.from), _clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n      maybeScrollWindow(cm, rect);\n    } // Fire events for markers that are hidden/unidden by editing or\n    // undoing\n\n\n    var hidden = op.maybeHiddenMarkers,\n        unhidden = op.maybeUnhiddenMarkers;\n\n    if (hidden) {\n      for (var i = 0; i < hidden.length; ++i) {\n        if (!hidden[i].lines.length) {\n          signal(hidden[i], \"hide\");\n        }\n      }\n    }\n\n    if (unhidden) {\n      for (var i$1 = 0; i$1 < unhidden.length; ++i$1) {\n        if (unhidden[i$1].lines.length) {\n          signal(unhidden[i$1], \"unhide\");\n        }\n      }\n    }\n\n    if (display.wrapper.offsetHeight) {\n      doc.scrollTop = cm.display.scroller.scrollTop;\n    } // Fire change events, and delayed event handlers\n\n\n    if (op.changeObjs) {\n      signal(cm, \"changes\", cm, op.changeObjs);\n    }\n\n    if (op.update) {\n      op.update.finish();\n    }\n  } // Run the given function in an operation\n\n\n  function runInOp(cm, f) {\n    if (cm.curOp) {\n      return f();\n    }\n\n    _startOperation(cm);\n\n    try {\n      return f();\n    } finally {\n      _endOperation(cm);\n    }\n  } // Wraps a function in an operation. Returns the wrapped function.\n\n\n  function operation(cm, f) {\n    return function () {\n      if (cm.curOp) {\n        return f.apply(cm, arguments);\n      }\n\n      _startOperation(cm);\n\n      try {\n        return f.apply(cm, arguments);\n      } finally {\n        _endOperation(cm);\n      }\n    };\n  } // Used to add methods to editor and doc instances, wrapping them in\n  // operations.\n\n\n  function methodOp(f) {\n    return function () {\n      if (this.curOp) {\n        return f.apply(this, arguments);\n      }\n\n      _startOperation(this);\n\n      try {\n        return f.apply(this, arguments);\n      } finally {\n        _endOperation(this);\n      }\n    };\n  }\n\n  function docMethodOp(f) {\n    return function () {\n      var cm = this.cm;\n\n      if (!cm || cm.curOp) {\n        return f.apply(this, arguments);\n      }\n\n      _startOperation(cm);\n\n      try {\n        return f.apply(this, arguments);\n      } finally {\n        _endOperation(cm);\n      }\n    };\n  } // HIGHLIGHT WORKER\n\n\n  function startWorker(cm, time) {\n    if (cm.doc.highlightFrontier < cm.display.viewTo) {\n      cm.state.highlight.set(time, bind(highlightWorker, cm));\n    }\n  }\n\n  function highlightWorker(cm) {\n    var doc = cm.doc;\n\n    if (doc.highlightFrontier >= cm.display.viewTo) {\n      return;\n    }\n\n    var end = +new Date() + cm.options.workTime;\n    var context = getContextBefore(cm, doc.highlightFrontier);\n    var changedLines = [];\n    doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n      if (context.line >= cm.display.viewFrom) {\n        // Visible\n        var oldStyles = line.styles;\n        var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null;\n        var highlighted = highlightLine(cm, line, context, true);\n\n        if (resetState) {\n          context.state = resetState;\n        }\n\n        line.styles = highlighted.styles;\n        var oldCls = line.styleClasses,\n            newCls = highlighted.classes;\n\n        if (newCls) {\n          line.styleClasses = newCls;\n        } else if (oldCls) {\n          line.styleClasses = null;\n        }\n\n        var ischange = !oldStyles || oldStyles.length != line.styles.length || oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n\n        for (var i = 0; !ischange && i < oldStyles.length; ++i) {\n          ischange = oldStyles[i] != line.styles[i];\n        }\n\n        if (ischange) {\n          changedLines.push(context.line);\n        }\n\n        line.stateAfter = context.save();\n        context.nextLine();\n      } else {\n        if (line.text.length <= cm.options.maxHighlightLength) {\n          processLine(cm, line.text, context);\n        }\n\n        line.stateAfter = context.line % 5 == 0 ? context.save() : null;\n        context.nextLine();\n      }\n\n      if (+new Date() > end) {\n        startWorker(cm, cm.options.workDelay);\n        return true;\n      }\n    });\n    doc.highlightFrontier = context.line;\n    doc.modeFrontier = Math.max(doc.modeFrontier, context.line);\n\n    if (changedLines.length) {\n      runInOp(cm, function () {\n        for (var i = 0; i < changedLines.length; i++) {\n          regLineChange(cm, changedLines[i], \"text\");\n        }\n      });\n    }\n  } // DISPLAY DRAWING\n\n\n  var DisplayUpdate = function DisplayUpdate(cm, viewport, force) {\n    var display = cm.display;\n    this.viewport = viewport; // Store some values that we'll need later (but don't want to force a relayout for)\n\n    this.visible = visibleLines(display, cm.doc, viewport);\n    this.editorIsHidden = !display.wrapper.offsetWidth;\n    this.wrapperHeight = display.wrapper.clientHeight;\n    this.wrapperWidth = display.wrapper.clientWidth;\n    this.oldDisplayWidth = displayWidth(cm);\n    this.force = force;\n    this.dims = getDimensions(cm);\n    this.events = [];\n  };\n\n  DisplayUpdate.prototype.signal = function (emitter, type) {\n    if (hasHandler(emitter, type)) {\n      this.events.push(arguments);\n    }\n  };\n\n  DisplayUpdate.prototype.finish = function () {\n    for (var i = 0; i < this.events.length; i++) {\n      signal.apply(null, this.events[i]);\n    }\n  };\n\n  function maybeClipScrollbars(cm) {\n    var display = cm.display;\n\n    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n      display.heightForcer.style.height = scrollGap(cm) + \"px\";\n      display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n      display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n      display.scrollbarsClipped = true;\n    }\n  }\n\n  function selectionSnapshot(cm) {\n    if (cm.hasFocus()) {\n      return null;\n    }\n\n    var active = activeElt();\n\n    if (!active || !contains(cm.display.lineDiv, active)) {\n      return null;\n    }\n\n    var result = {\n      activeElt: active\n    };\n\n    if (window.getSelection) {\n      var sel = window.getSelection();\n\n      if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {\n        result.anchorNode = sel.anchorNode;\n        result.anchorOffset = sel.anchorOffset;\n        result.focusNode = sel.focusNode;\n        result.focusOffset = sel.focusOffset;\n      }\n    }\n\n    return result;\n  }\n\n  function restoreSelection(snapshot) {\n    if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt()) {\n      return;\n    }\n\n    snapshot.activeElt.focus();\n\n    if (!/^(INPUT|TEXTAREA)$/.test(snapshot.activeElt.nodeName) && snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {\n      var sel = window.getSelection(),\n          range = document.createRange();\n      range.setEnd(snapshot.anchorNode, snapshot.anchorOffset);\n      range.collapse(false);\n      sel.removeAllRanges();\n      sel.addRange(range);\n      sel.extend(snapshot.focusNode, snapshot.focusOffset);\n    }\n  } // Does the actual updating of the line display. Bails out\n  // (returning false) when there is nothing to be done and forced is\n  // false.\n\n\n  function updateDisplayIfNeeded(cm, update) {\n    var display = cm.display,\n        doc = cm.doc;\n\n    if (update.editorIsHidden) {\n      resetView(cm);\n      return false;\n    } // Bail out if the visible area is already rendered and nothing changed.\n\n\n    if (!update.force && update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo && (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) && display.renderedView == display.view && countDirtyView(cm) == 0) {\n      return false;\n    }\n\n    if (maybeUpdateLineNumberWidth(cm)) {\n      resetView(cm);\n      update.dims = getDimensions(cm);\n    } // Compute a suitable new viewport (from & to)\n\n\n    var end = doc.first + doc.size;\n    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n\n    if (display.viewFrom < from && from - display.viewFrom < 20) {\n      from = Math.max(doc.first, display.viewFrom);\n    }\n\n    if (display.viewTo > to && display.viewTo - to < 20) {\n      to = Math.min(end, display.viewTo);\n    }\n\n    if (sawCollapsedSpans) {\n      from = visualLineNo(cm.doc, from);\n      to = visualLineEndNo(cm.doc, to);\n    }\n\n    var different = from != display.viewFrom || to != display.viewTo || display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n    adjustView(cm, from, to);\n    display.viewOffset = _heightAtLine(getLine(cm.doc, display.viewFrom)); // Position the mover div to align with the current scroll position\n\n    cm.display.mover.style.top = display.viewOffset + \"px\";\n    var toUpdate = countDirtyView(cm);\n\n    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view && (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo)) {\n      return false;\n    } // For big changes, we hide the enclosing element during the\n    // update, since that speeds up the operations on most browsers.\n\n\n    var selSnapshot = selectionSnapshot(cm);\n\n    if (toUpdate > 4) {\n      display.lineDiv.style.display = \"none\";\n    }\n\n    patchDisplay(cm, display.updateLineNumbers, update.dims);\n\n    if (toUpdate > 4) {\n      display.lineDiv.style.display = \"\";\n    }\n\n    display.renderedView = display.view; // There might have been a widget with a focused element that got\n    // hidden or updated, if so re-focus it.\n\n    restoreSelection(selSnapshot); // Prevent selection and cursors from interfering with the scroll\n    // width and height.\n\n    removeChildren(display.cursorDiv);\n    removeChildren(display.selectionDiv);\n    display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n    if (different) {\n      display.lastWrapHeight = update.wrapperHeight;\n      display.lastWrapWidth = update.wrapperWidth;\n      startWorker(cm, 400);\n    }\n\n    display.updateLineNumbers = null;\n    return true;\n  }\n\n  function postUpdateDisplay(cm, update) {\n    var viewport = update.viewport;\n\n    for (var first = true;; first = false) {\n      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n        // Clip forced viewport to actual scrollable area.\n        if (viewport && viewport.top != null) {\n          viewport = {\n            top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)\n          };\n        } // Updated line heights might result in the drawn area not\n        // actually covering the viewport. Keep looping until it does.\n\n\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n\n        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo) {\n          break;\n        }\n      } else if (first) {\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n      }\n\n      if (!updateDisplayIfNeeded(cm, update)) {\n        break;\n      }\n\n      updateHeightsInViewport(cm);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.force = false;\n    }\n\n    update.signal(cm, \"update\", cm);\n\n    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n      update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n      cm.display.reportedViewFrom = cm.display.viewFrom;\n      cm.display.reportedViewTo = cm.display.viewTo;\n    }\n  }\n\n  function updateDisplaySimple(cm, viewport) {\n    var update = new DisplayUpdate(cm, viewport);\n\n    if (updateDisplayIfNeeded(cm, update)) {\n      updateHeightsInViewport(cm);\n      postUpdateDisplay(cm, update);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.finish();\n    }\n  } // Sync the actual display DOM structure with display.view, removing\n  // nodes for lines that are no longer in view, and creating the ones\n  // that are not there yet, and updating the ones that are out of\n  // date.\n\n\n  function patchDisplay(cm, updateNumbersFrom, dims) {\n    var display = cm.display,\n        lineNumbers = cm.options.lineNumbers;\n    var container = display.lineDiv,\n        cur = container.firstChild;\n\n    function rm(node) {\n      var next = node.nextSibling; // Works around a throw-scroll bug in OS X Webkit\n\n      if (webkit && mac && cm.display.currentWheelTarget == node) {\n        node.style.display = \"none\";\n      } else {\n        node.parentNode.removeChild(node);\n      }\n\n      return next;\n    }\n\n    var view = display.view,\n        lineN = display.viewFrom; // Loop over the elements in the view, syncing cur (the DOM nodes\n    // in display.lineDiv) with the view as we go.\n\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (lineView.hidden) ;else if (!lineView.node || lineView.node.parentNode != container) {\n        // Not drawn yet\n        var node = buildLineElement(cm, lineView, lineN, dims);\n        container.insertBefore(node, cur);\n      } else {\n        // Already drawn\n        while (cur != lineView.node) {\n          cur = rm(cur);\n        }\n\n        var updateNumber = lineNumbers && updateNumbersFrom != null && updateNumbersFrom <= lineN && lineView.lineNumber;\n\n        if (lineView.changes) {\n          if (indexOf(lineView.changes, \"gutter\") > -1) {\n            updateNumber = false;\n          }\n\n          updateLineForChanges(cm, lineView, lineN, dims);\n        }\n\n        if (updateNumber) {\n          removeChildren(lineView.lineNumber);\n          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n        }\n\n        cur = lineView.node.nextSibling;\n      }\n      lineN += lineView.size;\n    }\n\n    while (cur) {\n      cur = rm(cur);\n    }\n  }\n\n  function updateGutterSpace(display) {\n    var width = display.gutters.offsetWidth;\n    display.sizer.style.marginLeft = width + \"px\"; // Send an event to consumers responding to changes in gutter width.\n\n    signalLater(display, \"gutterChanged\", display);\n  }\n\n  function setDocumentHeight(cm, measure) {\n    cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n    cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n    cm.display.gutters.style.height = measure.docHeight + cm.display.barHeight + scrollGap(cm) + \"px\";\n  } // Re-align line numbers and gutter marks to compensate for\n  // horizontal scrolling.\n\n\n  function alignHorizontally(cm) {\n    var display = cm.display,\n        view = display.view;\n\n    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) {\n      return;\n    }\n\n    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n    var gutterW = display.gutters.offsetWidth,\n        left = comp + \"px\";\n\n    for (var i = 0; i < view.length; i++) {\n      if (!view[i].hidden) {\n        if (cm.options.fixedGutter) {\n          if (view[i].gutter) {\n            view[i].gutter.style.left = left;\n          }\n\n          if (view[i].gutterBackground) {\n            view[i].gutterBackground.style.left = left;\n          }\n        }\n\n        var align = view[i].alignable;\n\n        if (align) {\n          for (var j = 0; j < align.length; j++) {\n            align[j].style.left = left;\n          }\n        }\n      }\n    }\n\n    if (cm.options.fixedGutter) {\n      display.gutters.style.left = comp + gutterW + \"px\";\n    }\n  } // Used to ensure that the line number gutter is still the right\n  // size for the current document size. Returns true when an update\n  // is needed.\n\n\n  function maybeUpdateLineNumberWidth(cm) {\n    if (!cm.options.lineNumbers) {\n      return false;\n    }\n\n    var doc = cm.doc,\n        last = lineNumberFor(cm.options, doc.first + doc.size - 1),\n        display = cm.display;\n\n    if (last.length != display.lineNumChars) {\n      var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)], \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n      var innerW = test.firstChild.offsetWidth,\n          padding = test.offsetWidth - innerW;\n      display.lineGutter.style.width = \"\";\n      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n      display.lineNumWidth = display.lineNumInnerWidth + padding;\n      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n      display.lineGutter.style.width = display.lineNumWidth + \"px\";\n      updateGutterSpace(cm.display);\n      return true;\n    }\n\n    return false;\n  }\n\n  function getGutters(gutters, lineNumbers) {\n    var result = [],\n        sawLineNumbers = false;\n\n    for (var i = 0; i < gutters.length; i++) {\n      var name = gutters[i],\n          style = null;\n\n      if (typeof name != \"string\") {\n        style = name.style;\n        name = name.className;\n      }\n\n      if (name == \"CodeMirror-linenumbers\") {\n        if (!lineNumbers) {\n          continue;\n        } else {\n          sawLineNumbers = true;\n        }\n      }\n\n      result.push({\n        className: name,\n        style: style\n      });\n    }\n\n    if (lineNumbers && !sawLineNumbers) {\n      result.push({\n        className: \"CodeMirror-linenumbers\",\n        style: null\n      });\n    }\n\n    return result;\n  } // Rebuild the gutter elements, ensure the margin to the left of the\n  // code matches their width.\n\n\n  function renderGutters(display) {\n    var gutters = display.gutters,\n        specs = display.gutterSpecs;\n    removeChildren(gutters);\n    display.lineGutter = null;\n\n    for (var i = 0; i < specs.length; ++i) {\n      var ref = specs[i];\n      var className = ref.className;\n      var style = ref.style;\n      var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + className));\n\n      if (style) {\n        gElt.style.cssText = style;\n      }\n\n      if (className == \"CodeMirror-linenumbers\") {\n        display.lineGutter = gElt;\n        gElt.style.width = (display.lineNumWidth || 1) + \"px\";\n      }\n    }\n\n    gutters.style.display = specs.length ? \"\" : \"none\";\n    updateGutterSpace(display);\n  }\n\n  function updateGutters(cm) {\n    renderGutters(cm.display);\n    regChange(cm);\n    alignHorizontally(cm);\n  } // The display handles the DOM integration, both for input reading\n  // and content drawing. It holds references to DOM nodes and\n  // display-related state.\n\n\n  function Display(place, doc, input, options) {\n    var d = this;\n    this.input = input; // Covers bottom-right square when both scrollbars are present.\n\n    d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n    d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\"); // Covers bottom of gutter when coverGutterNextToScrollbar is on\n    // and h scrollbar is present.\n\n    d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n    d.gutterFiller.setAttribute(\"cm-not-content\", \"true\"); // Will contain the actual code, positioned to cover the viewport.\n\n    d.lineDiv = eltP(\"div\", null, \"CodeMirror-code\"); // Elements are added to these to represent selection and cursors.\n\n    d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n    d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\"); // A visibility: hidden element used to find the size of things.\n\n    d.measure = elt(\"div\", null, \"CodeMirror-measure\"); // When lines outside of the viewport are measured, they are drawn in this.\n\n    d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\"); // Wraps everything that needs to exist inside the vertically-padded coordinate system\n\n    d.lineSpace = eltP(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv], null, \"position: relative; outline: none\");\n    var lines = eltP(\"div\", [d.lineSpace], \"CodeMirror-lines\"); // Moved around its parent to cover visible view.\n\n    d.mover = elt(\"div\", [lines], null, \"position: relative\"); // Set to the height of the document, allowing scrolling.\n\n    d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n    d.sizerWidth = null; // Behavior of elts with overflow: auto and padding is\n    // inconsistent across browsers. This is used to ensure the\n    // scrollable area is big enough.\n\n    d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\"); // Will contain the gutters, if any.\n\n    d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n    d.lineGutter = null; // Actual scrollable element.\n\n    d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n    d.scroller.setAttribute(\"tabIndex\", \"-1\"); // The element in which the editor lives.\n\n    d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\"); // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n\n    if (ie && ie_version < 8) {\n      d.gutters.style.zIndex = -1;\n      d.scroller.style.paddingRight = 0;\n    }\n\n    if (!webkit && !(gecko && mobile)) {\n      d.scroller.draggable = true;\n    }\n\n    if (place) {\n      if (place.appendChild) {\n        place.appendChild(d.wrapper);\n      } else {\n        place(d.wrapper);\n      }\n    } // Current rendered range (may be bigger than the view window).\n\n\n    d.viewFrom = d.viewTo = doc.first;\n    d.reportedViewFrom = d.reportedViewTo = doc.first; // Information about the rendered lines.\n\n    d.view = [];\n    d.renderedView = null; // Holds info about a single rendered line when it was rendered\n    // for measurement, while not in view.\n\n    d.externalMeasured = null; // Empty space (in pixels) above the view\n\n    d.viewOffset = 0;\n    d.lastWrapHeight = d.lastWrapWidth = 0;\n    d.updateLineNumbers = null;\n    d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n    d.scrollbarsClipped = false; // Used to only resize the line number gutter when necessary (when\n    // the amount of lines crosses a boundary that makes its width change)\n\n    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null; // Set to true when a non-horizontal-scrolling line widget is\n    // added. As an optimization, line widget aligning is skipped when\n    // this is false.\n\n    d.alignWidgets = false;\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null; // Tracks the maximum line length so that the horizontal scrollbar\n    // can be kept static when scrolling.\n\n    d.maxLine = null;\n    d.maxLineLength = 0;\n    d.maxLineChanged = false; // Used for measuring wheel scrolling granularity\n\n    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null; // True when shift is held down.\n\n    d.shift = false; // Used to track whether anything happened since the context menu\n    // was opened.\n\n    d.selForContextMenu = null;\n    d.activeTouch = null;\n    d.gutterSpecs = getGutters(options.gutters, options.lineNumbers);\n    renderGutters(d);\n    input.init(d);\n  } // Since the delta values reported on mouse wheel events are\n  // unstandardized between browsers and even browser versions, and\n  // generally horribly unpredictable, this code starts by measuring\n  // the scroll effect that the first few mouse wheel events have,\n  // and, from that, detects the way it can convert deltas to pixel\n  // offsets afterwards.\n  //\n  // The reason we want to know the amount a wheel event will scroll\n  // is that it gives us a chance to update the display before the\n  // actual scrolling happens, reducing flickering.\n\n\n  var wheelSamples = 0,\n      wheelPixelsPerUnit = null; // Fill in a browser-detected starting value on browsers where we\n  // know one. These don't have to be accurate -- the result of them\n  // being wrong would just be a slight flicker on the first wheel\n  // scroll (if it is large enough).\n\n  if (ie) {\n    wheelPixelsPerUnit = -.53;\n  } else if (gecko) {\n    wheelPixelsPerUnit = 15;\n  } else if (chrome) {\n    wheelPixelsPerUnit = -.7;\n  } else if (safari) {\n    wheelPixelsPerUnit = -1 / 3;\n  }\n\n  function wheelEventDelta(e) {\n    var dx = e.wheelDeltaX,\n        dy = e.wheelDeltaY;\n\n    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) {\n      dx = e.detail;\n    }\n\n    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) {\n      dy = e.detail;\n    } else if (dy == null) {\n      dy = e.wheelDelta;\n    }\n\n    return {\n      x: dx,\n      y: dy\n    };\n  }\n\n  function wheelEventPixels(e) {\n    var delta = wheelEventDelta(e);\n    delta.x *= wheelPixelsPerUnit;\n    delta.y *= wheelPixelsPerUnit;\n    return delta;\n  }\n\n  function onScrollWheel(cm, e) {\n    var delta = wheelEventDelta(e),\n        dx = delta.x,\n        dy = delta.y;\n    var display = cm.display,\n        scroll = display.scroller; // Quit if there's nothing to scroll here\n\n    var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n    var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n\n    if (!(dx && canScrollX || dy && canScrollY)) {\n      return;\n    } // Webkit browsers on OS X abort momentum scrolls when the target\n    // of the scroll event is removed from the scrollable element.\n    // This hack (see related code in patchDisplay) makes sure the\n    // element is kept around.\n\n\n    if (dy && mac && webkit) {\n      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n        for (var i = 0; i < view.length; i++) {\n          if (view[i].node == cur) {\n            cm.display.currentWheelTarget = cur;\n            break outer;\n          }\n        }\n      }\n    } // On some browsers, horizontal scrolling will cause redraws to\n    // happen before the gutter has been realigned, causing it to\n    // wriggle around in a most unseemly way. When we have an\n    // estimated pixels/delta value, we just handle horizontal\n    // scrolling entirely here. It'll be slightly off from native, but\n    // better than glitching out.\n\n\n    if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\n      if (dy && canScrollY) {\n        updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * wheelPixelsPerUnit));\n      }\n\n      setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * wheelPixelsPerUnit)); // Only prevent default scrolling if vertical scrolling is\n      // actually possible. Otherwise, it causes vertical scroll\n      // jitter on OSX trackpads when deltaX is small and deltaY\n      // is large (issue #3579)\n\n      if (!dy || dy && canScrollY) {\n        e_preventDefault(e);\n      }\n\n      display.wheelStartX = null; // Abort measurement, if in progress\n\n      return;\n    } // 'Project' the visible viewport to cover the area that is being\n    // scrolled into view (if we know enough to estimate it).\n\n\n    if (dy && wheelPixelsPerUnit != null) {\n      var pixels = dy * wheelPixelsPerUnit;\n      var top = cm.doc.scrollTop,\n          bot = top + display.wrapper.clientHeight;\n\n      if (pixels < 0) {\n        top = Math.max(0, top + pixels - 50);\n      } else {\n        bot = Math.min(cm.doc.height, bot + pixels + 50);\n      }\n\n      updateDisplaySimple(cm, {\n        top: top,\n        bottom: bot\n      });\n    }\n\n    if (wheelSamples < 20) {\n      if (display.wheelStartX == null) {\n        display.wheelStartX = scroll.scrollLeft;\n        display.wheelStartY = scroll.scrollTop;\n        display.wheelDX = dx;\n        display.wheelDY = dy;\n        setTimeout(function () {\n          if (display.wheelStartX == null) {\n            return;\n          }\n\n          var movedX = scroll.scrollLeft - display.wheelStartX;\n          var movedY = scroll.scrollTop - display.wheelStartY;\n          var sample = movedY && display.wheelDY && movedY / display.wheelDY || movedX && display.wheelDX && movedX / display.wheelDX;\n          display.wheelStartX = display.wheelStartY = null;\n\n          if (!sample) {\n            return;\n          }\n\n          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);\n          ++wheelSamples;\n        }, 200);\n      } else {\n        display.wheelDX += dx;\n        display.wheelDY += dy;\n      }\n    }\n  } // Selection objects are immutable. A new one is created every time\n  // the selection changes. A selection is one or more non-overlapping\n  // (and non-touching) ranges, sorted, and an integer that indicates\n  // which one is the primary selection (the one that's scrolled into\n  // view, that getCursor returns, etc).\n\n\n  var Selection = function Selection(ranges, primIndex) {\n    this.ranges = ranges;\n    this.primIndex = primIndex;\n  };\n\n  Selection.prototype.primary = function () {\n    return this.ranges[this.primIndex];\n  };\n\n  Selection.prototype.equals = function (other) {\n    if (other == this) {\n      return true;\n    }\n\n    if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) {\n      return false;\n    }\n\n    for (var i = 0; i < this.ranges.length; i++) {\n      var here = this.ranges[i],\n          there = other.ranges[i];\n\n      if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  Selection.prototype.deepCopy = function () {\n    var out = [];\n\n    for (var i = 0; i < this.ranges.length; i++) {\n      out[i] = new Range(copyPos(this.ranges[i].anchor), copyPos(this.ranges[i].head));\n    }\n\n    return new Selection(out, this.primIndex);\n  };\n\n  Selection.prototype.somethingSelected = function () {\n    for (var i = 0; i < this.ranges.length; i++) {\n      if (!this.ranges[i].empty()) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  Selection.prototype.contains = function (pos, end) {\n    if (!end) {\n      end = pos;\n    }\n\n    for (var i = 0; i < this.ranges.length; i++) {\n      var range = this.ranges[i];\n\n      if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0) {\n        return i;\n      }\n    }\n\n    return -1;\n  };\n\n  var Range = function Range(anchor, head) {\n    this.anchor = anchor;\n    this.head = head;\n  };\n\n  Range.prototype.from = function () {\n    return minPos(this.anchor, this.head);\n  };\n\n  Range.prototype.to = function () {\n    return maxPos(this.anchor, this.head);\n  };\n\n  Range.prototype.empty = function () {\n    return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch;\n  }; // Take an unsorted, potentially overlapping set of ranges, and\n  // build a selection out of it. 'Consumes' ranges array (modifying\n  // it).\n\n\n  function normalizeSelection(cm, ranges, primIndex) {\n    var mayTouch = cm && cm.options.selectionsMayTouch;\n    var prim = ranges[primIndex];\n    ranges.sort(function (a, b) {\n      return cmp(a.from(), b.from());\n    });\n    primIndex = indexOf(ranges, prim);\n\n    for (var i = 1; i < ranges.length; i++) {\n      var cur = ranges[i],\n          prev = ranges[i - 1];\n      var diff = cmp(prev.to(), cur.from());\n\n      if (mayTouch && !cur.empty() ? diff > 0 : diff >= 0) {\n        var from = minPos(prev.from(), cur.from()),\n            to = maxPos(prev.to(), cur.to());\n        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n\n        if (i <= primIndex) {\n          --primIndex;\n        }\n\n        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n      }\n    }\n\n    return new Selection(ranges, primIndex);\n  }\n\n  function simpleSelection(anchor, head) {\n    return new Selection([new Range(anchor, head || anchor)], 0);\n  } // Compute the position of the end of a change (its 'to' property\n  // refers to the pre-change end).\n\n\n  function changeEnd(change) {\n    if (!change.text) {\n      return change.to;\n    }\n\n    return Pos(change.from.line + change.text.length - 1, lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0));\n  } // Adjust a position to refer to the post-change position of the\n  // same text, or the end of the change if the change covers it.\n\n\n  function adjustForChange(pos, change) {\n    if (cmp(pos, change.from) < 0) {\n      return pos;\n    }\n\n    if (cmp(pos, change.to) <= 0) {\n      return changeEnd(change);\n    }\n\n    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1,\n        ch = pos.ch;\n\n    if (pos.line == change.to.line) {\n      ch += changeEnd(change).ch - change.to.ch;\n    }\n\n    return Pos(line, ch);\n  }\n\n  function computeSelAfterChange(doc, change) {\n    var out = [];\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      var range = doc.sel.ranges[i];\n      out.push(new Range(adjustForChange(range.anchor, change), adjustForChange(range.head, change)));\n    }\n\n    return normalizeSelection(doc.cm, out, doc.sel.primIndex);\n  }\n\n  function offsetPos(pos, old, nw) {\n    if (pos.line == old.line) {\n      return Pos(nw.line, pos.ch - old.ch + nw.ch);\n    } else {\n      return Pos(nw.line + (pos.line - old.line), pos.ch);\n    }\n  } // Used by replaceSelections to allow moving the selection to the\n  // start or around the replaced test. Hint may be \"start\" or \"around\".\n\n\n  function computeReplacedSel(doc, changes, hint) {\n    var out = [];\n    var oldPrev = Pos(doc.first, 0),\n        newPrev = oldPrev;\n\n    for (var i = 0; i < changes.length; i++) {\n      var change = changes[i];\n      var from = offsetPos(change.from, oldPrev, newPrev);\n      var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n      oldPrev = change.to;\n      newPrev = to;\n\n      if (hint == \"around\") {\n        var range = doc.sel.ranges[i],\n            inv = cmp(range.head, range.anchor) < 0;\n        out[i] = new Range(inv ? to : from, inv ? from : to);\n      } else {\n        out[i] = new Range(from, from);\n      }\n    }\n\n    return new Selection(out, doc.sel.primIndex);\n  } // Used to get the editor into a consistent state again when options change.\n\n\n  function loadMode(cm) {\n    cm.doc.mode = getMode(cm.options, cm.doc.modeOption);\n    resetModeState(cm);\n  }\n\n  function resetModeState(cm) {\n    cm.doc.iter(function (line) {\n      if (line.stateAfter) {\n        line.stateAfter = null;\n      }\n\n      if (line.styles) {\n        line.styles = null;\n      }\n    });\n    cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;\n    startWorker(cm, 100);\n    cm.state.modeGen++;\n\n    if (cm.curOp) {\n      regChange(cm);\n    }\n  } // DOCUMENT DATA STRUCTURE\n  // By default, updates that start and end at the beginning of a line\n  // are treated specially, in order to make the association of line\n  // widgets and marker elements with the text behave more intuitive.\n\n\n  function isWholeLineUpdate(doc, change) {\n    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" && (!doc.cm || doc.cm.options.wholeLineUpdateBefore);\n  } // Perform a change on the document data structure.\n\n\n  function updateDoc(doc, change, markedSpans, estimateHeight) {\n    function spansFor(n) {\n      return markedSpans ? markedSpans[n] : null;\n    }\n\n    function update(line, text, spans) {\n      updateLine(line, text, spans, estimateHeight);\n      signalLater(line, \"change\", line, change);\n    }\n\n    function linesFor(start, end) {\n      var result = [];\n\n      for (var i = start; i < end; ++i) {\n        result.push(new Line(text[i], spansFor(i), estimateHeight));\n      }\n\n      return result;\n    }\n\n    var from = change.from,\n        to = change.to,\n        text = change.text;\n    var firstLine = getLine(doc, from.line),\n        lastLine = getLine(doc, to.line);\n    var lastText = lst(text),\n        lastSpans = spansFor(text.length - 1),\n        nlines = to.line - from.line; // Adjust the line structure\n\n    if (change.full) {\n      doc.insert(0, linesFor(0, text.length));\n      doc.remove(text.length, doc.size - text.length);\n    } else if (isWholeLineUpdate(doc, change)) {\n      // This is a whole-line replace. Treated specially to make\n      // sure line objects move the way they are supposed to.\n      var added = linesFor(0, text.length - 1);\n      update(lastLine, lastLine.text, lastSpans);\n\n      if (nlines) {\n        doc.remove(from.line, nlines);\n      }\n\n      if (added.length) {\n        doc.insert(from.line, added);\n      }\n    } else if (firstLine == lastLine) {\n      if (text.length == 1) {\n        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n      } else {\n        var added$1 = linesFor(1, text.length - 1);\n        added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight));\n        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n        doc.insert(from.line + 1, added$1);\n      }\n    } else if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n      doc.remove(from.line + 1, nlines);\n    } else {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n      var added$2 = linesFor(1, text.length - 1);\n\n      if (nlines > 1) {\n        doc.remove(from.line + 1, nlines - 1);\n      }\n\n      doc.insert(from.line + 1, added$2);\n    }\n\n    signalLater(doc, \"change\", doc, change);\n  } // Call f for all linked documents.\n\n\n  function linkedDocs(doc, f, sharedHistOnly) {\n    function propagate(doc, skip, sharedHist) {\n      if (doc.linked) {\n        for (var i = 0; i < doc.linked.length; ++i) {\n          var rel = doc.linked[i];\n\n          if (rel.doc == skip) {\n            continue;\n          }\n\n          var shared = sharedHist && rel.sharedHist;\n\n          if (sharedHistOnly && !shared) {\n            continue;\n          }\n\n          f(rel.doc, shared);\n          propagate(rel.doc, doc, shared);\n        }\n      }\n    }\n\n    propagate(doc, null, true);\n  } // Attach a document to an editor.\n\n\n  function attachDoc(cm, doc) {\n    if (doc.cm) {\n      throw new Error(\"This document is already in use.\");\n    }\n\n    cm.doc = doc;\n    doc.cm = cm;\n    estimateLineHeights(cm);\n    loadMode(cm);\n    setDirectionClass(cm);\n    cm.options.direction = doc.direction;\n\n    if (!cm.options.lineWrapping) {\n      findMaxLine(cm);\n    }\n\n    cm.options.mode = doc.modeOption;\n    regChange(cm);\n  }\n\n  function setDirectionClass(cm) {\n    (cm.doc.direction == \"rtl\" ? addClass : rmClass)(cm.display.lineDiv, \"CodeMirror-rtl\");\n  }\n\n  function directionChanged(cm) {\n    runInOp(cm, function () {\n      setDirectionClass(cm);\n      regChange(cm);\n    });\n  }\n\n  function History(prev) {\n    // Arrays of change events and selections. Doing something adds an\n    // event to done and clears undo. Undoing moves events from done\n    // to undone, redoing moves them in the other direction.\n    this.done = [];\n    this.undone = [];\n    this.undoDepth = prev ? prev.undoDepth : Infinity; // Used to track when changes can be merged into a single undo\n    // event\n\n    this.lastModTime = this.lastSelTime = 0;\n    this.lastOp = this.lastSelOp = null;\n    this.lastOrigin = this.lastSelOrigin = null; // Used by the isClean() method\n\n    this.generation = this.maxGeneration = prev ? prev.maxGeneration : 1;\n  } // Create a history change event from an updateDoc-style change\n  // object.\n\n\n  function historyChangeFromChange(doc, change) {\n    var histChange = {\n      from: copyPos(change.from),\n      to: changeEnd(change),\n      text: getBetween(doc, change.from, change.to)\n    };\n    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    linkedDocs(doc, function (doc) {\n      return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    }, true);\n    return histChange;\n  } // Pop all selection events off the end of a history array. Stop at\n  // a change event.\n\n\n  function clearSelectionEvents(array) {\n    while (array.length) {\n      var last = lst(array);\n\n      if (last.ranges) {\n        array.pop();\n      } else {\n        break;\n      }\n    }\n  } // Find the top change event in the history. Pop off selection\n  // events that are in the way.\n\n\n  function lastChangeEvent(hist, force) {\n    if (force) {\n      clearSelectionEvents(hist.done);\n      return lst(hist.done);\n    } else if (hist.done.length && !lst(hist.done).ranges) {\n      return lst(hist.done);\n    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n      hist.done.pop();\n      return lst(hist.done);\n    }\n  } // Register a change in the history. Merges changes that are within\n  // a single operation, or are close together with an origin that\n  // allows merging (starting with \"+\") into a single event.\n\n\n  function addChangeToHistory(doc, change, selAfter, opId) {\n    var hist = doc.history;\n    hist.undone.length = 0;\n    var time = +new Date(),\n        cur;\n    var last;\n\n    if ((hist.lastOp == opId || hist.lastOrigin == change.origin && change.origin && (change.origin.charAt(0) == \"+\" && hist.lastModTime > time - (doc.cm ? doc.cm.options.historyEventDelay : 500) || change.origin.charAt(0) == \"*\")) && (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n      // Merge this change into the last event\n      last = lst(cur.changes);\n\n      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n        // Optimized case for simple insertion -- don't want to add\n        // new changesets for every character typed\n        last.to = changeEnd(change);\n      } else {\n        // Add new sub-event\n        cur.changes.push(historyChangeFromChange(doc, change));\n      }\n    } else {\n      // Can not be merged, start a new event.\n      var before = lst(hist.done);\n\n      if (!before || !before.ranges) {\n        pushSelectionToHistory(doc.sel, hist.done);\n      }\n\n      cur = {\n        changes: [historyChangeFromChange(doc, change)],\n        generation: hist.generation\n      };\n      hist.done.push(cur);\n\n      while (hist.done.length > hist.undoDepth) {\n        hist.done.shift();\n\n        if (!hist.done[0].ranges) {\n          hist.done.shift();\n        }\n      }\n    }\n\n    hist.done.push(selAfter);\n    hist.generation = ++hist.maxGeneration;\n    hist.lastModTime = hist.lastSelTime = time;\n    hist.lastOp = hist.lastSelOp = opId;\n    hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n    if (!last) {\n      signal(doc, \"historyAdded\");\n    }\n  }\n\n  function selectionEventCanBeMerged(doc, origin, prev, sel) {\n    var ch = origin.charAt(0);\n    return ch == \"*\" || ch == \"+\" && prev.ranges.length == sel.ranges.length && prev.somethingSelected() == sel.somethingSelected() && new Date() - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500);\n  } // Called whenever the selection changes, sets the new selection as\n  // the pending selection in the history, and pushes the old pending\n  // selection into the 'done' array when it was significantly\n  // different (in number of selected ranges, emptiness, or time).\n\n\n  function addSelectionToHistory(doc, sel, opId, options) {\n    var hist = doc.history,\n        origin = options && options.origin; // A new event is started when the previous origin does not match\n    // the current, or the origins don't allow matching. Origins\n    // starting with * are always merged, those starting with + are\n    // merged when similar and close together in time.\n\n    if (opId == hist.lastSelOp || origin && hist.lastSelOrigin == origin && (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin || selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))) {\n      hist.done[hist.done.length - 1] = sel;\n    } else {\n      pushSelectionToHistory(sel, hist.done);\n    }\n\n    hist.lastSelTime = +new Date();\n    hist.lastSelOrigin = origin;\n    hist.lastSelOp = opId;\n\n    if (options && options.clearRedo !== false) {\n      clearSelectionEvents(hist.undone);\n    }\n  }\n\n  function pushSelectionToHistory(sel, dest) {\n    var top = lst(dest);\n\n    if (!(top && top.ranges && top.equals(sel))) {\n      dest.push(sel);\n    }\n  } // Used to store marked span information in the history.\n\n\n  function attachLocalSpans(doc, change, from, to) {\n    var existing = change[\"spans_\" + doc.id],\n        n = 0;\n    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n      if (line.markedSpans) {\n        (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans;\n      }\n\n      ++n;\n    });\n  } // When un/re-doing restores text containing marked spans, those\n  // that have been explicitly cleared should not be restored.\n\n\n  function removeClearedSpans(spans) {\n    if (!spans) {\n      return null;\n    }\n\n    var out;\n\n    for (var i = 0; i < spans.length; ++i) {\n      if (spans[i].marker.explicitlyCleared) {\n        if (!out) {\n          out = spans.slice(0, i);\n        }\n      } else if (out) {\n        out.push(spans[i]);\n      }\n    }\n\n    return !out ? spans : out.length ? out : null;\n  } // Retrieve and filter the old marked spans stored in a change event.\n\n\n  function getOldSpans(doc, change) {\n    var found = change[\"spans_\" + doc.id];\n\n    if (!found) {\n      return null;\n    }\n\n    var nw = [];\n\n    for (var i = 0; i < change.text.length; ++i) {\n      nw.push(removeClearedSpans(found[i]));\n    }\n\n    return nw;\n  } // Used for un/re-doing changes from the history. Combines the\n  // result of computing the existing spans with the set of spans that\n  // existed in the history (so that deleting around a span and then\n  // undoing brings back the span).\n\n\n  function mergeOldSpans(doc, change) {\n    var old = getOldSpans(doc, change);\n    var stretched = stretchSpansOverChange(doc, change);\n\n    if (!old) {\n      return stretched;\n    }\n\n    if (!stretched) {\n      return old;\n    }\n\n    for (var i = 0; i < old.length; ++i) {\n      var oldCur = old[i],\n          stretchCur = stretched[i];\n\n      if (oldCur && stretchCur) {\n        spans: for (var j = 0; j < stretchCur.length; ++j) {\n          var span = stretchCur[j];\n\n          for (var k = 0; k < oldCur.length; ++k) {\n            if (oldCur[k].marker == span.marker) {\n              continue spans;\n            }\n          }\n\n          oldCur.push(span);\n        }\n      } else if (stretchCur) {\n        old[i] = stretchCur;\n      }\n    }\n\n    return old;\n  } // Used both to provide a JSON-safe object in .getHistory, and, when\n  // detaching a document, to split the history in two\n\n\n  function copyHistoryArray(events, newGroup, instantiateSel) {\n    var copy = [];\n\n    for (var i = 0; i < events.length; ++i) {\n      var event = events[i];\n\n      if (event.ranges) {\n        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n        continue;\n      }\n\n      var changes = event.changes,\n          newChanges = [];\n      copy.push({\n        changes: newChanges\n      });\n\n      for (var j = 0; j < changes.length; ++j) {\n        var change = changes[j],\n            m = void 0;\n        newChanges.push({\n          from: change.from,\n          to: change.to,\n          text: change.text\n        });\n\n        if (newGroup) {\n          for (var prop in change) {\n            if (m = prop.match(/^spans_(\\d+)$/)) {\n              if (indexOf(newGroup, Number(m[1])) > -1) {\n                lst(newChanges)[prop] = change[prop];\n                delete change[prop];\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return copy;\n  } // The 'scroll' parameter given to many of these indicated whether\n  // the new cursor position should be scrolled into view after\n  // modifying the selection.\n  // If shift is held or the extend flag is set, extends a range to\n  // include a given position (and optionally a second position).\n  // Otherwise, simply returns the range between the given positions.\n  // Used for cursor motion and such.\n\n\n  function extendRange(range, head, other, extend) {\n    if (extend) {\n      var anchor = range.anchor;\n\n      if (other) {\n        var posBefore = cmp(head, anchor) < 0;\n\n        if (posBefore != cmp(other, anchor) < 0) {\n          anchor = head;\n          head = other;\n        } else if (posBefore != cmp(head, other) < 0) {\n          head = other;\n        }\n      }\n\n      return new Range(anchor, head);\n    } else {\n      return new Range(other || head, head);\n    }\n  } // Extend the primary selection range, discard the rest.\n\n\n  function extendSelection(doc, head, other, options, extend) {\n    if (extend == null) {\n      extend = doc.cm && (doc.cm.display.shift || doc.extend);\n    }\n\n    setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options);\n  } // Extend all selections (pos is an array of selections with length\n  // equal the number of selections)\n\n\n  function extendSelections(doc, heads, options) {\n    var out = [];\n    var extend = doc.cm && (doc.cm.display.shift || doc.extend);\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend);\n    }\n\n    var newSel = normalizeSelection(doc.cm, out, doc.sel.primIndex);\n    setSelection(doc, newSel, options);\n  } // Updates a single range in the selection.\n\n\n  function replaceOneSelection(doc, i, range, options) {\n    var ranges = doc.sel.ranges.slice(0);\n    ranges[i] = range;\n    setSelection(doc, normalizeSelection(doc.cm, ranges, doc.sel.primIndex), options);\n  } // Reset the selection to a single range.\n\n\n  function setSimpleSelection(doc, anchor, head, options) {\n    setSelection(doc, simpleSelection(anchor, head), options);\n  } // Give beforeSelectionChange handlers a change to influence a\n  // selection update.\n\n\n  function filterSelectionChange(doc, sel, options) {\n    var obj = {\n      ranges: sel.ranges,\n      update: function update(ranges) {\n        this.ranges = [];\n\n        for (var i = 0; i < ranges.length; i++) {\n          this.ranges[i] = new Range(_clipPos(doc, ranges[i].anchor), _clipPos(doc, ranges[i].head));\n        }\n      },\n      origin: options && options.origin\n    };\n    signal(doc, \"beforeSelectionChange\", doc, obj);\n\n    if (doc.cm) {\n      signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj);\n    }\n\n    if (obj.ranges != sel.ranges) {\n      return normalizeSelection(doc.cm, obj.ranges, obj.ranges.length - 1);\n    } else {\n      return sel;\n    }\n  }\n\n  function setSelectionReplaceHistory(doc, sel, options) {\n    var done = doc.history.done,\n        last = lst(done);\n\n    if (last && last.ranges) {\n      done[done.length - 1] = sel;\n      setSelectionNoUndo(doc, sel, options);\n    } else {\n      setSelection(doc, sel, options);\n    }\n  } // Set a new selection.\n\n\n  function setSelection(doc, sel, options) {\n    setSelectionNoUndo(doc, sel, options);\n    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n  }\n\n  function setSelectionNoUndo(doc, sel, options) {\n    if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\")) {\n      sel = filterSelectionChange(doc, sel, options);\n    }\n\n    var bias = options && options.bias || (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n    if (!(options && options.scroll === false) && doc.cm && doc.cm.getOption(\"readOnly\") != \"nocursor\") {\n      ensureCursorVisible(doc.cm);\n    }\n  }\n\n  function setSelectionInner(doc, sel) {\n    if (sel.equals(doc.sel)) {\n      return;\n    }\n\n    doc.sel = sel;\n\n    if (doc.cm) {\n      doc.cm.curOp.updateInput = 1;\n      doc.cm.curOp.selectionChanged = true;\n      signalCursorActivity(doc.cm);\n    }\n\n    signalLater(doc, \"cursorActivity\", doc);\n  } // Verify that the selection does not partially select any atomic\n  // marked ranges.\n\n\n  function reCheckSelection(doc) {\n    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false));\n  } // Return a selection that does not partially select any atomic\n  // ranges.\n\n\n  function skipAtomicInSelection(doc, sel, bias, mayClear) {\n    var out;\n\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i];\n      var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n      var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n      var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n\n      if (out || newAnchor != range.anchor || newHead != range.head) {\n        if (!out) {\n          out = sel.ranges.slice(0, i);\n        }\n\n        out[i] = new Range(newAnchor, newHead);\n      }\n    }\n\n    return out ? normalizeSelection(doc.cm, out, sel.primIndex) : sel;\n  }\n\n  function skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n    var line = getLine(doc, pos.line);\n\n    if (line.markedSpans) {\n      for (var i = 0; i < line.markedSpans.length; ++i) {\n        var sp = line.markedSpans[i],\n            m = sp.marker; // Determine if we should prevent the cursor being placed to the left/right of an atomic marker\n        // Historically this was determined using the inclusiveLeft/Right option, but the new way to control it\n        // is with selectLeft/Right\n\n        var preventCursorLeft = \"selectLeft\" in m ? !m.selectLeft : m.inclusiveLeft;\n        var preventCursorRight = \"selectRight\" in m ? !m.selectRight : m.inclusiveRight;\n\n        if ((sp.from == null || (preventCursorLeft ? sp.from <= pos.ch : sp.from < pos.ch)) && (sp.to == null || (preventCursorRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n          if (mayClear) {\n            signal(m, \"beforeCursorEnter\");\n\n            if (m.explicitlyCleared) {\n              if (!line.markedSpans) {\n                break;\n              } else {\n                --i;\n                continue;\n              }\n            }\n          }\n\n          if (!m.atomic) {\n            continue;\n          }\n\n          if (oldPos) {\n            var near = m.find(dir < 0 ? 1 : -1),\n                diff = void 0;\n\n            if (dir < 0 ? preventCursorRight : preventCursorLeft) {\n              near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null);\n            }\n\n            if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0)) {\n              return skipAtomicInner(doc, near, pos, dir, mayClear);\n            }\n          }\n\n          var far = m.find(dir < 0 ? -1 : 1);\n\n          if (dir < 0 ? preventCursorLeft : preventCursorRight) {\n            far = movePos(doc, far, dir, far.line == pos.line ? line : null);\n          }\n\n          return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null;\n        }\n      }\n    }\n\n    return pos;\n  } // Ensure a given position is not inside an atomic range.\n\n\n  function skipAtomic(doc, pos, oldPos, bias, mayClear) {\n    var dir = bias || 1;\n    var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) || !mayClear && skipAtomicInner(doc, pos, oldPos, dir, true) || skipAtomicInner(doc, pos, oldPos, -dir, mayClear) || !mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true);\n\n    if (!found) {\n      doc.cantEdit = true;\n      return Pos(doc.first, 0);\n    }\n\n    return found;\n  }\n\n  function movePos(doc, pos, dir, line) {\n    if (dir < 0 && pos.ch == 0) {\n      if (pos.line > doc.first) {\n        return _clipPos(doc, Pos(pos.line - 1));\n      } else {\n        return null;\n      }\n    } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n      if (pos.line < doc.first + doc.size - 1) {\n        return Pos(pos.line + 1, 0);\n      } else {\n        return null;\n      }\n    } else {\n      return new Pos(pos.line, pos.ch + dir);\n    }\n  }\n\n  function selectAll(cm) {\n    cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);\n  } // UPDATING\n  // Allow \"beforeChange\" event handlers to influence a change\n\n\n  function filterChange(doc, change, update) {\n    var obj = {\n      canceled: false,\n      from: change.from,\n      to: change.to,\n      text: change.text,\n      origin: change.origin,\n      cancel: function cancel() {\n        return obj.canceled = true;\n      }\n    };\n\n    if (update) {\n      obj.update = function (from, to, text, origin) {\n        if (from) {\n          obj.from = _clipPos(doc, from);\n        }\n\n        if (to) {\n          obj.to = _clipPos(doc, to);\n        }\n\n        if (text) {\n          obj.text = text;\n        }\n\n        if (origin !== undefined) {\n          obj.origin = origin;\n        }\n      };\n    }\n\n    signal(doc, \"beforeChange\", doc, obj);\n\n    if (doc.cm) {\n      signal(doc.cm, \"beforeChange\", doc.cm, obj);\n    }\n\n    if (obj.canceled) {\n      if (doc.cm) {\n        doc.cm.curOp.updateInput = 2;\n      }\n\n      return null;\n    }\n\n    return {\n      from: obj.from,\n      to: obj.to,\n      text: obj.text,\n      origin: obj.origin\n    };\n  } // Apply a change to a document, and add it to the document's\n  // history, and propagating it to all linked documents.\n\n\n  function makeChange(doc, change, ignoreReadOnly) {\n    if (doc.cm) {\n      if (!doc.cm.curOp) {\n        return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly);\n      }\n\n      if (doc.cm.state.suppressEdits) {\n        return;\n      }\n    }\n\n    if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n      change = filterChange(doc, change, true);\n\n      if (!change) {\n        return;\n      }\n    } // Possibly split or suppress the update based on the presence\n    // of read-only spans in its range.\n\n\n    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n\n    if (split) {\n      for (var i = split.length - 1; i >= 0; --i) {\n        makeChangeInner(doc, {\n          from: split[i].from,\n          to: split[i].to,\n          text: i ? [\"\"] : change.text,\n          origin: change.origin\n        });\n      }\n    } else {\n      makeChangeInner(doc, change);\n    }\n  }\n\n  function makeChangeInner(doc, change) {\n    if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) {\n      return;\n    }\n\n    var selAfter = computeSelAfterChange(doc, change);\n    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n    var rebased = [];\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n\n      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n    });\n  } // Revert a change stored in a document's history.\n\n\n  function makeChangeFromHistory(doc, type, allowSelectionOnly) {\n    var suppress = doc.cm && doc.cm.state.suppressEdits;\n\n    if (suppress && !allowSelectionOnly) {\n      return;\n    }\n\n    var hist = doc.history,\n        event,\n        selAfter = doc.sel;\n    var source = type == \"undo\" ? hist.done : hist.undone,\n        dest = type == \"undo\" ? hist.undone : hist.done; // Verify that there is a useable event (so that ctrl-z won't\n    // needlessly clear selection events)\n\n    var i = 0;\n\n    for (; i < source.length; i++) {\n      event = source[i];\n\n      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges) {\n        break;\n      }\n    }\n\n    if (i == source.length) {\n      return;\n    }\n\n    hist.lastOrigin = hist.lastSelOrigin = null;\n\n    for (;;) {\n      event = source.pop();\n\n      if (event.ranges) {\n        pushSelectionToHistory(event, dest);\n\n        if (allowSelectionOnly && !event.equals(doc.sel)) {\n          setSelection(doc, event, {\n            clearRedo: false\n          });\n          return;\n        }\n\n        selAfter = event;\n      } else if (suppress) {\n        source.push(event);\n        return;\n      } else {\n        break;\n      }\n    } // Build up a reverse change object to add to the opposite history\n    // stack (redo when undoing, and vice versa).\n\n\n    var antiChanges = [];\n    pushSelectionToHistory(selAfter, dest);\n    dest.push({\n      changes: antiChanges,\n      generation: hist.generation\n    });\n    hist.generation = event.generation || ++hist.maxGeneration;\n    var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n    var loop = function loop(i) {\n      var change = event.changes[i];\n      change.origin = type;\n\n      if (filter && !filterChange(doc, change, false)) {\n        source.length = 0;\n        return {};\n      }\n\n      antiChanges.push(historyChangeFromChange(doc, change));\n      var after = i ? computeSelAfterChange(doc, change) : lst(source);\n      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n\n      if (!i && doc.cm) {\n        doc.cm.scrollIntoView({\n          from: change.from,\n          to: changeEnd(change)\n        });\n      }\n\n      var rebased = []; // Propagate to the linked documents\n\n      linkedDocs(doc, function (doc, sharedHist) {\n        if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n          rebaseHist(doc.history, change);\n          rebased.push(doc.history);\n        }\n\n        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n      });\n    };\n\n    for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n      var returned = loop(i$1);\n      if (returned) return returned.v;\n    }\n  } // Sub-views need their line numbers shifted when text is added\n  // above or below them in the parent document.\n\n\n  function shiftDoc(doc, distance) {\n    if (distance == 0) {\n      return;\n    }\n\n    doc.first += distance;\n    doc.sel = new Selection(map(doc.sel.ranges, function (range) {\n      return new Range(Pos(range.anchor.line + distance, range.anchor.ch), Pos(range.head.line + distance, range.head.ch));\n    }), doc.sel.primIndex);\n\n    if (doc.cm) {\n      regChange(doc.cm, doc.first, doc.first - distance, distance);\n\n      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++) {\n        regLineChange(doc.cm, l, \"gutter\");\n      }\n    }\n  } // More lower-level change function, handling only a single document\n  // (not linked ones).\n\n\n  function makeChangeSingleDoc(doc, change, selAfter, spans) {\n    if (doc.cm && !doc.cm.curOp) {\n      return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans);\n    }\n\n    if (change.to.line < doc.first) {\n      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n      return;\n    }\n\n    if (change.from.line > doc.lastLine()) {\n      return;\n    } // Clip the change to the size of this doc\n\n\n    if (change.from.line < doc.first) {\n      var shift = change.text.length - 1 - (doc.first - change.from.line);\n      shiftDoc(doc, shift);\n      change = {\n        from: Pos(doc.first, 0),\n        to: Pos(change.to.line + shift, change.to.ch),\n        text: [lst(change.text)],\n        origin: change.origin\n      };\n    }\n\n    var last = doc.lastLine();\n\n    if (change.to.line > last) {\n      change = {\n        from: change.from,\n        to: Pos(last, getLine(doc, last).text.length),\n        text: [change.text[0]],\n        origin: change.origin\n      };\n    }\n\n    change.removed = getBetween(doc, change.from, change.to);\n\n    if (!selAfter) {\n      selAfter = computeSelAfterChange(doc, change);\n    }\n\n    if (doc.cm) {\n      makeChangeSingleDocInEditor(doc.cm, change, spans);\n    } else {\n      updateDoc(doc, change, spans);\n    }\n\n    setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n\n    if (doc.cantEdit && skipAtomic(doc, Pos(doc.firstLine(), 0))) {\n      doc.cantEdit = false;\n    }\n  } // Handle the interaction of a change to a document with the editor\n  // that this document is part of.\n\n\n  function makeChangeSingleDocInEditor(cm, change, spans) {\n    var doc = cm.doc,\n        display = cm.display,\n        from = change.from,\n        to = change.to;\n    var recomputeMaxLength = false,\n        checkWidthStart = from.line;\n\n    if (!cm.options.lineWrapping) {\n      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n      doc.iter(checkWidthStart, to.line + 1, function (line) {\n        if (line == display.maxLine) {\n          recomputeMaxLength = true;\n          return true;\n        }\n      });\n    }\n\n    if (doc.sel.contains(change.from, change.to) > -1) {\n      signalCursorActivity(cm);\n    }\n\n    updateDoc(doc, change, spans, estimateHeight(cm));\n\n    if (!cm.options.lineWrapping) {\n      doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n        var len = lineLength(line);\n\n        if (len > display.maxLineLength) {\n          display.maxLine = line;\n          display.maxLineLength = len;\n          display.maxLineChanged = true;\n          recomputeMaxLength = false;\n        }\n      });\n\n      if (recomputeMaxLength) {\n        cm.curOp.updateMaxLine = true;\n      }\n    }\n\n    retreatFrontier(doc, from.line);\n    startWorker(cm, 400);\n    var lendiff = change.text.length - (to.line - from.line) - 1; // Remember that these lines changed, for updating the display\n\n    if (change.full) {\n      regChange(cm);\n    } else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change)) {\n      regLineChange(cm, from.line, \"text\");\n    } else {\n      regChange(cm, from.line, to.line + 1, lendiff);\n    }\n\n    var changesHandler = hasHandler(cm, \"changes\"),\n        changeHandler = hasHandler(cm, \"change\");\n\n    if (changeHandler || changesHandler) {\n      var obj = {\n        from: from,\n        to: to,\n        text: change.text,\n        removed: change.removed,\n        origin: change.origin\n      };\n\n      if (changeHandler) {\n        signalLater(cm, \"change\", cm, obj);\n      }\n\n      if (changesHandler) {\n        (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj);\n      }\n    }\n\n    cm.display.selForContextMenu = null;\n  }\n\n  function _replaceRange(doc, code, from, to, origin) {\n    var assign;\n\n    if (!to) {\n      to = from;\n    }\n\n    if (cmp(to, from) < 0) {\n      assign = [to, from], from = assign[0], to = assign[1];\n    }\n\n    if (typeof code == \"string\") {\n      code = doc.splitLines(code);\n    }\n\n    makeChange(doc, {\n      from: from,\n      to: to,\n      text: code,\n      origin: origin\n    });\n  } // Rebasing/resetting history to deal with externally-sourced changes\n\n\n  function rebaseHistSelSingle(pos, from, to, diff) {\n    if (to < pos.line) {\n      pos.line += diff;\n    } else if (from < pos.line) {\n      pos.line = from;\n      pos.ch = 0;\n    }\n  } // Tries to rebase an array of history events given a change in the\n  // document. If the change touches the same lines as the event, the\n  // event, and everything 'behind' it, is discarded. If the change is\n  // before the event, the event's positions are updated. Uses a\n  // copy-on-write scheme for the positions, to avoid having to\n  // reallocate them all on every rebase, but also avoid problems with\n  // shared position objects being unsafely updated.\n\n\n  function rebaseHistArray(array, from, to, diff) {\n    for (var i = 0; i < array.length; ++i) {\n      var sub = array[i],\n          ok = true;\n\n      if (sub.ranges) {\n        if (!sub.copied) {\n          sub = array[i] = sub.deepCopy();\n          sub.copied = true;\n        }\n\n        for (var j = 0; j < sub.ranges.length; j++) {\n          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n        }\n\n        continue;\n      }\n\n      for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n        var cur = sub.changes[j$1];\n\n        if (to < cur.from.line) {\n          cur.from = Pos(cur.from.line + diff, cur.from.ch);\n          cur.to = Pos(cur.to.line + diff, cur.to.ch);\n        } else if (from <= cur.to.line) {\n          ok = false;\n          break;\n        }\n      }\n\n      if (!ok) {\n        array.splice(0, i + 1);\n        i = 0;\n      }\n    }\n  }\n\n  function rebaseHist(hist, change) {\n    var from = change.from.line,\n        to = change.to.line,\n        diff = change.text.length - (to - from) - 1;\n    rebaseHistArray(hist.done, from, to, diff);\n    rebaseHistArray(hist.undone, from, to, diff);\n  } // Utility for applying a change to a line by handle or number,\n  // returning the number and optionally registering the line as\n  // changed.\n\n\n  function changeLine(doc, handle, changeType, op) {\n    var no = handle,\n        line = handle;\n\n    if (typeof handle == \"number\") {\n      line = getLine(doc, clipLine(doc, handle));\n    } else {\n      no = lineNo(handle);\n    }\n\n    if (no == null) {\n      return null;\n    }\n\n    if (op(line, no) && doc.cm) {\n      regLineChange(doc.cm, no, changeType);\n    }\n\n    return line;\n  } // The document is represented as a BTree consisting of leaves, with\n  // chunk of lines in them, and branches, with up to ten leaves or\n  // other branch nodes below them. The top node is always a branch\n  // node, and is the document object itself (meaning it has\n  // additional methods and properties).\n  //\n  // All nodes have parent links. The tree is used both to go from\n  // line numbers to line objects, and to go from objects to numbers.\n  // It also indexes by height, and is used to convert between height\n  // and line object, and to find the total height of the document.\n  //\n  // See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\n\n  function LeafChunk(lines) {\n    this.lines = lines;\n    this.parent = null;\n    var height = 0;\n\n    for (var i = 0; i < lines.length; ++i) {\n      lines[i].parent = this;\n      height += lines[i].height;\n    }\n\n    this.height = height;\n  }\n\n  LeafChunk.prototype = {\n    chunkSize: function chunkSize() {\n      return this.lines.length;\n    },\n    // Remove the n lines at offset 'at'.\n    removeInner: function removeInner(at, n) {\n      for (var i = at, e = at + n; i < e; ++i) {\n        var line = this.lines[i];\n        this.height -= line.height;\n        cleanUpLine(line);\n        signalLater(line, \"delete\");\n      }\n\n      this.lines.splice(at, n);\n    },\n    // Helper used to collapse a small branch into a single leaf.\n    collapse: function collapse(lines) {\n      lines.push.apply(lines, this.lines);\n    },\n    // Insert the given array of lines at offset 'at', count them as\n    // having the given height.\n    insertInner: function insertInner(at, lines, height) {\n      this.height += height;\n      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n\n      for (var i = 0; i < lines.length; ++i) {\n        lines[i].parent = this;\n      }\n    },\n    // Used to iterate over a part of the tree.\n    iterN: function iterN(at, n, op) {\n      for (var e = at + n; at < e; ++at) {\n        if (op(this.lines[at])) {\n          return true;\n        }\n      }\n    }\n  };\n\n  function BranchChunk(children) {\n    this.children = children;\n    var size = 0,\n        height = 0;\n\n    for (var i = 0; i < children.length; ++i) {\n      var ch = children[i];\n      size += ch.chunkSize();\n      height += ch.height;\n      ch.parent = this;\n    }\n\n    this.size = size;\n    this.height = height;\n    this.parent = null;\n  }\n\n  BranchChunk.prototype = {\n    chunkSize: function chunkSize() {\n      return this.size;\n    },\n    removeInner: function removeInner(at, n) {\n      this.size -= n;\n\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i],\n            sz = child.chunkSize();\n\n        if (at < sz) {\n          var rm = Math.min(n, sz - at),\n              oldHeight = child.height;\n          child.removeInner(at, rm);\n          this.height -= oldHeight - child.height;\n\n          if (sz == rm) {\n            this.children.splice(i--, 1);\n            child.parent = null;\n          }\n\n          if ((n -= rm) == 0) {\n            break;\n          }\n\n          at = 0;\n        } else {\n          at -= sz;\n        }\n      } // If the result is smaller than 25 lines, ensure that it is a\n      // single leaf node.\n\n\n      if (this.size - n < 25 && (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n        var lines = [];\n        this.collapse(lines);\n        this.children = [new LeafChunk(lines)];\n        this.children[0].parent = this;\n      }\n    },\n    collapse: function collapse(lines) {\n      for (var i = 0; i < this.children.length; ++i) {\n        this.children[i].collapse(lines);\n      }\n    },\n    insertInner: function insertInner(at, lines, height) {\n      this.size += lines.length;\n      this.height += height;\n\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i],\n            sz = child.chunkSize();\n\n        if (at <= sz) {\n          child.insertInner(at, lines, height);\n\n          if (child.lines && child.lines.length > 50) {\n            // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n            // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n            var remaining = child.lines.length % 25 + 25;\n\n            for (var pos = remaining; pos < child.lines.length;) {\n              var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n              child.height -= leaf.height;\n              this.children.splice(++i, 0, leaf);\n              leaf.parent = this;\n            }\n\n            child.lines = child.lines.slice(0, remaining);\n            this.maybeSpill();\n          }\n\n          break;\n        }\n\n        at -= sz;\n      }\n    },\n    // When a node has grown, check whether it should be split.\n    maybeSpill: function maybeSpill() {\n      if (this.children.length <= 10) {\n        return;\n      }\n\n      var me = this;\n\n      do {\n        var spilled = me.children.splice(me.children.length - 5, 5);\n        var sibling = new BranchChunk(spilled);\n\n        if (!me.parent) {\n          // Become the parent node\n          var copy = new BranchChunk(me.children);\n          copy.parent = me;\n          me.children = [copy, sibling];\n          me = copy;\n        } else {\n          me.size -= sibling.size;\n          me.height -= sibling.height;\n          var myIndex = indexOf(me.parent.children, me);\n          me.parent.children.splice(myIndex + 1, 0, sibling);\n        }\n\n        sibling.parent = me.parent;\n      } while (me.children.length > 10);\n\n      me.parent.maybeSpill();\n    },\n    iterN: function iterN(at, n, op) {\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i],\n            sz = child.chunkSize();\n\n        if (at < sz) {\n          var used = Math.min(n, sz - at);\n\n          if (child.iterN(at, used, op)) {\n            return true;\n          }\n\n          if ((n -= used) == 0) {\n            break;\n          }\n\n          at = 0;\n        } else {\n          at -= sz;\n        }\n      }\n    }\n  }; // Line widgets are block elements displayed above or below a line.\n\n  var LineWidget = function LineWidget(doc, node, options) {\n    if (options) {\n      for (var opt in options) {\n        if (options.hasOwnProperty(opt)) {\n          this[opt] = options[opt];\n        }\n      }\n    }\n\n    this.doc = doc;\n    this.node = node;\n  };\n\n  LineWidget.prototype.clear = function () {\n    var cm = this.doc.cm,\n        ws = this.line.widgets,\n        line = this.line,\n        no = lineNo(line);\n\n    if (no == null || !ws) {\n      return;\n    }\n\n    for (var i = 0; i < ws.length; ++i) {\n      if (ws[i] == this) {\n        ws.splice(i--, 1);\n      }\n    }\n\n    if (!ws.length) {\n      line.widgets = null;\n    }\n\n    var height = widgetHeight(this);\n    updateLineHeight(line, Math.max(0, line.height - height));\n\n    if (cm) {\n      runInOp(cm, function () {\n        adjustScrollWhenAboveVisible(cm, line, -height);\n        regLineChange(cm, no, \"widget\");\n      });\n      signalLater(cm, \"lineWidgetCleared\", cm, this, no);\n    }\n  };\n\n  LineWidget.prototype.changed = function () {\n    var this$1 = this;\n    var oldH = this.height,\n        cm = this.doc.cm,\n        line = this.line;\n    this.height = null;\n    var diff = widgetHeight(this) - oldH;\n\n    if (!diff) {\n      return;\n    }\n\n    if (!lineIsHidden(this.doc, line)) {\n      updateLineHeight(line, line.height + diff);\n    }\n\n    if (cm) {\n      runInOp(cm, function () {\n        cm.curOp.forceUpdate = true;\n        adjustScrollWhenAboveVisible(cm, line, diff);\n        signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line));\n      });\n    }\n  };\n\n  eventMixin(LineWidget);\n\n  function adjustScrollWhenAboveVisible(cm, line, diff) {\n    if (_heightAtLine(line) < (cm.curOp && cm.curOp.scrollTop || cm.doc.scrollTop)) {\n      addToScrollTop(cm, diff);\n    }\n  }\n\n  function addLineWidget(doc, handle, node, options) {\n    var widget = new LineWidget(doc, node, options);\n    var cm = doc.cm;\n\n    if (cm && widget.noHScroll) {\n      cm.display.alignWidgets = true;\n    }\n\n    changeLine(doc, handle, \"widget\", function (line) {\n      var widgets = line.widgets || (line.widgets = []);\n\n      if (widget.insertAt == null) {\n        widgets.push(widget);\n      } else {\n        widgets.splice(Math.min(widgets.length, Math.max(0, widget.insertAt)), 0, widget);\n      }\n\n      widget.line = line;\n\n      if (cm && !lineIsHidden(doc, line)) {\n        var aboveVisible = _heightAtLine(line) < doc.scrollTop;\n        updateLineHeight(line, line.height + widgetHeight(widget));\n\n        if (aboveVisible) {\n          addToScrollTop(cm, widget.height);\n        }\n\n        cm.curOp.forceUpdate = true;\n      }\n\n      return true;\n    });\n\n    if (cm) {\n      signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle));\n    }\n\n    return widget;\n  } // TEXTMARKERS\n  // Created with markText and setBookmark methods. A TextMarker is a\n  // handle that can be used to clear or find a marked position in the\n  // document. Line objects hold arrays (markedSpans) containing\n  // {from, to, marker} object pointing to such marker objects, and\n  // indicating that such a marker is present on that line. Multiple\n  // lines may point to the same marker when it spans across lines.\n  // The spans will have null for their from/to properties when the\n  // marker continues beyond the start/end of the line. Markers have\n  // links back to the lines they currently touch.\n  // Collapsed markers have unique ids, in order to be able to order\n  // them, which is needed for uniquely determining an outer marker\n  // when they overlap (they may nest, but not partially overlap).\n\n\n  var nextMarkerId = 0;\n\n  var TextMarker = function TextMarker(doc, type) {\n    this.lines = [];\n    this.type = type;\n    this.doc = doc;\n    this.id = ++nextMarkerId;\n  }; // Clear the marker.\n\n\n  TextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) {\n      return;\n    }\n\n    var cm = this.doc.cm,\n        withOp = cm && !cm.curOp;\n\n    if (withOp) {\n      _startOperation(cm);\n    }\n\n    if (hasHandler(this, \"clear\")) {\n      var found = this.find();\n\n      if (found) {\n        signalLater(this, \"clear\", found.from, found.to);\n      }\n    }\n\n    var min = null,\n        max = null;\n\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n\n      if (cm && !this.collapsed) {\n        regLineChange(cm, lineNo(line), \"text\");\n      } else if (cm) {\n        if (span.to != null) {\n          max = lineNo(line);\n        }\n\n        if (span.from != null) {\n          min = lineNo(line);\n        }\n      }\n\n      line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n\n      if (span.from == null && this.collapsed && !lineIsHidden(this.doc, line) && cm) {\n        updateLineHeight(line, textHeight(cm.display));\n      }\n    }\n\n    if (cm && this.collapsed && !cm.options.lineWrapping) {\n      for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n        var visual = visualLine(this.lines[i$1]),\n            len = lineLength(visual);\n\n        if (len > cm.display.maxLineLength) {\n          cm.display.maxLine = visual;\n          cm.display.maxLineLength = len;\n          cm.display.maxLineChanged = true;\n        }\n      }\n    }\n\n    if (min != null && cm && this.collapsed) {\n      regChange(cm, min, max + 1);\n    }\n\n    this.lines.length = 0;\n    this.explicitlyCleared = true;\n\n    if (this.atomic && this.doc.cantEdit) {\n      this.doc.cantEdit = false;\n\n      if (cm) {\n        reCheckSelection(cm.doc);\n      }\n    }\n\n    if (cm) {\n      signalLater(cm, \"markerCleared\", cm, this, min, max);\n    }\n\n    if (withOp) {\n      _endOperation(cm);\n    }\n\n    if (this.parent) {\n      this.parent.clear();\n    }\n  }; // Find the position of the marker in the document. Returns a {from,\n  // to} object by default. Side can be passed to get a specific side\n  // -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n  // Pos objects returned contain a line object, rather than a line\n  // number (used to prevent looking up the same line twice).\n\n\n  TextMarker.prototype.find = function (side, lineObj) {\n    if (side == null && this.type == \"bookmark\") {\n      side = 1;\n    }\n\n    var from, to;\n\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n\n      if (span.from != null) {\n        from = Pos(lineObj ? line : lineNo(line), span.from);\n\n        if (side == -1) {\n          return from;\n        }\n      }\n\n      if (span.to != null) {\n        to = Pos(lineObj ? line : lineNo(line), span.to);\n\n        if (side == 1) {\n          return to;\n        }\n      }\n    }\n\n    return from && {\n      from: from,\n      to: to\n    };\n  }; // Signals that the marker's widget changed, and surrounding layout\n  // should be recomputed.\n\n\n  TextMarker.prototype.changed = function () {\n    var this$1 = this;\n    var pos = this.find(-1, true),\n        widget = this,\n        cm = this.doc.cm;\n\n    if (!pos || !cm) {\n      return;\n    }\n\n    runInOp(cm, function () {\n      var line = pos.line,\n          lineN = lineNo(pos.line);\n      var view = findViewForLine(cm, lineN);\n\n      if (view) {\n        clearLineMeasurementCacheFor(view);\n        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n      }\n\n      cm.curOp.updateMaxLine = true;\n\n      if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n        var oldHeight = widget.height;\n        widget.height = null;\n        var dHeight = widgetHeight(widget) - oldHeight;\n\n        if (dHeight) {\n          updateLineHeight(line, line.height + dHeight);\n        }\n      }\n\n      signalLater(cm, \"markerChanged\", cm, this$1);\n    });\n  };\n\n  TextMarker.prototype.attachLine = function (line) {\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n\n      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1) {\n        (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this);\n      }\n    }\n\n    this.lines.push(line);\n  };\n\n  TextMarker.prototype.detachLine = function (line) {\n    this.lines.splice(indexOf(this.lines, line), 1);\n\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      (op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n    }\n  };\n\n  eventMixin(TextMarker); // Create a marker, wire it up to the right lines, and\n\n  function _markText(doc, from, to, options, type) {\n    // Shared markers (across linked documents) are handled separately\n    // (markTextShared will call out to this again, once per\n    // document).\n    if (options && options.shared) {\n      return markTextShared(doc, from, to, options, type);\n    } // Ensure we are in an operation.\n\n\n    if (doc.cm && !doc.cm.curOp) {\n      return operation(doc.cm, _markText)(doc, from, to, options, type);\n    }\n\n    var marker = new TextMarker(doc, type),\n        diff = cmp(from, to);\n\n    if (options) {\n      copyObj(options, marker, false);\n    } // Don't connect empty markers unless clearWhenEmpty is false\n\n\n    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false) {\n      return marker;\n    }\n\n    if (marker.replacedWith) {\n      // Showing up as a widget implies collapsed (widget replaces text)\n      marker.collapsed = true;\n      marker.widgetNode = eltP(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n\n      if (!options.handleMouseEvents) {\n        marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\");\n      }\n\n      if (options.insertLeft) {\n        marker.widgetNode.insertLeft = true;\n      }\n    }\n\n    if (marker.collapsed) {\n      if (conflictingCollapsedRange(doc, from.line, from, to, marker) || from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker)) {\n        throw new Error(\"Inserting collapsed marker partially overlapping an existing one\");\n      }\n\n      seeCollapsedSpans();\n    }\n\n    if (marker.addToHistory) {\n      addChangeToHistory(doc, {\n        from: from,\n        to: to,\n        origin: \"markText\"\n      }, doc.sel, NaN);\n    }\n\n    var curLine = from.line,\n        cm = doc.cm,\n        updateMaxLine;\n    doc.iter(curLine, to.line + 1, function (line) {\n      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine) {\n        updateMaxLine = true;\n      }\n\n      if (marker.collapsed && curLine != from.line) {\n        updateLineHeight(line, 0);\n      }\n\n      addMarkedSpan(line, new MarkedSpan(marker, curLine == from.line ? from.ch : null, curLine == to.line ? to.ch : null), doc.cm && doc.cm.curOp);\n      ++curLine;\n    }); // lineIsHidden depends on the presence of the spans, so needs a second pass\n\n    if (marker.collapsed) {\n      doc.iter(from.line, to.line + 1, function (line) {\n        if (lineIsHidden(doc, line)) {\n          updateLineHeight(line, 0);\n        }\n      });\n    }\n\n    if (marker.clearOnEnter) {\n      on(marker, \"beforeCursorEnter\", function () {\n        return marker.clear();\n      });\n    }\n\n    if (marker.readOnly) {\n      seeReadOnlySpans();\n\n      if (doc.history.done.length || doc.history.undone.length) {\n        doc.clearHistory();\n      }\n    }\n\n    if (marker.collapsed) {\n      marker.id = ++nextMarkerId;\n      marker.atomic = true;\n    }\n\n    if (cm) {\n      // Sync editor state\n      if (updateMaxLine) {\n        cm.curOp.updateMaxLine = true;\n      }\n\n      if (marker.collapsed) {\n        regChange(cm, from.line, to.line + 1);\n      } else if (marker.className || marker.startStyle || marker.endStyle || marker.css || marker.attributes || marker.title) {\n        for (var i = from.line; i <= to.line; i++) {\n          regLineChange(cm, i, \"text\");\n        }\n      }\n\n      if (marker.atomic) {\n        reCheckSelection(cm.doc);\n      }\n\n      signalLater(cm, \"markerAdded\", cm, marker);\n    }\n\n    return marker;\n  } // SHARED TEXTMARKERS\n  // A shared marker spans multiple linked documents. It is\n  // implemented as a meta-marker-object controlling multiple normal\n  // markers.\n\n\n  var SharedTextMarker = function SharedTextMarker(markers, primary) {\n    this.markers = markers;\n    this.primary = primary;\n\n    for (var i = 0; i < markers.length; ++i) {\n      markers[i].parent = this;\n    }\n  };\n\n  SharedTextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) {\n      return;\n    }\n\n    this.explicitlyCleared = true;\n\n    for (var i = 0; i < this.markers.length; ++i) {\n      this.markers[i].clear();\n    }\n\n    signalLater(this, \"clear\");\n  };\n\n  SharedTextMarker.prototype.find = function (side, lineObj) {\n    return this.primary.find(side, lineObj);\n  };\n\n  eventMixin(SharedTextMarker);\n\n  function markTextShared(doc, from, to, options, type) {\n    options = copyObj(options);\n    options.shared = false;\n    var markers = [_markText(doc, from, to, options, type)],\n        primary = markers[0];\n    var widget = options.widgetNode;\n    linkedDocs(doc, function (doc) {\n      if (widget) {\n        options.widgetNode = widget.cloneNode(true);\n      }\n\n      markers.push(_markText(doc, _clipPos(doc, from), _clipPos(doc, to), options, type));\n\n      for (var i = 0; i < doc.linked.length; ++i) {\n        if (doc.linked[i].isParent) {\n          return;\n        }\n      }\n\n      primary = lst(markers);\n    });\n    return new SharedTextMarker(markers, primary);\n  }\n\n  function findSharedMarkers(doc) {\n    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) {\n      return m.parent;\n    });\n  }\n\n  function copySharedMarkers(doc, markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i],\n          pos = marker.find();\n      var mFrom = doc.clipPos(pos.from),\n          mTo = doc.clipPos(pos.to);\n\n      if (cmp(mFrom, mTo)) {\n        var subMark = _markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n\n        marker.markers.push(subMark);\n        subMark.parent = marker;\n      }\n    }\n  }\n\n  function detachSharedMarkers(markers) {\n    var loop = function loop(i) {\n      var marker = markers[i],\n          linked = [marker.primary.doc];\n      linkedDocs(marker.primary.doc, function (d) {\n        return linked.push(d);\n      });\n\n      for (var j = 0; j < marker.markers.length; j++) {\n        var subMarker = marker.markers[j];\n\n        if (indexOf(linked, subMarker.doc) == -1) {\n          subMarker.parent = null;\n          marker.markers.splice(j--, 1);\n        }\n      }\n    };\n\n    for (var i = 0; i < markers.length; i++) {\n      loop(i);\n    }\n  }\n\n  var nextDocId = 0;\n\n  var Doc = function Doc(text, mode, firstLine, lineSep, direction) {\n    if (!(this instanceof Doc)) {\n      return new Doc(text, mode, firstLine, lineSep, direction);\n    }\n\n    if (firstLine == null) {\n      firstLine = 0;\n    }\n\n    BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n    this.first = firstLine;\n    this.scrollTop = this.scrollLeft = 0;\n    this.cantEdit = false;\n    this.cleanGeneration = 1;\n    this.modeFrontier = this.highlightFrontier = firstLine;\n    var start = Pos(firstLine, 0);\n    this.sel = simpleSelection(start);\n    this.history = new History(null);\n    this.id = ++nextDocId;\n    this.modeOption = mode;\n    this.lineSep = lineSep;\n    this.direction = direction == \"rtl\" ? \"rtl\" : \"ltr\";\n    this.extend = false;\n\n    if (typeof text == \"string\") {\n      text = this.splitLines(text);\n    }\n\n    updateDoc(this, {\n      from: start,\n      to: start,\n      text: text\n    });\n    setSelection(this, simpleSelection(start), sel_dontScroll);\n  };\n\n  Doc.prototype = createObj(BranchChunk.prototype, {\n    constructor: Doc,\n    // Iterate over the document. Supports two forms -- with only one\n    // argument, it calls that for each line in the document. With\n    // three, it iterates over the range given by the first two (with\n    // the second being non-inclusive).\n    iter: function iter(from, to, op) {\n      if (op) {\n        this.iterN(from - this.first, to - from, op);\n      } else {\n        this.iterN(this.first, this.first + this.size, from);\n      }\n    },\n    // Non-public interface for adding and removing lines.\n    insert: function insert(at, lines) {\n      var height = 0;\n\n      for (var i = 0; i < lines.length; ++i) {\n        height += lines[i].height;\n      }\n\n      this.insertInner(at - this.first, lines, height);\n    },\n    remove: function remove(at, n) {\n      this.removeInner(at - this.first, n);\n    },\n    // From here, the methods are part of the public interface. Most\n    // are also available from CodeMirror (editor) instances.\n    getValue: function getValue(lineSep) {\n      var lines = getLines(this, this.first, this.first + this.size);\n\n      if (lineSep === false) {\n        return lines;\n      }\n\n      return lines.join(lineSep || this.lineSeparator());\n    },\n    setValue: docMethodOp(function (code) {\n      var top = Pos(this.first, 0),\n          last = this.first + this.size - 1;\n      makeChange(this, {\n        from: top,\n        to: Pos(last, getLine(this, last).text.length),\n        text: this.splitLines(code),\n        origin: \"setValue\",\n        full: true\n      }, true);\n\n      if (this.cm) {\n        scrollToCoords(this.cm, 0, 0);\n      }\n\n      setSelection(this, simpleSelection(top), sel_dontScroll);\n    }),\n    replaceRange: function replaceRange(code, from, to, origin) {\n      from = _clipPos(this, from);\n      to = to ? _clipPos(this, to) : from;\n\n      _replaceRange(this, code, from, to, origin);\n    },\n    getRange: function getRange(from, to, lineSep) {\n      var lines = getBetween(this, _clipPos(this, from), _clipPos(this, to));\n\n      if (lineSep === false) {\n        return lines;\n      }\n\n      if (lineSep === '') {\n        return lines.join('');\n      }\n\n      return lines.join(lineSep || this.lineSeparator());\n    },\n    getLine: function getLine(line) {\n      var l = this.getLineHandle(line);\n      return l && l.text;\n    },\n    getLineHandle: function getLineHandle(line) {\n      if (isLine(this, line)) {\n        return getLine(this, line);\n      }\n    },\n    getLineNumber: function getLineNumber(line) {\n      return lineNo(line);\n    },\n    getLineHandleVisualStart: function getLineHandleVisualStart(line) {\n      if (typeof line == \"number\") {\n        line = getLine(this, line);\n      }\n\n      return visualLine(line);\n    },\n    lineCount: function lineCount() {\n      return this.size;\n    },\n    firstLine: function firstLine() {\n      return this.first;\n    },\n    lastLine: function lastLine() {\n      return this.first + this.size - 1;\n    },\n    clipPos: function clipPos(pos) {\n      return _clipPos(this, pos);\n    },\n    getCursor: function getCursor(start) {\n      var range = this.sel.primary(),\n          pos;\n\n      if (start == null || start == \"head\") {\n        pos = range.head;\n      } else if (start == \"anchor\") {\n        pos = range.anchor;\n      } else if (start == \"end\" || start == \"to\" || start === false) {\n        pos = range.to();\n      } else {\n        pos = range.from();\n      }\n\n      return pos;\n    },\n    listSelections: function listSelections() {\n      return this.sel.ranges;\n    },\n    somethingSelected: function somethingSelected() {\n      return this.sel.somethingSelected();\n    },\n    setCursor: docMethodOp(function (line, ch, options) {\n      setSimpleSelection(this, _clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n    }),\n    setSelection: docMethodOp(function (anchor, head, options) {\n      setSimpleSelection(this, _clipPos(this, anchor), _clipPos(this, head || anchor), options);\n    }),\n    extendSelection: docMethodOp(function (head, other, options) {\n      extendSelection(this, _clipPos(this, head), other && _clipPos(this, other), options);\n    }),\n    extendSelections: docMethodOp(function (heads, options) {\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    extendSelectionsBy: docMethodOp(function (f, options) {\n      var heads = map(this.sel.ranges, f);\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    setSelections: docMethodOp(function (ranges, primary, options) {\n      if (!ranges.length) {\n        return;\n      }\n\n      var out = [];\n\n      for (var i = 0; i < ranges.length; i++) {\n        out[i] = new Range(_clipPos(this, ranges[i].anchor), _clipPos(this, ranges[i].head || ranges[i].anchor));\n      }\n\n      if (primary == null) {\n        primary = Math.min(ranges.length - 1, this.sel.primIndex);\n      }\n\n      setSelection(this, normalizeSelection(this.cm, out, primary), options);\n    }),\n    addSelection: docMethodOp(function (anchor, head, options) {\n      var ranges = this.sel.ranges.slice(0);\n      ranges.push(new Range(_clipPos(this, anchor), _clipPos(this, head || anchor)));\n      setSelection(this, normalizeSelection(this.cm, ranges, ranges.length - 1), options);\n    }),\n    getSelection: function getSelection(lineSep) {\n      var ranges = this.sel.ranges,\n          lines;\n\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        lines = lines ? lines.concat(sel) : sel;\n      }\n\n      if (lineSep === false) {\n        return lines;\n      } else {\n        return lines.join(lineSep || this.lineSeparator());\n      }\n    },\n    getSelections: function getSelections(lineSep) {\n      var parts = [],\n          ranges = this.sel.ranges;\n\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n\n        if (lineSep !== false) {\n          sel = sel.join(lineSep || this.lineSeparator());\n        }\n\n        parts[i] = sel;\n      }\n\n      return parts;\n    },\n    replaceSelection: function replaceSelection(code, collapse, origin) {\n      var dup = [];\n\n      for (var i = 0; i < this.sel.ranges.length; i++) {\n        dup[i] = code;\n      }\n\n      this.replaceSelections(dup, collapse, origin || \"+input\");\n    },\n    replaceSelections: docMethodOp(function (code, collapse, origin) {\n      var changes = [],\n          sel = this.sel;\n\n      for (var i = 0; i < sel.ranges.length; i++) {\n        var range = sel.ranges[i];\n        changes[i] = {\n          from: range.from(),\n          to: range.to(),\n          text: this.splitLines(code[i]),\n          origin: origin\n        };\n      }\n\n      var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n\n      for (var i$1 = changes.length - 1; i$1 >= 0; i$1--) {\n        makeChange(this, changes[i$1]);\n      }\n\n      if (newSel) {\n        setSelectionReplaceHistory(this, newSel);\n      } else if (this.cm) {\n        ensureCursorVisible(this.cm);\n      }\n    }),\n    undo: docMethodOp(function () {\n      makeChangeFromHistory(this, \"undo\");\n    }),\n    redo: docMethodOp(function () {\n      makeChangeFromHistory(this, \"redo\");\n    }),\n    undoSelection: docMethodOp(function () {\n      makeChangeFromHistory(this, \"undo\", true);\n    }),\n    redoSelection: docMethodOp(function () {\n      makeChangeFromHistory(this, \"redo\", true);\n    }),\n    setExtending: function setExtending(val) {\n      this.extend = val;\n    },\n    getExtending: function getExtending() {\n      return this.extend;\n    },\n    historySize: function historySize() {\n      var hist = this.history,\n          done = 0,\n          undone = 0;\n\n      for (var i = 0; i < hist.done.length; i++) {\n        if (!hist.done[i].ranges) {\n          ++done;\n        }\n      }\n\n      for (var i$1 = 0; i$1 < hist.undone.length; i$1++) {\n        if (!hist.undone[i$1].ranges) {\n          ++undone;\n        }\n      }\n\n      return {\n        undo: done,\n        redo: undone\n      };\n    },\n    clearHistory: function clearHistory() {\n      var this$1 = this;\n      this.history = new History(this.history);\n      linkedDocs(this, function (doc) {\n        return doc.history = this$1.history;\n      }, true);\n    },\n    markClean: function markClean() {\n      this.cleanGeneration = this.changeGeneration(true);\n    },\n    changeGeneration: function changeGeneration(forceSplit) {\n      if (forceSplit) {\n        this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null;\n      }\n\n      return this.history.generation;\n    },\n    isClean: function isClean(gen) {\n      return this.history.generation == (gen || this.cleanGeneration);\n    },\n    getHistory: function getHistory() {\n      return {\n        done: copyHistoryArray(this.history.done),\n        undone: copyHistoryArray(this.history.undone)\n      };\n    },\n    setHistory: function setHistory(histData) {\n      var hist = this.history = new History(this.history);\n      hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n    },\n    setGutterMarker: docMethodOp(function (line, gutterID, value) {\n      return changeLine(this, line, \"gutter\", function (line) {\n        var markers = line.gutterMarkers || (line.gutterMarkers = {});\n        markers[gutterID] = value;\n\n        if (!value && isEmpty(markers)) {\n          line.gutterMarkers = null;\n        }\n\n        return true;\n      });\n    }),\n    clearGutter: docMethodOp(function (gutterID) {\n      var this$1 = this;\n      this.iter(function (line) {\n        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n          changeLine(this$1, line, \"gutter\", function () {\n            line.gutterMarkers[gutterID] = null;\n\n            if (isEmpty(line.gutterMarkers)) {\n              line.gutterMarkers = null;\n            }\n\n            return true;\n          });\n        }\n      });\n    }),\n    lineInfo: function lineInfo(line) {\n      var n;\n\n      if (typeof line == \"number\") {\n        if (!isLine(this, line)) {\n          return null;\n        }\n\n        n = line;\n        line = getLine(this, line);\n\n        if (!line) {\n          return null;\n        }\n      } else {\n        n = lineNo(line);\n\n        if (n == null) {\n          return null;\n        }\n      }\n\n      return {\n        line: n,\n        handle: line,\n        text: line.text,\n        gutterMarkers: line.gutterMarkers,\n        textClass: line.textClass,\n        bgClass: line.bgClass,\n        wrapClass: line.wrapClass,\n        widgets: line.widgets\n      };\n    },\n    addLineClass: docMethodOp(function (handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\" : where == \"background\" ? \"bgClass\" : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n\n        if (!line[prop]) {\n          line[prop] = cls;\n        } else if (classTest(cls).test(line[prop])) {\n          return false;\n        } else {\n          line[prop] += \" \" + cls;\n        }\n\n        return true;\n      });\n    }),\n    removeLineClass: docMethodOp(function (handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\" : where == \"background\" ? \"bgClass\" : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        var cur = line[prop];\n\n        if (!cur) {\n          return false;\n        } else if (cls == null) {\n          line[prop] = null;\n        } else {\n          var found = cur.match(classTest(cls));\n\n          if (!found) {\n            return false;\n          }\n\n          var end = found.index + found[0].length;\n          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n        }\n\n        return true;\n      });\n    }),\n    addLineWidget: docMethodOp(function (handle, node, options) {\n      return addLineWidget(this, handle, node, options);\n    }),\n    removeLineWidget: function removeLineWidget(widget) {\n      widget.clear();\n    },\n    markText: function markText(from, to, options) {\n      return _markText(this, _clipPos(this, from), _clipPos(this, to), options, options && options.type || \"range\");\n    },\n    setBookmark: function setBookmark(pos, options) {\n      var realOpts = {\n        replacedWith: options && (options.nodeType == null ? options.widget : options),\n        insertLeft: options && options.insertLeft,\n        clearWhenEmpty: false,\n        shared: options && options.shared,\n        handleMouseEvents: options && options.handleMouseEvents\n      };\n      pos = _clipPos(this, pos);\n      return _markText(this, pos, pos, realOpts, \"bookmark\");\n    },\n    findMarksAt: function findMarksAt(pos) {\n      pos = _clipPos(this, pos);\n      var markers = [],\n          spans = getLine(this, pos.line).markedSpans;\n\n      if (spans) {\n        for (var i = 0; i < spans.length; ++i) {\n          var span = spans[i];\n\n          if ((span.from == null || span.from <= pos.ch) && (span.to == null || span.to >= pos.ch)) {\n            markers.push(span.marker.parent || span.marker);\n          }\n        }\n      }\n\n      return markers;\n    },\n    findMarks: function findMarks(from, to, filter) {\n      from = _clipPos(this, from);\n      to = _clipPos(this, to);\n      var found = [],\n          lineNo = from.line;\n      this.iter(from.line, to.line + 1, function (line) {\n        var spans = line.markedSpans;\n\n        if (spans) {\n          for (var i = 0; i < spans.length; i++) {\n            var span = spans[i];\n\n            if (!(span.to != null && lineNo == from.line && from.ch >= span.to || span.from == null && lineNo != from.line || span.from != null && lineNo == to.line && span.from >= to.ch) && (!filter || filter(span.marker))) {\n              found.push(span.marker.parent || span.marker);\n            }\n          }\n        }\n\n        ++lineNo;\n      });\n      return found;\n    },\n    getAllMarks: function getAllMarks() {\n      var markers = [];\n      this.iter(function (line) {\n        var sps = line.markedSpans;\n\n        if (sps) {\n          for (var i = 0; i < sps.length; ++i) {\n            if (sps[i].from != null) {\n              markers.push(sps[i].marker);\n            }\n          }\n        }\n      });\n      return markers;\n    },\n    posFromIndex: function posFromIndex(off) {\n      var ch,\n          lineNo = this.first,\n          sepSize = this.lineSeparator().length;\n      this.iter(function (line) {\n        var sz = line.text.length + sepSize;\n\n        if (sz > off) {\n          ch = off;\n          return true;\n        }\n\n        off -= sz;\n        ++lineNo;\n      });\n      return _clipPos(this, Pos(lineNo, ch));\n    },\n    indexFromPos: function indexFromPos(coords) {\n      coords = _clipPos(this, coords);\n      var index = coords.ch;\n\n      if (coords.line < this.first || coords.ch < 0) {\n        return 0;\n      }\n\n      var sepSize = this.lineSeparator().length;\n      this.iter(this.first, coords.line, function (line) {\n        // iter aborts when callback returns a truthy value\n        index += line.text.length + sepSize;\n      });\n      return index;\n    },\n    copy: function copy(copyHistory) {\n      var doc = new Doc(getLines(this, this.first, this.first + this.size), this.modeOption, this.first, this.lineSep, this.direction);\n      doc.scrollTop = this.scrollTop;\n      doc.scrollLeft = this.scrollLeft;\n      doc.sel = this.sel;\n      doc.extend = false;\n\n      if (copyHistory) {\n        doc.history.undoDepth = this.history.undoDepth;\n        doc.setHistory(this.getHistory());\n      }\n\n      return doc;\n    },\n    linkedDoc: function linkedDoc(options) {\n      if (!options) {\n        options = {};\n      }\n\n      var from = this.first,\n          to = this.first + this.size;\n\n      if (options.from != null && options.from > from) {\n        from = options.from;\n      }\n\n      if (options.to != null && options.to < to) {\n        to = options.to;\n      }\n\n      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);\n\n      if (options.sharedHist) {\n        copy.history = this.history;\n      }\n\n      (this.linked || (this.linked = [])).push({\n        doc: copy,\n        sharedHist: options.sharedHist\n      });\n      copy.linked = [{\n        doc: this,\n        isParent: true,\n        sharedHist: options.sharedHist\n      }];\n      copySharedMarkers(copy, findSharedMarkers(this));\n      return copy;\n    },\n    unlinkDoc: function unlinkDoc(other) {\n      if (other instanceof CodeMirror) {\n        other = other.doc;\n      }\n\n      if (this.linked) {\n        for (var i = 0; i < this.linked.length; ++i) {\n          var link = this.linked[i];\n\n          if (link.doc != other) {\n            continue;\n          }\n\n          this.linked.splice(i, 1);\n          other.unlinkDoc(this);\n          detachSharedMarkers(findSharedMarkers(this));\n          break;\n        }\n      } // If the histories were shared, split them again\n\n\n      if (other.history == this.history) {\n        var splitIds = [other.id];\n        linkedDocs(other, function (doc) {\n          return splitIds.push(doc.id);\n        }, true);\n        other.history = new History(null);\n        other.history.done = copyHistoryArray(this.history.done, splitIds);\n        other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n      }\n    },\n    iterLinkedDocs: function iterLinkedDocs(f) {\n      linkedDocs(this, f);\n    },\n    getMode: function getMode() {\n      return this.mode;\n    },\n    getEditor: function getEditor() {\n      return this.cm;\n    },\n    splitLines: function splitLines(str) {\n      if (this.lineSep) {\n        return str.split(this.lineSep);\n      }\n\n      return splitLinesAuto(str);\n    },\n    lineSeparator: function lineSeparator() {\n      return this.lineSep || \"\\n\";\n    },\n    setDirection: docMethodOp(function (dir) {\n      if (dir != \"rtl\") {\n        dir = \"ltr\";\n      }\n\n      if (dir == this.direction) {\n        return;\n      }\n\n      this.direction = dir;\n      this.iter(function (line) {\n        return line.order = null;\n      });\n\n      if (this.cm) {\n        directionChanged(this.cm);\n      }\n    })\n  }); // Public alias.\n\n  Doc.prototype.eachLine = Doc.prototype.iter; // Kludge to work around strange IE behavior where it'll sometimes\n  // re-fire a series of drag-related events right after the drop (#1551)\n\n  var lastDrop = 0;\n\n  function onDrop(e) {\n    var cm = this;\n    clearDragCursor(cm);\n\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) {\n      return;\n    }\n\n    e_preventDefault(e);\n\n    if (ie) {\n      lastDrop = +new Date();\n    }\n\n    var pos = posFromMouse(cm, e, true),\n        files = e.dataTransfer.files;\n\n    if (!pos || cm.isReadOnly()) {\n      return;\n    } // Might be a file drop, in which case we simply extract the text\n    // and insert it.\n\n\n    if (files && files.length && window.FileReader && window.File) {\n      var n = files.length,\n          text = Array(n),\n          read = 0;\n\n      var markAsReadAndPasteIfAllFilesAreRead = function markAsReadAndPasteIfAllFilesAreRead() {\n        if (++read == n) {\n          operation(cm, function () {\n            pos = _clipPos(cm.doc, pos);\n            var change = {\n              from: pos,\n              to: pos,\n              text: cm.doc.splitLines(text.filter(function (t) {\n                return t != null;\n              }).join(cm.doc.lineSeparator())),\n              origin: \"paste\"\n            };\n            makeChange(cm.doc, change);\n            setSelectionReplaceHistory(cm.doc, simpleSelection(_clipPos(cm.doc, pos), _clipPos(cm.doc, changeEnd(change))));\n          })();\n        }\n      };\n\n      var readTextFromFile = function readTextFromFile(file, i) {\n        if (cm.options.allowDropFileTypes && indexOf(cm.options.allowDropFileTypes, file.type) == -1) {\n          markAsReadAndPasteIfAllFilesAreRead();\n          return;\n        }\n\n        var reader = new FileReader();\n\n        reader.onerror = function () {\n          return markAsReadAndPasteIfAllFilesAreRead();\n        };\n\n        reader.onload = function () {\n          var content = reader.result;\n\n          if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) {\n            markAsReadAndPasteIfAllFilesAreRead();\n            return;\n          }\n\n          text[i] = content;\n          markAsReadAndPasteIfAllFilesAreRead();\n        };\n\n        reader.readAsText(file);\n      };\n\n      for (var i = 0; i < files.length; i++) {\n        readTextFromFile(files[i], i);\n      }\n    } else {\n      // Normal drop\n      // Don't do a replace if the drop happened inside of the selected text.\n      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n        cm.state.draggingText(e); // Ensure the editor is re-focused\n\n        setTimeout(function () {\n          return cm.display.input.focus();\n        }, 20);\n        return;\n      }\n\n      try {\n        var text$1 = e.dataTransfer.getData(\"Text\");\n\n        if (text$1) {\n          var selected;\n\n          if (cm.state.draggingText && !cm.state.draggingText.copy) {\n            selected = cm.listSelections();\n          }\n\n          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n\n          if (selected) {\n            for (var i$1 = 0; i$1 < selected.length; ++i$1) {\n              _replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\");\n            }\n          }\n\n          cm.replaceSelection(text$1, \"around\", \"paste\");\n          cm.display.input.focus();\n        }\n      } catch (e$1) {}\n    }\n  }\n\n  function onDragStart(cm, e) {\n    if (ie && (!cm.state.draggingText || +new Date() - lastDrop < 100)) {\n      e_stop(e);\n      return;\n    }\n\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) {\n      return;\n    }\n\n    e.dataTransfer.setData(\"Text\", cm.getSelection());\n    e.dataTransfer.effectAllowed = \"copyMove\"; // Use dummy image instead of default browsers image.\n    // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n\n    if (e.dataTransfer.setDragImage && !safari) {\n      var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n      img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n\n      if (presto) {\n        img.width = img.height = 1;\n        cm.display.wrapper.appendChild(img); // Force a relayout, or Opera won't use our image for some obscure reason\n\n        img._top = img.offsetTop;\n      }\n\n      e.dataTransfer.setDragImage(img, 0, 0);\n\n      if (presto) {\n        img.parentNode.removeChild(img);\n      }\n    }\n  }\n\n  function onDragOver(cm, e) {\n    var pos = posFromMouse(cm, e);\n\n    if (!pos) {\n      return;\n    }\n\n    var frag = document.createDocumentFragment();\n    drawSelectionCursor(cm, pos, frag);\n\n    if (!cm.display.dragCursor) {\n      cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n    }\n\n    removeChildrenAndAdd(cm.display.dragCursor, frag);\n  }\n\n  function clearDragCursor(cm) {\n    if (cm.display.dragCursor) {\n      cm.display.lineSpace.removeChild(cm.display.dragCursor);\n      cm.display.dragCursor = null;\n    }\n  } // These must be handled carefully, because naively registering a\n  // handler for each editor will cause the editors to never be\n  // garbage collected.\n\n\n  function forEachCodeMirror(f) {\n    if (!document.getElementsByClassName) {\n      return;\n    }\n\n    var byClass = document.getElementsByClassName(\"CodeMirror\"),\n        editors = [];\n\n    for (var i = 0; i < byClass.length; i++) {\n      var cm = byClass[i].CodeMirror;\n\n      if (cm) {\n        editors.push(cm);\n      }\n    }\n\n    if (editors.length) {\n      editors[0].operation(function () {\n        for (var i = 0; i < editors.length; i++) {\n          f(editors[i]);\n        }\n      });\n    }\n  }\n\n  var globalsRegistered = false;\n\n  function ensureGlobalHandlers() {\n    if (globalsRegistered) {\n      return;\n    }\n\n    registerGlobalHandlers();\n    globalsRegistered = true;\n  }\n\n  function registerGlobalHandlers() {\n    // When the window resizes, we need to refresh active editors.\n    var resizeTimer;\n    on(window, \"resize\", function () {\n      if (resizeTimer == null) {\n        resizeTimer = setTimeout(function () {\n          resizeTimer = null;\n          forEachCodeMirror(onResize);\n        }, 100);\n      }\n    }); // When the window loses focus, we want to show the editor as blurred\n\n    on(window, \"blur\", function () {\n      return forEachCodeMirror(onBlur);\n    });\n  } // Called when the window resizes\n\n\n  function onResize(cm) {\n    var d = cm.display; // Might be a text scaling operation, clear size caches.\n\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n    d.scrollbarsClipped = false;\n    cm.setSize();\n  }\n\n  var keyNames = {\n    3: \"Pause\",\n    8: \"Backspace\",\n    9: \"Tab\",\n    13: \"Enter\",\n    16: \"Shift\",\n    17: \"Ctrl\",\n    18: \"Alt\",\n    19: \"Pause\",\n    20: \"CapsLock\",\n    27: \"Esc\",\n    32: \"Space\",\n    33: \"PageUp\",\n    34: \"PageDown\",\n    35: \"End\",\n    36: \"Home\",\n    37: \"Left\",\n    38: \"Up\",\n    39: \"Right\",\n    40: \"Down\",\n    44: \"PrintScrn\",\n    45: \"Insert\",\n    46: \"Delete\",\n    59: \";\",\n    61: \"=\",\n    91: \"Mod\",\n    92: \"Mod\",\n    93: \"Mod\",\n    106: \"*\",\n    107: \"=\",\n    109: \"-\",\n    110: \".\",\n    111: \"/\",\n    145: \"ScrollLock\",\n    173: \"-\",\n    186: \";\",\n    187: \"=\",\n    188: \",\",\n    189: \"-\",\n    190: \".\",\n    191: \"/\",\n    192: \"`\",\n    219: \"[\",\n    220: \"\\\\\",\n    221: \"]\",\n    222: \"'\",\n    224: \"Mod\",\n    63232: \"Up\",\n    63233: \"Down\",\n    63234: \"Left\",\n    63235: \"Right\",\n    63272: \"Delete\",\n    63273: \"Home\",\n    63275: \"End\",\n    63276: \"PageUp\",\n    63277: \"PageDown\",\n    63302: \"Insert\"\n  }; // Number keys\n\n  for (var i = 0; i < 10; i++) {\n    keyNames[i + 48] = keyNames[i + 96] = String(i);\n  } // Alphabetic keys\n\n\n  for (var i$1 = 65; i$1 <= 90; i$1++) {\n    keyNames[i$1] = String.fromCharCode(i$1);\n  } // Function keys\n\n\n  for (var i$2 = 1; i$2 <= 12; i$2++) {\n    keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2;\n  }\n\n  var keyMap = {};\n  keyMap.basic = {\n    \"Left\": \"goCharLeft\",\n    \"Right\": \"goCharRight\",\n    \"Up\": \"goLineUp\",\n    \"Down\": \"goLineDown\",\n    \"End\": \"goLineEnd\",\n    \"Home\": \"goLineStartSmart\",\n    \"PageUp\": \"goPageUp\",\n    \"PageDown\": \"goPageDown\",\n    \"Delete\": \"delCharAfter\",\n    \"Backspace\": \"delCharBefore\",\n    \"Shift-Backspace\": \"delCharBefore\",\n    \"Tab\": \"defaultTab\",\n    \"Shift-Tab\": \"indentAuto\",\n    \"Enter\": \"newlineAndIndent\",\n    \"Insert\": \"toggleOverwrite\",\n    \"Esc\": \"singleSelection\"\n  }; // Note that the save and find-related commands aren't defined by\n  // default. User code or addons can define them. Unknown commands\n  // are simply ignored.\n\n  keyMap.pcDefault = {\n    \"Ctrl-A\": \"selectAll\",\n    \"Ctrl-D\": \"deleteLine\",\n    \"Ctrl-Z\": \"undo\",\n    \"Shift-Ctrl-Z\": \"redo\",\n    \"Ctrl-Y\": \"redo\",\n    \"Ctrl-Home\": \"goDocStart\",\n    \"Ctrl-End\": \"goDocEnd\",\n    \"Ctrl-Up\": \"goLineUp\",\n    \"Ctrl-Down\": \"goLineDown\",\n    \"Ctrl-Left\": \"goGroupLeft\",\n    \"Ctrl-Right\": \"goGroupRight\",\n    \"Alt-Left\": \"goLineStart\",\n    \"Alt-Right\": \"goLineEnd\",\n    \"Ctrl-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Delete\": \"delGroupAfter\",\n    \"Ctrl-S\": \"save\",\n    \"Ctrl-F\": \"find\",\n    \"Ctrl-G\": \"findNext\",\n    \"Shift-Ctrl-G\": \"findPrev\",\n    \"Shift-Ctrl-F\": \"replace\",\n    \"Shift-Ctrl-R\": \"replaceAll\",\n    \"Ctrl-[\": \"indentLess\",\n    \"Ctrl-]\": \"indentMore\",\n    \"Ctrl-U\": \"undoSelection\",\n    \"Shift-Ctrl-U\": \"redoSelection\",\n    \"Alt-U\": \"redoSelection\",\n    \"fallthrough\": \"basic\"\n  }; // Very basic readline/emacs-style bindings, which are standard on Mac.\n\n  keyMap.emacsy = {\n    \"Ctrl-F\": \"goCharRight\",\n    \"Ctrl-B\": \"goCharLeft\",\n    \"Ctrl-P\": \"goLineUp\",\n    \"Ctrl-N\": \"goLineDown\",\n    \"Ctrl-A\": \"goLineStart\",\n    \"Ctrl-E\": \"goLineEnd\",\n    \"Ctrl-V\": \"goPageDown\",\n    \"Shift-Ctrl-V\": \"goPageUp\",\n    \"Ctrl-D\": \"delCharAfter\",\n    \"Ctrl-H\": \"delCharBefore\",\n    \"Alt-Backspace\": \"delWordBefore\",\n    \"Ctrl-K\": \"killLine\",\n    \"Ctrl-T\": \"transposeChars\",\n    \"Ctrl-O\": \"openLine\"\n  };\n  keyMap.macDefault = {\n    \"Cmd-A\": \"selectAll\",\n    \"Cmd-D\": \"deleteLine\",\n    \"Cmd-Z\": \"undo\",\n    \"Shift-Cmd-Z\": \"redo\",\n    \"Cmd-Y\": \"redo\",\n    \"Cmd-Home\": \"goDocStart\",\n    \"Cmd-Up\": \"goDocStart\",\n    \"Cmd-End\": \"goDocEnd\",\n    \"Cmd-Down\": \"goDocEnd\",\n    \"Alt-Left\": \"goGroupLeft\",\n    \"Alt-Right\": \"goGroupRight\",\n    \"Cmd-Left\": \"goLineLeft\",\n    \"Cmd-Right\": \"goLineRight\",\n    \"Alt-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Alt-Backspace\": \"delGroupAfter\",\n    \"Alt-Delete\": \"delGroupAfter\",\n    \"Cmd-S\": \"save\",\n    \"Cmd-F\": \"find\",\n    \"Cmd-G\": \"findNext\",\n    \"Shift-Cmd-G\": \"findPrev\",\n    \"Cmd-Alt-F\": \"replace\",\n    \"Shift-Cmd-Alt-F\": \"replaceAll\",\n    \"Cmd-[\": \"indentLess\",\n    \"Cmd-]\": \"indentMore\",\n    \"Cmd-Backspace\": \"delWrappedLineLeft\",\n    \"Cmd-Delete\": \"delWrappedLineRight\",\n    \"Cmd-U\": \"undoSelection\",\n    \"Shift-Cmd-U\": \"redoSelection\",\n    \"Ctrl-Up\": \"goDocStart\",\n    \"Ctrl-Down\": \"goDocEnd\",\n    \"fallthrough\": [\"basic\", \"emacsy\"]\n  };\n  keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault; // KEYMAP DISPATCH\n\n  function normalizeKeyName(name) {\n    var parts = name.split(/-(?!$)/);\n    name = parts[parts.length - 1];\n    var alt, ctrl, shift, cmd;\n\n    for (var i = 0; i < parts.length - 1; i++) {\n      var mod = parts[i];\n\n      if (/^(cmd|meta|m)$/i.test(mod)) {\n        cmd = true;\n      } else if (/^a(lt)?$/i.test(mod)) {\n        alt = true;\n      } else if (/^(c|ctrl|control)$/i.test(mod)) {\n        ctrl = true;\n      } else if (/^s(hift)?$/i.test(mod)) {\n        shift = true;\n      } else {\n        throw new Error(\"Unrecognized modifier name: \" + mod);\n      }\n    }\n\n    if (alt) {\n      name = \"Alt-\" + name;\n    }\n\n    if (ctrl) {\n      name = \"Ctrl-\" + name;\n    }\n\n    if (cmd) {\n      name = \"Cmd-\" + name;\n    }\n\n    if (shift) {\n      name = \"Shift-\" + name;\n    }\n\n    return name;\n  } // This is a kludge to keep keymaps mostly working as raw objects\n  // (backwards compatibility) while at the same time support features\n  // like normalization and multi-stroke key bindings. It compiles a\n  // new normalized keymap, and then updates the old object to reflect\n  // this.\n\n\n  function normalizeKeyMap(keymap) {\n    var copy = {};\n\n    for (var keyname in keymap) {\n      if (keymap.hasOwnProperty(keyname)) {\n        var value = keymap[keyname];\n\n        if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) {\n          continue;\n        }\n\n        if (value == \"...\") {\n          delete keymap[keyname];\n          continue;\n        }\n\n        var keys = map(keyname.split(\" \"), normalizeKeyName);\n\n        for (var i = 0; i < keys.length; i++) {\n          var val = void 0,\n              name = void 0;\n\n          if (i == keys.length - 1) {\n            name = keys.join(\" \");\n            val = value;\n          } else {\n            name = keys.slice(0, i + 1).join(\" \");\n            val = \"...\";\n          }\n\n          var prev = copy[name];\n\n          if (!prev) {\n            copy[name] = val;\n          } else if (prev != val) {\n            throw new Error(\"Inconsistent bindings for \" + name);\n          }\n        }\n\n        delete keymap[keyname];\n      }\n    }\n\n    for (var prop in copy) {\n      keymap[prop] = copy[prop];\n    }\n\n    return keymap;\n  }\n\n  function lookupKey(key, map, handle, context) {\n    map = getKeyMap(map);\n    var found = map.call ? map.call(key, context) : map[key];\n\n    if (found === false) {\n      return \"nothing\";\n    }\n\n    if (found === \"...\") {\n      return \"multi\";\n    }\n\n    if (found != null && handle(found)) {\n      return \"handled\";\n    }\n\n    if (map.fallthrough) {\n      if (Object.prototype.toString.call(map.fallthrough) != \"[object Array]\") {\n        return lookupKey(key, map.fallthrough, handle, context);\n      }\n\n      for (var i = 0; i < map.fallthrough.length; i++) {\n        var result = lookupKey(key, map.fallthrough[i], handle, context);\n\n        if (result) {\n          return result;\n        }\n      }\n    }\n  } // Modifier key presses don't count as 'real' key presses for the\n  // purpose of keymap fallthrough.\n\n\n  function isModifierKey(value) {\n    var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n    return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\";\n  }\n\n  function addModifierNames(name, event, noShift) {\n    var base = name;\n\n    if (event.altKey && base != \"Alt\") {\n      name = \"Alt-\" + name;\n    }\n\n    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") {\n      name = \"Ctrl-\" + name;\n    }\n\n    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Mod\") {\n      name = \"Cmd-\" + name;\n    }\n\n    if (!noShift && event.shiftKey && base != \"Shift\") {\n      name = \"Shift-\" + name;\n    }\n\n    return name;\n  } // Look up the name of a key as indicated by an event object.\n\n\n  function keyName(event, noShift) {\n    if (presto && event.keyCode == 34 && event[\"char\"]) {\n      return false;\n    }\n\n    var name = keyNames[event.keyCode];\n\n    if (name == null || event.altGraphKey) {\n      return false;\n    } // Ctrl-ScrollLock has keyCode 3, same as Ctrl-Pause,\n    // so we'll use event.code when available (Chrome 48+, FF 38+, Safari 10.1+)\n\n\n    if (event.keyCode == 3 && event.code) {\n      name = event.code;\n    }\n\n    return addModifierNames(name, event, noShift);\n  }\n\n  function getKeyMap(val) {\n    return typeof val == \"string\" ? keyMap[val] : val;\n  } // Helper for deleting text near the selection(s), used to implement\n  // backspace, delete, and similar functionality.\n\n\n  function deleteNearSelection(cm, compute) {\n    var ranges = cm.doc.sel.ranges,\n        kill = []; // Build up a set of ranges to kill first, merging overlapping\n    // ranges.\n\n    for (var i = 0; i < ranges.length; i++) {\n      var toKill = compute(ranges[i]);\n\n      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n        var replaced = kill.pop();\n\n        if (cmp(replaced.from, toKill.from) < 0) {\n          toKill.from = replaced.from;\n          break;\n        }\n      }\n\n      kill.push(toKill);\n    } // Next, remove those actual ranges.\n\n\n    runInOp(cm, function () {\n      for (var i = kill.length - 1; i >= 0; i--) {\n        _replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\");\n      }\n\n      ensureCursorVisible(cm);\n    });\n  }\n\n  function moveCharLogically(line, ch, dir) {\n    var target = skipExtendingChars(line.text, ch + dir, dir);\n    return target < 0 || target > line.text.length ? null : target;\n  }\n\n  function moveLogically(line, start, dir) {\n    var ch = moveCharLogically(line, start.ch, dir);\n    return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\");\n  }\n\n  function endOfLine(visually, cm, lineObj, lineNo, dir) {\n    if (visually) {\n      if (cm.doc.direction == \"rtl\") {\n        dir = -dir;\n      }\n\n      var order = getOrder(lineObj, cm.doc.direction);\n\n      if (order) {\n        var part = dir < 0 ? lst(order) : order[0];\n        var moveInStorageOrder = dir < 0 == (part.level == 1);\n        var sticky = moveInStorageOrder ? \"after\" : \"before\";\n        var ch; // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\n        // it could be that the last bidi part is not on the last visual line,\n        // since visual lines contain content order-consecutive chunks.\n        // Thus, in rtl, we are looking for the first (content-order) character\n        // in the rtl chunk that is on the last line (that is, the same line\n        // as the last (content-order) character).\n\n        if (part.level > 0 || cm.doc.direction == \"rtl\") {\n          var prep = prepareMeasureForLine(cm, lineObj);\n          ch = dir < 0 ? lineObj.text.length - 1 : 0;\n          var targetTop = measureCharPrepared(cm, prep, ch).top;\n          ch = findFirst(function (ch) {\n            return measureCharPrepared(cm, prep, ch).top == targetTop;\n          }, dir < 0 == (part.level == 1) ? part.from : part.to - 1, ch);\n\n          if (sticky == \"before\") {\n            ch = moveCharLogically(lineObj, ch, 1);\n          }\n        } else {\n          ch = dir < 0 ? part.to : part.from;\n        }\n\n        return new Pos(lineNo, ch, sticky);\n      }\n    }\n\n    return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\");\n  }\n\n  function moveVisually(cm, line, start, dir) {\n    var bidi = getOrder(line, cm.doc.direction);\n\n    if (!bidi) {\n      return moveLogically(line, start, dir);\n    }\n\n    if (start.ch >= line.text.length) {\n      start.ch = line.text.length;\n      start.sticky = \"before\";\n    } else if (start.ch <= 0) {\n      start.ch = 0;\n      start.sticky = \"after\";\n    }\n\n    var partPos = getBidiPartAt(bidi, start.ch, start.sticky),\n        part = bidi[partPos];\n\n    if (cm.doc.direction == \"ltr\" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n      // Case 1: We move within an ltr part in an ltr editor. Even with wrapped lines,\n      // nothing interesting happens.\n      return moveLogically(line, start, dir);\n    }\n\n    var mv = function mv(pos, dir) {\n      return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir);\n    };\n\n    var prep;\n\n    var getWrappedLineExtent = function getWrappedLineExtent(ch) {\n      if (!cm.options.lineWrapping) {\n        return {\n          begin: 0,\n          end: line.text.length\n        };\n      }\n\n      prep = prep || prepareMeasureForLine(cm, line);\n      return wrappedLineExtentChar(cm, line, prep, ch);\n    };\n\n    var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch);\n\n    if (cm.doc.direction == \"rtl\" || part.level == 1) {\n      var moveInStorageOrder = part.level == 1 == dir < 0;\n      var ch = mv(start, moveInStorageOrder ? 1 : -1);\n\n      if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n        // Case 2: We move within an rtl part or in an rtl editor on the same visual line\n        var sticky = moveInStorageOrder ? \"before\" : \"after\";\n        return new Pos(start.line, ch, sticky);\n      }\n    } // Case 3: Could not move within this bidi part in this visual line, so leave\n    // the current bidi part\n\n\n    var searchInVisualLine = function searchInVisualLine(partPos, dir, wrappedLineExtent) {\n      var getRes = function getRes(ch, moveInStorageOrder) {\n        return moveInStorageOrder ? new Pos(start.line, mv(ch, 1), \"before\") : new Pos(start.line, ch, \"after\");\n      };\n\n      for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n        var part = bidi[partPos];\n        var moveInStorageOrder = dir > 0 == (part.level != 1);\n        var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1);\n\n        if (part.from <= ch && ch < part.to) {\n          return getRes(ch, moveInStorageOrder);\n        }\n\n        ch = moveInStorageOrder ? part.from : mv(part.to, -1);\n\n        if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) {\n          return getRes(ch, moveInStorageOrder);\n        }\n      }\n    }; // Case 3a: Look for other bidi parts on the same visual line\n\n\n    var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent);\n\n    if (res) {\n      return res;\n    } // Case 3b: Look for other bidi parts on the next visual line\n\n\n    var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1);\n\n    if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n      res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));\n\n      if (res) {\n        return res;\n      }\n    } // Case 4: Nowhere to move\n\n\n    return null;\n  } // Commands are parameter-less actions that can be performed on an\n  // editor, mostly used for keybindings.\n\n\n  var commands = {\n    selectAll: selectAll,\n    singleSelection: function singleSelection(cm) {\n      return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll);\n    },\n    killLine: function killLine(cm) {\n      return deleteNearSelection(cm, function (range) {\n        if (range.empty()) {\n          var len = getLine(cm.doc, range.head.line).text.length;\n\n          if (range.head.ch == len && range.head.line < cm.lastLine()) {\n            return {\n              from: range.head,\n              to: Pos(range.head.line + 1, 0)\n            };\n          } else {\n            return {\n              from: range.head,\n              to: Pos(range.head.line, len)\n            };\n          }\n        } else {\n          return {\n            from: range.from(),\n            to: range.to()\n          };\n        }\n      });\n    },\n    deleteLine: function deleteLine(cm) {\n      return deleteNearSelection(cm, function (range) {\n        return {\n          from: Pos(range.from().line, 0),\n          to: _clipPos(cm.doc, Pos(range.to().line + 1, 0))\n        };\n      });\n    },\n    delLineLeft: function delLineLeft(cm) {\n      return deleteNearSelection(cm, function (range) {\n        return {\n          from: Pos(range.from().line, 0),\n          to: range.from()\n        };\n      });\n    },\n    delWrappedLineLeft: function delWrappedLineLeft(cm) {\n      return deleteNearSelection(cm, function (range) {\n        var top = cm.charCoords(range.head, \"div\").top + 5;\n        var leftPos = cm.coordsChar({\n          left: 0,\n          top: top\n        }, \"div\");\n        return {\n          from: leftPos,\n          to: range.from()\n        };\n      });\n    },\n    delWrappedLineRight: function delWrappedLineRight(cm) {\n      return deleteNearSelection(cm, function (range) {\n        var top = cm.charCoords(range.head, \"div\").top + 5;\n        var rightPos = cm.coordsChar({\n          left: cm.display.lineDiv.offsetWidth + 100,\n          top: top\n        }, \"div\");\n        return {\n          from: range.from(),\n          to: rightPos\n        };\n      });\n    },\n    undo: function undo(cm) {\n      return cm.undo();\n    },\n    redo: function redo(cm) {\n      return cm.redo();\n    },\n    undoSelection: function undoSelection(cm) {\n      return cm.undoSelection();\n    },\n    redoSelection: function redoSelection(cm) {\n      return cm.redoSelection();\n    },\n    goDocStart: function goDocStart(cm) {\n      return cm.extendSelection(Pos(cm.firstLine(), 0));\n    },\n    goDocEnd: function goDocEnd(cm) {\n      return cm.extendSelection(Pos(cm.lastLine()));\n    },\n    goLineStart: function goLineStart(cm) {\n      return cm.extendSelectionsBy(function (range) {\n        return lineStart(cm, range.head.line);\n      }, {\n        origin: \"+move\",\n        bias: 1\n      });\n    },\n    goLineStartSmart: function goLineStartSmart(cm) {\n      return cm.extendSelectionsBy(function (range) {\n        return lineStartSmart(cm, range.head);\n      }, {\n        origin: \"+move\",\n        bias: 1\n      });\n    },\n    goLineEnd: function goLineEnd(cm) {\n      return cm.extendSelectionsBy(function (range) {\n        return lineEnd(cm, range.head.line);\n      }, {\n        origin: \"+move\",\n        bias: -1\n      });\n    },\n    goLineRight: function goLineRight(cm) {\n      return cm.extendSelectionsBy(function (range) {\n        var top = cm.cursorCoords(range.head, \"div\").top + 5;\n        return cm.coordsChar({\n          left: cm.display.lineDiv.offsetWidth + 100,\n          top: top\n        }, \"div\");\n      }, sel_move);\n    },\n    goLineLeft: function goLineLeft(cm) {\n      return cm.extendSelectionsBy(function (range) {\n        var top = cm.cursorCoords(range.head, \"div\").top + 5;\n        return cm.coordsChar({\n          left: 0,\n          top: top\n        }, \"div\");\n      }, sel_move);\n    },\n    goLineLeftSmart: function goLineLeftSmart(cm) {\n      return cm.extendSelectionsBy(function (range) {\n        var top = cm.cursorCoords(range.head, \"div\").top + 5;\n        var pos = cm.coordsChar({\n          left: 0,\n          top: top\n        }, \"div\");\n\n        if (pos.ch < cm.getLine(pos.line).search(/\\S/)) {\n          return lineStartSmart(cm, range.head);\n        }\n\n        return pos;\n      }, sel_move);\n    },\n    goLineUp: function goLineUp(cm) {\n      return cm.moveV(-1, \"line\");\n    },\n    goLineDown: function goLineDown(cm) {\n      return cm.moveV(1, \"line\");\n    },\n    goPageUp: function goPageUp(cm) {\n      return cm.moveV(-1, \"page\");\n    },\n    goPageDown: function goPageDown(cm) {\n      return cm.moveV(1, \"page\");\n    },\n    goCharLeft: function goCharLeft(cm) {\n      return cm.moveH(-1, \"char\");\n    },\n    goCharRight: function goCharRight(cm) {\n      return cm.moveH(1, \"char\");\n    },\n    goColumnLeft: function goColumnLeft(cm) {\n      return cm.moveH(-1, \"column\");\n    },\n    goColumnRight: function goColumnRight(cm) {\n      return cm.moveH(1, \"column\");\n    },\n    goWordLeft: function goWordLeft(cm) {\n      return cm.moveH(-1, \"word\");\n    },\n    goGroupRight: function goGroupRight(cm) {\n      return cm.moveH(1, \"group\");\n    },\n    goGroupLeft: function goGroupLeft(cm) {\n      return cm.moveH(-1, \"group\");\n    },\n    goWordRight: function goWordRight(cm) {\n      return cm.moveH(1, \"word\");\n    },\n    delCharBefore: function delCharBefore(cm) {\n      return cm.deleteH(-1, \"codepoint\");\n    },\n    delCharAfter: function delCharAfter(cm) {\n      return cm.deleteH(1, \"char\");\n    },\n    delWordBefore: function delWordBefore(cm) {\n      return cm.deleteH(-1, \"word\");\n    },\n    delWordAfter: function delWordAfter(cm) {\n      return cm.deleteH(1, \"word\");\n    },\n    delGroupBefore: function delGroupBefore(cm) {\n      return cm.deleteH(-1, \"group\");\n    },\n    delGroupAfter: function delGroupAfter(cm) {\n      return cm.deleteH(1, \"group\");\n    },\n    indentAuto: function indentAuto(cm) {\n      return cm.indentSelection(\"smart\");\n    },\n    indentMore: function indentMore(cm) {\n      return cm.indentSelection(\"add\");\n    },\n    indentLess: function indentLess(cm) {\n      return cm.indentSelection(\"subtract\");\n    },\n    insertTab: function insertTab(cm) {\n      return cm.replaceSelection(\"\\t\");\n    },\n    insertSoftTab: function insertSoftTab(cm) {\n      var spaces = [],\n          ranges = cm.listSelections(),\n          tabSize = cm.options.tabSize;\n\n      for (var i = 0; i < ranges.length; i++) {\n        var pos = ranges[i].from();\n        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n        spaces.push(spaceStr(tabSize - col % tabSize));\n      }\n\n      cm.replaceSelections(spaces);\n    },\n    defaultTab: function defaultTab(cm) {\n      if (cm.somethingSelected()) {\n        cm.indentSelection(\"add\");\n      } else {\n        cm.execCommand(\"insertTab\");\n      }\n    },\n    // Swap the two chars left and right of each selection's head.\n    // Move cursor behind the two swapped characters afterwards.\n    //\n    // Doesn't consider line feeds a character.\n    // Doesn't scan more than one line above to find a character.\n    // Doesn't do anything on an empty line.\n    // Doesn't do anything with non-empty selections.\n    transposeChars: function transposeChars(cm) {\n      return runInOp(cm, function () {\n        var ranges = cm.listSelections(),\n            newSel = [];\n\n        for (var i = 0; i < ranges.length; i++) {\n          if (!ranges[i].empty()) {\n            continue;\n          }\n\n          var cur = ranges[i].head,\n              line = getLine(cm.doc, cur.line).text;\n\n          if (line) {\n            if (cur.ch == line.length) {\n              cur = new Pos(cur.line, cur.ch - 1);\n            }\n\n            if (cur.ch > 0) {\n              cur = new Pos(cur.line, cur.ch + 1);\n              cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2), Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n            } else if (cur.line > cm.doc.first) {\n              var prev = getLine(cm.doc, cur.line - 1).text;\n\n              if (prev) {\n                cur = new Pos(cur.line, 1);\n                cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() + prev.charAt(prev.length - 1), Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\");\n              }\n            }\n          }\n\n          newSel.push(new Range(cur, cur));\n        }\n\n        cm.setSelections(newSel);\n      });\n    },\n    newlineAndIndent: function newlineAndIndent(cm) {\n      return runInOp(cm, function () {\n        var sels = cm.listSelections();\n\n        for (var i = sels.length - 1; i >= 0; i--) {\n          cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\");\n        }\n\n        sels = cm.listSelections();\n\n        for (var i$1 = 0; i$1 < sels.length; i$1++) {\n          cm.indentLine(sels[i$1].from().line, null, true);\n        }\n\n        ensureCursorVisible(cm);\n      });\n    },\n    openLine: function openLine(cm) {\n      return cm.replaceSelection(\"\\n\", \"start\");\n    },\n    toggleOverwrite: function toggleOverwrite(cm) {\n      return cm.toggleOverwrite();\n    }\n  };\n\n  function lineStart(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLine(line);\n\n    if (visual != line) {\n      lineN = lineNo(visual);\n    }\n\n    return endOfLine(true, cm, visual, lineN, 1);\n  }\n\n  function lineEnd(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLineEnd(line);\n\n    if (visual != line) {\n      lineN = lineNo(visual);\n    }\n\n    return endOfLine(true, cm, line, lineN, -1);\n  }\n\n  function lineStartSmart(cm, pos) {\n    var start = lineStart(cm, pos.line);\n    var line = getLine(cm.doc, start.line);\n    var order = getOrder(line, cm.doc.direction);\n\n    if (!order || order[0].level == 0) {\n      var firstNonWS = Math.max(start.ch, line.text.search(/\\S/));\n      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n      return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky);\n    }\n\n    return start;\n  } // Run a handler that was bound to a key.\n\n\n  function doHandleBinding(cm, bound, dropShift) {\n    if (typeof bound == \"string\") {\n      bound = commands[bound];\n\n      if (!bound) {\n        return false;\n      }\n    } // Ensure previous input has been read, so that the handler sees a\n    // consistent view of the document\n\n\n    cm.display.input.ensurePolled();\n    var prevShift = cm.display.shift,\n        done = false;\n\n    try {\n      if (cm.isReadOnly()) {\n        cm.state.suppressEdits = true;\n      }\n\n      if (dropShift) {\n        cm.display.shift = false;\n      }\n\n      done = bound(cm) != Pass;\n    } finally {\n      cm.display.shift = prevShift;\n      cm.state.suppressEdits = false;\n    }\n\n    return done;\n  }\n\n  function lookupKeyForEditor(cm, name, handle) {\n    for (var i = 0; i < cm.state.keyMaps.length; i++) {\n      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n\n      if (result) {\n        return result;\n      }\n    }\n\n    return cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm) || lookupKey(name, cm.options.keyMap, handle, cm);\n  } // Note that, despite the name, this function is also used to check\n  // for bound mouse clicks.\n\n\n  var stopSeq = new Delayed();\n\n  function dispatchKey(cm, name, e, handle) {\n    var seq = cm.state.keySeq;\n\n    if (seq) {\n      if (isModifierKey(name)) {\n        return \"handled\";\n      }\n\n      if (/\\'$/.test(name)) {\n        cm.state.keySeq = null;\n      } else {\n        stopSeq.set(50, function () {\n          if (cm.state.keySeq == seq) {\n            cm.state.keySeq = null;\n            cm.display.input.reset();\n          }\n        });\n      }\n\n      if (dispatchKeyInner(cm, seq + \" \" + name, e, handle)) {\n        return true;\n      }\n    }\n\n    return dispatchKeyInner(cm, name, e, handle);\n  }\n\n  function dispatchKeyInner(cm, name, e, handle) {\n    var result = lookupKeyForEditor(cm, name, handle);\n\n    if (result == \"multi\") {\n      cm.state.keySeq = name;\n    }\n\n    if (result == \"handled\") {\n      signalLater(cm, \"keyHandled\", cm, name, e);\n    }\n\n    if (result == \"handled\" || result == \"multi\") {\n      e_preventDefault(e);\n      restartBlink(cm);\n    }\n\n    return !!result;\n  } // Handle a key from the keydown event.\n\n\n  function handleKeyBinding(cm, e) {\n    var name = keyName(e, true);\n\n    if (!name) {\n      return false;\n    }\n\n    if (e.shiftKey && !cm.state.keySeq) {\n      // First try to resolve full name (including 'Shift-'). Failing\n      // that, see if there is a cursor-motion command (starting with\n      // 'go') bound to the keyname without 'Shift-'.\n      return dispatchKey(cm, \"Shift-\" + name, e, function (b) {\n        return doHandleBinding(cm, b, true);\n      }) || dispatchKey(cm, name, e, function (b) {\n        if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion) {\n          return doHandleBinding(cm, b);\n        }\n      });\n    } else {\n      return dispatchKey(cm, name, e, function (b) {\n        return doHandleBinding(cm, b);\n      });\n    }\n  } // Handle a key from the keypress event\n\n\n  function handleCharBinding(cm, e, ch) {\n    return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) {\n      return doHandleBinding(cm, b, true);\n    });\n  }\n\n  var lastStoppedKey = null;\n\n  function onKeyDown(e) {\n    var cm = this;\n\n    if (e.target && e.target != cm.display.input.getField()) {\n      return;\n    }\n\n    cm.curOp.focus = activeElt();\n\n    if (signalDOMEvent(cm, e)) {\n      return;\n    } // IE does strange things with escape.\n\n\n    if (ie && ie_version < 11 && e.keyCode == 27) {\n      e.returnValue = false;\n    }\n\n    var code = e.keyCode;\n    cm.display.shift = code == 16 || e.shiftKey;\n    var handled = handleKeyBinding(cm, e);\n\n    if (presto) {\n      lastStoppedKey = handled ? code : null; // Opera has no cut event... we try to at least catch the key combo\n\n      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey)) {\n        cm.replaceSelection(\"\", null, \"cut\");\n      }\n    }\n\n    if (gecko && !mac && !handled && code == 46 && e.shiftKey && !e.ctrlKey && document.execCommand) {\n      document.execCommand(\"cut\");\n    } // Turn mouse into crosshair when Alt is held on Mac.\n\n\n    if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className)) {\n      showCrossHair(cm);\n    }\n  }\n\n  function showCrossHair(cm) {\n    var lineDiv = cm.display.lineDiv;\n    addClass(lineDiv, \"CodeMirror-crosshair\");\n\n    function up(e) {\n      if (e.keyCode == 18 || !e.altKey) {\n        rmClass(lineDiv, \"CodeMirror-crosshair\");\n        off(document, \"keyup\", up);\n        off(document, \"mouseover\", up);\n      }\n    }\n\n    on(document, \"keyup\", up);\n    on(document, \"mouseover\", up);\n  }\n\n  function onKeyUp(e) {\n    if (e.keyCode == 16) {\n      this.doc.sel.shift = false;\n    }\n\n    signalDOMEvent(this, e);\n  }\n\n  function onKeyPress(e) {\n    var cm = this;\n\n    if (e.target && e.target != cm.display.input.getField()) {\n      return;\n    }\n\n    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) {\n      return;\n    }\n\n    var keyCode = e.keyCode,\n        charCode = e.charCode;\n\n    if (presto && keyCode == lastStoppedKey) {\n      lastStoppedKey = null;\n      e_preventDefault(e);\n      return;\n    }\n\n    if (presto && (!e.which || e.which < 10) && handleKeyBinding(cm, e)) {\n      return;\n    }\n\n    var ch = String.fromCharCode(charCode == null ? keyCode : charCode); // Some browsers fire keypress events for backspace\n\n    if (ch == \"\\x08\") {\n      return;\n    }\n\n    if (handleCharBinding(cm, e, ch)) {\n      return;\n    }\n\n    cm.display.input.onKeyPress(e);\n  }\n\n  var DOUBLECLICK_DELAY = 400;\n\n  var PastClick = function PastClick(time, pos, button) {\n    this.time = time;\n    this.pos = pos;\n    this.button = button;\n  };\n\n  PastClick.prototype.compare = function (time, pos, button) {\n    return this.time + DOUBLECLICK_DELAY > time && cmp(pos, this.pos) == 0 && button == this.button;\n  };\n\n  var lastClick, lastDoubleClick;\n\n  function clickRepeat(pos, button) {\n    var now = +new Date();\n\n    if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {\n      lastClick = lastDoubleClick = null;\n      return \"triple\";\n    } else if (lastClick && lastClick.compare(now, pos, button)) {\n      lastDoubleClick = new PastClick(now, pos, button);\n      lastClick = null;\n      return \"double\";\n    } else {\n      lastClick = new PastClick(now, pos, button);\n      lastDoubleClick = null;\n      return \"single\";\n    }\n  } // A mouse down can be a single click, double click, triple click,\n  // start of selection drag, start of text drag, new cursor\n  // (ctrl-click), rectangle drag (alt-drag), or xwin\n  // middle-click-paste. Or it might be a click on something we should\n  // not interfere with, such as a scrollbar or widget.\n\n\n  function onMouseDown(e) {\n    var cm = this,\n        display = cm.display;\n\n    if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) {\n      return;\n    }\n\n    display.input.ensurePolled();\n    display.shift = e.shiftKey;\n\n    if (eventInWidget(display, e)) {\n      if (!webkit) {\n        // Briefly turn off draggability, to allow widgets to do\n        // normal dragging things.\n        display.scroller.draggable = false;\n        setTimeout(function () {\n          return display.scroller.draggable = true;\n        }, 100);\n      }\n\n      return;\n    }\n\n    if (clickInGutter(cm, e)) {\n      return;\n    }\n\n    var pos = posFromMouse(cm, e),\n        button = e_button(e),\n        repeat = pos ? clickRepeat(pos, button) : \"single\";\n    window.focus(); // #3261: make sure, that we're not starting a second selection\n\n    if (button == 1 && cm.state.selectingText) {\n      cm.state.selectingText(e);\n    }\n\n    if (pos && handleMappedButton(cm, button, pos, repeat, e)) {\n      return;\n    }\n\n    if (button == 1) {\n      if (pos) {\n        leftButtonDown(cm, pos, repeat, e);\n      } else if (e_target(e) == display.scroller) {\n        e_preventDefault(e);\n      }\n    } else if (button == 2) {\n      if (pos) {\n        extendSelection(cm.doc, pos);\n      }\n\n      setTimeout(function () {\n        return display.input.focus();\n      }, 20);\n    } else if (button == 3) {\n      if (captureRightClick) {\n        cm.display.input.onContextMenu(e);\n      } else {\n        delayBlurEvent(cm);\n      }\n    }\n  }\n\n  function handleMappedButton(cm, button, pos, repeat, event) {\n    var name = \"Click\";\n\n    if (repeat == \"double\") {\n      name = \"Double\" + name;\n    } else if (repeat == \"triple\") {\n      name = \"Triple\" + name;\n    }\n\n    name = (button == 1 ? \"Left\" : button == 2 ? \"Middle\" : \"Right\") + name;\n    return dispatchKey(cm, addModifierNames(name, event), event, function (bound) {\n      if (typeof bound == \"string\") {\n        bound = commands[bound];\n      }\n\n      if (!bound) {\n        return false;\n      }\n\n      var done = false;\n\n      try {\n        if (cm.isReadOnly()) {\n          cm.state.suppressEdits = true;\n        }\n\n        done = bound(cm, pos) != Pass;\n      } finally {\n        cm.state.suppressEdits = false;\n      }\n\n      return done;\n    });\n  }\n\n  function configureMouse(cm, repeat, event) {\n    var option = cm.getOption(\"configureMouse\");\n    var value = option ? option(cm, repeat, event) : {};\n\n    if (value.unit == null) {\n      var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;\n      value.unit = rect ? \"rectangle\" : repeat == \"single\" ? \"char\" : repeat == \"double\" ? \"word\" : \"line\";\n    }\n\n    if (value.extend == null || cm.doc.extend) {\n      value.extend = cm.doc.extend || event.shiftKey;\n    }\n\n    if (value.addNew == null) {\n      value.addNew = mac ? event.metaKey : event.ctrlKey;\n    }\n\n    if (value.moveOnDrag == null) {\n      value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey);\n    }\n\n    return value;\n  }\n\n  function leftButtonDown(cm, pos, repeat, event) {\n    if (ie) {\n      setTimeout(bind(ensureFocus, cm), 0);\n    } else {\n      cm.curOp.focus = activeElt();\n    }\n\n    var behavior = configureMouse(cm, repeat, event);\n    var sel = cm.doc.sel,\n        contained;\n\n    if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() && repeat == \"single\" && (contained = sel.contains(pos)) > -1 && (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) && (cmp(contained.to(), pos) > 0 || pos.xRel < 0)) {\n      leftButtonStartDrag(cm, event, pos, behavior);\n    } else {\n      leftButtonSelect(cm, event, pos, behavior);\n    }\n  } // Start a text drag. When it ends, see if any dragging actually\n  // happen, and treat as a click if it didn't.\n\n\n  function leftButtonStartDrag(cm, event, pos, behavior) {\n    var display = cm.display,\n        moved = false;\n    var dragEnd = operation(cm, function (e) {\n      if (webkit) {\n        display.scroller.draggable = false;\n      }\n\n      cm.state.draggingText = false;\n\n      if (cm.state.delayingBlurEvent) {\n        if (cm.hasFocus()) {\n          cm.state.delayingBlurEvent = false;\n        } else {\n          delayBlurEvent(cm);\n        }\n      }\n\n      off(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n      off(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n      off(display.scroller, \"dragstart\", dragStart);\n      off(display.scroller, \"drop\", dragEnd);\n\n      if (!moved) {\n        e_preventDefault(e);\n\n        if (!behavior.addNew) {\n          extendSelection(cm.doc, pos, null, null, behavior.extend);\n        } // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n\n\n        if (webkit && !safari || ie && ie_version == 9) {\n          setTimeout(function () {\n            display.wrapper.ownerDocument.body.focus({\n              preventScroll: true\n            });\n            display.input.focus();\n          }, 20);\n        } else {\n          display.input.focus();\n        }\n      }\n    });\n\n    var mouseMove = function mouseMove(e2) {\n      moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;\n    };\n\n    var dragStart = function dragStart() {\n      return moved = true;\n    }; // Let the drag handler handle this.\n\n\n    if (webkit) {\n      display.scroller.draggable = true;\n    }\n\n    cm.state.draggingText = dragEnd;\n    dragEnd.copy = !behavior.moveOnDrag;\n    on(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n    on(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n    on(display.scroller, \"dragstart\", dragStart);\n    on(display.scroller, \"drop\", dragEnd);\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () {\n      return display.input.focus();\n    }, 20); // IE's approach to draggable\n\n    if (display.scroller.dragDrop) {\n      display.scroller.dragDrop();\n    }\n  }\n\n  function rangeForUnit(cm, pos, unit) {\n    if (unit == \"char\") {\n      return new Range(pos, pos);\n    }\n\n    if (unit == \"word\") {\n      return cm.findWordAt(pos);\n    }\n\n    if (unit == \"line\") {\n      return new Range(Pos(pos.line, 0), _clipPos(cm.doc, Pos(pos.line + 1, 0)));\n    }\n\n    var result = unit(cm, pos);\n    return new Range(result.from, result.to);\n  } // Normal selection, as opposed to text dragging.\n\n\n  function leftButtonSelect(cm, event, start, behavior) {\n    if (ie) {\n      delayBlurEvent(cm);\n    }\n\n    var display = cm.display,\n        doc = cm.doc;\n    e_preventDefault(event);\n    var ourRange,\n        ourIndex,\n        startSel = doc.sel,\n        ranges = startSel.ranges;\n\n    if (behavior.addNew && !behavior.extend) {\n      ourIndex = doc.sel.contains(start);\n\n      if (ourIndex > -1) {\n        ourRange = ranges[ourIndex];\n      } else {\n        ourRange = new Range(start, start);\n      }\n    } else {\n      ourRange = doc.sel.primary();\n      ourIndex = doc.sel.primIndex;\n    }\n\n    if (behavior.unit == \"rectangle\") {\n      if (!behavior.addNew) {\n        ourRange = new Range(start, start);\n      }\n\n      start = posFromMouse(cm, event, true, true);\n      ourIndex = -1;\n    } else {\n      var range = rangeForUnit(cm, start, behavior.unit);\n\n      if (behavior.extend) {\n        ourRange = extendRange(ourRange, range.anchor, range.head, behavior.extend);\n      } else {\n        ourRange = range;\n      }\n    }\n\n    if (!behavior.addNew) {\n      ourIndex = 0;\n      setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n      startSel = doc.sel;\n    } else if (ourIndex == -1) {\n      ourIndex = ranges.length;\n      setSelection(doc, normalizeSelection(cm, ranges.concat([ourRange]), ourIndex), {\n        scroll: false,\n        origin: \"*mouse\"\n      });\n    } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == \"char\" && !behavior.extend) {\n      setSelection(doc, normalizeSelection(cm, ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0), {\n        scroll: false,\n        origin: \"*mouse\"\n      });\n      startSel = doc.sel;\n    } else {\n      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n    }\n\n    var lastPos = start;\n\n    function extendTo(pos) {\n      if (cmp(lastPos, pos) == 0) {\n        return;\n      }\n\n      lastPos = pos;\n\n      if (behavior.unit == \"rectangle\") {\n        var ranges = [],\n            tabSize = cm.options.tabSize;\n        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n        var left = Math.min(startCol, posCol),\n            right = Math.max(startCol, posCol);\n\n        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line)); line <= end; line++) {\n          var text = getLine(doc, line).text,\n              leftPos = findColumn(text, left, tabSize);\n\n          if (left == right) {\n            ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos)));\n          } else if (text.length > leftPos) {\n            ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize))));\n          }\n        }\n\n        if (!ranges.length) {\n          ranges.push(new Range(start, start));\n        }\n\n        setSelection(doc, normalizeSelection(cm, startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex), {\n          origin: \"*mouse\",\n          scroll: false\n        });\n        cm.scrollIntoView(pos);\n      } else {\n        var oldRange = ourRange;\n        var range = rangeForUnit(cm, pos, behavior.unit);\n        var anchor = oldRange.anchor,\n            head;\n\n        if (cmp(range.anchor, anchor) > 0) {\n          head = range.head;\n          anchor = minPos(oldRange.from(), range.anchor);\n        } else {\n          head = range.anchor;\n          anchor = maxPos(oldRange.to(), range.head);\n        }\n\n        var ranges$1 = startSel.ranges.slice(0);\n        ranges$1[ourIndex] = bidiSimplify(cm, new Range(_clipPos(doc, anchor), head));\n        setSelection(doc, normalizeSelection(cm, ranges$1, ourIndex), sel_mouse);\n      }\n    }\n\n    var editorSize = display.wrapper.getBoundingClientRect(); // Used to ensure timeout re-tries don't fire when another extend\n    // happened in the meantime (clearTimeout isn't reliable -- at\n    // least on Chrome, the timeouts still happen even when cleared,\n    // if the clear happens after their scheduled firing time).\n\n    var counter = 0;\n\n    function extend(e) {\n      var curCount = ++counter;\n      var cur = posFromMouse(cm, e, true, behavior.unit == \"rectangle\");\n\n      if (!cur) {\n        return;\n      }\n\n      if (cmp(cur, lastPos) != 0) {\n        cm.curOp.focus = activeElt();\n        extendTo(cur);\n        var visible = visibleLines(display, doc);\n\n        if (cur.line >= visible.to || cur.line < visible.from) {\n          setTimeout(operation(cm, function () {\n            if (counter == curCount) {\n              extend(e);\n            }\n          }), 150);\n        }\n      } else {\n        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n\n        if (outside) {\n          setTimeout(operation(cm, function () {\n            if (counter != curCount) {\n              return;\n            }\n\n            display.scroller.scrollTop += outside;\n            extend(e);\n          }), 50);\n        }\n      }\n    }\n\n    function done(e) {\n      cm.state.selectingText = false;\n      counter = Infinity; // If e is null or undefined we interpret this as someone trying\n      // to explicitly cancel the selection rather than the user\n      // letting go of the mouse button.\n\n      if (e) {\n        e_preventDefault(e);\n        display.input.focus();\n      }\n\n      off(display.wrapper.ownerDocument, \"mousemove\", move);\n      off(display.wrapper.ownerDocument, \"mouseup\", up);\n      doc.history.lastSelOrigin = null;\n    }\n\n    var move = operation(cm, function (e) {\n      if (e.buttons === 0 || !e_button(e)) {\n        done(e);\n      } else {\n        extend(e);\n      }\n    });\n    var up = operation(cm, done);\n    cm.state.selectingText = up;\n    on(display.wrapper.ownerDocument, \"mousemove\", move);\n    on(display.wrapper.ownerDocument, \"mouseup\", up);\n  } // Used when mouse-selecting to adjust the anchor to the proper side\n  // of a bidi jump depending on the visual position of the head.\n\n\n  function bidiSimplify(cm, range) {\n    var anchor = range.anchor;\n    var head = range.head;\n    var anchorLine = getLine(cm.doc, anchor.line);\n\n    if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) {\n      return range;\n    }\n\n    var order = getOrder(anchorLine);\n\n    if (!order) {\n      return range;\n    }\n\n    var index = getBidiPartAt(order, anchor.ch, anchor.sticky),\n        part = order[index];\n\n    if (part.from != anchor.ch && part.to != anchor.ch) {\n      return range;\n    }\n\n    var boundary = index + (part.from == anchor.ch == (part.level != 1) ? 0 : 1);\n\n    if (boundary == 0 || boundary == order.length) {\n      return range;\n    } // Compute the relative visual position of the head compared to the\n    // anchor (<0 is to the left, >0 to the right)\n\n\n    var leftSide;\n\n    if (head.line != anchor.line) {\n      leftSide = (head.line - anchor.line) * (cm.doc.direction == \"ltr\" ? 1 : -1) > 0;\n    } else {\n      var headIndex = getBidiPartAt(order, head.ch, head.sticky);\n      var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);\n\n      if (headIndex == boundary - 1 || headIndex == boundary) {\n        leftSide = dir < 0;\n      } else {\n        leftSide = dir > 0;\n      }\n    }\n\n    var usePart = order[boundary + (leftSide ? -1 : 0)];\n    var from = leftSide == (usePart.level == 1);\n    var ch = from ? usePart.from : usePart.to,\n        sticky = from ? \"after\" : \"before\";\n    return anchor.ch == ch && anchor.sticky == sticky ? range : new Range(new Pos(anchor.line, ch, sticky), head);\n  } // Determines whether an event happened in the gutter, and fires the\n  // handlers for the corresponding event.\n\n\n  function gutterEvent(cm, e, type, prevent) {\n    var mX, mY;\n\n    if (e.touches) {\n      mX = e.touches[0].clientX;\n      mY = e.touches[0].clientY;\n    } else {\n      try {\n        mX = e.clientX;\n        mY = e.clientY;\n      } catch (e$1) {\n        return false;\n      }\n    }\n\n    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) {\n      return false;\n    }\n\n    if (prevent) {\n      e_preventDefault(e);\n    }\n\n    var display = cm.display;\n    var lineBox = display.lineDiv.getBoundingClientRect();\n\n    if (mY > lineBox.bottom || !hasHandler(cm, type)) {\n      return e_defaultPrevented(e);\n    }\n\n    mY -= lineBox.top - display.viewOffset;\n\n    for (var i = 0; i < cm.display.gutterSpecs.length; ++i) {\n      var g = display.gutters.childNodes[i];\n\n      if (g && g.getBoundingClientRect().right >= mX) {\n        var line = _lineAtHeight(cm.doc, mY);\n\n        var gutter = cm.display.gutterSpecs[i];\n        signal(cm, type, cm, line, gutter.className, e);\n        return e_defaultPrevented(e);\n      }\n    }\n  }\n\n  function clickInGutter(cm, e) {\n    return gutterEvent(cm, e, \"gutterClick\", true);\n  } // CONTEXT MENU HANDLING\n  // To make the context menu work, we need to briefly unhide the\n  // textarea (making it as unobtrusive as possible) to let the\n  // right-click take effect on it.\n\n\n  function onContextMenu(cm, e) {\n    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) {\n      return;\n    }\n\n    if (signalDOMEvent(cm, e, \"contextmenu\")) {\n      return;\n    }\n\n    if (!captureRightClick) {\n      cm.display.input.onContextMenu(e);\n    }\n  }\n\n  function contextMenuInGutter(cm, e) {\n    if (!hasHandler(cm, \"gutterContextMenu\")) {\n      return false;\n    }\n\n    return gutterEvent(cm, e, \"gutterContextMenu\", false);\n  }\n\n  function themeChanged(cm) {\n    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") + cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\n    clearCaches(cm);\n  }\n\n  var Init = {\n    toString: function toString() {\n      return \"CodeMirror.Init\";\n    }\n  };\n  var defaults = {};\n  var optionHandlers = {};\n\n  function defineOptions(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    function option(name, deflt, handle, notOnInit) {\n      CodeMirror.defaults[name] = deflt;\n\n      if (handle) {\n        optionHandlers[name] = notOnInit ? function (cm, val, old) {\n          if (old != Init) {\n            handle(cm, val, old);\n          }\n        } : handle;\n      }\n    }\n\n    CodeMirror.defineOption = option; // Passed to option handlers when there is no old value.\n\n    CodeMirror.Init = Init; // These two are, on init, called from the constructor because they\n    // have to be initialized before the editor can start at all.\n\n    option(\"value\", \"\", function (cm, val) {\n      return cm.setValue(val);\n    }, true);\n    option(\"mode\", null, function (cm, val) {\n      cm.doc.modeOption = val;\n      loadMode(cm);\n    }, true);\n    option(\"indentUnit\", 2, loadMode, true);\n    option(\"indentWithTabs\", false);\n    option(\"smartIndent\", true);\n    option(\"tabSize\", 4, function (cm) {\n      resetModeState(cm);\n      clearCaches(cm);\n      regChange(cm);\n    }, true);\n    option(\"lineSeparator\", null, function (cm, val) {\n      cm.doc.lineSep = val;\n\n      if (!val) {\n        return;\n      }\n\n      var newBreaks = [],\n          lineNo = cm.doc.first;\n      cm.doc.iter(function (line) {\n        for (var pos = 0;;) {\n          var found = line.text.indexOf(val, pos);\n\n          if (found == -1) {\n            break;\n          }\n\n          pos = found + val.length;\n          newBreaks.push(Pos(lineNo, found));\n        }\n\n        lineNo++;\n      });\n\n      for (var i = newBreaks.length - 1; i >= 0; i--) {\n        _replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length));\n      }\n    });\n    option(\"specialChars\", /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\ufeff\\ufff9-\\ufffc]/g, function (cm, val, old) {\n      cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n\n      if (old != Init) {\n        cm.refresh();\n      }\n    });\n    option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) {\n      return cm.refresh();\n    }, true);\n    option(\"electricChars\", true);\n    option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n      throw new Error(\"inputStyle can not (yet) be changed in a running editor\"); // FIXME\n    }, true);\n    option(\"spellcheck\", false, function (cm, val) {\n      return cm.getInputField().spellcheck = val;\n    }, true);\n    option(\"autocorrect\", false, function (cm, val) {\n      return cm.getInputField().autocorrect = val;\n    }, true);\n    option(\"autocapitalize\", false, function (cm, val) {\n      return cm.getInputField().autocapitalize = val;\n    }, true);\n    option(\"rtlMoveVisually\", !windows);\n    option(\"wholeLineUpdateBefore\", true);\n    option(\"theme\", \"default\", function (cm) {\n      themeChanged(cm);\n      updateGutters(cm);\n    }, true);\n    option(\"keyMap\", \"default\", function (cm, val, old) {\n      var next = getKeyMap(val);\n      var prev = old != Init && getKeyMap(old);\n\n      if (prev && prev.detach) {\n        prev.detach(cm, next);\n      }\n\n      if (next.attach) {\n        next.attach(cm, prev || null);\n      }\n    });\n    option(\"extraKeys\", null);\n    option(\"configureMouse\", null);\n    option(\"lineWrapping\", false, wrappingChanged, true);\n    option(\"gutters\", [], function (cm, val) {\n      cm.display.gutterSpecs = getGutters(val, cm.options.lineNumbers);\n      updateGutters(cm);\n    }, true);\n    option(\"fixedGutter\", true, function (cm, val) {\n      cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n      cm.refresh();\n    }, true);\n    option(\"coverGutterNextToScrollbar\", false, function (cm) {\n      return updateScrollbars(cm);\n    }, true);\n    option(\"scrollbarStyle\", \"native\", function (cm) {\n      initScrollbars(cm);\n      updateScrollbars(cm);\n      cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n      cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n    }, true);\n    option(\"lineNumbers\", false, function (cm, val) {\n      cm.display.gutterSpecs = getGutters(cm.options.gutters, val);\n      updateGutters(cm);\n    }, true);\n    option(\"firstLineNumber\", 1, updateGutters, true);\n    option(\"lineNumberFormatter\", function (integer) {\n      return integer;\n    }, updateGutters, true);\n    option(\"showCursorWhenSelecting\", false, updateSelection, true);\n    option(\"resetSelectionOnContextMenu\", true);\n    option(\"lineWiseCopyCut\", true);\n    option(\"pasteLinesPerSelection\", true);\n    option(\"selectionsMayTouch\", false);\n    option(\"readOnly\", false, function (cm, val) {\n      if (val == \"nocursor\") {\n        onBlur(cm);\n        cm.display.input.blur();\n      }\n\n      cm.display.input.readOnlyChanged(val);\n    });\n    option(\"screenReaderLabel\", null, function (cm, val) {\n      val = val === '' ? null : val;\n      cm.display.input.screenReaderLabelChanged(val);\n    });\n    option(\"disableInput\", false, function (cm, val) {\n      if (!val) {\n        cm.display.input.reset();\n      }\n    }, true);\n    option(\"dragDrop\", true, dragDropChanged);\n    option(\"allowDropFileTypes\", null);\n    option(\"cursorBlinkRate\", 530);\n    option(\"cursorScrollMargin\", 0);\n    option(\"cursorHeight\", 1, updateSelection, true);\n    option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n    option(\"workTime\", 100);\n    option(\"workDelay\", 100);\n    option(\"flattenSpans\", true, resetModeState, true);\n    option(\"addModeClass\", false, resetModeState, true);\n    option(\"pollInterval\", 100);\n    option(\"undoDepth\", 200, function (cm, val) {\n      return cm.doc.history.undoDepth = val;\n    });\n    option(\"historyEventDelay\", 1250);\n    option(\"viewportMargin\", 10, function (cm) {\n      return cm.refresh();\n    }, true);\n    option(\"maxHighlightLength\", 10000, resetModeState, true);\n    option(\"moveInputWithCursor\", true, function (cm, val) {\n      if (!val) {\n        cm.display.input.resetPosition();\n      }\n    });\n    option(\"tabindex\", null, function (cm, val) {\n      return cm.display.input.getField().tabIndex = val || \"\";\n    });\n    option(\"autofocus\", null);\n    option(\"direction\", \"ltr\", function (cm, val) {\n      return cm.doc.setDirection(val);\n    }, true);\n    option(\"phrases\", null);\n  }\n\n  function dragDropChanged(cm, value, old) {\n    var wasOn = old && old != Init;\n\n    if (!value != !wasOn) {\n      var funcs = cm.display.dragFunctions;\n      var toggle = value ? on : off;\n      toggle(cm.display.scroller, \"dragstart\", funcs.start);\n      toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n      toggle(cm.display.scroller, \"dragover\", funcs.over);\n      toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n      toggle(cm.display.scroller, \"drop\", funcs.drop);\n    }\n  }\n\n  function wrappingChanged(cm) {\n    if (cm.options.lineWrapping) {\n      addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      cm.display.sizer.style.minWidth = \"\";\n      cm.display.sizerWidth = null;\n    } else {\n      rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      findMaxLine(cm);\n    }\n\n    estimateLineHeights(cm);\n    regChange(cm);\n    clearCaches(cm);\n    setTimeout(function () {\n      return updateScrollbars(cm);\n    }, 100);\n  } // A CodeMirror instance represents an editor. This is the object\n  // that user code is usually dealing with.\n\n\n  function CodeMirror(place, options) {\n    var this$1 = this;\n\n    if (!(this instanceof CodeMirror)) {\n      return new CodeMirror(place, options);\n    }\n\n    this.options = options = options ? copyObj(options) : {}; // Determine effective options based on given values and defaults.\n\n    copyObj(defaults, options, false);\n    var doc = options.value;\n\n    if (typeof doc == \"string\") {\n      doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction);\n    } else if (options.mode) {\n      doc.modeOption = options.mode;\n    }\n\n    this.doc = doc;\n    var input = new CodeMirror.inputStyles[options.inputStyle](this);\n    var display = this.display = new Display(place, doc, input, options);\n    display.wrapper.CodeMirror = this;\n    themeChanged(this);\n\n    if (options.lineWrapping) {\n      this.display.wrapper.className += \" CodeMirror-wrap\";\n    }\n\n    initScrollbars(this);\n    this.state = {\n      keyMaps: [],\n      // stores maps added by addKeyMap\n      overlays: [],\n      // highlighting overlays, as added by addOverlay\n      modeGen: 0,\n      // bumped when mode/overlay changes, used to invalidate highlighting info\n      overwrite: false,\n      delayingBlurEvent: false,\n      focused: false,\n      suppressEdits: false,\n      // used to disable editing during key handlers when in readOnly mode\n      pasteIncoming: -1,\n      cutIncoming: -1,\n      // help recognize paste/cut edits in input.poll\n      selectingText: false,\n      draggingText: false,\n      highlight: new Delayed(),\n      // stores highlight worker timeout\n      keySeq: null,\n      // Unfinished key sequence\n      specialChars: null\n    };\n\n    if (options.autofocus && !mobile) {\n      display.input.focus();\n    } // Override magic textarea content restore that IE sometimes does\n    // on our hidden textarea on reload\n\n\n    if (ie && ie_version < 11) {\n      setTimeout(function () {\n        return this$1.display.input.reset(true);\n      }, 20);\n    }\n\n    registerEventHandlers(this);\n    ensureGlobalHandlers();\n\n    _startOperation(this);\n\n    this.curOp.forceUpdate = true;\n    attachDoc(this, doc);\n\n    if (options.autofocus && !mobile || this.hasFocus()) {\n      setTimeout(function () {\n        if (this$1.hasFocus() && !this$1.state.focused) {\n          onFocus(this$1);\n        }\n      }, 20);\n    } else {\n      onBlur(this);\n    }\n\n    for (var opt in optionHandlers) {\n      if (optionHandlers.hasOwnProperty(opt)) {\n        optionHandlers[opt](this, options[opt], Init);\n      }\n    }\n\n    maybeUpdateLineNumberWidth(this);\n\n    if (options.finishInit) {\n      options.finishInit(this);\n    }\n\n    for (var i = 0; i < initHooks.length; ++i) {\n      initHooks[i](this);\n    }\n\n    _endOperation(this); // Suppress optimizelegibility in Webkit, since it breaks text\n    // measuring on line wrapping boundaries.\n\n\n    if (webkit && options.lineWrapping && getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\") {\n      display.lineDiv.style.textRendering = \"auto\";\n    }\n  } // The default configuration options.\n\n\n  CodeMirror.defaults = defaults; // Functions to run when options are changed.\n\n  CodeMirror.optionHandlers = optionHandlers; // Attach the necessary event handlers when initializing the editor\n\n  function registerEventHandlers(cm) {\n    var d = cm.display;\n    on(d.scroller, \"mousedown\", operation(cm, onMouseDown)); // Older IE's will not fire a second mousedown for a double click\n\n    if (ie && ie_version < 11) {\n      on(d.scroller, \"dblclick\", operation(cm, function (e) {\n        if (signalDOMEvent(cm, e)) {\n          return;\n        }\n\n        var pos = posFromMouse(cm, e);\n\n        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) {\n          return;\n        }\n\n        e_preventDefault(e);\n        var word = cm.findWordAt(pos);\n        extendSelection(cm.doc, word.anchor, word.head);\n      }));\n    } else {\n      on(d.scroller, \"dblclick\", function (e) {\n        return signalDOMEvent(cm, e) || e_preventDefault(e);\n      });\n    } // Some browsers fire contextmenu *after* opening the menu, at\n    // which point we can't mess with it anymore. Context menu is\n    // handled in onMouseDown for these browsers.\n\n\n    on(d.scroller, \"contextmenu\", function (e) {\n      return onContextMenu(cm, e);\n    });\n    on(d.input.getField(), \"contextmenu\", function (e) {\n      if (!d.scroller.contains(e.target)) {\n        onContextMenu(cm, e);\n      }\n    }); // Used to suppress mouse event handling when a touch happens\n\n    var touchFinished,\n        prevTouch = {\n      end: 0\n    };\n\n    function finishTouch() {\n      if (d.activeTouch) {\n        touchFinished = setTimeout(function () {\n          return d.activeTouch = null;\n        }, 1000);\n        prevTouch = d.activeTouch;\n        prevTouch.end = +new Date();\n      }\n    }\n\n    function isMouseLikeTouchEvent(e) {\n      if (e.touches.length != 1) {\n        return false;\n      }\n\n      var touch = e.touches[0];\n      return touch.radiusX <= 1 && touch.radiusY <= 1;\n    }\n\n    function farAway(touch, other) {\n      if (other.left == null) {\n        return true;\n      }\n\n      var dx = other.left - touch.left,\n          dy = other.top - touch.top;\n      return dx * dx + dy * dy > 20 * 20;\n    }\n\n    on(d.scroller, \"touchstart\", function (e) {\n      if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {\n        d.input.ensurePolled();\n        clearTimeout(touchFinished);\n        var now = +new Date();\n        d.activeTouch = {\n          start: now,\n          moved: false,\n          prev: now - prevTouch.end <= 300 ? prevTouch : null\n        };\n\n        if (e.touches.length == 1) {\n          d.activeTouch.left = e.touches[0].pageX;\n          d.activeTouch.top = e.touches[0].pageY;\n        }\n      }\n    });\n    on(d.scroller, \"touchmove\", function () {\n      if (d.activeTouch) {\n        d.activeTouch.moved = true;\n      }\n    });\n    on(d.scroller, \"touchend\", function (e) {\n      var touch = d.activeTouch;\n\n      if (touch && !eventInWidget(d, e) && touch.left != null && !touch.moved && new Date() - touch.start < 300) {\n        var pos = cm.coordsChar(d.activeTouch, \"page\"),\n            range;\n\n        if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n          {\n            range = new Range(pos, pos);\n          } else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n          {\n            range = cm.findWordAt(pos);\n          } else // Triple tap\n          {\n            range = new Range(Pos(pos.line, 0), _clipPos(cm.doc, Pos(pos.line + 1, 0)));\n          }\n\n        cm.setSelection(range.anchor, range.head);\n        cm.focus();\n        e_preventDefault(e);\n      }\n\n      finishTouch();\n    });\n    on(d.scroller, \"touchcancel\", finishTouch); // Sync scrolling between fake scrollbars and real scrollable\n    // area, ensure viewport is updated when scrolling.\n\n    on(d.scroller, \"scroll\", function () {\n      if (d.scroller.clientHeight) {\n        updateScrollTop(cm, d.scroller.scrollTop);\n        setScrollLeft(cm, d.scroller.scrollLeft, true);\n        signal(cm, \"scroll\", cm);\n      }\n    }); // Listen to wheel events in order to try and update the viewport on time.\n\n    on(d.scroller, \"mousewheel\", function (e) {\n      return onScrollWheel(cm, e);\n    });\n    on(d.scroller, \"DOMMouseScroll\", function (e) {\n      return onScrollWheel(cm, e);\n    }); // Prevent wrapper from ever scrolling\n\n    on(d.wrapper, \"scroll\", function () {\n      return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0;\n    });\n    d.dragFunctions = {\n      enter: function enter(e) {\n        if (!signalDOMEvent(cm, e)) {\n          e_stop(e);\n        }\n      },\n      over: function over(e) {\n        if (!signalDOMEvent(cm, e)) {\n          onDragOver(cm, e);\n          e_stop(e);\n        }\n      },\n      start: function start(e) {\n        return onDragStart(cm, e);\n      },\n      drop: operation(cm, onDrop),\n      leave: function leave(e) {\n        if (!signalDOMEvent(cm, e)) {\n          clearDragCursor(cm);\n        }\n      }\n    };\n    var inp = d.input.getField();\n    on(inp, \"keyup\", function (e) {\n      return onKeyUp.call(cm, e);\n    });\n    on(inp, \"keydown\", operation(cm, onKeyDown));\n    on(inp, \"keypress\", operation(cm, onKeyPress));\n    on(inp, \"focus\", function (e) {\n      return onFocus(cm, e);\n    });\n    on(inp, \"blur\", function (e) {\n      return onBlur(cm, e);\n    });\n  }\n\n  var initHooks = [];\n\n  CodeMirror.defineInitHook = function (f) {\n    return initHooks.push(f);\n  }; // Indent the given line. The how parameter can be \"smart\",\n  // \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n  // (typically set to true for forced single-line indents), empty\n  // lines are not indented, and places where the mode returns Pass\n  // are left alone.\n\n\n  function indentLine(cm, n, how, aggressive) {\n    var doc = cm.doc,\n        state;\n\n    if (how == null) {\n      how = \"add\";\n    }\n\n    if (how == \"smart\") {\n      // Fall back to \"prev\" when the mode doesn't have an indentation\n      // method.\n      if (!doc.mode.indent) {\n        how = \"prev\";\n      } else {\n        state = getContextBefore(cm, n).state;\n      }\n    }\n\n    var tabSize = cm.options.tabSize;\n    var line = getLine(doc, n),\n        curSpace = countColumn(line.text, null, tabSize);\n\n    if (line.stateAfter) {\n      line.stateAfter = null;\n    }\n\n    var curSpaceString = line.text.match(/^\\s*/)[0],\n        indentation;\n\n    if (!aggressive && !/\\S/.test(line.text)) {\n      indentation = 0;\n      how = \"not\";\n    } else if (how == \"smart\") {\n      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n\n      if (indentation == Pass || indentation > 150) {\n        if (!aggressive) {\n          return;\n        }\n\n        how = \"prev\";\n      }\n    }\n\n    if (how == \"prev\") {\n      if (n > doc.first) {\n        indentation = countColumn(getLine(doc, n - 1).text, null, tabSize);\n      } else {\n        indentation = 0;\n      }\n    } else if (how == \"add\") {\n      indentation = curSpace + cm.options.indentUnit;\n    } else if (how == \"subtract\") {\n      indentation = curSpace - cm.options.indentUnit;\n    } else if (typeof how == \"number\") {\n      indentation = curSpace + how;\n    }\n\n    indentation = Math.max(0, indentation);\n    var indentString = \"\",\n        pos = 0;\n\n    if (cm.options.indentWithTabs) {\n      for (var i = Math.floor(indentation / tabSize); i; --i) {\n        pos += tabSize;\n        indentString += \"\\t\";\n      }\n    }\n\n    if (pos < indentation) {\n      indentString += spaceStr(indentation - pos);\n    }\n\n    if (indentString != curSpaceString) {\n      _replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n\n      line.stateAfter = null;\n      return true;\n    } else {\n      // Ensure that, if the cursor was in the whitespace at the start\n      // of the line, it is moved to the end of that space.\n      for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n        var range = doc.sel.ranges[i$1];\n\n        if (range.head.line == n && range.head.ch < curSpaceString.length) {\n          var pos$1 = Pos(n, curSpaceString.length);\n          replaceOneSelection(doc, i$1, new Range(pos$1, pos$1));\n          break;\n        }\n      }\n    }\n  } // This will be set to a {lineWise: bool, text: [string]} object, so\n  // that, when pasting, we know what kind of selections the copied\n  // text was made out of.\n\n\n  var lastCopied = null;\n\n  function setLastCopied(newLastCopied) {\n    lastCopied = newLastCopied;\n  }\n\n  function applyTextInput(cm, inserted, deleted, sel, origin) {\n    var doc = cm.doc;\n    cm.display.shift = false;\n\n    if (!sel) {\n      sel = doc.sel;\n    }\n\n    var recent = +new Date() - 200;\n    var paste = origin == \"paste\" || cm.state.pasteIncoming > recent;\n    var textLines = splitLinesAuto(inserted),\n        multiPaste = null; // When pasting N lines into N selections, insert one line per selection\n\n    if (paste && sel.ranges.length > 1) {\n      if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n        if (sel.ranges.length % lastCopied.text.length == 0) {\n          multiPaste = [];\n\n          for (var i = 0; i < lastCopied.text.length; i++) {\n            multiPaste.push(doc.splitLines(lastCopied.text[i]));\n          }\n        }\n      } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {\n        multiPaste = map(textLines, function (l) {\n          return [l];\n        });\n      }\n    }\n\n    var updateInput = cm.curOp.updateInput; // Normal behavior is to insert the new text into every selection\n\n    for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n      var range = sel.ranges[i$1];\n      var from = range.from(),\n          to = range.to();\n\n      if (range.empty()) {\n        if (deleted && deleted > 0) // Handle deletion\n          {\n            from = Pos(from.line, from.ch - deleted);\n          } else if (cm.state.overwrite && !paste) // Handle overwrite\n          {\n            to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length));\n          } else if (paste && lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == textLines.join(\"\\n\")) {\n          from = to = Pos(from.line, 0);\n        }\n      }\n\n      var changeEvent = {\n        from: from,\n        to: to,\n        text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n        origin: origin || (paste ? \"paste\" : cm.state.cutIncoming > recent ? \"cut\" : \"+input\")\n      };\n      makeChange(cm.doc, changeEvent);\n      signalLater(cm, \"inputRead\", cm, changeEvent);\n    }\n\n    if (inserted && !paste) {\n      triggerElectric(cm, inserted);\n    }\n\n    ensureCursorVisible(cm);\n\n    if (cm.curOp.updateInput < 2) {\n      cm.curOp.updateInput = updateInput;\n    }\n\n    cm.curOp.typing = true;\n    cm.state.pasteIncoming = cm.state.cutIncoming = -1;\n  }\n\n  function handlePaste(e, cm) {\n    var pasted = e.clipboardData && e.clipboardData.getData(\"Text\");\n\n    if (pasted) {\n      e.preventDefault();\n\n      if (!cm.isReadOnly() && !cm.options.disableInput) {\n        runInOp(cm, function () {\n          return applyTextInput(cm, pasted, 0, null, \"paste\");\n        });\n      }\n\n      return true;\n    }\n  }\n\n  function triggerElectric(cm, inserted) {\n    // When an 'electric' character is inserted, immediately trigger a reindent\n    if (!cm.options.electricChars || !cm.options.smartIndent) {\n      return;\n    }\n\n    var sel = cm.doc.sel;\n\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range = sel.ranges[i];\n\n      if (range.head.ch > 100 || i && sel.ranges[i - 1].head.line == range.head.line) {\n        continue;\n      }\n\n      var mode = cm.getModeAt(range.head);\n      var indented = false;\n\n      if (mode.electricChars) {\n        for (var j = 0; j < mode.electricChars.length; j++) {\n          if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n            indented = indentLine(cm, range.head.line, \"smart\");\n            break;\n          }\n        }\n      } else if (mode.electricInput) {\n        if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch))) {\n          indented = indentLine(cm, range.head.line, \"smart\");\n        }\n      }\n\n      if (indented) {\n        signalLater(cm, \"electricInput\", cm, range.head.line);\n      }\n    }\n  }\n\n  function copyableRanges(cm) {\n    var text = [],\n        ranges = [];\n\n    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n      var line = cm.doc.sel.ranges[i].head.line;\n      var lineRange = {\n        anchor: Pos(line, 0),\n        head: Pos(line + 1, 0)\n      };\n      ranges.push(lineRange);\n      text.push(cm.getRange(lineRange.anchor, lineRange.head));\n    }\n\n    return {\n      text: text,\n      ranges: ranges\n    };\n  }\n\n  function disableBrowserMagic(field, spellcheck, autocorrect, autocapitalize) {\n    field.setAttribute(\"autocorrect\", autocorrect ? \"\" : \"off\");\n    field.setAttribute(\"autocapitalize\", autocapitalize ? \"\" : \"off\");\n    field.setAttribute(\"spellcheck\", !!spellcheck);\n  }\n\n  function hiddenTextarea() {\n    var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\");\n    var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\"); // The textarea is kept positioned near the cursor to prevent the\n    // fact that it'll be scrolled into view on input from scrolling\n    // our fake cursor out of view. On webkit, when wrap=off, paste is\n    // very slow. So make the area wide instead.\n\n    if (webkit) {\n      te.style.width = \"1000px\";\n    } else {\n      te.setAttribute(\"wrap\", \"off\");\n    } // If border: 0; -- iOS fails to open keyboard (issue #1287)\n\n\n    if (ios) {\n      te.style.border = \"1px solid black\";\n    }\n\n    disableBrowserMagic(te);\n    return div;\n  } // The publicly visible API. Note that methodOp(f) means\n  // 'wrap f in an operation, performed on its `this` parameter'.\n  // This is not the complete set of editor methods. Most of the\n  // methods defined on the Doc type are also injected into\n  // CodeMirror.prototype, for backwards compatibility and\n  // convenience.\n\n\n  function addEditorMethods(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n    var helpers = CodeMirror.helpers = {};\n    CodeMirror.prototype = {\n      constructor: CodeMirror,\n      focus: function focus() {\n        window.focus();\n        this.display.input.focus();\n      },\n      setOption: function setOption(option, value) {\n        var options = this.options,\n            old = options[option];\n\n        if (options[option] == value && option != \"mode\") {\n          return;\n        }\n\n        options[option] = value;\n\n        if (optionHandlers.hasOwnProperty(option)) {\n          operation(this, optionHandlers[option])(this, value, old);\n        }\n\n        signal(this, \"optionChange\", this, option);\n      },\n      getOption: function getOption(option) {\n        return this.options[option];\n      },\n      getDoc: function getDoc() {\n        return this.doc;\n      },\n      addKeyMap: function addKeyMap(map, bottom) {\n        this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map));\n      },\n      removeKeyMap: function removeKeyMap(map) {\n        var maps = this.state.keyMaps;\n\n        for (var i = 0; i < maps.length; ++i) {\n          if (maps[i] == map || maps[i].name == map) {\n            maps.splice(i, 1);\n            return true;\n          }\n        }\n      },\n      addOverlay: methodOp(function (spec, options) {\n        var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n\n        if (mode.startState) {\n          throw new Error(\"Overlays may not be stateful.\");\n        }\n\n        insertSorted(this.state.overlays, {\n          mode: mode,\n          modeSpec: spec,\n          opaque: options && options.opaque,\n          priority: options && options.priority || 0\n        }, function (overlay) {\n          return overlay.priority;\n        });\n        this.state.modeGen++;\n        regChange(this);\n      }),\n      removeOverlay: methodOp(function (spec) {\n        var overlays = this.state.overlays;\n\n        for (var i = 0; i < overlays.length; ++i) {\n          var cur = overlays[i].modeSpec;\n\n          if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n            overlays.splice(i, 1);\n            this.state.modeGen++;\n            regChange(this);\n            return;\n          }\n        }\n      }),\n      indentLine: methodOp(function (n, dir, aggressive) {\n        if (typeof dir != \"string\" && typeof dir != \"number\") {\n          if (dir == null) {\n            dir = this.options.smartIndent ? \"smart\" : \"prev\";\n          } else {\n            dir = dir ? \"add\" : \"subtract\";\n          }\n        }\n\n        if (isLine(this.doc, n)) {\n          indentLine(this, n, dir, aggressive);\n        }\n      }),\n      indentSelection: methodOp(function (how) {\n        var ranges = this.doc.sel.ranges,\n            end = -1;\n\n        for (var i = 0; i < ranges.length; i++) {\n          var range = ranges[i];\n\n          if (!range.empty()) {\n            var from = range.from(),\n                to = range.to();\n            var start = Math.max(end, from.line);\n            end = Math.min(this.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n\n            for (var j = start; j < end; ++j) {\n              indentLine(this, j, how);\n            }\n\n            var newRanges = this.doc.sel.ranges;\n\n            if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0) {\n              replaceOneSelection(this.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll);\n            }\n          } else if (range.head.line > end) {\n            indentLine(this, range.head.line, how, true);\n            end = range.head.line;\n\n            if (i == this.doc.sel.primIndex) {\n              ensureCursorVisible(this);\n            }\n          }\n        }\n      }),\n      // Fetch the parser token for a given character. Useful for hacks\n      // that want to inspect the mode state (say, for completion).\n      getTokenAt: function getTokenAt(pos, precise) {\n        return takeToken(this, pos, precise);\n      },\n      getLineTokens: function getLineTokens(line, precise) {\n        return takeToken(this, Pos(line), precise, true);\n      },\n      getTokenTypeAt: function getTokenTypeAt(pos) {\n        pos = _clipPos(this.doc, pos);\n        var styles = getLineStyles(this, getLine(this.doc, pos.line));\n        var before = 0,\n            after = (styles.length - 1) / 2,\n            ch = pos.ch;\n        var type;\n\n        if (ch == 0) {\n          type = styles[2];\n        } else {\n          for (;;) {\n            var mid = before + after >> 1;\n\n            if ((mid ? styles[mid * 2 - 1] : 0) >= ch) {\n              after = mid;\n            } else if (styles[mid * 2 + 1] < ch) {\n              before = mid + 1;\n            } else {\n              type = styles[mid * 2 + 2];\n              break;\n            }\n          }\n        }\n\n        var cut = type ? type.indexOf(\"overlay \") : -1;\n        return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1);\n      },\n      getModeAt: function getModeAt(pos) {\n        var mode = this.doc.mode;\n\n        if (!mode.innerMode) {\n          return mode;\n        }\n\n        return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode;\n      },\n      getHelper: function getHelper(pos, type) {\n        return this.getHelpers(pos, type)[0];\n      },\n      getHelpers: function getHelpers(pos, type) {\n        var found = [];\n\n        if (!helpers.hasOwnProperty(type)) {\n          return found;\n        }\n\n        var help = helpers[type],\n            mode = this.getModeAt(pos);\n\n        if (typeof mode[type] == \"string\") {\n          if (help[mode[type]]) {\n            found.push(help[mode[type]]);\n          }\n        } else if (mode[type]) {\n          for (var i = 0; i < mode[type].length; i++) {\n            var val = help[mode[type][i]];\n\n            if (val) {\n              found.push(val);\n            }\n          }\n        } else if (mode.helperType && help[mode.helperType]) {\n          found.push(help[mode.helperType]);\n        } else if (help[mode.name]) {\n          found.push(help[mode.name]);\n        }\n\n        for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n          var cur = help._global[i$1];\n\n          if (cur.pred(mode, this) && indexOf(found, cur.val) == -1) {\n            found.push(cur.val);\n          }\n        }\n\n        return found;\n      },\n      getStateAfter: function getStateAfter(line, precise) {\n        var doc = this.doc;\n        line = clipLine(doc, line == null ? doc.first + doc.size - 1 : line);\n        return getContextBefore(this, line + 1, precise).state;\n      },\n      cursorCoords: function cursorCoords(start, mode) {\n        var pos,\n            range = this.doc.sel.primary();\n\n        if (start == null) {\n          pos = range.head;\n        } else if (typeof start == \"object\") {\n          pos = _clipPos(this.doc, start);\n        } else {\n          pos = start ? range.from() : range.to();\n        }\n\n        return _cursorCoords(this, pos, mode || \"page\");\n      },\n      charCoords: function charCoords(pos, mode) {\n        return _charCoords(this, _clipPos(this.doc, pos), mode || \"page\");\n      },\n      coordsChar: function coordsChar(coords, mode) {\n        coords = fromCoordSystem(this, coords, mode || \"page\");\n        return _coordsChar(this, coords.left, coords.top);\n      },\n      lineAtHeight: function lineAtHeight(height, mode) {\n        height = fromCoordSystem(this, {\n          top: height,\n          left: 0\n        }, mode || \"page\").top;\n        return _lineAtHeight(this.doc, height + this.display.viewOffset);\n      },\n      heightAtLine: function heightAtLine(line, mode, includeWidgets) {\n        var end = false,\n            lineObj;\n\n        if (typeof line == \"number\") {\n          var last = this.doc.first + this.doc.size - 1;\n\n          if (line < this.doc.first) {\n            line = this.doc.first;\n          } else if (line > last) {\n            line = last;\n            end = true;\n          }\n\n          lineObj = getLine(this.doc, line);\n        } else {\n          lineObj = line;\n        }\n\n        return intoCoordSystem(this, lineObj, {\n          top: 0,\n          left: 0\n        }, mode || \"page\", includeWidgets || end).top + (end ? this.doc.height - _heightAtLine(lineObj) : 0);\n      },\n      defaultTextHeight: function defaultTextHeight() {\n        return textHeight(this.display);\n      },\n      defaultCharWidth: function defaultCharWidth() {\n        return charWidth(this.display);\n      },\n      getViewport: function getViewport() {\n        return {\n          from: this.display.viewFrom,\n          to: this.display.viewTo\n        };\n      },\n      addWidget: function addWidget(pos, node, scroll, vert, horiz) {\n        var display = this.display;\n        pos = _cursorCoords(this, _clipPos(this.doc, pos));\n        var top = pos.bottom,\n            left = pos.left;\n        node.style.position = \"absolute\";\n        node.setAttribute(\"cm-ignore-events\", \"true\");\n        this.display.input.setUneditable(node);\n        display.sizer.appendChild(node);\n\n        if (vert == \"over\") {\n          top = pos.top;\n        } else if (vert == \"above\" || vert == \"near\") {\n          var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n              hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth); // Default to positioning above (if specified and possible); otherwise default to positioning below\n\n          if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight) {\n            top = pos.top - node.offsetHeight;\n          } else if (pos.bottom + node.offsetHeight <= vspace) {\n            top = pos.bottom;\n          }\n\n          if (left + node.offsetWidth > hspace) {\n            left = hspace - node.offsetWidth;\n          }\n        }\n\n        node.style.top = top + \"px\";\n        node.style.left = node.style.right = \"\";\n\n        if (horiz == \"right\") {\n          left = display.sizer.clientWidth - node.offsetWidth;\n          node.style.right = \"0px\";\n        } else {\n          if (horiz == \"left\") {\n            left = 0;\n          } else if (horiz == \"middle\") {\n            left = (display.sizer.clientWidth - node.offsetWidth) / 2;\n          }\n\n          node.style.left = left + \"px\";\n        }\n\n        if (scroll) {\n          scrollIntoView(this, {\n            left: left,\n            top: top,\n            right: left + node.offsetWidth,\n            bottom: top + node.offsetHeight\n          });\n        }\n      },\n      triggerOnKeyDown: methodOp(onKeyDown),\n      triggerOnKeyPress: methodOp(onKeyPress),\n      triggerOnKeyUp: onKeyUp,\n      triggerOnMouseDown: methodOp(onMouseDown),\n      execCommand: function execCommand(cmd) {\n        if (commands.hasOwnProperty(cmd)) {\n          return commands[cmd].call(null, this);\n        }\n      },\n      triggerElectric: methodOp(function (text) {\n        triggerElectric(this, text);\n      }),\n      findPosH: function findPosH(from, amount, unit, visually) {\n        var dir = 1;\n\n        if (amount < 0) {\n          dir = -1;\n          amount = -amount;\n        }\n\n        var cur = _clipPos(this.doc, from);\n\n        for (var i = 0; i < amount; ++i) {\n          cur = _findPosH(this.doc, cur, dir, unit, visually);\n\n          if (cur.hitSide) {\n            break;\n          }\n        }\n\n        return cur;\n      },\n      moveH: methodOp(function (dir, unit) {\n        var this$1 = this;\n        this.extendSelectionsBy(function (range) {\n          if (this$1.display.shift || this$1.doc.extend || range.empty()) {\n            return _findPosH(this$1.doc, range.head, dir, unit, this$1.options.rtlMoveVisually);\n          } else {\n            return dir < 0 ? range.from() : range.to();\n          }\n        }, sel_move);\n      }),\n      deleteH: methodOp(function (dir, unit) {\n        var sel = this.doc.sel,\n            doc = this.doc;\n\n        if (sel.somethingSelected()) {\n          doc.replaceSelection(\"\", null, \"+delete\");\n        } else {\n          deleteNearSelection(this, function (range) {\n            var other = _findPosH(doc, range.head, dir, unit, false);\n\n            return dir < 0 ? {\n              from: other,\n              to: range.head\n            } : {\n              from: range.head,\n              to: other\n            };\n          });\n        }\n      }),\n      findPosV: function findPosV(from, amount, unit, goalColumn) {\n        var dir = 1,\n            x = goalColumn;\n\n        if (amount < 0) {\n          dir = -1;\n          amount = -amount;\n        }\n\n        var cur = _clipPos(this.doc, from);\n\n        for (var i = 0; i < amount; ++i) {\n          var coords = _cursorCoords(this, cur, \"div\");\n\n          if (x == null) {\n            x = coords.left;\n          } else {\n            coords.left = x;\n          }\n\n          cur = _findPosV(this, coords, dir, unit);\n\n          if (cur.hitSide) {\n            break;\n          }\n        }\n\n        return cur;\n      },\n      moveV: methodOp(function (dir, unit) {\n        var this$1 = this;\n        var doc = this.doc,\n            goals = [];\n        var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected();\n        doc.extendSelectionsBy(function (range) {\n          if (collapse) {\n            return dir < 0 ? range.from() : range.to();\n          }\n\n          var headPos = _cursorCoords(this$1, range.head, \"div\");\n\n          if (range.goalColumn != null) {\n            headPos.left = range.goalColumn;\n          }\n\n          goals.push(headPos.left);\n\n          var pos = _findPosV(this$1, headPos, dir, unit);\n\n          if (unit == \"page\" && range == doc.sel.primary()) {\n            addToScrollTop(this$1, _charCoords(this$1, pos, \"div\").top - headPos.top);\n          }\n\n          return pos;\n        }, sel_move);\n\n        if (goals.length) {\n          for (var i = 0; i < doc.sel.ranges.length; i++) {\n            doc.sel.ranges[i].goalColumn = goals[i];\n          }\n        }\n      }),\n      // Find the word at the given position (as returned by coordsChar).\n      findWordAt: function findWordAt(pos) {\n        var doc = this.doc,\n            line = getLine(doc, pos.line).text;\n        var start = pos.ch,\n            end = pos.ch;\n\n        if (line) {\n          var helper = this.getHelper(pos, \"wordChars\");\n\n          if ((pos.sticky == \"before\" || end == line.length) && start) {\n            --start;\n          } else {\n            ++end;\n          }\n\n          var startChar = line.charAt(start);\n          var check = isWordChar(startChar, helper) ? function (ch) {\n            return isWordChar(ch, helper);\n          } : /\\s/.test(startChar) ? function (ch) {\n            return /\\s/.test(ch);\n          } : function (ch) {\n            return !/\\s/.test(ch) && !isWordChar(ch);\n          };\n\n          while (start > 0 && check(line.charAt(start - 1))) {\n            --start;\n          }\n\n          while (end < line.length && check(line.charAt(end))) {\n            ++end;\n          }\n        }\n\n        return new Range(Pos(pos.line, start), Pos(pos.line, end));\n      },\n      toggleOverwrite: function toggleOverwrite(value) {\n        if (value != null && value == this.state.overwrite) {\n          return;\n        }\n\n        if (this.state.overwrite = !this.state.overwrite) {\n          addClass(this.display.cursorDiv, \"CodeMirror-overwrite\");\n        } else {\n          rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\");\n        }\n\n        signal(this, \"overwriteToggle\", this, this.state.overwrite);\n      },\n      hasFocus: function hasFocus() {\n        return this.display.input.getField() == activeElt();\n      },\n      isReadOnly: function isReadOnly() {\n        return !!(this.options.readOnly || this.doc.cantEdit);\n      },\n      scrollTo: methodOp(function (x, y) {\n        scrollToCoords(this, x, y);\n      }),\n      getScrollInfo: function getScrollInfo() {\n        var scroller = this.display.scroller;\n        return {\n          left: scroller.scrollLeft,\n          top: scroller.scrollTop,\n          height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n          width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n          clientHeight: displayHeight(this),\n          clientWidth: displayWidth(this)\n        };\n      },\n      scrollIntoView: methodOp(function (range, margin) {\n        if (range == null) {\n          range = {\n            from: this.doc.sel.primary().head,\n            to: null\n          };\n\n          if (margin == null) {\n            margin = this.options.cursorScrollMargin;\n          }\n        } else if (typeof range == \"number\") {\n          range = {\n            from: Pos(range, 0),\n            to: null\n          };\n        } else if (range.from == null) {\n          range = {\n            from: range,\n            to: null\n          };\n        }\n\n        if (!range.to) {\n          range.to = range.from;\n        }\n\n        range.margin = margin || 0;\n\n        if (range.from.line != null) {\n          scrollToRange(this, range);\n        } else {\n          scrollToCoordsRange(this, range.from, range.to, range.margin);\n        }\n      }),\n      setSize: methodOp(function (width, height) {\n        var this$1 = this;\n\n        var interpret = function interpret(val) {\n          return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val;\n        };\n\n        if (width != null) {\n          this.display.wrapper.style.width = interpret(width);\n        }\n\n        if (height != null) {\n          this.display.wrapper.style.height = interpret(height);\n        }\n\n        if (this.options.lineWrapping) {\n          clearLineMeasurementCache(this);\n        }\n\n        var lineNo = this.display.viewFrom;\n        this.doc.iter(lineNo, this.display.viewTo, function (line) {\n          if (line.widgets) {\n            for (var i = 0; i < line.widgets.length; i++) {\n              if (line.widgets[i].noHScroll) {\n                regLineChange(this$1, lineNo, \"widget\");\n                break;\n              }\n            }\n          }\n\n          ++lineNo;\n        });\n        this.curOp.forceUpdate = true;\n        signal(this, \"refresh\", this);\n      }),\n      operation: function operation(f) {\n        return runInOp(this, f);\n      },\n      startOperation: function startOperation() {\n        return _startOperation(this);\n      },\n      endOperation: function endOperation() {\n        return _endOperation(this);\n      },\n      refresh: methodOp(function () {\n        var oldHeight = this.display.cachedTextHeight;\n        regChange(this);\n        this.curOp.forceUpdate = true;\n        clearCaches(this);\n        scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);\n        updateGutterSpace(this.display);\n\n        if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5 || this.options.lineWrapping) {\n          estimateLineHeights(this);\n        }\n\n        signal(this, \"refresh\", this);\n      }),\n      swapDoc: methodOp(function (doc) {\n        var old = this.doc;\n        old.cm = null; // Cancel the current text selection if any (#5821)\n\n        if (this.state.selectingText) {\n          this.state.selectingText();\n        }\n\n        attachDoc(this, doc);\n        clearCaches(this);\n        this.display.input.reset();\n        scrollToCoords(this, doc.scrollLeft, doc.scrollTop);\n        this.curOp.forceScroll = true;\n        signalLater(this, \"swapDoc\", this, old);\n        return old;\n      }),\n      phrase: function phrase(phraseText) {\n        var phrases = this.options.phrases;\n        return phrases && Object.prototype.hasOwnProperty.call(phrases, phraseText) ? phrases[phraseText] : phraseText;\n      },\n      getInputField: function getInputField() {\n        return this.display.input.getField();\n      },\n      getWrapperElement: function getWrapperElement() {\n        return this.display.wrapper;\n      },\n      getScrollerElement: function getScrollerElement() {\n        return this.display.scroller;\n      },\n      getGutterElement: function getGutterElement() {\n        return this.display.gutters;\n      }\n    };\n    eventMixin(CodeMirror);\n\n    CodeMirror.registerHelper = function (type, name, value) {\n      if (!helpers.hasOwnProperty(type)) {\n        helpers[type] = CodeMirror[type] = {\n          _global: []\n        };\n      }\n\n      helpers[type][name] = value;\n    };\n\n    CodeMirror.registerGlobalHelper = function (type, name, predicate, value) {\n      CodeMirror.registerHelper(type, name, value);\n\n      helpers[type]._global.push({\n        pred: predicate,\n        val: value\n      });\n    };\n  } // Used for horizontal relative motion. Dir is -1 or 1 (left or\n  // right), unit can be \"codepoint\", \"char\", \"column\" (like char, but\n  // doesn't cross line boundaries), \"word\" (across next word), or\n  // \"group\" (to the start of next group of word or\n  // non-word-non-whitespace chars). The visually param controls\n  // whether, in right-to-left text, direction 1 means to move towards\n  // the next index in the string, or towards the character to the right\n  // of the current position. The resulting position will have a\n  // hitSide=true property if it reached the end of the document.\n\n\n  function _findPosH(doc, pos, dir, unit, visually) {\n    var oldPos = pos;\n    var origDir = dir;\n    var lineObj = getLine(doc, pos.line);\n    var lineDir = visually && doc.direction == \"rtl\" ? -dir : dir;\n\n    function findNextLine() {\n      var l = pos.line + lineDir;\n\n      if (l < doc.first || l >= doc.first + doc.size) {\n        return false;\n      }\n\n      pos = new Pos(l, pos.ch, pos.sticky);\n      return lineObj = getLine(doc, l);\n    }\n\n    function moveOnce(boundToLine) {\n      var next;\n\n      if (unit == \"codepoint\") {\n        var ch = lineObj.text.charCodeAt(pos.ch + (dir > 0 ? 0 : -1));\n\n        if (isNaN(ch)) {\n          next = null;\n        } else {\n          var astral = dir > 0 ? ch >= 0xD800 && ch < 0xDC00 : ch >= 0xDC00 && ch < 0xDFFF;\n          next = new Pos(pos.line, Math.max(0, Math.min(lineObj.text.length, pos.ch + dir * (astral ? 2 : 1))), -dir);\n        }\n      } else if (visually) {\n        next = moveVisually(doc.cm, lineObj, pos, dir);\n      } else {\n        next = moveLogically(lineObj, pos, dir);\n      }\n\n      if (next == null) {\n        if (!boundToLine && findNextLine()) {\n          pos = endOfLine(visually, doc.cm, lineObj, pos.line, lineDir);\n        } else {\n          return false;\n        }\n      } else {\n        pos = next;\n      }\n\n      return true;\n    }\n\n    if (unit == \"char\" || unit == \"codepoint\") {\n      moveOnce();\n    } else if (unit == \"column\") {\n      moveOnce(true);\n    } else if (unit == \"word\" || unit == \"group\") {\n      var sawType = null,\n          group = unit == \"group\";\n      var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n\n      for (var first = true;; first = false) {\n        if (dir < 0 && !moveOnce(!first)) {\n          break;\n        }\n\n        var cur = lineObj.text.charAt(pos.ch) || \"\\n\";\n        var type = isWordChar(cur, helper) ? \"w\" : group && cur == \"\\n\" ? \"n\" : !group || /\\s/.test(cur) ? null : \"p\";\n\n        if (group && !first && !type) {\n          type = \"s\";\n        }\n\n        if (sawType && sawType != type) {\n          if (dir < 0) {\n            dir = 1;\n            moveOnce();\n            pos.sticky = \"after\";\n          }\n\n          break;\n        }\n\n        if (type) {\n          sawType = type;\n        }\n\n        if (dir > 0 && !moveOnce(!first)) {\n          break;\n        }\n      }\n    }\n\n    var result = skipAtomic(doc, pos, oldPos, origDir, true);\n\n    if (equalCursorPos(oldPos, result)) {\n      result.hitSide = true;\n    }\n\n    return result;\n  } // For relative vertical movement. Dir may be -1 or 1. Unit can be\n  // \"page\" or \"line\". The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n\n\n  function _findPosV(cm, pos, dir, unit) {\n    var doc = cm.doc,\n        x = pos.left,\n        y;\n\n    if (unit == \"page\") {\n      var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n      var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3);\n      y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;\n    } else if (unit == \"line\") {\n      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n    }\n\n    var target;\n\n    for (;;) {\n      target = _coordsChar(cm, x, y);\n\n      if (!target.outside) {\n        break;\n      }\n\n      if (dir < 0 ? y <= 0 : y >= doc.height) {\n        target.hitSide = true;\n        break;\n      }\n\n      y += dir * 5;\n    }\n\n    return target;\n  } // CONTENTEDITABLE INPUT STYLE\n\n\n  var ContentEditableInput = function ContentEditableInput(cm) {\n    this.cm = cm;\n    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n    this.polling = new Delayed();\n    this.composing = null;\n    this.gracePeriod = false;\n    this.readDOMTimeout = null;\n  };\n\n  ContentEditableInput.prototype.init = function (display) {\n    var this$1 = this;\n    var input = this,\n        cm = input.cm;\n    var div = input.div = display.lineDiv;\n    div.contentEditable = true;\n    disableBrowserMagic(div, cm.options.spellcheck, cm.options.autocorrect, cm.options.autocapitalize);\n\n    function belongsToInput(e) {\n      for (var t = e.target; t; t = t.parentNode) {\n        if (t == div) {\n          return true;\n        }\n\n        if (/\\bCodeMirror-(?:line)?widget\\b/.test(t.className)) {\n          break;\n        }\n      }\n\n      return false;\n    }\n\n    on(div, \"paste\", function (e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e) || handlePaste(e, cm)) {\n        return;\n      } // IE doesn't fire input events, so we schedule a read for the pasted content in this way\n\n\n      if (ie_version <= 11) {\n        setTimeout(operation(cm, function () {\n          return this$1.updateFromDOM();\n        }), 20);\n      }\n    });\n    on(div, \"compositionstart\", function (e) {\n      this$1.composing = {\n        data: e.data,\n        done: false\n      };\n    });\n    on(div, \"compositionupdate\", function (e) {\n      if (!this$1.composing) {\n        this$1.composing = {\n          data: e.data,\n          done: false\n        };\n      }\n    });\n    on(div, \"compositionend\", function (e) {\n      if (this$1.composing) {\n        if (e.data != this$1.composing.data) {\n          this$1.readFromDOMSoon();\n        }\n\n        this$1.composing.done = true;\n      }\n    });\n    on(div, \"touchstart\", function () {\n      return input.forceCompositionEnd();\n    });\n    on(div, \"input\", function () {\n      if (!this$1.composing) {\n        this$1.readFromDOMSoon();\n      }\n    });\n\n    function onCopyCut(e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e)) {\n        return;\n      }\n\n      if (cm.somethingSelected()) {\n        setLastCopied({\n          lineWise: false,\n          text: cm.getSelections()\n        });\n\n        if (e.type == \"cut\") {\n          cm.replaceSelection(\"\", null, \"cut\");\n        }\n      } else if (!cm.options.lineWiseCopyCut) {\n        return;\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({\n          lineWise: true,\n          text: ranges.text\n        });\n\n        if (e.type == \"cut\") {\n          cm.operation(function () {\n            cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n            cm.replaceSelection(\"\", null, \"cut\");\n          });\n        }\n      }\n\n      if (e.clipboardData) {\n        e.clipboardData.clearData();\n        var content = lastCopied.text.join(\"\\n\"); // iOS exposes the clipboard API, but seems to discard content inserted into it\n\n        e.clipboardData.setData(\"Text\", content);\n\n        if (e.clipboardData.getData(\"Text\") == content) {\n          e.preventDefault();\n          return;\n        }\n      } // Old-fashioned briefly-focus-a-textarea hack\n\n\n      var kludge = hiddenTextarea(),\n          te = kludge.firstChild;\n      cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n      te.value = lastCopied.text.join(\"\\n\");\n      var hadFocus = activeElt();\n      selectInput(te);\n      setTimeout(function () {\n        cm.display.lineSpace.removeChild(kludge);\n        hadFocus.focus();\n\n        if (hadFocus == div) {\n          input.showPrimarySelection();\n        }\n      }, 50);\n    }\n\n    on(div, \"copy\", onCopyCut);\n    on(div, \"cut\", onCopyCut);\n  };\n\n  ContentEditableInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if (label) {\n      this.div.setAttribute('aria-label', label);\n    } else {\n      this.div.removeAttribute('aria-label');\n    }\n  };\n\n  ContentEditableInput.prototype.prepareSelection = function () {\n    var result = prepareSelection(this.cm, false);\n    result.focus = activeElt() == this.div;\n    return result;\n  };\n\n  ContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n    if (!info || !this.cm.display.view.length) {\n      return;\n    }\n\n    if (info.focus || takeFocus) {\n      this.showPrimarySelection();\n    }\n\n    this.showMultipleSelections(info);\n  };\n\n  ContentEditableInput.prototype.getSelection = function () {\n    return this.cm.display.wrapper.ownerDocument.getSelection();\n  };\n\n  ContentEditableInput.prototype.showPrimarySelection = function () {\n    var sel = this.getSelection(),\n        cm = this.cm,\n        prim = cm.doc.sel.primary();\n    var from = prim.from(),\n        to = prim.to();\n\n    if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {\n      sel.removeAllRanges();\n      return;\n    }\n\n    var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);\n\n    if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad && cmp(minPos(curAnchor, curFocus), from) == 0 && cmp(maxPos(curAnchor, curFocus), to) == 0) {\n      return;\n    }\n\n    var view = cm.display.view;\n    var start = from.line >= cm.display.viewFrom && posToDOM(cm, from) || {\n      node: view[0].measure.map[2],\n      offset: 0\n    };\n    var end = to.line < cm.display.viewTo && posToDOM(cm, to);\n\n    if (!end) {\n      var measure = view[view.length - 1].measure;\n      var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n      end = {\n        node: map[map.length - 1],\n        offset: map[map.length - 2] - map[map.length - 3]\n      };\n    }\n\n    if (!start || !end) {\n      sel.removeAllRanges();\n      return;\n    }\n\n    var old = sel.rangeCount && sel.getRangeAt(0),\n        rng;\n\n    try {\n      rng = range(start.node, start.offset, end.offset, end.node);\n    } catch (e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n\n\n    if (rng) {\n      if (!gecko && cm.state.focused) {\n        sel.collapse(start.node, start.offset);\n\n        if (!rng.collapsed) {\n          sel.removeAllRanges();\n          sel.addRange(rng);\n        }\n      } else {\n        sel.removeAllRanges();\n        sel.addRange(rng);\n      }\n\n      if (old && sel.anchorNode == null) {\n        sel.addRange(old);\n      } else if (gecko) {\n        this.startGracePeriod();\n      }\n    }\n\n    this.rememberSelection();\n  };\n\n  ContentEditableInput.prototype.startGracePeriod = function () {\n    var this$1 = this;\n    clearTimeout(this.gracePeriod);\n    this.gracePeriod = setTimeout(function () {\n      this$1.gracePeriod = false;\n\n      if (this$1.selectionChanged()) {\n        this$1.cm.operation(function () {\n          return this$1.cm.curOp.selectionChanged = true;\n        });\n      }\n    }, 20);\n  };\n\n  ContentEditableInput.prototype.showMultipleSelections = function (info) {\n    removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n    removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n  };\n\n  ContentEditableInput.prototype.rememberSelection = function () {\n    var sel = this.getSelection();\n    this.lastAnchorNode = sel.anchorNode;\n    this.lastAnchorOffset = sel.anchorOffset;\n    this.lastFocusNode = sel.focusNode;\n    this.lastFocusOffset = sel.focusOffset;\n  };\n\n  ContentEditableInput.prototype.selectionInEditor = function () {\n    var sel = this.getSelection();\n\n    if (!sel.rangeCount) {\n      return false;\n    }\n\n    var node = sel.getRangeAt(0).commonAncestorContainer;\n    return contains(this.div, node);\n  };\n\n  ContentEditableInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\") {\n      if (!this.selectionInEditor() || activeElt() != this.div) {\n        this.showSelection(this.prepareSelection(), true);\n      }\n\n      this.div.focus();\n    }\n  };\n\n  ContentEditableInput.prototype.blur = function () {\n    this.div.blur();\n  };\n\n  ContentEditableInput.prototype.getField = function () {\n    return this.div;\n  };\n\n  ContentEditableInput.prototype.supportsTouch = function () {\n    return true;\n  };\n\n  ContentEditableInput.prototype.receivedFocus = function () {\n    var input = this;\n\n    if (this.selectionInEditor()) {\n      this.pollSelection();\n    } else {\n      runInOp(this.cm, function () {\n        return input.cm.curOp.selectionChanged = true;\n      });\n    }\n\n    function poll() {\n      if (input.cm.state.focused) {\n        input.pollSelection();\n        input.polling.set(input.cm.options.pollInterval, poll);\n      }\n    }\n\n    this.polling.set(this.cm.options.pollInterval, poll);\n  };\n\n  ContentEditableInput.prototype.selectionChanged = function () {\n    var sel = this.getSelection();\n    return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset || sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset;\n  };\n\n  ContentEditableInput.prototype.pollSelection = function () {\n    if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) {\n      return;\n    }\n\n    var sel = this.getSelection(),\n        cm = this.cm; // On Android Chrome (version 56, at least), backspacing into an\n    // uneditable block element will put the cursor in that element,\n    // and then, because it's not editable, hide the virtual keyboard.\n    // Because Android doesn't allow us to actually detect backspace\n    // presses in a sane way, this code checks for when that happens\n    // and simulates a backspace press in this case.\n\n    if (android && chrome && this.cm.display.gutterSpecs.length && isInGutter(sel.anchorNode)) {\n      this.cm.triggerOnKeyDown({\n        type: \"keydown\",\n        keyCode: 8,\n        preventDefault: Math.abs\n      });\n      this.blur();\n      this.focus();\n      return;\n    }\n\n    if (this.composing) {\n      return;\n    }\n\n    this.rememberSelection();\n    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n\n    if (anchor && head) {\n      runInOp(cm, function () {\n        setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n\n        if (anchor.bad || head.bad) {\n          cm.curOp.selectionChanged = true;\n        }\n      });\n    }\n  };\n\n  ContentEditableInput.prototype.pollContent = function () {\n    if (this.readDOMTimeout != null) {\n      clearTimeout(this.readDOMTimeout);\n      this.readDOMTimeout = null;\n    }\n\n    var cm = this.cm,\n        display = cm.display,\n        sel = cm.doc.sel.primary();\n    var from = sel.from(),\n        to = sel.to();\n\n    if (from.ch == 0 && from.line > cm.firstLine()) {\n      from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length);\n    }\n\n    if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine()) {\n      to = Pos(to.line + 1, 0);\n    }\n\n    if (from.line < display.viewFrom || to.line > display.viewTo - 1) {\n      return false;\n    }\n\n    var fromIndex, fromLine, fromNode;\n\n    if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n      fromLine = lineNo(display.view[0].line);\n      fromNode = display.view[0].node;\n    } else {\n      fromLine = lineNo(display.view[fromIndex].line);\n      fromNode = display.view[fromIndex - 1].node.nextSibling;\n    }\n\n    var toIndex = findViewIndex(cm, to.line);\n    var toLine, toNode;\n\n    if (toIndex == display.view.length - 1) {\n      toLine = display.viewTo - 1;\n      toNode = display.lineDiv.lastChild;\n    } else {\n      toLine = lineNo(display.view[toIndex + 1].line) - 1;\n      toNode = display.view[toIndex + 1].node.previousSibling;\n    }\n\n    if (!fromNode) {\n      return false;\n    }\n\n    var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n    var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n\n    while (newText.length > 1 && oldText.length > 1) {\n      if (lst(newText) == lst(oldText)) {\n        newText.pop();\n        oldText.pop();\n        toLine--;\n      } else if (newText[0] == oldText[0]) {\n        newText.shift();\n        oldText.shift();\n        fromLine++;\n      } else {\n        break;\n      }\n    }\n\n    var cutFront = 0,\n        cutEnd = 0;\n    var newTop = newText[0],\n        oldTop = oldText[0],\n        maxCutFront = Math.min(newTop.length, oldTop.length);\n\n    while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront)) {\n      ++cutFront;\n    }\n\n    var newBot = lst(newText),\n        oldBot = lst(oldText);\n    var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0), oldBot.length - (oldText.length == 1 ? cutFront : 0));\n\n    while (cutEnd < maxCutEnd && newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n      ++cutEnd;\n    } // Try to move start of change to start of selection if ambiguous\n\n\n    if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {\n      while (cutFront && cutFront > from.ch && newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n        cutFront--;\n        cutEnd++;\n      }\n    }\n\n    newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\");\n    newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\");\n    var chFrom = Pos(fromLine, cutFront);\n    var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n\n    if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n      _replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n\n      return true;\n    }\n  };\n\n  ContentEditableInput.prototype.ensurePolled = function () {\n    this.forceCompositionEnd();\n  };\n\n  ContentEditableInput.prototype.reset = function () {\n    this.forceCompositionEnd();\n  };\n\n  ContentEditableInput.prototype.forceCompositionEnd = function () {\n    if (!this.composing) {\n      return;\n    }\n\n    clearTimeout(this.readDOMTimeout);\n    this.composing = null;\n    this.updateFromDOM();\n    this.div.blur();\n    this.div.focus();\n  };\n\n  ContentEditableInput.prototype.readFromDOMSoon = function () {\n    var this$1 = this;\n\n    if (this.readDOMTimeout != null) {\n      return;\n    }\n\n    this.readDOMTimeout = setTimeout(function () {\n      this$1.readDOMTimeout = null;\n\n      if (this$1.composing) {\n        if (this$1.composing.done) {\n          this$1.composing = null;\n        } else {\n          return;\n        }\n      }\n\n      this$1.updateFromDOM();\n    }, 80);\n  };\n\n  ContentEditableInput.prototype.updateFromDOM = function () {\n    var this$1 = this;\n\n    if (this.cm.isReadOnly() || !this.pollContent()) {\n      runInOp(this.cm, function () {\n        return regChange(this$1.cm);\n      });\n    }\n  };\n\n  ContentEditableInput.prototype.setUneditable = function (node) {\n    node.contentEditable = \"false\";\n  };\n\n  ContentEditableInput.prototype.onKeyPress = function (e) {\n    if (e.charCode == 0 || this.composing) {\n      return;\n    }\n\n    e.preventDefault();\n\n    if (!this.cm.isReadOnly()) {\n      operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0);\n    }\n  };\n\n  ContentEditableInput.prototype.readOnlyChanged = function (val) {\n    this.div.contentEditable = String(val != \"nocursor\");\n  };\n\n  ContentEditableInput.prototype.onContextMenu = function () {};\n\n  ContentEditableInput.prototype.resetPosition = function () {};\n\n  ContentEditableInput.prototype.needsContentAttribute = true;\n\n  function posToDOM(cm, pos) {\n    var view = findViewForLine(cm, pos.line);\n\n    if (!view || view.hidden) {\n      return null;\n    }\n\n    var line = getLine(cm.doc, pos.line);\n    var info = mapFromLineView(view, line, pos.line);\n    var order = getOrder(line, cm.doc.direction),\n        side = \"left\";\n\n    if (order) {\n      var partPos = getBidiPartAt(order, pos.ch);\n      side = partPos % 2 ? \"right\" : \"left\";\n    }\n\n    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n    result.offset = result.collapse == \"right\" ? result.end : result.start;\n    return result;\n  }\n\n  function isInGutter(node) {\n    for (var scan = node; scan; scan = scan.parentNode) {\n      if (/CodeMirror-gutter-wrapper/.test(scan.className)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function badPos(pos, bad) {\n    if (bad) {\n      pos.bad = true;\n    }\n\n    return pos;\n  }\n\n  function domTextBetween(cm, from, to, fromLine, toLine) {\n    var text = \"\",\n        closing = false,\n        lineSep = cm.doc.lineSeparator(),\n        extraLinebreak = false;\n\n    function recognizeMarker(id) {\n      return function (marker) {\n        return marker.id == id;\n      };\n    }\n\n    function close() {\n      if (closing) {\n        text += lineSep;\n\n        if (extraLinebreak) {\n          text += lineSep;\n        }\n\n        closing = extraLinebreak = false;\n      }\n    }\n\n    function addText(str) {\n      if (str) {\n        close();\n        text += str;\n      }\n    }\n\n    function walk(node) {\n      if (node.nodeType == 1) {\n        var cmText = node.getAttribute(\"cm-text\");\n\n        if (cmText) {\n          addText(cmText);\n          return;\n        }\n\n        var markerID = node.getAttribute(\"cm-marker\"),\n            range;\n\n        if (markerID) {\n          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n\n          if (found.length && (range = found[0].find(0))) {\n            addText(getBetween(cm.doc, range.from, range.to).join(lineSep));\n          }\n\n          return;\n        }\n\n        if (node.getAttribute(\"contenteditable\") == \"false\") {\n          return;\n        }\n\n        var isBlock = /^(pre|div|p|li|table|br)$/i.test(node.nodeName);\n\n        if (!/^br$/i.test(node.nodeName) && node.textContent.length == 0) {\n          return;\n        }\n\n        if (isBlock) {\n          close();\n        }\n\n        for (var i = 0; i < node.childNodes.length; i++) {\n          walk(node.childNodes[i]);\n        }\n\n        if (/^(pre|p)$/i.test(node.nodeName)) {\n          extraLinebreak = true;\n        }\n\n        if (isBlock) {\n          closing = true;\n        }\n      } else if (node.nodeType == 3) {\n        addText(node.nodeValue.replace(/\\u200b/g, \"\").replace(/\\u00a0/g, \" \"));\n      }\n    }\n\n    for (;;) {\n      walk(from);\n\n      if (from == to) {\n        break;\n      }\n\n      from = from.nextSibling;\n      extraLinebreak = false;\n    }\n\n    return text;\n  }\n\n  function domToPos(cm, node, offset) {\n    var lineNode;\n\n    if (node == cm.display.lineDiv) {\n      lineNode = cm.display.lineDiv.childNodes[offset];\n\n      if (!lineNode) {\n        return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true);\n      }\n\n      node = null;\n      offset = 0;\n    } else {\n      for (lineNode = node;; lineNode = lineNode.parentNode) {\n        if (!lineNode || lineNode == cm.display.lineDiv) {\n          return null;\n        }\n\n        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) {\n          break;\n        }\n      }\n    }\n\n    for (var i = 0; i < cm.display.view.length; i++) {\n      var lineView = cm.display.view[i];\n\n      if (lineView.node == lineNode) {\n        return locateNodeInLineView(lineView, node, offset);\n      }\n    }\n  }\n\n  function locateNodeInLineView(lineView, node, offset) {\n    var wrapper = lineView.text.firstChild,\n        bad = false;\n\n    if (!node || !contains(wrapper, node)) {\n      return badPos(Pos(lineNo(lineView.line), 0), true);\n    }\n\n    if (node == wrapper) {\n      bad = true;\n      node = wrapper.childNodes[offset];\n      offset = 0;\n\n      if (!node) {\n        var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n        return badPos(Pos(lineNo(line), line.text.length), bad);\n      }\n    }\n\n    var textNode = node.nodeType == 3 ? node : null,\n        topNode = node;\n\n    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n      textNode = node.firstChild;\n\n      if (offset) {\n        offset = textNode.nodeValue.length;\n      }\n    }\n\n    while (topNode.parentNode != wrapper) {\n      topNode = topNode.parentNode;\n    }\n\n    var measure = lineView.measure,\n        maps = measure.maps;\n\n    function find(textNode, topNode, offset) {\n      for (var i = -1; i < (maps ? maps.length : 0); i++) {\n        var map = i < 0 ? measure.map : maps[i];\n\n        for (var j = 0; j < map.length; j += 3) {\n          var curNode = map[j + 2];\n\n          if (curNode == textNode || curNode == topNode) {\n            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n            var ch = map[j] + offset;\n\n            if (offset < 0 || curNode != textNode) {\n              ch = map[j + (offset ? 1 : 0)];\n            }\n\n            return Pos(line, ch);\n          }\n        }\n      }\n    }\n\n    var found = find(textNode, topNode, offset);\n\n    if (found) {\n      return badPos(found, bad);\n    } // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n\n\n    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n      found = find(after, after.firstChild, 0);\n\n      if (found) {\n        return badPos(Pos(found.line, found.ch - dist), bad);\n      } else {\n        dist += after.textContent.length;\n      }\n    }\n\n    for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n      found = find(before, before.firstChild, -1);\n\n      if (found) {\n        return badPos(Pos(found.line, found.ch + dist$1), bad);\n      } else {\n        dist$1 += before.textContent.length;\n      }\n    }\n  } // TEXTAREA INPUT STYLE\n\n\n  var TextareaInput = function TextareaInput(cm) {\n    this.cm = cm; // See input.poll and input.reset\n\n    this.prevInput = \"\"; // Flag that indicates whether we expect input to appear real soon\n    // now (after some event like 'keypress' or 'input') and are\n    // polling intensively.\n\n    this.pollingFast = false; // Self-resetting timeout for the poller\n\n    this.polling = new Delayed(); // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n\n    this.hasSelection = false;\n    this.composing = null;\n  };\n\n  TextareaInput.prototype.init = function (display) {\n    var this$1 = this;\n    var input = this,\n        cm = this.cm;\n    this.createField(display);\n    var te = this.textarea;\n    display.wrapper.insertBefore(this.wrapper, display.wrapper.firstChild); // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n\n    if (ios) {\n      te.style.width = \"0px\";\n    }\n\n    on(te, \"input\", function () {\n      if (ie && ie_version >= 9 && this$1.hasSelection) {\n        this$1.hasSelection = null;\n      }\n\n      input.poll();\n    });\n    on(te, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) {\n        return;\n      }\n\n      cm.state.pasteIncoming = +new Date();\n      input.fastPoll();\n    });\n\n    function prepareCopyCut(e) {\n      if (signalDOMEvent(cm, e)) {\n        return;\n      }\n\n      if (cm.somethingSelected()) {\n        setLastCopied({\n          lineWise: false,\n          text: cm.getSelections()\n        });\n      } else if (!cm.options.lineWiseCopyCut) {\n        return;\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({\n          lineWise: true,\n          text: ranges.text\n        });\n\n        if (e.type == \"cut\") {\n          cm.setSelections(ranges.ranges, null, sel_dontScroll);\n        } else {\n          input.prevInput = \"\";\n          te.value = ranges.text.join(\"\\n\");\n          selectInput(te);\n        }\n      }\n\n      if (e.type == \"cut\") {\n        cm.state.cutIncoming = +new Date();\n      }\n    }\n\n    on(te, \"cut\", prepareCopyCut);\n    on(te, \"copy\", prepareCopyCut);\n    on(display.scroller, \"paste\", function (e) {\n      if (eventInWidget(display, e) || signalDOMEvent(cm, e)) {\n        return;\n      }\n\n      if (!te.dispatchEvent) {\n        cm.state.pasteIncoming = +new Date();\n        input.focus();\n        return;\n      } // Pass the `paste` event to the textarea so it's handled by its event listener.\n\n\n      var event = new Event(\"paste\");\n      event.clipboardData = e.clipboardData;\n      te.dispatchEvent(event);\n    }); // Prevent normal selection in the editor (we handle our own)\n\n    on(display.lineSpace, \"selectstart\", function (e) {\n      if (!eventInWidget(display, e)) {\n        e_preventDefault(e);\n      }\n    });\n    on(te, \"compositionstart\", function () {\n      var start = cm.getCursor(\"from\");\n\n      if (input.composing) {\n        input.composing.range.clear();\n      }\n\n      input.composing = {\n        start: start,\n        range: cm.markText(start, cm.getCursor(\"to\"), {\n          className: \"CodeMirror-composing\"\n        })\n      };\n    });\n    on(te, \"compositionend\", function () {\n      if (input.composing) {\n        input.poll();\n        input.composing.range.clear();\n        input.composing = null;\n      }\n    });\n  };\n\n  TextareaInput.prototype.createField = function (_display) {\n    // Wraps and hides input textarea\n    this.wrapper = hiddenTextarea(); // The semihidden textarea that is focused when the editor is\n    // focused, and receives input.\n\n    this.textarea = this.wrapper.firstChild;\n  };\n\n  TextareaInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if (label) {\n      this.textarea.setAttribute('aria-label', label);\n    } else {\n      this.textarea.removeAttribute('aria-label');\n    }\n  };\n\n  TextareaInput.prototype.prepareSelection = function () {\n    // Redraw the selection and/or cursor\n    var cm = this.cm,\n        display = cm.display,\n        doc = cm.doc;\n    var result = prepareSelection(cm); // Move the hidden textarea near the cursor to prevent scrolling artifacts\n\n    if (cm.options.moveInputWithCursor) {\n      var headPos = _cursorCoords(cm, doc.sel.primary().head, \"div\");\n\n      var wrapOff = display.wrapper.getBoundingClientRect(),\n          lineOff = display.lineDiv.getBoundingClientRect();\n      result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10, headPos.top + lineOff.top - wrapOff.top));\n      result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10, headPos.left + lineOff.left - wrapOff.left));\n    }\n\n    return result;\n  };\n\n  TextareaInput.prototype.showSelection = function (drawn) {\n    var cm = this.cm,\n        display = cm.display;\n    removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n    removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n\n    if (drawn.teTop != null) {\n      this.wrapper.style.top = drawn.teTop + \"px\";\n      this.wrapper.style.left = drawn.teLeft + \"px\";\n    }\n  }; // Reset the input to correspond to the selection (or to be empty,\n  // when not typing and nothing is selected)\n\n\n  TextareaInput.prototype.reset = function (typing) {\n    if (this.contextMenuPending || this.composing) {\n      return;\n    }\n\n    var cm = this.cm;\n\n    if (cm.somethingSelected()) {\n      this.prevInput = \"\";\n      var content = cm.getSelection();\n      this.textarea.value = content;\n\n      if (cm.state.focused) {\n        selectInput(this.textarea);\n      }\n\n      if (ie && ie_version >= 9) {\n        this.hasSelection = content;\n      }\n    } else if (!typing) {\n      this.prevInput = this.textarea.value = \"\";\n\n      if (ie && ie_version >= 9) {\n        this.hasSelection = null;\n      }\n    }\n  };\n\n  TextareaInput.prototype.getField = function () {\n    return this.textarea;\n  };\n\n  TextareaInput.prototype.supportsTouch = function () {\n    return false;\n  };\n\n  TextareaInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n      try {\n        this.textarea.focus();\n      } catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n\n    }\n  };\n\n  TextareaInput.prototype.blur = function () {\n    this.textarea.blur();\n  };\n\n  TextareaInput.prototype.resetPosition = function () {\n    this.wrapper.style.top = this.wrapper.style.left = 0;\n  };\n\n  TextareaInput.prototype.receivedFocus = function () {\n    this.slowPoll();\n  }; // Poll for input changes, using the normal rate of polling. This\n  // runs as long as the editor is focused.\n\n\n  TextareaInput.prototype.slowPoll = function () {\n    var this$1 = this;\n\n    if (this.pollingFast) {\n      return;\n    }\n\n    this.polling.set(this.cm.options.pollInterval, function () {\n      this$1.poll();\n\n      if (this$1.cm.state.focused) {\n        this$1.slowPoll();\n      }\n    });\n  }; // When an event has just come in that is likely to add or change\n  // something in the input textarea, we poll faster, to ensure that\n  // the change appears on the screen quickly.\n\n\n  TextareaInput.prototype.fastPoll = function () {\n    var missed = false,\n        input = this;\n    input.pollingFast = true;\n\n    function p() {\n      var changed = input.poll();\n\n      if (!changed && !missed) {\n        missed = true;\n        input.polling.set(60, p);\n      } else {\n        input.pollingFast = false;\n        input.slowPoll();\n      }\n    }\n\n    input.polling.set(20, p);\n  }; // Read input from the textarea, and update the document to match.\n  // When something is selected, it is present in the textarea, and\n  // selected (unless it is huge, in which case a placeholder is\n  // used). When nothing is selected, the cursor sits after previously\n  // seen text (can be empty), which is stored in prevInput (we must\n  // not reset the textarea when typing, because that breaks IME).\n\n\n  TextareaInput.prototype.poll = function () {\n    var this$1 = this;\n    var cm = this.cm,\n        input = this.textarea,\n        prevInput = this.prevInput; // Since this is called a *lot*, try to bail out as cheaply as\n    // possible when it is clear that nothing happened. hasSelection\n    // will be the case when there is a lot of text in the textarea,\n    // in which case reading its value would be expensive.\n\n    if (this.contextMenuPending || !cm.state.focused || hasSelection(input) && !prevInput && !this.composing || cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq) {\n      return false;\n    }\n\n    var text = input.value; // If nothing changed, bail.\n\n    if (text == prevInput && !cm.somethingSelected()) {\n      return false;\n    } // Work around nonsensical selection resetting in IE9/10, and\n    // inexplicable appearance of private area unicode characters on\n    // some key combos in Mac (#2689).\n\n\n    if (ie && ie_version >= 9 && this.hasSelection === text || mac && /[\\uf700-\\uf7ff]/.test(text)) {\n      cm.display.input.reset();\n      return false;\n    }\n\n    if (cm.doc.sel == cm.display.selForContextMenu) {\n      var first = text.charCodeAt(0);\n\n      if (first == 0x200b && !prevInput) {\n        prevInput = \"\\u200B\";\n      }\n\n      if (first == 0x21da) {\n        this.reset();\n        return this.cm.execCommand(\"undo\");\n      }\n    } // Find the part of the input that is actually new\n\n\n    var same = 0,\n        l = Math.min(prevInput.length, text.length);\n\n    while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) {\n      ++same;\n    }\n\n    runInOp(cm, function () {\n      applyTextInput(cm, text.slice(same), prevInput.length - same, null, this$1.composing ? \"*compose\" : null); // Don't leave long text in the textarea, since it makes further polling slow\n\n      if (text.length > 1000 || text.indexOf(\"\\n\") > -1) {\n        input.value = this$1.prevInput = \"\";\n      } else {\n        this$1.prevInput = text;\n      }\n\n      if (this$1.composing) {\n        this$1.composing.range.clear();\n        this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"), {\n          className: \"CodeMirror-composing\"\n        });\n      }\n    });\n    return true;\n  };\n\n  TextareaInput.prototype.ensurePolled = function () {\n    if (this.pollingFast && this.poll()) {\n      this.pollingFast = false;\n    }\n  };\n\n  TextareaInput.prototype.onKeyPress = function () {\n    if (ie && ie_version >= 9) {\n      this.hasSelection = null;\n    }\n\n    this.fastPoll();\n  };\n\n  TextareaInput.prototype.onContextMenu = function (e) {\n    var input = this,\n        cm = input.cm,\n        display = cm.display,\n        te = input.textarea;\n\n    if (input.contextMenuPending) {\n      input.contextMenuPending();\n    }\n\n    var pos = posFromMouse(cm, e),\n        scrollPos = display.scroller.scrollTop;\n\n    if (!pos || presto) {\n      return;\n    } // Opera is difficult.\n    // Reset the current text selection only if the click is done outside of the selection\n    // and 'resetSelectionOnContextMenu' option is true.\n\n\n    var reset = cm.options.resetSelectionOnContextMenu;\n\n    if (reset && cm.doc.sel.contains(pos) == -1) {\n      operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll);\n    }\n\n    var oldCSS = te.style.cssText,\n        oldWrapperCSS = input.wrapper.style.cssText;\n    var wrapperBox = input.wrapper.offsetParent.getBoundingClientRect();\n    input.wrapper.style.cssText = \"position: static\";\n    te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n    var oldScrollY;\n\n    if (webkit) {\n      oldScrollY = window.scrollY;\n    } // Work around Chrome issue (#2712)\n\n\n    display.input.focus();\n\n    if (webkit) {\n      window.scrollTo(null, oldScrollY);\n    }\n\n    display.input.reset(); // Adds \"Select all\" to context menu in FF\n\n    if (!cm.somethingSelected()) {\n      te.value = input.prevInput = \" \";\n    }\n\n    input.contextMenuPending = rehide;\n    display.selForContextMenu = cm.doc.sel;\n    clearTimeout(display.detectingSelectAll); // Select-all will be greyed out if there's nothing to select, so\n    // this adds a zero-width space so that we can later check whether\n    // it got selected.\n\n    function prepareSelectAllHack() {\n      if (te.selectionStart != null) {\n        var selected = cm.somethingSelected();\n        var extval = \"\\u200B\" + (selected ? te.value : \"\");\n        te.value = \"\\u21DA\"; // Used to catch context-menu undo\n\n        te.value = extval;\n        input.prevInput = selected ? \"\" : \"\\u200B\";\n        te.selectionStart = 1;\n        te.selectionEnd = extval.length; // Re-set this, in case some other handler touched the\n        // selection in the meantime.\n\n        display.selForContextMenu = cm.doc.sel;\n      }\n    }\n\n    function rehide() {\n      if (input.contextMenuPending != rehide) {\n        return;\n      }\n\n      input.contextMenuPending = false;\n      input.wrapper.style.cssText = oldWrapperCSS;\n      te.style.cssText = oldCSS;\n\n      if (ie && ie_version < 9) {\n        display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos);\n      } // Try to detect the user choosing select-all\n\n\n      if (te.selectionStart != null) {\n        if (!ie || ie && ie_version < 9) {\n          prepareSelectAllHack();\n        }\n\n        var i = 0,\n            poll = function poll() {\n          if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 && te.selectionEnd > 0 && input.prevInput == \"\\u200B\") {\n            operation(cm, selectAll)(cm);\n          } else if (i++ < 10) {\n            display.detectingSelectAll = setTimeout(poll, 500);\n          } else {\n            display.selForContextMenu = null;\n            display.input.reset();\n          }\n        };\n\n        display.detectingSelectAll = setTimeout(poll, 200);\n      }\n    }\n\n    if (ie && ie_version >= 9) {\n      prepareSelectAllHack();\n    }\n\n    if (captureRightClick) {\n      e_stop(e);\n\n      var mouseup = function mouseup() {\n        off(window, \"mouseup\", mouseup);\n        setTimeout(rehide, 20);\n      };\n\n      on(window, \"mouseup\", mouseup);\n    } else {\n      setTimeout(rehide, 50);\n    }\n  };\n\n  TextareaInput.prototype.readOnlyChanged = function (val) {\n    if (!val) {\n      this.reset();\n    }\n\n    this.textarea.disabled = val == \"nocursor\";\n    this.textarea.readOnly = !!val;\n  };\n\n  TextareaInput.prototype.setUneditable = function () {};\n\n  TextareaInput.prototype.needsContentAttribute = false;\n\n  function fromTextArea(textarea, options) {\n    options = options ? copyObj(options) : {};\n    options.value = textarea.value;\n\n    if (!options.tabindex && textarea.tabIndex) {\n      options.tabindex = textarea.tabIndex;\n    }\n\n    if (!options.placeholder && textarea.placeholder) {\n      options.placeholder = textarea.placeholder;\n    } // Set autofocus to true if this textarea is focused, or if it has\n    // autofocus and no other element is focused.\n\n\n    if (options.autofocus == null) {\n      var hasFocus = activeElt();\n      options.autofocus = hasFocus == textarea || textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n    }\n\n    function save() {\n      textarea.value = cm.getValue();\n    }\n\n    var realSubmit;\n\n    if (textarea.form) {\n      on(textarea.form, \"submit\", save); // Deplorable hack to make the submit method do the right thing.\n\n      if (!options.leaveSubmitMethodAlone) {\n        var form = textarea.form;\n        realSubmit = form.submit;\n\n        try {\n          var wrappedSubmit = form.submit = function () {\n            save();\n            form.submit = realSubmit;\n            form.submit();\n            form.submit = wrappedSubmit;\n          };\n        } catch (e) {}\n      }\n    }\n\n    options.finishInit = function (cm) {\n      cm.save = save;\n\n      cm.getTextArea = function () {\n        return textarea;\n      };\n\n      cm.toTextArea = function () {\n        cm.toTextArea = isNaN; // Prevent this from being ran twice\n\n        save();\n        textarea.parentNode.removeChild(cm.getWrapperElement());\n        textarea.style.display = \"\";\n\n        if (textarea.form) {\n          off(textarea.form, \"submit\", save);\n\n          if (!options.leaveSubmitMethodAlone && typeof textarea.form.submit == \"function\") {\n            textarea.form.submit = realSubmit;\n          }\n        }\n      };\n    };\n\n    textarea.style.display = \"none\";\n    var cm = CodeMirror(function (node) {\n      return textarea.parentNode.insertBefore(node, textarea.nextSibling);\n    }, options);\n    return cm;\n  }\n\n  function addLegacyProps(CodeMirror) {\n    CodeMirror.off = off;\n    CodeMirror.on = on;\n    CodeMirror.wheelEventPixels = wheelEventPixels;\n    CodeMirror.Doc = Doc;\n    CodeMirror.splitLines = splitLinesAuto;\n    CodeMirror.countColumn = countColumn;\n    CodeMirror.findColumn = findColumn;\n    CodeMirror.isWordChar = isWordCharBasic;\n    CodeMirror.Pass = Pass;\n    CodeMirror.signal = signal;\n    CodeMirror.Line = Line;\n    CodeMirror.changeEnd = changeEnd;\n    CodeMirror.scrollbarModel = scrollbarModel;\n    CodeMirror.Pos = Pos;\n    CodeMirror.cmpPos = cmp;\n    CodeMirror.modes = modes;\n    CodeMirror.mimeModes = mimeModes;\n    CodeMirror.resolveMode = resolveMode;\n    CodeMirror.getMode = getMode;\n    CodeMirror.modeExtensions = modeExtensions;\n    CodeMirror.extendMode = extendMode;\n    CodeMirror.copyState = copyState;\n    CodeMirror.startState = startState;\n    CodeMirror.innerMode = innerMode;\n    CodeMirror.commands = commands;\n    CodeMirror.keyMap = keyMap;\n    CodeMirror.keyName = keyName;\n    CodeMirror.isModifierKey = isModifierKey;\n    CodeMirror.lookupKey = lookupKey;\n    CodeMirror.normalizeKeyMap = normalizeKeyMap;\n    CodeMirror.StringStream = StringStream;\n    CodeMirror.SharedTextMarker = SharedTextMarker;\n    CodeMirror.TextMarker = TextMarker;\n    CodeMirror.LineWidget = LineWidget;\n    CodeMirror.e_preventDefault = e_preventDefault;\n    CodeMirror.e_stopPropagation = e_stopPropagation;\n    CodeMirror.e_stop = e_stop;\n    CodeMirror.addClass = addClass;\n    CodeMirror.contains = contains;\n    CodeMirror.rmClass = rmClass;\n    CodeMirror.keyNames = keyNames;\n  } // EDITOR CONSTRUCTOR\n\n\n  defineOptions(CodeMirror);\n  addEditorMethods(CodeMirror); // Set up methods on CodeMirror's prototype to redirect to the editor's document.\n\n  var dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\n\n  for (var prop in Doc.prototype) {\n    if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0) {\n      CodeMirror.prototype[prop] = function (method) {\n        return function () {\n          return method.apply(this.doc, arguments);\n        };\n      }(Doc.prototype[prop]);\n    }\n  }\n\n  eventMixin(Doc);\n  CodeMirror.inputStyles = {\n    \"textarea\": TextareaInput,\n    \"contenteditable\": ContentEditableInput\n  }; // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n\n  CodeMirror.defineMode = function (name\n  /*, mode, */\n  ) {\n    if (!CodeMirror.defaults.mode && name != \"null\") {\n      CodeMirror.defaults.mode = name;\n    }\n\n    defineMode.apply(this, arguments);\n  };\n\n  CodeMirror.defineMIME = defineMIME; // Minimal default mode.\n\n  CodeMirror.defineMode(\"null\", function () {\n    return {\n      token: function token(stream) {\n        return stream.skipToEnd();\n      }\n    };\n  });\n  CodeMirror.defineMIME(\"text/plain\", \"null\"); // EXTENSIONS\n\n  CodeMirror.defineExtension = function (name, func) {\n    CodeMirror.prototype[name] = func;\n  };\n\n  CodeMirror.defineDocExtension = function (name, func) {\n    Doc.prototype[name] = func;\n  };\n\n  CodeMirror.fromTextArea = fromTextArea;\n  addLegacyProps(CodeMirror);\n  CodeMirror.version = \"5.62.2\";\n  return CodeMirror;\n});\n\n/***/ }),\n\n/***/ 424:\n/***/ (function(module, exports) {\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n\n/***/ }),\n\n/***/ 425:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar arrayLikeToArray = __webpack_require__(424);\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n\n/***/ }),\n\n/***/ 426:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar arrayWithHoles = __webpack_require__(556);\n\nvar iterableToArrayLimit = __webpack_require__(557);\n\nvar unsupportedIterableToArray = __webpack_require__(425);\n\nvar nonIterableRest = __webpack_require__(558);\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n\n/***/ }),\n\n/***/ 543:\n/***/ (function(module, exports) {\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n\n/***/ }),\n\n/***/ 556:\n/***/ (function(module, exports) {\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n\n/***/ }),\n\n/***/ 557:\n/***/ (function(module, exports) {\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n\n/***/ }),\n\n/***/ 558:\n/***/ (function(module, exports) {\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n\n/***/ }),\n\n/***/ 849:\n/***/ (function(module, exports, __webpack_require__) {\n\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n(function (mod) {\n  if (true) // CommonJS\n    mod(__webpack_require__(287), __webpack_require__(850), __webpack_require__(898));else {}\n})(function (CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineMode(\"markdown\", function (cmCfg, modeCfg) {\n    var htmlMode = CodeMirror.getMode(cmCfg, \"text/html\");\n    var htmlModeMissing = htmlMode.name == \"null\";\n\n    function getMode(name) {\n      if (CodeMirror.findModeByName) {\n        var found = CodeMirror.findModeByName(name);\n        if (found) name = found.mime || found.mimes[0];\n      }\n\n      var mode = CodeMirror.getMode(cmCfg, name);\n      return mode.name == \"null\" ? null : mode;\n    } // Should characters that affect highlighting be highlighted separate?\n    // Does not include characters that will be output (such as `1.` and `-` for lists)\n\n\n    if (modeCfg.highlightFormatting === undefined) modeCfg.highlightFormatting = false; // Maximum number of nested blockquotes. Set to 0 for infinite nesting.\n    // Excess `>` will emit `error` token.\n\n    if (modeCfg.maxBlockquoteDepth === undefined) modeCfg.maxBlockquoteDepth = 0; // Turn on task lists? (\"- [ ] \" and \"- [x] \")\n\n    if (modeCfg.taskLists === undefined) modeCfg.taskLists = false; // Turn on strikethrough syntax\n\n    if (modeCfg.strikethrough === undefined) modeCfg.strikethrough = false;\n    if (modeCfg.emoji === undefined) modeCfg.emoji = false;\n    if (modeCfg.fencedCodeBlockHighlighting === undefined) modeCfg.fencedCodeBlockHighlighting = true;\n    if (modeCfg.fencedCodeBlockDefaultMode === undefined) modeCfg.fencedCodeBlockDefaultMode = 'text/plain';\n    if (modeCfg.xml === undefined) modeCfg.xml = true; // Allow token types to be overridden by user-provided token types.\n\n    if (modeCfg.tokenTypeOverrides === undefined) modeCfg.tokenTypeOverrides = {};\n    var tokenTypes = {\n      header: \"header\",\n      code: \"comment\",\n      quote: \"quote\",\n      list1: \"variable-2\",\n      list2: \"variable-3\",\n      list3: \"keyword\",\n      hr: \"hr\",\n      image: \"image\",\n      imageAltText: \"image-alt-text\",\n      imageMarker: \"image-marker\",\n      formatting: \"formatting\",\n      linkInline: \"link\",\n      linkEmail: \"link\",\n      linkText: \"link\",\n      linkHref: \"string\",\n      em: \"em\",\n      strong: \"strong\",\n      strikethrough: \"strikethrough\",\n      emoji: \"builtin\"\n    };\n\n    for (var tokenType in tokenTypes) {\n      if (tokenTypes.hasOwnProperty(tokenType) && modeCfg.tokenTypeOverrides[tokenType]) {\n        tokenTypes[tokenType] = modeCfg.tokenTypeOverrides[tokenType];\n      }\n    }\n\n    var hrRE = /^([*\\-_])(?:\\s*\\1){2,}\\s*$/,\n        listRE = /^(?:[*\\-+]|^[0-9]+([.)]))\\s+/,\n        taskListRE = /^\\[(x| )\\](?=\\s)/i // Must follow listRE\n    ,\n        atxHeaderRE = modeCfg.allowAtxHeaderWithoutSpace ? /^(#+)/ : /^(#+)(?: |$)/,\n        setextHeaderRE = /^ {0,3}(?:\\={1,}|-{2,})\\s*$/,\n        textRE = /^[^#!\\[\\]*_\\\\<>` \"'(~:]+/,\n        fencedCodeRE = /^(~~~+|```+)[ \\t]*([\\w\\/+#-]*)[^\\n`]*$/,\n        linkDefRE = /^\\s*\\[[^\\]]+?\\]:.*$/ // naive link-definition\n    ,\n        punctuation = /[!\"#$%&'()*+,\\-.\\/:;<=>?@\\[\\\\\\]^_`{|}~\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E42\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC9\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDF3C-\\uDF3E]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]/,\n        expandedTab = \"    \"; // CommonMark specifies tab as 4 spaces\n\n    function switchInline(stream, state, f) {\n      state.f = state.inline = f;\n      return f(stream, state);\n    }\n\n    function switchBlock(stream, state, f) {\n      state.f = state.block = f;\n      return f(stream, state);\n    }\n\n    function lineIsEmpty(line) {\n      return !line || !/\\S/.test(line.string);\n    } // Blocks\n\n\n    function blankLine(state) {\n      // Reset linkTitle state\n      state.linkTitle = false;\n      state.linkHref = false;\n      state.linkText = false; // Reset EM state\n\n      state.em = false; // Reset STRONG state\n\n      state.strong = false; // Reset strikethrough state\n\n      state.strikethrough = false; // Reset state.quote\n\n      state.quote = 0; // Reset state.indentedCode\n\n      state.indentedCode = false;\n\n      if (state.f == htmlBlock) {\n        var exit = htmlModeMissing;\n\n        if (!exit) {\n          var inner = CodeMirror.innerMode(htmlMode, state.htmlState);\n          exit = inner.mode.name == \"xml\" && inner.state.tagStart === null && !inner.state.context && inner.state.tokenize.isInText;\n        }\n\n        if (exit) {\n          state.f = inlineNormal;\n          state.block = blockNormal;\n          state.htmlState = null;\n        }\n      } // Reset state.trailingSpace\n\n\n      state.trailingSpace = 0;\n      state.trailingSpaceNewLine = false; // Mark this line as blank\n\n      state.prevLine = state.thisLine;\n      state.thisLine = {\n        stream: null\n      };\n      return null;\n    }\n\n    function blockNormal(stream, state) {\n      var firstTokenOnLine = stream.column() === state.indentation;\n      var prevLineLineIsEmpty = lineIsEmpty(state.prevLine.stream);\n      var prevLineIsIndentedCode = state.indentedCode;\n      var prevLineIsHr = state.prevLine.hr;\n      var prevLineIsList = state.list !== false;\n      var maxNonCodeIndentation = (state.listStack[state.listStack.length - 1] || 0) + 3;\n      state.indentedCode = false;\n      var lineIndentation = state.indentation; // compute once per line (on first token)\n\n      if (state.indentationDiff === null) {\n        state.indentationDiff = state.indentation;\n\n        if (prevLineIsList) {\n          state.list = null; // While this list item's marker's indentation is less than the deepest\n          //  list item's content's indentation,pop the deepest list item\n          //  indentation off the stack, and update block indentation state\n\n          while (lineIndentation < state.listStack[state.listStack.length - 1]) {\n            state.listStack.pop();\n\n            if (state.listStack.length) {\n              state.indentation = state.listStack[state.listStack.length - 1]; // less than the first list's indent -> the line is no longer a list\n            } else {\n              state.list = false;\n            }\n          }\n\n          if (state.list !== false) {\n            state.indentationDiff = lineIndentation - state.listStack[state.listStack.length - 1];\n          }\n        }\n      } // not comprehensive (currently only for setext detection purposes)\n\n\n      var allowsInlineContinuation = !prevLineLineIsEmpty && !prevLineIsHr && !state.prevLine.header && (!prevLineIsList || !prevLineIsIndentedCode) && !state.prevLine.fencedCodeEnd;\n      var isHr = (state.list === false || prevLineIsHr || prevLineLineIsEmpty) && state.indentation <= maxNonCodeIndentation && stream.match(hrRE);\n      var match = null;\n\n      if (state.indentationDiff >= 4 && (prevLineIsIndentedCode || state.prevLine.fencedCodeEnd || state.prevLine.header || prevLineLineIsEmpty)) {\n        stream.skipToEnd();\n        state.indentedCode = true;\n        return tokenTypes.code;\n      } else if (stream.eatSpace()) {\n        return null;\n      } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(atxHeaderRE)) && match[1].length <= 6) {\n        state.quote = 0;\n        state.header = match[1].length;\n        state.thisLine.header = true;\n        if (modeCfg.highlightFormatting) state.formatting = \"header\";\n        state.f = state.inline;\n        return getType(state);\n      } else if (state.indentation <= maxNonCodeIndentation && stream.eat('>')) {\n        state.quote = firstTokenOnLine ? 1 : state.quote + 1;\n        if (modeCfg.highlightFormatting) state.formatting = \"quote\";\n        stream.eatSpace();\n        return getType(state);\n      } else if (!isHr && !state.setext && firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(listRE))) {\n        var listType = match[1] ? \"ol\" : \"ul\";\n        state.indentation = lineIndentation + stream.current().length;\n        state.list = true;\n        state.quote = 0; // Add this list item's content's indentation to the stack\n\n        state.listStack.push(state.indentation); // Reset inline styles which shouldn't propagate across list items\n\n        state.em = false;\n        state.strong = false;\n        state.code = false;\n        state.strikethrough = false;\n\n        if (modeCfg.taskLists && stream.match(taskListRE, false)) {\n          state.taskList = true;\n        }\n\n        state.f = state.inline;\n        if (modeCfg.highlightFormatting) state.formatting = [\"list\", \"list-\" + listType];\n        return getType(state);\n      } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(fencedCodeRE, true))) {\n        state.quote = 0;\n        state.fencedEndRE = new RegExp(match[1] + \"+ *$\"); // try switching mode\n\n        state.localMode = modeCfg.fencedCodeBlockHighlighting && getMode(match[2] || modeCfg.fencedCodeBlockDefaultMode);\n        if (state.localMode) state.localState = CodeMirror.startState(state.localMode);\n        state.f = state.block = local;\n        if (modeCfg.highlightFormatting) state.formatting = \"code-block\";\n        state.code = -1;\n        return getType(state); // SETEXT has lowest block-scope precedence after HR, so check it after\n        //  the others (code, blockquote, list...)\n      } else if ( // if setext set, indicates line after ---/===\n      state.setext || // line before ---/===\n      (!allowsInlineContinuation || !prevLineIsList) && !state.quote && state.list === false && !state.code && !isHr && !linkDefRE.test(stream.string) && (match = stream.lookAhead(1)) && (match = match.match(setextHeaderRE))) {\n        if (!state.setext) {\n          state.header = match[0].charAt(0) == '=' ? 1 : 2;\n          state.setext = state.header;\n        } else {\n          state.header = state.setext; // has no effect on type so we can reset it now\n\n          state.setext = 0;\n          stream.skipToEnd();\n          if (modeCfg.highlightFormatting) state.formatting = \"header\";\n        }\n\n        state.thisLine.header = true;\n        state.f = state.inline;\n        return getType(state);\n      } else if (isHr) {\n        stream.skipToEnd();\n        state.hr = true;\n        state.thisLine.hr = true;\n        return tokenTypes.hr;\n      } else if (stream.peek() === '[') {\n        return switchInline(stream, state, footnoteLink);\n      }\n\n      return switchInline(stream, state, state.inline);\n    }\n\n    function htmlBlock(stream, state) {\n      var style = htmlMode.token(stream, state.htmlState);\n\n      if (!htmlModeMissing) {\n        var inner = CodeMirror.innerMode(htmlMode, state.htmlState);\n\n        if (inner.mode.name == \"xml\" && inner.state.tagStart === null && !inner.state.context && inner.state.tokenize.isInText || state.md_inside && stream.current().indexOf(\">\") > -1) {\n          state.f = inlineNormal;\n          state.block = blockNormal;\n          state.htmlState = null;\n        }\n      }\n\n      return style;\n    }\n\n    function local(stream, state) {\n      var currListInd = state.listStack[state.listStack.length - 1] || 0;\n      var hasExitedList = state.indentation < currListInd;\n      var maxFencedEndInd = currListInd + 3;\n\n      if (state.fencedEndRE && state.indentation <= maxFencedEndInd && (hasExitedList || stream.match(state.fencedEndRE))) {\n        if (modeCfg.highlightFormatting) state.formatting = \"code-block\";\n        var returnType;\n        if (!hasExitedList) returnType = getType(state);\n        state.localMode = state.localState = null;\n        state.block = blockNormal;\n        state.f = inlineNormal;\n        state.fencedEndRE = null;\n        state.code = 0;\n        state.thisLine.fencedCodeEnd = true;\n        if (hasExitedList) return switchBlock(stream, state, state.block);\n        return returnType;\n      } else if (state.localMode) {\n        return state.localMode.token(stream, state.localState);\n      } else {\n        stream.skipToEnd();\n        return tokenTypes.code;\n      }\n    } // Inline\n\n\n    function getType(state) {\n      var styles = [];\n\n      if (state.formatting) {\n        styles.push(tokenTypes.formatting);\n        if (typeof state.formatting === \"string\") state.formatting = [state.formatting];\n\n        for (var i = 0; i < state.formatting.length; i++) {\n          styles.push(tokenTypes.formatting + \"-\" + state.formatting[i]);\n\n          if (state.formatting[i] === \"header\") {\n            styles.push(tokenTypes.formatting + \"-\" + state.formatting[i] + \"-\" + state.header);\n          } // Add `formatting-quote` and `formatting-quote-#` for blockquotes\n          // Add `error` instead if the maximum blockquote nesting depth is passed\n\n\n          if (state.formatting[i] === \"quote\") {\n            if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {\n              styles.push(tokenTypes.formatting + \"-\" + state.formatting[i] + \"-\" + state.quote);\n            } else {\n              styles.push(\"error\");\n            }\n          }\n        }\n      }\n\n      if (state.taskOpen) {\n        styles.push(\"meta\");\n        return styles.length ? styles.join(' ') : null;\n      }\n\n      if (state.taskClosed) {\n        styles.push(\"property\");\n        return styles.length ? styles.join(' ') : null;\n      }\n\n      if (state.linkHref) {\n        styles.push(tokenTypes.linkHref, \"url\");\n      } else {\n        // Only apply inline styles to non-url text\n        if (state.strong) {\n          styles.push(tokenTypes.strong);\n        }\n\n        if (state.em) {\n          styles.push(tokenTypes.em);\n        }\n\n        if (state.strikethrough) {\n          styles.push(tokenTypes.strikethrough);\n        }\n\n        if (state.emoji) {\n          styles.push(tokenTypes.emoji);\n        }\n\n        if (state.linkText) {\n          styles.push(tokenTypes.linkText);\n        }\n\n        if (state.code) {\n          styles.push(tokenTypes.code);\n        }\n\n        if (state.image) {\n          styles.push(tokenTypes.image);\n        }\n\n        if (state.imageAltText) {\n          styles.push(tokenTypes.imageAltText, \"link\");\n        }\n\n        if (state.imageMarker) {\n          styles.push(tokenTypes.imageMarker);\n        }\n      }\n\n      if (state.header) {\n        styles.push(tokenTypes.header, tokenTypes.header + \"-\" + state.header);\n      }\n\n      if (state.quote) {\n        styles.push(tokenTypes.quote); // Add `quote-#` where the maximum for `#` is modeCfg.maxBlockquoteDepth\n\n        if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {\n          styles.push(tokenTypes.quote + \"-\" + state.quote);\n        } else {\n          styles.push(tokenTypes.quote + \"-\" + modeCfg.maxBlockquoteDepth);\n        }\n      }\n\n      if (state.list !== false) {\n        var listMod = (state.listStack.length - 1) % 3;\n\n        if (!listMod) {\n          styles.push(tokenTypes.list1);\n        } else if (listMod === 1) {\n          styles.push(tokenTypes.list2);\n        } else {\n          styles.push(tokenTypes.list3);\n        }\n      }\n\n      if (state.trailingSpaceNewLine) {\n        styles.push(\"trailing-space-new-line\");\n      } else if (state.trailingSpace) {\n        styles.push(\"trailing-space-\" + (state.trailingSpace % 2 ? \"a\" : \"b\"));\n      }\n\n      return styles.length ? styles.join(' ') : null;\n    }\n\n    function handleText(stream, state) {\n      if (stream.match(textRE, true)) {\n        return getType(state);\n      }\n\n      return undefined;\n    }\n\n    function inlineNormal(stream, state) {\n      var style = state.text(stream, state);\n      if (typeof style !== 'undefined') return style;\n\n      if (state.list) {\n        // List marker (*, +, -, 1., etc)\n        state.list = null;\n        return getType(state);\n      }\n\n      if (state.taskList) {\n        var taskOpen = stream.match(taskListRE, true)[1] === \" \";\n        if (taskOpen) state.taskOpen = true;else state.taskClosed = true;\n        if (modeCfg.highlightFormatting) state.formatting = \"task\";\n        state.taskList = false;\n        return getType(state);\n      }\n\n      state.taskOpen = false;\n      state.taskClosed = false;\n\n      if (state.header && stream.match(/^#+$/, true)) {\n        if (modeCfg.highlightFormatting) state.formatting = \"header\";\n        return getType(state);\n      }\n\n      var ch = stream.next(); // Matches link titles present on next line\n\n      if (state.linkTitle) {\n        state.linkTitle = false;\n        var matchCh = ch;\n\n        if (ch === '(') {\n          matchCh = ')';\n        }\n\n        matchCh = (matchCh + '').replace(/([.?*+^\\[\\]\\\\(){}|-])/g, \"\\\\$1\");\n        var regex = '^\\\\s*(?:[^' + matchCh + '\\\\\\\\]+|\\\\\\\\\\\\\\\\|\\\\\\\\.)' + matchCh;\n\n        if (stream.match(new RegExp(regex), true)) {\n          return tokenTypes.linkHref;\n        }\n      } // If this block is changed, it may need to be updated in GFM mode\n\n\n      if (ch === '`') {\n        var previousFormatting = state.formatting;\n        if (modeCfg.highlightFormatting) state.formatting = \"code\";\n        stream.eatWhile('`');\n        var count = stream.current().length;\n\n        if (state.code == 0 && (!state.quote || count == 1)) {\n          state.code = count;\n          return getType(state);\n        } else if (count == state.code) {\n          // Must be exact\n          var t = getType(state);\n          state.code = 0;\n          return t;\n        } else {\n          state.formatting = previousFormatting;\n          return getType(state);\n        }\n      } else if (state.code) {\n        return getType(state);\n      }\n\n      if (ch === '\\\\') {\n        stream.next();\n\n        if (modeCfg.highlightFormatting) {\n          var type = getType(state);\n          var formattingEscape = tokenTypes.formatting + \"-escape\";\n          return type ? type + \" \" + formattingEscape : formattingEscape;\n        }\n      }\n\n      if (ch === '!' && stream.match(/\\[[^\\]]*\\] ?(?:\\(|\\[)/, false)) {\n        state.imageMarker = true;\n        state.image = true;\n        if (modeCfg.highlightFormatting) state.formatting = \"image\";\n        return getType(state);\n      }\n\n      if (ch === '[' && state.imageMarker && stream.match(/[^\\]]*\\](\\(.*?\\)| ?\\[.*?\\])/, false)) {\n        state.imageMarker = false;\n        state.imageAltText = true;\n        if (modeCfg.highlightFormatting) state.formatting = \"image\";\n        return getType(state);\n      }\n\n      if (ch === ']' && state.imageAltText) {\n        if (modeCfg.highlightFormatting) state.formatting = \"image\";\n        var type = getType(state);\n        state.imageAltText = false;\n        state.image = false;\n        state.inline = state.f = linkHref;\n        return type;\n      }\n\n      if (ch === '[' && !state.image) {\n        if (state.linkText && stream.match(/^.*?\\]/)) return getType(state);\n        state.linkText = true;\n        if (modeCfg.highlightFormatting) state.formatting = \"link\";\n        return getType(state);\n      }\n\n      if (ch === ']' && state.linkText) {\n        if (modeCfg.highlightFormatting) state.formatting = \"link\";\n        var type = getType(state);\n        state.linkText = false;\n        state.inline = state.f = stream.match(/\\(.*?\\)| ?\\[.*?\\]/, false) ? linkHref : inlineNormal;\n        return type;\n      }\n\n      if (ch === '<' && stream.match(/^(https?|ftps?):\\/\\/(?:[^\\\\>]|\\\\.)+>/, false)) {\n        state.f = state.inline = linkInline;\n        if (modeCfg.highlightFormatting) state.formatting = \"link\";\n        var type = getType(state);\n\n        if (type) {\n          type += \" \";\n        } else {\n          type = \"\";\n        }\n\n        return type + tokenTypes.linkInline;\n      }\n\n      if (ch === '<' && stream.match(/^[^> \\\\]+@(?:[^\\\\>]|\\\\.)+>/, false)) {\n        state.f = state.inline = linkInline;\n        if (modeCfg.highlightFormatting) state.formatting = \"link\";\n        var type = getType(state);\n\n        if (type) {\n          type += \" \";\n        } else {\n          type = \"\";\n        }\n\n        return type + tokenTypes.linkEmail;\n      }\n\n      if (modeCfg.xml && ch === '<' && stream.match(/^(!--|\\?|!\\[CDATA\\[|[a-z][a-z0-9-]*(?:\\s+[a-z_:.\\-]+(?:\\s*=\\s*[^>]+)?)*\\s*(?:>|$))/i, false)) {\n        var end = stream.string.indexOf(\">\", stream.pos);\n\n        if (end != -1) {\n          var atts = stream.string.substring(stream.start, end);\n          if (/markdown\\s*=\\s*('|\"){0,1}1('|\"){0,1}/.test(atts)) state.md_inside = true;\n        }\n\n        stream.backUp(1);\n        state.htmlState = CodeMirror.startState(htmlMode);\n        return switchBlock(stream, state, htmlBlock);\n      }\n\n      if (modeCfg.xml && ch === '<' && stream.match(/^\\/\\w*?>/)) {\n        state.md_inside = false;\n        return \"tag\";\n      } else if (ch === \"*\" || ch === \"_\") {\n        var len = 1,\n            before = stream.pos == 1 ? \" \" : stream.string.charAt(stream.pos - 2);\n\n        while (len < 3 && stream.eat(ch)) {\n          len++;\n        }\n\n        var after = stream.peek() || \" \"; // See http://spec.commonmark.org/0.27/#emphasis-and-strong-emphasis\n\n        var leftFlanking = !/\\s/.test(after) && (!punctuation.test(after) || /\\s/.test(before) || punctuation.test(before));\n        var rightFlanking = !/\\s/.test(before) && (!punctuation.test(before) || /\\s/.test(after) || punctuation.test(after));\n        var setEm = null,\n            setStrong = null;\n\n        if (len % 2) {\n          // Em\n          if (!state.em && leftFlanking && (ch === \"*\" || !rightFlanking || punctuation.test(before))) setEm = true;else if (state.em == ch && rightFlanking && (ch === \"*\" || !leftFlanking || punctuation.test(after))) setEm = false;\n        }\n\n        if (len > 1) {\n          // Strong\n          if (!state.strong && leftFlanking && (ch === \"*\" || !rightFlanking || punctuation.test(before))) setStrong = true;else if (state.strong == ch && rightFlanking && (ch === \"*\" || !leftFlanking || punctuation.test(after))) setStrong = false;\n        }\n\n        if (setStrong != null || setEm != null) {\n          if (modeCfg.highlightFormatting) state.formatting = setEm == null ? \"strong\" : setStrong == null ? \"em\" : \"strong em\";\n          if (setEm === true) state.em = ch;\n          if (setStrong === true) state.strong = ch;\n          var t = getType(state);\n          if (setEm === false) state.em = false;\n          if (setStrong === false) state.strong = false;\n          return t;\n        }\n      } else if (ch === ' ') {\n        if (stream.eat('*') || stream.eat('_')) {\n          // Probably surrounded by spaces\n          if (stream.peek() === ' ') {\n            // Surrounded by spaces, ignore\n            return getType(state);\n          } else {\n            // Not surrounded by spaces, back up pointer\n            stream.backUp(1);\n          }\n        }\n      }\n\n      if (modeCfg.strikethrough) {\n        if (ch === '~' && stream.eatWhile(ch)) {\n          if (state.strikethrough) {\n            // Remove strikethrough\n            if (modeCfg.highlightFormatting) state.formatting = \"strikethrough\";\n            var t = getType(state);\n            state.strikethrough = false;\n            return t;\n          } else if (stream.match(/^[^\\s]/, false)) {\n            // Add strikethrough\n            state.strikethrough = true;\n            if (modeCfg.highlightFormatting) state.formatting = \"strikethrough\";\n            return getType(state);\n          }\n        } else if (ch === ' ') {\n          if (stream.match('~~', true)) {\n            // Probably surrounded by space\n            if (stream.peek() === ' ') {\n              // Surrounded by spaces, ignore\n              return getType(state);\n            } else {\n              // Not surrounded by spaces, back up pointer\n              stream.backUp(2);\n            }\n          }\n        }\n      }\n\n      if (modeCfg.emoji && ch === \":\" && stream.match(/^(?:[a-z_\\d+][a-z_\\d+-]*|\\-[a-z_\\d+][a-z_\\d+-]*):/)) {\n        state.emoji = true;\n        if (modeCfg.highlightFormatting) state.formatting = \"emoji\";\n        var retType = getType(state);\n        state.emoji = false;\n        return retType;\n      }\n\n      if (ch === ' ') {\n        if (stream.match(/^ +$/, false)) {\n          state.trailingSpace++;\n        } else if (state.trailingSpace) {\n          state.trailingSpaceNewLine = true;\n        }\n      }\n\n      return getType(state);\n    }\n\n    function linkInline(stream, state) {\n      var ch = stream.next();\n\n      if (ch === \">\") {\n        state.f = state.inline = inlineNormal;\n        if (modeCfg.highlightFormatting) state.formatting = \"link\";\n        var type = getType(state);\n\n        if (type) {\n          type += \" \";\n        } else {\n          type = \"\";\n        }\n\n        return type + tokenTypes.linkInline;\n      }\n\n      stream.match(/^[^>]+/, true);\n      return tokenTypes.linkInline;\n    }\n\n    function linkHref(stream, state) {\n      // Check if space, and return NULL if so (to avoid marking the space)\n      if (stream.eatSpace()) {\n        return null;\n      }\n\n      var ch = stream.next();\n\n      if (ch === '(' || ch === '[') {\n        state.f = state.inline = getLinkHrefInside(ch === \"(\" ? \")\" : \"]\");\n        if (modeCfg.highlightFormatting) state.formatting = \"link-string\";\n        state.linkHref = true;\n        return getType(state);\n      }\n\n      return 'error';\n    }\n\n    var linkRE = {\n      \")\": /^(?:[^\\\\\\(\\)]|\\\\.|\\((?:[^\\\\\\(\\)]|\\\\.)*\\))*?(?=\\))/,\n      \"]\": /^(?:[^\\\\\\[\\]]|\\\\.|\\[(?:[^\\\\\\[\\]]|\\\\.)*\\])*?(?=\\])/\n    };\n\n    function getLinkHrefInside(endChar) {\n      return function (stream, state) {\n        var ch = stream.next();\n\n        if (ch === endChar) {\n          state.f = state.inline = inlineNormal;\n          if (modeCfg.highlightFormatting) state.formatting = \"link-string\";\n          var returnState = getType(state);\n          state.linkHref = false;\n          return returnState;\n        }\n\n        stream.match(linkRE[endChar]);\n        state.linkHref = true;\n        return getType(state);\n      };\n    }\n\n    function footnoteLink(stream, state) {\n      if (stream.match(/^([^\\]\\\\]|\\\\.)*\\]:/, false)) {\n        state.f = footnoteLinkInside;\n        stream.next(); // Consume [\n\n        if (modeCfg.highlightFormatting) state.formatting = \"link\";\n        state.linkText = true;\n        return getType(state);\n      }\n\n      return switchInline(stream, state, inlineNormal);\n    }\n\n    function footnoteLinkInside(stream, state) {\n      if (stream.match(']:', true)) {\n        state.f = state.inline = footnoteUrl;\n        if (modeCfg.highlightFormatting) state.formatting = \"link\";\n        var returnType = getType(state);\n        state.linkText = false;\n        return returnType;\n      }\n\n      stream.match(/^([^\\]\\\\]|\\\\.)+/, true);\n      return tokenTypes.linkText;\n    }\n\n    function footnoteUrl(stream, state) {\n      // Check if space, and return NULL if so (to avoid marking the space)\n      if (stream.eatSpace()) {\n        return null;\n      } // Match URL\n\n\n      stream.match(/^[^\\s]+/, true); // Check for link title\n\n      if (stream.peek() === undefined) {\n        // End of line, set flag to check next line\n        state.linkTitle = true;\n      } else {\n        // More content on line, check if link title\n        stream.match(/^(?:\\s+(?:\"(?:[^\"\\\\]|\\\\.)+\"|'(?:[^'\\\\]|\\\\.)+'|\\((?:[^)\\\\]|\\\\.)+\\)))?/, true);\n      }\n\n      state.f = state.inline = inlineNormal;\n      return tokenTypes.linkHref + \" url\";\n    }\n\n    var mode = {\n      startState: function startState() {\n        return {\n          f: blockNormal,\n          prevLine: {\n            stream: null\n          },\n          thisLine: {\n            stream: null\n          },\n          block: blockNormal,\n          htmlState: null,\n          indentation: 0,\n          inline: inlineNormal,\n          text: handleText,\n          formatting: false,\n          linkText: false,\n          linkHref: false,\n          linkTitle: false,\n          code: 0,\n          em: false,\n          strong: false,\n          header: 0,\n          setext: 0,\n          hr: false,\n          taskList: false,\n          list: false,\n          listStack: [],\n          quote: 0,\n          trailingSpace: 0,\n          trailingSpaceNewLine: false,\n          strikethrough: false,\n          emoji: false,\n          fencedEndRE: null\n        };\n      },\n      copyState: function copyState(s) {\n        return {\n          f: s.f,\n          prevLine: s.prevLine,\n          thisLine: s.thisLine,\n          block: s.block,\n          htmlState: s.htmlState && CodeMirror.copyState(htmlMode, s.htmlState),\n          indentation: s.indentation,\n          localMode: s.localMode,\n          localState: s.localMode ? CodeMirror.copyState(s.localMode, s.localState) : null,\n          inline: s.inline,\n          text: s.text,\n          formatting: false,\n          linkText: s.linkText,\n          linkTitle: s.linkTitle,\n          linkHref: s.linkHref,\n          code: s.code,\n          em: s.em,\n          strong: s.strong,\n          strikethrough: s.strikethrough,\n          emoji: s.emoji,\n          header: s.header,\n          setext: s.setext,\n          hr: s.hr,\n          taskList: s.taskList,\n          list: s.list,\n          listStack: s.listStack.slice(0),\n          quote: s.quote,\n          indentedCode: s.indentedCode,\n          trailingSpace: s.trailingSpace,\n          trailingSpaceNewLine: s.trailingSpaceNewLine,\n          md_inside: s.md_inside,\n          fencedEndRE: s.fencedEndRE\n        };\n      },\n      token: function token(stream, state) {\n        // Reset state.formatting\n        state.formatting = false;\n\n        if (stream != state.thisLine.stream) {\n          state.header = 0;\n          state.hr = false;\n\n          if (stream.match(/^\\s*$/, true)) {\n            blankLine(state);\n            return null;\n          }\n\n          state.prevLine = state.thisLine;\n          state.thisLine = {\n            stream: stream\n          }; // Reset state.taskList\n\n          state.taskList = false; // Reset state.trailingSpace\n\n          state.trailingSpace = 0;\n          state.trailingSpaceNewLine = false;\n\n          if (!state.localState) {\n            state.f = state.block;\n\n            if (state.f != htmlBlock) {\n              var indentation = stream.match(/^\\s*/, true)[0].replace(/\\t/g, expandedTab).length;\n              state.indentation = indentation;\n              state.indentationDiff = null;\n              if (indentation > 0) return null;\n            }\n          }\n        }\n\n        return state.f(stream, state);\n      },\n      innerMode: function innerMode(state) {\n        if (state.block == htmlBlock) return {\n          state: state.htmlState,\n          mode: htmlMode\n        };\n        if (state.localState) return {\n          state: state.localState,\n          mode: state.localMode\n        };\n        return {\n          state: state,\n          mode: mode\n        };\n      },\n      indent: function indent(state, textAfter, line) {\n        if (state.block == htmlBlock && htmlMode.indent) return htmlMode.indent(state.htmlState, textAfter, line);\n        if (state.localState && state.localMode.indent) return state.localMode.indent(state.localState, textAfter, line);\n        return CodeMirror.Pass;\n      },\n      blankLine: blankLine,\n      getType: getType,\n      blockCommentStart: \"<!--\",\n      blockCommentEnd: \"-->\",\n      closeBrackets: \"()[]{}''\\\"\\\"``\",\n      fold: \"markdown\"\n    };\n    return mode;\n  }, \"xml\");\n  CodeMirror.defineMIME(\"text/markdown\", \"markdown\");\n  CodeMirror.defineMIME(\"text/x-markdown\", \"markdown\");\n});\n\n/***/ }),\n\n/***/ 850:\n/***/ (function(module, exports, __webpack_require__) {\n\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n(function (mod) {\n  if (true) // CommonJS\n    mod(__webpack_require__(287));else {}\n})(function (CodeMirror) {\n  \"use strict\";\n\n  var htmlConfig = {\n    autoSelfClosers: {\n      'area': true,\n      'base': true,\n      'br': true,\n      'col': true,\n      'command': true,\n      'embed': true,\n      'frame': true,\n      'hr': true,\n      'img': true,\n      'input': true,\n      'keygen': true,\n      'link': true,\n      'meta': true,\n      'param': true,\n      'source': true,\n      'track': true,\n      'wbr': true,\n      'menuitem': true\n    },\n    implicitlyClosed: {\n      'dd': true,\n      'li': true,\n      'optgroup': true,\n      'option': true,\n      'p': true,\n      'rp': true,\n      'rt': true,\n      'tbody': true,\n      'td': true,\n      'tfoot': true,\n      'th': true,\n      'tr': true\n    },\n    contextGrabbers: {\n      'dd': {\n        'dd': true,\n        'dt': true\n      },\n      'dt': {\n        'dd': true,\n        'dt': true\n      },\n      'li': {\n        'li': true\n      },\n      'option': {\n        'option': true,\n        'optgroup': true\n      },\n      'optgroup': {\n        'optgroup': true\n      },\n      'p': {\n        'address': true,\n        'article': true,\n        'aside': true,\n        'blockquote': true,\n        'dir': true,\n        'div': true,\n        'dl': true,\n        'fieldset': true,\n        'footer': true,\n        'form': true,\n        'h1': true,\n        'h2': true,\n        'h3': true,\n        'h4': true,\n        'h5': true,\n        'h6': true,\n        'header': true,\n        'hgroup': true,\n        'hr': true,\n        'menu': true,\n        'nav': true,\n        'ol': true,\n        'p': true,\n        'pre': true,\n        'section': true,\n        'table': true,\n        'ul': true\n      },\n      'rp': {\n        'rp': true,\n        'rt': true\n      },\n      'rt': {\n        'rp': true,\n        'rt': true\n      },\n      'tbody': {\n        'tbody': true,\n        'tfoot': true\n      },\n      'td': {\n        'td': true,\n        'th': true\n      },\n      'tfoot': {\n        'tbody': true\n      },\n      'th': {\n        'td': true,\n        'th': true\n      },\n      'thead': {\n        'tbody': true,\n        'tfoot': true\n      },\n      'tr': {\n        'tr': true\n      }\n    },\n    doNotIndent: {\n      \"pre\": true\n    },\n    allowUnquoted: true,\n    allowMissing: true,\n    caseFold: true\n  };\n  var xmlConfig = {\n    autoSelfClosers: {},\n    implicitlyClosed: {},\n    contextGrabbers: {},\n    doNotIndent: {},\n    allowUnquoted: false,\n    allowMissing: false,\n    allowMissingTagName: false,\n    caseFold: false\n  };\n  CodeMirror.defineMode(\"xml\", function (editorConf, config_) {\n    var indentUnit = editorConf.indentUnit;\n    var config = {};\n    var defaults = config_.htmlMode ? htmlConfig : xmlConfig;\n\n    for (var prop in defaults) {\n      config[prop] = defaults[prop];\n    }\n\n    for (var prop in config_) {\n      config[prop] = config_[prop];\n    } // Return variables for tokenizers\n\n\n    var type, setStyle;\n\n    function inText(stream, state) {\n      function chain(parser) {\n        state.tokenize = parser;\n        return parser(stream, state);\n      }\n\n      var ch = stream.next();\n\n      if (ch == \"<\") {\n        if (stream.eat(\"!\")) {\n          if (stream.eat(\"[\")) {\n            if (stream.match(\"CDATA[\")) return chain(inBlock(\"atom\", \"]]>\"));else return null;\n          } else if (stream.match(\"--\")) {\n            return chain(inBlock(\"comment\", \"-->\"));\n          } else if (stream.match(\"DOCTYPE\", true, true)) {\n            stream.eatWhile(/[\\w\\._\\-]/);\n            return chain(doctype(1));\n          } else {\n            return null;\n          }\n        } else if (stream.eat(\"?\")) {\n          stream.eatWhile(/[\\w\\._\\-]/);\n          state.tokenize = inBlock(\"meta\", \"?>\");\n          return \"meta\";\n        } else {\n          type = stream.eat(\"/\") ? \"closeTag\" : \"openTag\";\n          state.tokenize = inTag;\n          return \"tag bracket\";\n        }\n      } else if (ch == \"&\") {\n        var ok;\n\n        if (stream.eat(\"#\")) {\n          if (stream.eat(\"x\")) {\n            ok = stream.eatWhile(/[a-fA-F\\d]/) && stream.eat(\";\");\n          } else {\n            ok = stream.eatWhile(/[\\d]/) && stream.eat(\";\");\n          }\n        } else {\n          ok = stream.eatWhile(/[\\w\\.\\-:]/) && stream.eat(\";\");\n        }\n\n        return ok ? \"atom\" : \"error\";\n      } else {\n        stream.eatWhile(/[^&<]/);\n        return null;\n      }\n    }\n\n    inText.isInText = true;\n\n    function inTag(stream, state) {\n      var ch = stream.next();\n\n      if (ch == \">\" || ch == \"/\" && stream.eat(\">\")) {\n        state.tokenize = inText;\n        type = ch == \">\" ? \"endTag\" : \"selfcloseTag\";\n        return \"tag bracket\";\n      } else if (ch == \"=\") {\n        type = \"equals\";\n        return null;\n      } else if (ch == \"<\") {\n        state.tokenize = inText;\n        state.state = baseState;\n        state.tagName = state.tagStart = null;\n        var next = state.tokenize(stream, state);\n        return next ? next + \" tag error\" : \"tag error\";\n      } else if (/[\\'\\\"]/.test(ch)) {\n        state.tokenize = inAttribute(ch);\n        state.stringStartCol = stream.column();\n        return state.tokenize(stream, state);\n      } else {\n        stream.match(/^[^\\s\\u00a0=<>\\\"\\']*[^\\s\\u00a0=<>\\\"\\'\\/]/);\n        return \"word\";\n      }\n    }\n\n    function inAttribute(quote) {\n      var closure = function closure(stream, state) {\n        while (!stream.eol()) {\n          if (stream.next() == quote) {\n            state.tokenize = inTag;\n            break;\n          }\n        }\n\n        return \"string\";\n      };\n\n      closure.isInAttribute = true;\n      return closure;\n    }\n\n    function inBlock(style, terminator) {\n      return function (stream, state) {\n        while (!stream.eol()) {\n          if (stream.match(terminator)) {\n            state.tokenize = inText;\n            break;\n          }\n\n          stream.next();\n        }\n\n        return style;\n      };\n    }\n\n    function doctype(depth) {\n      return function (stream, state) {\n        var ch;\n\n        while ((ch = stream.next()) != null) {\n          if (ch == \"<\") {\n            state.tokenize = doctype(depth + 1);\n            return state.tokenize(stream, state);\n          } else if (ch == \">\") {\n            if (depth == 1) {\n              state.tokenize = inText;\n              break;\n            } else {\n              state.tokenize = doctype(depth - 1);\n              return state.tokenize(stream, state);\n            }\n          }\n        }\n\n        return \"meta\";\n      };\n    }\n\n    function Context(state, tagName, startOfLine) {\n      this.prev = state.context;\n      this.tagName = tagName || \"\";\n      this.indent = state.indented;\n      this.startOfLine = startOfLine;\n      if (config.doNotIndent.hasOwnProperty(tagName) || state.context && state.context.noIndent) this.noIndent = true;\n    }\n\n    function popContext(state) {\n      if (state.context) state.context = state.context.prev;\n    }\n\n    function maybePopContext(state, nextTagName) {\n      var parentTagName;\n\n      while (true) {\n        if (!state.context) {\n          return;\n        }\n\n        parentTagName = state.context.tagName;\n\n        if (!config.contextGrabbers.hasOwnProperty(parentTagName) || !config.contextGrabbers[parentTagName].hasOwnProperty(nextTagName)) {\n          return;\n        }\n\n        popContext(state);\n      }\n    }\n\n    function baseState(type, stream, state) {\n      if (type == \"openTag\") {\n        state.tagStart = stream.column();\n        return tagNameState;\n      } else if (type == \"closeTag\") {\n        return closeTagNameState;\n      } else {\n        return baseState;\n      }\n    }\n\n    function tagNameState(type, stream, state) {\n      if (type == \"word\") {\n        state.tagName = stream.current();\n        setStyle = \"tag\";\n        return attrState;\n      } else if (config.allowMissingTagName && type == \"endTag\") {\n        setStyle = \"tag bracket\";\n        return attrState(type, stream, state);\n      } else {\n        setStyle = \"error\";\n        return tagNameState;\n      }\n    }\n\n    function closeTagNameState(type, stream, state) {\n      if (type == \"word\") {\n        var tagName = stream.current();\n        if (state.context && state.context.tagName != tagName && config.implicitlyClosed.hasOwnProperty(state.context.tagName)) popContext(state);\n\n        if (state.context && state.context.tagName == tagName || config.matchClosing === false) {\n          setStyle = \"tag\";\n          return closeState;\n        } else {\n          setStyle = \"tag error\";\n          return closeStateErr;\n        }\n      } else if (config.allowMissingTagName && type == \"endTag\") {\n        setStyle = \"tag bracket\";\n        return closeState(type, stream, state);\n      } else {\n        setStyle = \"error\";\n        return closeStateErr;\n      }\n    }\n\n    function closeState(type, _stream, state) {\n      if (type != \"endTag\") {\n        setStyle = \"error\";\n        return closeState;\n      }\n\n      popContext(state);\n      return baseState;\n    }\n\n    function closeStateErr(type, stream, state) {\n      setStyle = \"error\";\n      return closeState(type, stream, state);\n    }\n\n    function attrState(type, _stream, state) {\n      if (type == \"word\") {\n        setStyle = \"attribute\";\n        return attrEqState;\n      } else if (type == \"endTag\" || type == \"selfcloseTag\") {\n        var tagName = state.tagName,\n            tagStart = state.tagStart;\n        state.tagName = state.tagStart = null;\n\n        if (type == \"selfcloseTag\" || config.autoSelfClosers.hasOwnProperty(tagName)) {\n          maybePopContext(state, tagName);\n        } else {\n          maybePopContext(state, tagName);\n          state.context = new Context(state, tagName, tagStart == state.indented);\n        }\n\n        return baseState;\n      }\n\n      setStyle = \"error\";\n      return attrState;\n    }\n\n    function attrEqState(type, stream, state) {\n      if (type == \"equals\") return attrValueState;\n      if (!config.allowMissing) setStyle = \"error\";\n      return attrState(type, stream, state);\n    }\n\n    function attrValueState(type, stream, state) {\n      if (type == \"string\") return attrContinuedState;\n\n      if (type == \"word\" && config.allowUnquoted) {\n        setStyle = \"string\";\n        return attrState;\n      }\n\n      setStyle = \"error\";\n      return attrState(type, stream, state);\n    }\n\n    function attrContinuedState(type, stream, state) {\n      if (type == \"string\") return attrContinuedState;\n      return attrState(type, stream, state);\n    }\n\n    return {\n      startState: function startState(baseIndent) {\n        var state = {\n          tokenize: inText,\n          state: baseState,\n          indented: baseIndent || 0,\n          tagName: null,\n          tagStart: null,\n          context: null\n        };\n        if (baseIndent != null) state.baseIndent = baseIndent;\n        return state;\n      },\n      token: function token(stream, state) {\n        if (!state.tagName && stream.sol()) state.indented = stream.indentation();\n        if (stream.eatSpace()) return null;\n        type = null;\n        var style = state.tokenize(stream, state);\n\n        if ((style || type) && style != \"comment\") {\n          setStyle = null;\n          state.state = state.state(type || style, stream, state);\n          if (setStyle) style = setStyle == \"error\" ? style + \" error\" : setStyle;\n        }\n\n        return style;\n      },\n      indent: function indent(state, textAfter, fullLine) {\n        var context = state.context; // Indent multi-line strings (e.g. css).\n\n        if (state.tokenize.isInAttribute) {\n          if (state.tagStart == state.indented) return state.stringStartCol + 1;else return state.indented + indentUnit;\n        }\n\n        if (context && context.noIndent) return CodeMirror.Pass;\n        if (state.tokenize != inTag && state.tokenize != inText) return fullLine ? fullLine.match(/^(\\s*)/)[0].length : 0; // Indent the starts of attribute names.\n\n        if (state.tagName) {\n          if (config.multilineTagIndentPastTag !== false) return state.tagStart + state.tagName.length + 2;else return state.tagStart + indentUnit * (config.multilineTagIndentFactor || 1);\n        }\n\n        if (config.alignCDATA && /<!\\[CDATA\\[/.test(textAfter)) return 0;\n        var tagAfter = textAfter && /^<(\\/)?([\\w_:\\.-]*)/.exec(textAfter);\n\n        if (tagAfter && tagAfter[1]) {\n          // Closing tag spotted\n          while (context) {\n            if (context.tagName == tagAfter[2]) {\n              context = context.prev;\n              break;\n            } else if (config.implicitlyClosed.hasOwnProperty(context.tagName)) {\n              context = context.prev;\n            } else {\n              break;\n            }\n          }\n        } else if (tagAfter) {\n          // Opening tag spotted\n          while (context) {\n            var grabbers = config.contextGrabbers[context.tagName];\n            if (grabbers && grabbers.hasOwnProperty(tagAfter[2])) context = context.prev;else break;\n          }\n        }\n\n        while (context && context.prev && !context.startOfLine) {\n          context = context.prev;\n        }\n\n        if (context) return context.indent + indentUnit;else return state.baseIndent || 0;\n      },\n      electricInput: /<\\/[\\s\\w:]+>$/,\n      blockCommentStart: \"<!--\",\n      blockCommentEnd: \"-->\",\n      configuration: config.htmlMode ? \"html\" : \"xml\",\n      helperType: config.htmlMode ? \"html\" : \"xml\",\n      skipAttribute: function skipAttribute(state) {\n        if (state.state == attrValueState) state.state = attrState;\n      },\n      xmlCurrentTag: function xmlCurrentTag(state) {\n        return state.tagName ? {\n          name: state.tagName,\n          close: state.type == \"closeTag\"\n        } : null;\n      },\n      xmlCurrentContext: function xmlCurrentContext(state) {\n        var context = [];\n\n        for (var cx = state.context; cx; cx = cx.prev) {\n          context.push(cx.tagName);\n        }\n\n        return context.reverse();\n      }\n    };\n  });\n  CodeMirror.defineMIME(\"text/xml\", \"xml\");\n  CodeMirror.defineMIME(\"application/xml\", \"xml\");\n  if (!CodeMirror.mimeModes.hasOwnProperty(\"text/html\")) CodeMirror.defineMIME(\"text/html\", {\n    name: \"xml\",\n    htmlMode: true\n  });\n});\n\n/***/ }),\n\n/***/ 851:\n/***/ (function(module, exports, __webpack_require__) {\n\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n// Utility function that allows modes to be combined. The mode given\n// as the base argument takes care of most of the normal mode\n// functionality, but a second (typically simple) mode is used, which\n// can override the style of text. Both modes get to parse all of the\n// text, but when both assign a non-null style to a piece of code, the\n// overlay wins, unless the combine argument was true and not overridden,\n// or state.overlay.combineTokens was true, in which case the styles are\n// combined.\n(function (mod) {\n  if (true) // CommonJS\n    mod(__webpack_require__(287));else {}\n})(function (CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.overlayMode = function (base, overlay, combine) {\n    return {\n      startState: function startState() {\n        return {\n          base: CodeMirror.startState(base),\n          overlay: CodeMirror.startState(overlay),\n          basePos: 0,\n          baseCur: null,\n          overlayPos: 0,\n          overlayCur: null,\n          streamSeen: null\n        };\n      },\n      copyState: function copyState(state) {\n        return {\n          base: CodeMirror.copyState(base, state.base),\n          overlay: CodeMirror.copyState(overlay, state.overlay),\n          basePos: state.basePos,\n          baseCur: null,\n          overlayPos: state.overlayPos,\n          overlayCur: null\n        };\n      },\n      token: function token(stream, state) {\n        if (stream != state.streamSeen || Math.min(state.basePos, state.overlayPos) < stream.start) {\n          state.streamSeen = stream;\n          state.basePos = state.overlayPos = stream.start;\n        }\n\n        if (stream.start == state.basePos) {\n          state.baseCur = base.token(stream, state.base);\n          state.basePos = stream.pos;\n        }\n\n        if (stream.start == state.overlayPos) {\n          stream.pos = stream.start;\n          state.overlayCur = overlay.token(stream, state.overlay);\n          state.overlayPos = stream.pos;\n        }\n\n        stream.pos = Math.min(state.basePos, state.overlayPos); // state.overlay.combineTokens always takes precedence over combine,\n        // unless set to null\n\n        if (state.overlayCur == null) return state.baseCur;else if (state.baseCur != null && state.overlay.combineTokens || combine && state.overlay.combineTokens == null) return state.baseCur + \" \" + state.overlayCur;else return state.overlayCur;\n      },\n      indent: base.indent && function (state, textAfter, line) {\n        return base.indent(state.base, textAfter, line);\n      },\n      electricChars: base.electricChars,\n      innerMode: function innerMode(state) {\n        return {\n          state: state.base,\n          mode: base\n        };\n      },\n      blankLine: function blankLine(state) {\n        var baseToken, overlayToken;\n        if (base.blankLine) baseToken = base.blankLine(state.base);\n        if (overlay.blankLine) overlayToken = overlay.blankLine(state.overlay);\n        return overlayToken == null ? baseToken : combine && baseToken != null ? baseToken + \" \" + overlayToken : overlayToken;\n      }\n    };\n  };\n});\n\n/***/ }),\n\n/***/ 892:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(893);\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.SimpleMdeReact = void 0;\n\nvar _objectWithoutProperties2 = _interopRequireDefault(__webpack_require__(212));\n\nvar _slicedToArray2 = _interopRequireDefault(__webpack_require__(426));\n\nvar _react = _interopRequireWildcard(__webpack_require__(0));\n\nvar _easymde = _interopRequireDefault(__webpack_require__(894));\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar _id = 0;\n\nvar generateId = function generateId() {\n  return \"simplemde-editor-\".concat(++_id);\n};\n\nvar useHandleEditorInstanceLifecycle = function useHandleEditorInstanceLifecycle(_ref) {\n  var options = _ref.options,\n      id = _ref.id,\n      currentValueRef = _ref.currentValueRef,\n      textRef = _ref.textRef;\n\n  var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      editor = _useState2[0],\n      setEditor = _useState2[1];\n\n  var imageUploadCallback = (0, _react.useCallback)(function (file, onSuccess, onError) {\n    var imageUpload = options === null || options === void 0 ? void 0 : options.imageUploadFunction;\n\n    if (imageUpload) {\n      var _onSuccess = function _onSuccess(url) {\n        onSuccess(url);\n      };\n\n      imageUpload(file, _onSuccess, onError);\n    }\n  }, [options === null || options === void 0 ? void 0 : options.imageUploadFunction]);\n  var editorRef = (0, _react.useRef)(editor);\n  editorRef.current = editor;\n  (0, _react.useEffect)(function () {\n    var editor;\n\n    if (textRef) {\n      var initialOptions = {\n        element: textRef,\n        initialValue: currentValueRef.current\n      };\n      var imageUploadFunction = (options === null || options === void 0 ? void 0 : options.imageUploadFunction) ? imageUploadCallback : undefined;\n      editor = new _easymde.default(Object.assign({}, initialOptions, options, {\n        imageUploadFunction: imageUploadFunction\n      }));\n      setEditor(editor);\n    }\n\n    return function () {\n      var _editor, _editor2;\n\n      (_editor = editor) === null || _editor === void 0 ? void 0 : _editor.toTextArea(); // @ts-expect-error\n\n      (_editor2 = editor) === null || _editor2 === void 0 ? void 0 : _editor2.cleanup();\n    };\n  }, [textRef, currentValueRef, id, imageUploadCallback, options]);\n  var codemirror = (0, _react.useMemo)(function () {\n    return editor === null || editor === void 0 ? void 0 : editor.codemirror;\n  }, [editor === null || editor === void 0 ? void 0 : editor.codemirror]);\n  return {\n    editor: editor,\n    codemirror: codemirror\n  };\n};\n\nvar SimpleMdeReact = /*#__PURE__*/_react.default.forwardRef(function (props, _ref8) {\n  var events = props.events,\n      value = props.value,\n      options = props.options,\n      children = props.children,\n      extraKeys = props.extraKeys,\n      getLineAndCursor = props.getLineAndCursor,\n      getMdeInstance = props.getMdeInstance,\n      getCodemirrorInstance = props.getCodemirrorInstance,\n      onChange = props.onChange,\n      anId = props.id,\n      rest = (0, _objectWithoutProperties2.default)(props, [\"events\", \"value\", \"options\", \"children\", \"extraKeys\", \"getLineAndCursor\", \"getMdeInstance\", \"getCodemirrorInstance\", \"onChange\", \"id\"]);\n  var id = (0, _react.useMemo)(function () {\n    return anId !== null && anId !== void 0 ? anId : generateId();\n  }, [anId]);\n  var elementWrapperRef = (0, _react.useRef)(null);\n  var nonEventChangeRef = (0, _react.useRef)(true); // This is to not pass value as a dependency e.g. to keep event handlers referentially\n  // stable and do not `off` and `on` on each value change\n  // plus to avoid unnecessary EasyEde editor recreation on each value change while still, if it has to be remounted\n  // due to options and other deps change, to preserve that last value and not the default one from the first render.\n\n  var currentValueRef = (0, _react.useRef)(value);\n  currentValueRef.current = value;\n\n  var _useState3 = (0, _react.useState)(null),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      textRef = _useState4[0],\n      setTextRef = _useState4[1];\n\n  var _useHandleEditorInsta = useHandleEditorInstanceLifecycle({\n    options: options,\n    id: id,\n    currentValueRef: currentValueRef,\n    textRef: textRef\n  }),\n      editor = _useHandleEditorInsta.editor,\n      codemirror = _useHandleEditorInsta.codemirror;\n\n  (0, _react.useEffect)(function () {\n    // If change comes from the event we don't need to update `SimpleMDE` value as it already has it\n    // Otherwise we shall set it as it comes from `props` set from the outside. E.g. by some reset button and whatnot\n    if (nonEventChangeRef.current) {\n      editor === null || editor === void 0 ? void 0 : editor.value(value !== null && value !== void 0 ? value : \"\");\n    }\n\n    nonEventChangeRef.current = true;\n  }, [editor, value]);\n  var onCodemirrorChangeHandler = (0, _react.useCallback)(function () {\n    if ((editor === null || editor === void 0 ? void 0 : editor.value()) !== currentValueRef.current) {\n      var _editor$value;\n\n      nonEventChangeRef.current = false;\n      onChange === null || onChange === void 0 ? void 0 : onChange((_editor$value = editor === null || editor === void 0 ? void 0 : editor.value()) !== null && _editor$value !== void 0 ? _editor$value : \"\");\n    }\n  }, [editor, onChange]);\n  (0, _react.useEffect)(function () {\n    // For some reason it doesn't work out of the box, this makes sure it's working correctly\n    if (options === null || options === void 0 ? void 0 : options.autofocus) {\n      codemirror === null || codemirror === void 0 ? void 0 : codemirror.focus();\n      codemirror === null || codemirror === void 0 ? void 0 : codemirror.setCursor(codemirror === null || codemirror === void 0 ? void 0 : codemirror.lineCount(), 0);\n    }\n  }, [codemirror, options === null || options === void 0 ? void 0 : options.autofocus]);\n  var getCursorCallback = (0, _react.useCallback)(function () {\n    // https://codemirror.net/doc/manual.html#api_selection\n    codemirror && (getLineAndCursor === null || getLineAndCursor === void 0 ? void 0 : getLineAndCursor(codemirror.getDoc().getCursor()));\n  }, [codemirror, getLineAndCursor]);\n  (0, _react.useEffect)(function () {\n    getCursorCallback();\n  }, [getCursorCallback]);\n  (0, _react.useEffect)(function () {\n    editor && (getMdeInstance === null || getMdeInstance === void 0 ? void 0 : getMdeInstance(editor));\n  }, [editor, getMdeInstance]);\n  (0, _react.useEffect)(function () {\n    codemirror && (getCodemirrorInstance === null || getCodemirrorInstance === void 0 ? void 0 : getCodemirrorInstance(codemirror));\n  }, [codemirror, getCodemirrorInstance, getMdeInstance]);\n  (0, _react.useEffect)(function () {\n    // https://codemirror.net/doc/manual.html#option_extraKeys\n    if (extraKeys && codemirror) {\n      codemirror.setOption(\"extraKeys\", Object.assign({}, extraKeys, codemirror.getOption(\"extraKeys\")));\n    }\n  }, [codemirror, extraKeys]);\n  (0, _react.useEffect)(function () {\n    var _elementWrapperRef$cu;\n\n    var toolbarNode = (_elementWrapperRef$cu = elementWrapperRef.current) === null || _elementWrapperRef$cu === void 0 ? void 0 : _elementWrapperRef$cu.getElementsByClassName(\"editor-toolbarNode\")[0];\n\n    var handler = function handler() {\n      return codemirror && onCodemirrorChangeHandler();\n    };\n\n    toolbarNode === null || toolbarNode === void 0 ? void 0 : toolbarNode.addEventListener(\"click\", handler);\n    return function () {\n      toolbarNode === null || toolbarNode === void 0 ? void 0 : toolbarNode.removeEventListener(\"click\", handler);\n    };\n  }, [codemirror, onCodemirrorChangeHandler]);\n  (0, _react.useEffect)(function () {\n    codemirror === null || codemirror === void 0 ? void 0 : codemirror.on(\"change\", onCodemirrorChangeHandler);\n    codemirror === null || codemirror === void 0 ? void 0 : codemirror.on(\"cursorActivity\", getCursorCallback);\n    return function () {\n      codemirror === null || codemirror === void 0 ? void 0 : codemirror.off(\"change\", onCodemirrorChangeHandler);\n      codemirror === null || codemirror === void 0 ? void 0 : codemirror.off(\"cursorActivity\", getCursorCallback);\n    };\n  }, [codemirror, getCursorCallback, onCodemirrorChangeHandler]);\n  var prevEvents = (0, _react.useRef)(events);\n  (0, _react.useEffect)(function () {\n    var isNotFirstEffectRun = events !== prevEvents.current;\n    isNotFirstEffectRun && prevEvents.current && Object.entries(prevEvents.current).forEach(function (_ref2) {\n      var _ref3 = (0, _slicedToArray2.default)(_ref2, 2),\n          event = _ref3[0],\n          handler = _ref3[1];\n\n      handler && (codemirror === null || codemirror === void 0 ? void 0 : codemirror.off(event, handler));\n    });\n    events && Object.entries(events).forEach(function (_ref4) {\n      var _ref5 = (0, _slicedToArray2.default)(_ref4, 2),\n          event = _ref5[0],\n          handler = _ref5[1];\n\n      handler && (codemirror === null || codemirror === void 0 ? void 0 : codemirror.on(event, handler));\n    });\n    prevEvents.current = events;\n    return function () {\n      events && Object.entries(events).forEach(function (_ref6) {\n        var _ref7 = (0, _slicedToArray2.default)(_ref6, 2),\n            event = _ref7[0],\n            handler = _ref7[1];\n\n        handler && (codemirror === null || codemirror === void 0 ? void 0 : codemirror.off(event, handler));\n      });\n    };\n  }, [codemirror, events]);\n  return /*#__PURE__*/_react.default.createElement(\"div\", Object.assign({\n    id: \"\".concat(id, \"-wrapper\")\n  }, rest, {\n    ref: function ref(aRef) {\n      if (typeof _ref8 === \"function\") {\n        _ref8(aRef);\n      } else if (_ref8) {\n        _ref8.current = aRef;\n      }\n\n      elementWrapperRef.current = aRef;\n    }\n  }), /*#__PURE__*/_react.default.createElement(\"textarea\", {\n    id: id,\n    ref: setTextRef,\n    style: {\n      display: \"none\"\n    }\n  }));\n});\n\nexports.SimpleMdeReact = SimpleMdeReact;\nSimpleMdeReact.displayName = \"SimpleMdeReact\";\nvar _default = SimpleMdeReact;\nexports.default = _default;\n\n/***/ }),\n\n/***/ 893:\n/***/ (function(module, exports) {\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n\n/***/ }),\n\n/***/ 894:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar CodeMirror = __webpack_require__(287);\n\n__webpack_require__(895);\n\n__webpack_require__(896);\n\n__webpack_require__(897);\n\n__webpack_require__(849);\n\n__webpack_require__(851);\n\n__webpack_require__(899);\n\n__webpack_require__(900);\n\n__webpack_require__(901);\n\n__webpack_require__(902);\n\n__webpack_require__(903);\n\n__webpack_require__(850);\n\nvar CodeMirrorSpellChecker = __webpack_require__(904);\n\nvar marked = __webpack_require__(907); // Some variables\n\n\nvar isMac = /Mac/.test(navigator.platform);\nvar anchorToExternalRegex = new RegExp(/(<a.*?https?:\\/\\/.*?[^a]>)+?/g); // Mapping of actions that can be bound to keyboard shortcuts or toolbar buttons\n\nvar bindings = {\n  'toggleBold': toggleBold,\n  'toggleItalic': toggleItalic,\n  'drawLink': drawLink,\n  'toggleHeadingSmaller': toggleHeadingSmaller,\n  'toggleHeadingBigger': toggleHeadingBigger,\n  'drawImage': drawImage,\n  'toggleBlockquote': toggleBlockquote,\n  'toggleOrderedList': toggleOrderedList,\n  'toggleUnorderedList': toggleUnorderedList,\n  'toggleCodeBlock': toggleCodeBlock,\n  'togglePreview': togglePreview,\n  'toggleStrikethrough': toggleStrikethrough,\n  'toggleHeading1': toggleHeading1,\n  'toggleHeading2': toggleHeading2,\n  'toggleHeading3': toggleHeading3,\n  'cleanBlock': cleanBlock,\n  'drawTable': drawTable,\n  'drawHorizontalRule': drawHorizontalRule,\n  'undo': undo,\n  'redo': redo,\n  'toggleSideBySide': toggleSideBySide,\n  'toggleFullScreen': toggleFullScreen\n};\nvar shortcuts = {\n  'toggleBold': 'Cmd-B',\n  'toggleItalic': 'Cmd-I',\n  'drawLink': 'Cmd-K',\n  'toggleHeadingSmaller': 'Cmd-H',\n  'toggleHeadingBigger': 'Shift-Cmd-H',\n  'cleanBlock': 'Cmd-E',\n  'drawImage': 'Cmd-Alt-I',\n  'toggleBlockquote': 'Cmd-\\'',\n  'toggleOrderedList': 'Cmd-Alt-L',\n  'toggleUnorderedList': 'Cmd-L',\n  'toggleCodeBlock': 'Cmd-Alt-C',\n  'togglePreview': 'Cmd-P',\n  'toggleSideBySide': 'F9',\n  'toggleFullScreen': 'F11'\n};\n\nvar getBindingName = function getBindingName(f) {\n  for (var key in bindings) {\n    if (bindings[key] === f) {\n      return key;\n    }\n  }\n\n  return null;\n};\n\nvar isMobile = function isMobile() {\n  var check = false;\n\n  (function (a) {\n    if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(a.substr(0, 4))) check = true;\n  })(navigator.userAgent || navigator.vendor || window.opera);\n\n  return check;\n};\n/**\n * Modify HTML to add 'target=\"_blank\"' to links so they open in new tabs by default.\n * @param {string} htmlText - HTML to be modified.\n * @return {string} The modified HTML text.\n */\n\n\nfunction addAnchorTargetBlank(htmlText) {\n  var match;\n\n  while ((match = anchorToExternalRegex.exec(htmlText)) !== null) {\n    // With only one capture group in the RegExp, we can safely take the first index from the match.\n    var linkString = match[0];\n\n    if (linkString.indexOf('target=') === -1) {\n      var fixedLinkString = linkString.replace(/>$/, ' target=\"_blank\">');\n      htmlText = htmlText.replace(linkString, fixedLinkString);\n    }\n  }\n\n  return htmlText;\n}\n/**\n * Modify HTML to remove the list-style when rendering checkboxes.\n * @param {string} htmlText - HTML to be modified.\n * @return {string} The modified HTML text.\n */\n\n\nfunction removeListStyleWhenCheckbox(htmlText) {\n  var parser = new DOMParser();\n  var htmlDoc = parser.parseFromString(htmlText, 'text/html');\n  var listItems = htmlDoc.getElementsByTagName('li');\n\n  for (var i = 0; i < listItems.length; i++) {\n    var listItem = listItems[i];\n\n    for (var j = 0; j < listItem.children.length; j++) {\n      var listItemChild = listItem.children[j];\n\n      if (listItemChild instanceof HTMLInputElement && listItemChild.type === 'checkbox') {\n        // From Github: margin: 0 .2em .25em -1.6em;\n        listItem.style.marginLeft = '-1.5em';\n        listItem.style.listStyleType = 'none';\n      }\n    }\n  }\n\n  return htmlDoc.documentElement.innerHTML;\n}\n/**\n * Fix shortcut. Mac use Command, others use Ctrl.\n */\n\n\nfunction fixShortcut(name) {\n  if (isMac) {\n    name = name.replace('Ctrl', 'Cmd');\n  } else {\n    name = name.replace('Cmd', 'Ctrl');\n  }\n\n  return name;\n}\n/**\n * Class handling utility methods.\n */\n\n\nvar CLASS_REGEX = {};\n/**\n * Convert a className string into a regex for matching (and cache).\n * Note that the RegExp includes trailing spaces for replacement\n * (to ensure that removing a class from the middle of the string will retain\n *  spacing between other classes.)\n * @param {String} className Class name to convert to regex for matching.\n * @returns {RegExp} Regular expression option that will match className.\n */\n\nfunction getClassRegex(className) {\n  return CLASS_REGEX[className] || (CLASS_REGEX[className] = new RegExp('\\\\s*' + className + '(\\\\s*)', 'g'));\n}\n/**\n * Add a class string to an element.\n * @param {Element} el DOM element on which to add className.\n * @param {String} className Class string to apply\n * @returns {void}\n */\n\n\nfunction addClass(el, className) {\n  if (!el || !className) return;\n  var classRegex = getClassRegex(className);\n  if (el.className.match(classRegex)) return; // already applied\n\n  el.className += ' ' + className;\n}\n/**\n * Remove a class string from an element.\n * @param {Element} el DOM element from which to remove className.\n * @param {String} className Class string to remove\n * @returns {void}\n */\n\n\nfunction removeClass(el, className) {\n  if (!el || !className) return;\n  var classRegex = getClassRegex(className);\n  if (!el.className.match(classRegex)) return; // not available to remove\n\n  el.className = el.className.replace(classRegex, '$1');\n}\n/**\n * Create dropdown block\n */\n\n\nfunction createToolbarDropdown(options, enableTooltips, shortcuts, parent) {\n  var el = createToolbarButton(options, false, enableTooltips, shortcuts, 'button', parent);\n  el.className += ' easymde-dropdown';\n  var content = document.createElement('div');\n  content.className = 'easymde-dropdown-content';\n\n  for (var childrenIndex = 0; childrenIndex < options.children.length; childrenIndex++) {\n    var child = options.children[childrenIndex];\n    var childElement;\n\n    if (typeof child === 'string' && child in toolbarBuiltInButtons) {\n      childElement = createToolbarButton(toolbarBuiltInButtons[child], true, enableTooltips, shortcuts, 'button', parent);\n    } else {\n      childElement = createToolbarButton(child, true, enableTooltips, shortcuts, 'button', parent);\n    }\n\n    content.appendChild(childElement);\n  }\n\n  el.appendChild(content);\n  return el;\n}\n/**\n * Create button element for toolbar.\n */\n\n\nfunction createToolbarButton(options, enableActions, enableTooltips, shortcuts, markup, parent) {\n  options = options || {};\n  var el = document.createElement(markup);\n  el.className = options.name;\n  el.setAttribute('type', markup);\n  enableTooltips = enableTooltips == undefined ? true : enableTooltips; // Properly hande custom shortcuts\n\n  if (options.name && options.name in shortcuts) {\n    bindings[options.name] = options.action;\n  }\n\n  if (options.title && enableTooltips) {\n    el.title = createTooltip(options.title, options.action, shortcuts);\n\n    if (isMac) {\n      el.title = el.title.replace('Ctrl', '');\n      el.title = el.title.replace('Alt', '');\n    }\n  }\n\n  if (options.noDisable) {\n    el.classList.add('no-disable');\n  }\n\n  if (options.noMobile) {\n    el.classList.add('no-mobile');\n  } // Prevent errors if there is no class name in custom options\n\n\n  var classNameParts = [];\n\n  if (typeof options.className !== 'undefined') {\n    classNameParts = options.className.split(' ');\n  } // Provide backwards compatibility with simple-markdown-editor by adding custom classes to the button.\n\n\n  var iconClasses = [];\n\n  for (var classNameIndex = 0; classNameIndex < classNameParts.length; classNameIndex++) {\n    var classNamePart = classNameParts[classNameIndex]; // Split icon classes from the button.\n    // Regex will detect \"fa\", \"fas\", \"fa-something\" and \"fa-some-icon-1\", but not \"fanfare\".\n\n    if (classNamePart.match(/^fa([srlb]|(-[\\w-]*)|$)/)) {\n      iconClasses.push(classNamePart);\n    } else {\n      el.classList.add(classNamePart);\n    }\n  }\n\n  el.tabIndex = -1; // Create icon element and append as a child to the button\n\n  var icon = document.createElement('i');\n\n  for (var iconClassIndex = 0; iconClassIndex < iconClasses.length; iconClassIndex++) {\n    var iconClass = iconClasses[iconClassIndex];\n    icon.classList.add(iconClass);\n  }\n\n  el.appendChild(icon); // If there is a custom icon markup set, use that\n\n  if (typeof options.icon !== 'undefined') {\n    el.innerHTML = options.icon;\n  }\n\n  if (options.action && enableActions) {\n    if (typeof options.action === 'function') {\n      el.onclick = function (e) {\n        e.preventDefault();\n        options.action(parent);\n      };\n    } else if (typeof options.action === 'string') {\n      el.onclick = function (e) {\n        e.preventDefault();\n        window.open(options.action, '_blank');\n      };\n    }\n  }\n\n  return el;\n}\n\nfunction createSep() {\n  var el = document.createElement('i');\n  el.className = 'separator';\n  el.innerHTML = '|';\n  return el;\n}\n\nfunction createTooltip(title, action, shortcuts) {\n  var actionName;\n  var tooltip = title;\n\n  if (action) {\n    actionName = getBindingName(action);\n\n    if (shortcuts[actionName]) {\n      tooltip += ' (' + fixShortcut(shortcuts[actionName]) + ')';\n    }\n  }\n\n  return tooltip;\n}\n/**\n * The state of CodeMirror at the given position.\n */\n\n\nfunction getState(cm, pos) {\n  pos = pos || cm.getCursor('start');\n  var stat = cm.getTokenAt(pos);\n  if (!stat.type) return {};\n  var types = stat.type.split(' ');\n  var ret = {},\n      data,\n      text;\n\n  for (var i = 0; i < types.length; i++) {\n    data = types[i];\n\n    if (data === 'strong') {\n      ret.bold = true;\n    } else if (data === 'variable-2') {\n      text = cm.getLine(pos.line);\n\n      if (/^\\s*\\d+\\.\\s/.test(text)) {\n        ret['ordered-list'] = true;\n      } else {\n        ret['unordered-list'] = true;\n      }\n    } else if (data === 'atom') {\n      ret.quote = true;\n    } else if (data === 'em') {\n      ret.italic = true;\n    } else if (data === 'quote') {\n      ret.quote = true;\n    } else if (data === 'strikethrough') {\n      ret.strikethrough = true;\n    } else if (data === 'comment') {\n      ret.code = true;\n    } else if (data === 'link') {\n      ret.link = true;\n    } else if (data === 'tag') {\n      ret.image = true;\n    } else if (data.match(/^header(-[1-6])?$/)) {\n      ret[data.replace('header', 'heading')] = true;\n    }\n  }\n\n  return ret;\n} // Saved overflow setting\n\n\nvar saved_overflow = '';\n/**\n * Toggle full screen of the editor.\n */\n\nfunction toggleFullScreen(editor) {\n  // Set fullscreen\n  var cm = editor.codemirror;\n  cm.setOption('fullScreen', !cm.getOption('fullScreen')); // Prevent scrolling on body during fullscreen active\n\n  if (cm.getOption('fullScreen')) {\n    saved_overflow = document.body.style.overflow;\n    document.body.style.overflow = 'hidden';\n  } else {\n    document.body.style.overflow = saved_overflow;\n  }\n\n  var wrapper = cm.getWrapperElement();\n  var sidebyside = wrapper.nextSibling;\n\n  if (/editor-preview-active-side/.test(sidebyside.className)) {\n    if (editor.options.sideBySideFullscreen === false) {\n      // if side-by-side not-fullscreen ok, apply classes as needed\n      var easyMDEContainer = wrapper.parentNode;\n\n      if (cm.getOption('fullScreen')) {\n        removeClass(easyMDEContainer, 'sided--no-fullscreen');\n      } else {\n        addClass(easyMDEContainer, 'sided--no-fullscreen');\n      }\n    } else {\n      toggleSideBySide(editor);\n    }\n  }\n\n  if (editor.options.onToggleFullScreen) {\n    editor.options.onToggleFullScreen(cm.getOption('fullScreen') || false);\n  } // Remove or set maxHeight\n\n\n  if (typeof editor.options.maxHeight !== 'undefined') {\n    if (cm.getOption('fullScreen')) {\n      cm.getScrollerElement().style.removeProperty('height');\n      sidebyside.style.removeProperty('height');\n    } else {\n      cm.getScrollerElement().style.height = editor.options.maxHeight;\n      editor.setPreviewMaxHeight();\n    }\n  } // Update toolbar class\n\n\n  if (!/fullscreen/.test(editor.toolbar_div.className)) {\n    editor.toolbar_div.className += ' fullscreen';\n  } else {\n    editor.toolbar_div.className = editor.toolbar_div.className.replace(/\\s*fullscreen\\b/, '');\n  } // Update toolbar button\n\n\n  if (editor.toolbarElements && editor.toolbarElements.fullscreen) {\n    var toolbarButton = editor.toolbarElements.fullscreen;\n\n    if (!/active/.test(toolbarButton.className)) {\n      toolbarButton.className += ' active';\n    } else {\n      toolbarButton.className = toolbarButton.className.replace(/\\s*active\\s*/g, '');\n    }\n  }\n}\n/**\n * Action for toggling bold.\n */\n\n\nfunction toggleBold(editor) {\n  _toggleBlock(editor, 'bold', editor.options.blockStyles.bold);\n}\n/**\n * Action for toggling italic.\n */\n\n\nfunction toggleItalic(editor) {\n  _toggleBlock(editor, 'italic', editor.options.blockStyles.italic);\n}\n/**\n * Action for toggling strikethrough.\n */\n\n\nfunction toggleStrikethrough(editor) {\n  _toggleBlock(editor, 'strikethrough', '~~');\n}\n/**\n * Action for toggling code block.\n */\n\n\nfunction toggleCodeBlock(editor) {\n  var fenceCharsToInsert = editor.options.blockStyles.code;\n\n  function fencing_line(line) {\n    /* return true, if this is a ``` or ~~~ line */\n    if (typeof line !== 'object') {\n      throw 'fencing_line() takes a \\'line\\' object (not a line number, or line text).  Got: ' + typeof line + ': ' + line;\n    }\n\n    return line.styles && line.styles[2] && line.styles[2].indexOf('formatting-code-block') !== -1;\n  }\n\n  function token_state(token) {\n    // base goes an extra level deep when mode backdrops are used, e.g. spellchecker on\n    return token.state.base.base || token.state.base;\n  }\n\n  function code_type(cm, line_num, line, firstTok, lastTok) {\n    /*\n     * Return \"single\", \"indented\", \"fenced\" or false\n     *\n     * cm and line_num are required.  Others are optional for efficiency\n     *   To check in the middle of a line, pass in firstTok yourself.\n     */\n    line = line || cm.getLineHandle(line_num);\n    firstTok = firstTok || cm.getTokenAt({\n      line: line_num,\n      ch: 1\n    });\n    lastTok = lastTok || !!line.text && cm.getTokenAt({\n      line: line_num,\n      ch: line.text.length - 1\n    });\n    var types = firstTok.type ? firstTok.type.split(' ') : [];\n\n    if (lastTok && token_state(lastTok).indentedCode) {\n      // have to check last char, since first chars of first line aren\"t marked as indented\n      return 'indented';\n    } else if (types.indexOf('comment') === -1) {\n      // has to be after \"indented\" check, since first chars of first indented line aren\"t marked as such\n      return false;\n    } else if (token_state(firstTok).fencedChars || token_state(lastTok).fencedChars || fencing_line(line)) {\n      return 'fenced';\n    } else {\n      return 'single';\n    }\n  }\n\n  function insertFencingAtSelection(cm, cur_start, cur_end, fenceCharsToInsert) {\n    var start_line_sel = cur_start.line + 1,\n        end_line_sel = cur_end.line + 1,\n        sel_multi = cur_start.line !== cur_end.line,\n        repl_start = fenceCharsToInsert + '\\n',\n        repl_end = '\\n' + fenceCharsToInsert;\n\n    if (sel_multi) {\n      end_line_sel++;\n    } // handle last char including \\n or not\n\n\n    if (sel_multi && cur_end.ch === 0) {\n      repl_end = fenceCharsToInsert + '\\n';\n      end_line_sel--;\n    }\n\n    _replaceSelection(cm, false, [repl_start, repl_end]);\n\n    cm.setSelection({\n      line: start_line_sel,\n      ch: 0\n    }, {\n      line: end_line_sel,\n      ch: 0\n    });\n  }\n\n  var cm = editor.codemirror,\n      cur_start = cm.getCursor('start'),\n      cur_end = cm.getCursor('end'),\n      tok = cm.getTokenAt({\n    line: cur_start.line,\n    ch: cur_start.ch || 1\n  }),\n      // avoid ch 0 which is a cursor pos but not token\n  line = cm.getLineHandle(cur_start.line),\n      is_code = code_type(cm, cur_start.line, line, tok);\n  var block_start, block_end, lineCount;\n\n  if (is_code === 'single') {\n    // similar to some EasyMDE _toggleBlock logic\n    var start = line.text.slice(0, cur_start.ch).replace('`', ''),\n        end = line.text.slice(cur_start.ch).replace('`', '');\n    cm.replaceRange(start + end, {\n      line: cur_start.line,\n      ch: 0\n    }, {\n      line: cur_start.line,\n      ch: 99999999999999\n    });\n    cur_start.ch--;\n\n    if (cur_start !== cur_end) {\n      cur_end.ch--;\n    }\n\n    cm.setSelection(cur_start, cur_end);\n    cm.focus();\n  } else if (is_code === 'fenced') {\n    if (cur_start.line !== cur_end.line || cur_start.ch !== cur_end.ch) {\n      // use selection\n      // find the fenced line so we know what type it is (tilde, backticks, number of them)\n      for (block_start = cur_start.line; block_start >= 0; block_start--) {\n        line = cm.getLineHandle(block_start);\n\n        if (fencing_line(line)) {\n          break;\n        }\n      }\n\n      var fencedTok = cm.getTokenAt({\n        line: block_start,\n        ch: 1\n      });\n      var fence_chars = token_state(fencedTok).fencedChars;\n      var start_text, start_line;\n      var end_text, end_line; // check for selection going up against fenced lines, in which case we don't want to add more fencing\n\n      if (fencing_line(cm.getLineHandle(cur_start.line))) {\n        start_text = '';\n        start_line = cur_start.line;\n      } else if (fencing_line(cm.getLineHandle(cur_start.line - 1))) {\n        start_text = '';\n        start_line = cur_start.line - 1;\n      } else {\n        start_text = fence_chars + '\\n';\n        start_line = cur_start.line;\n      }\n\n      if (fencing_line(cm.getLineHandle(cur_end.line))) {\n        end_text = '';\n        end_line = cur_end.line;\n\n        if (cur_end.ch === 0) {\n          end_line += 1;\n        }\n      } else if (cur_end.ch !== 0 && fencing_line(cm.getLineHandle(cur_end.line + 1))) {\n        end_text = '';\n        end_line = cur_end.line + 1;\n      } else {\n        end_text = fence_chars + '\\n';\n        end_line = cur_end.line + 1;\n      }\n\n      if (cur_end.ch === 0) {\n        // full last line selected, putting cursor at beginning of next\n        end_line -= 1;\n      }\n\n      cm.operation(function () {\n        // end line first, so that line numbers don't change\n        cm.replaceRange(end_text, {\n          line: end_line,\n          ch: 0\n        }, {\n          line: end_line + (end_text ? 0 : 1),\n          ch: 0\n        });\n        cm.replaceRange(start_text, {\n          line: start_line,\n          ch: 0\n        }, {\n          line: start_line + (start_text ? 0 : 1),\n          ch: 0\n        });\n      });\n      cm.setSelection({\n        line: start_line + (start_text ? 1 : 0),\n        ch: 0\n      }, {\n        line: end_line + (start_text ? 1 : -1),\n        ch: 0\n      });\n      cm.focus();\n    } else {\n      // no selection, search for ends of this fenced block\n      var search_from = cur_start.line;\n\n      if (fencing_line(cm.getLineHandle(cur_start.line))) {\n        // gets a little tricky if cursor is right on a fenced line\n        if (code_type(cm, cur_start.line + 1) === 'fenced') {\n          block_start = cur_start.line;\n          search_from = cur_start.line + 1; // for searching for \"end\"\n        } else {\n          block_end = cur_start.line;\n          search_from = cur_start.line - 1; // for searching for \"start\"\n        }\n      }\n\n      if (block_start === undefined) {\n        for (block_start = search_from; block_start >= 0; block_start--) {\n          line = cm.getLineHandle(block_start);\n\n          if (fencing_line(line)) {\n            break;\n          }\n        }\n      }\n\n      if (block_end === undefined) {\n        lineCount = cm.lineCount();\n\n        for (block_end = search_from; block_end < lineCount; block_end++) {\n          line = cm.getLineHandle(block_end);\n\n          if (fencing_line(line)) {\n            break;\n          }\n        }\n      }\n\n      cm.operation(function () {\n        cm.replaceRange('', {\n          line: block_start,\n          ch: 0\n        }, {\n          line: block_start + 1,\n          ch: 0\n        });\n        cm.replaceRange('', {\n          line: block_end - 1,\n          ch: 0\n        }, {\n          line: block_end,\n          ch: 0\n        });\n      });\n      cm.focus();\n    }\n  } else if (is_code === 'indented') {\n    if (cur_start.line !== cur_end.line || cur_start.ch !== cur_end.ch) {\n      // use selection\n      block_start = cur_start.line;\n      block_end = cur_end.line;\n\n      if (cur_end.ch === 0) {\n        block_end--;\n      }\n    } else {\n      // no selection, search for ends of this indented block\n      for (block_start = cur_start.line; block_start >= 0; block_start--) {\n        line = cm.getLineHandle(block_start);\n\n        if (line.text.match(/^\\s*$/)) {\n          // empty or all whitespace - keep going\n          continue;\n        } else {\n          if (code_type(cm, block_start, line) !== 'indented') {\n            block_start += 1;\n            break;\n          }\n        }\n      }\n\n      lineCount = cm.lineCount();\n\n      for (block_end = cur_start.line; block_end < lineCount; block_end++) {\n        line = cm.getLineHandle(block_end);\n\n        if (line.text.match(/^\\s*$/)) {\n          // empty or all whitespace - keep going\n          continue;\n        } else {\n          if (code_type(cm, block_end, line) !== 'indented') {\n            block_end -= 1;\n            break;\n          }\n        }\n      }\n    } // if we are going to un-indent based on a selected set of lines, and the next line is indented too, we need to\n    // insert a blank line so that the next line(s) continue to be indented code\n\n\n    var next_line = cm.getLineHandle(block_end + 1),\n        next_line_last_tok = next_line && cm.getTokenAt({\n      line: block_end + 1,\n      ch: next_line.text.length - 1\n    }),\n        next_line_indented = next_line_last_tok && token_state(next_line_last_tok).indentedCode;\n\n    if (next_line_indented) {\n      cm.replaceRange('\\n', {\n        line: block_end + 1,\n        ch: 0\n      });\n    }\n\n    for (var i = block_start; i <= block_end; i++) {\n      cm.indentLine(i, 'subtract'); // TODO: this doesn't get tracked in the history, so can't be undone :(\n    }\n\n    cm.focus();\n  } else {\n    // insert code formatting\n    var no_sel_and_starting_of_line = cur_start.line === cur_end.line && cur_start.ch === cur_end.ch && cur_start.ch === 0;\n    var sel_multi = cur_start.line !== cur_end.line;\n\n    if (no_sel_and_starting_of_line || sel_multi) {\n      insertFencingAtSelection(cm, cur_start, cur_end, fenceCharsToInsert);\n    } else {\n      _replaceSelection(cm, false, ['`', '`']);\n    }\n  }\n}\n/**\n * Action for toggling blockquote.\n */\n\n\nfunction toggleBlockquote(editor) {\n  var cm = editor.codemirror;\n\n  _toggleLine(cm, 'quote');\n}\n/**\n * Action for toggling heading size: normal -> h1 -> h2 -> h3 -> h4 -> h5 -> h6 -> normal\n */\n\n\nfunction toggleHeadingSmaller(editor) {\n  var cm = editor.codemirror;\n\n  _toggleHeading(cm, 'smaller');\n}\n/**\n * Action for toggling heading size: normal -> h6 -> h5 -> h4 -> h3 -> h2 -> h1 -> normal\n */\n\n\nfunction toggleHeadingBigger(editor) {\n  var cm = editor.codemirror;\n\n  _toggleHeading(cm, 'bigger');\n}\n/**\n * Action for toggling heading size 1\n */\n\n\nfunction toggleHeading1(editor) {\n  var cm = editor.codemirror;\n\n  _toggleHeading(cm, undefined, 1);\n}\n/**\n * Action for toggling heading size 2\n */\n\n\nfunction toggleHeading2(editor) {\n  var cm = editor.codemirror;\n\n  _toggleHeading(cm, undefined, 2);\n}\n/**\n * Action for toggling heading size 3\n */\n\n\nfunction toggleHeading3(editor) {\n  var cm = editor.codemirror;\n\n  _toggleHeading(cm, undefined, 3);\n}\n/**\n * Action for toggling ul.\n */\n\n\nfunction toggleUnorderedList(editor) {\n  var cm = editor.codemirror;\n\n  _toggleLine(cm, 'unordered-list');\n}\n/**\n * Action for toggling ol.\n */\n\n\nfunction toggleOrderedList(editor) {\n  var cm = editor.codemirror;\n\n  _toggleLine(cm, 'ordered-list');\n}\n/**\n * Action for clean block (remove headline, list, blockquote code, markers)\n */\n\n\nfunction cleanBlock(editor) {\n  var cm = editor.codemirror;\n\n  _cleanBlock(cm);\n}\n/**\n * Action for drawing a link.\n */\n\n\nfunction drawLink(editor) {\n  var cm = editor.codemirror;\n  var stat = getState(cm);\n  var options = editor.options;\n  var url = 'https://';\n\n  if (options.promptURLs) {\n    url = prompt(options.promptTexts.link, 'https://');\n\n    if (!url) {\n      return false;\n    }\n  }\n\n  _replaceSelection(cm, stat.link, options.insertTexts.link, url);\n}\n/**\n * Action for drawing an img.\n */\n\n\nfunction drawImage(editor) {\n  var cm = editor.codemirror;\n  var stat = getState(cm);\n  var options = editor.options;\n  var url = 'https://';\n\n  if (options.promptURLs) {\n    url = prompt(options.promptTexts.image, 'https://');\n\n    if (!url) {\n      return false;\n    }\n  }\n\n  _replaceSelection(cm, stat.image, options.insertTexts.image, url);\n}\n/**\n * Action for opening the browse-file window to upload an image to a server.\n * @param editor {EasyMDE} The EasyMDE object\n */\n\n\nfunction drawUploadedImage(editor) {\n  // TODO: Draw the image template with a fake url? ie: '![](importing foo.png...)'\n  editor.openBrowseFileWindow();\n}\n/**\n * Action executed after an image have been successfully imported on the server.\n * @param editor {EasyMDE} The EasyMDE object\n * @param url {string} The url of the uploaded image\n */\n\n\nfunction afterImageUploaded(editor, url) {\n  var cm = editor.codemirror;\n  var stat = getState(cm);\n  var options = editor.options;\n  var imageName = url.substr(url.lastIndexOf('/') + 1);\n  var ext = imageName.substring(imageName.lastIndexOf('.') + 1).replace(/\\?.*$/, ''); // Check if media is an image\n\n  if (['png', 'jpg', 'jpeg', 'gif', 'svg'].includes(ext)) {\n    _replaceSelection(cm, stat.image, options.insertTexts.uploadedImage, url);\n  } else {\n    var text_link = options.insertTexts.link;\n    text_link[0] = '[' + imageName;\n\n    _replaceSelection(cm, stat.link, text_link, url);\n  } // show uploaded image filename for 1000ms\n\n\n  editor.updateStatusBar('upload-image', editor.options.imageTexts.sbOnUploaded.replace('#image_name#', imageName));\n  setTimeout(function () {\n    editor.updateStatusBar('upload-image', editor.options.imageTexts.sbInit);\n  }, 1000);\n}\n/**\n * Action for drawing a table.\n */\n\n\nfunction drawTable(editor) {\n  var cm = editor.codemirror;\n  var stat = getState(cm);\n  var options = editor.options;\n\n  _replaceSelection(cm, stat.table, options.insertTexts.table);\n}\n/**\n * Action for drawing a horizontal rule.\n */\n\n\nfunction drawHorizontalRule(editor) {\n  var cm = editor.codemirror;\n  var stat = getState(cm);\n  var options = editor.options;\n\n  _replaceSelection(cm, stat.image, options.insertTexts.horizontalRule);\n}\n/**\n * Undo action.\n */\n\n\nfunction undo(editor) {\n  var cm = editor.codemirror;\n  cm.undo();\n  cm.focus();\n}\n/**\n * Redo action.\n */\n\n\nfunction redo(editor) {\n  var cm = editor.codemirror;\n  cm.redo();\n  cm.focus();\n}\n/**\n * Toggle side by side preview\n */\n\n\nfunction toggleSideBySide(editor) {\n  var cm = editor.codemirror;\n  var wrapper = cm.getWrapperElement();\n  var preview = wrapper.nextSibling;\n  var toolbarButton = editor.toolbarElements && editor.toolbarElements['side-by-side'];\n  var useSideBySideListener = false;\n  var easyMDEContainer = wrapper.parentNode;\n\n  if (/editor-preview-active-side/.test(preview.className)) {\n    if (editor.options.sideBySideFullscreen === false) {\n      // if side-by-side not-fullscreen ok, remove classes when hiding side\n      removeClass(easyMDEContainer, 'sided--no-fullscreen');\n    }\n\n    preview.className = preview.className.replace(/\\s*editor-preview-active-side\\s*/g, '');\n    if (toolbarButton) toolbarButton.className = toolbarButton.className.replace(/\\s*active\\s*/g, '');\n    wrapper.className = wrapper.className.replace(/\\s*CodeMirror-sided\\s*/g, ' ');\n  } else {\n    // When the preview button is clicked for the first time,\n    // give some time for the transition from editor.css to fire and the view to slide from right to left,\n    // instead of just appearing.\n    setTimeout(function () {\n      if (!cm.getOption('fullScreen')) {\n        if (editor.options.sideBySideFullscreen === false) {\n          // if side-by-side not-fullscreen ok, add classes when not fullscreen and showing side\n          addClass(easyMDEContainer, 'sided--no-fullscreen');\n        } else {\n          toggleFullScreen(editor);\n        }\n      }\n\n      preview.className += ' editor-preview-active-side';\n    }, 1);\n    if (toolbarButton) toolbarButton.className += ' active';\n    wrapper.className += ' CodeMirror-sided';\n    useSideBySideListener = true;\n  } // Hide normal preview if active\n\n\n  var previewNormal = wrapper.lastChild;\n\n  if (/editor-preview-active/.test(previewNormal.className)) {\n    previewNormal.className = previewNormal.className.replace(/\\s*editor-preview-active\\s*/g, '');\n    var toolbar = editor.toolbarElements.preview;\n    var toolbar_div = editor.toolbar_div;\n    toolbar.className = toolbar.className.replace(/\\s*active\\s*/g, '');\n    toolbar_div.className = toolbar_div.className.replace(/\\s*disabled-for-preview*/g, '');\n  }\n\n  var sideBySideRenderingFunction = function sideBySideRenderingFunction() {\n    var newValue = editor.options.previewRender(editor.value(), preview);\n\n    if (newValue != null) {\n      preview.innerHTML = newValue;\n    }\n  };\n\n  if (!cm.sideBySideRenderingFunction) {\n    cm.sideBySideRenderingFunction = sideBySideRenderingFunction;\n  }\n\n  if (useSideBySideListener) {\n    var newValue = editor.options.previewRender(editor.value(), preview);\n\n    if (newValue != null) {\n      preview.innerHTML = newValue;\n    }\n\n    cm.on('update', cm.sideBySideRenderingFunction);\n  } else {\n    cm.off('update', cm.sideBySideRenderingFunction);\n  } // Refresh to fix selection being off (#309)\n\n\n  cm.refresh();\n}\n/**\n * Preview action.\n */\n\n\nfunction togglePreview(editor) {\n  var cm = editor.codemirror;\n  var wrapper = cm.getWrapperElement();\n  var toolbar_div = editor.toolbar_div;\n  var toolbar = editor.options.toolbar ? editor.toolbarElements.preview : false;\n  var preview = wrapper.lastChild; // Turn off side by side if needed\n\n  var sidebyside = cm.getWrapperElement().nextSibling;\n  if (/editor-preview-active-side/.test(sidebyside.className)) toggleSideBySide(editor);\n\n  if (!preview || !/editor-preview-full/.test(preview.className)) {\n    preview = document.createElement('div');\n    preview.className = 'editor-preview-full';\n\n    if (editor.options.previewClass) {\n      if (Array.isArray(editor.options.previewClass)) {\n        for (var i = 0; i < editor.options.previewClass.length; i++) {\n          preview.className += ' ' + editor.options.previewClass[i];\n        }\n      } else if (typeof editor.options.previewClass === 'string') {\n        preview.className += ' ' + editor.options.previewClass;\n      }\n    }\n\n    wrapper.appendChild(preview);\n  }\n\n  if (/editor-preview-active/.test(preview.className)) {\n    preview.className = preview.className.replace(/\\s*editor-preview-active\\s*/g, '');\n\n    if (toolbar) {\n      toolbar.className = toolbar.className.replace(/\\s*active\\s*/g, '');\n      toolbar_div.className = toolbar_div.className.replace(/\\s*disabled-for-preview*/g, '');\n    }\n  } else {\n    // When the preview button is clicked for the first time,\n    // give some time for the transition from editor.css to fire and the view to slide from right to left,\n    // instead of just appearing.\n    setTimeout(function () {\n      preview.className += ' editor-preview-active';\n    }, 1);\n\n    if (toolbar) {\n      toolbar.className += ' active';\n      toolbar_div.className += ' disabled-for-preview';\n    }\n  }\n\n  preview.innerHTML = editor.options.previewRender(editor.value(), preview);\n}\n\nfunction _replaceSelection(cm, active, startEnd, url) {\n  if (/editor-preview-active/.test(cm.getWrapperElement().lastChild.className)) return;\n  var text;\n  var start = startEnd[0];\n  var end = startEnd[1];\n  var startPoint = {},\n      endPoint = {};\n  Object.assign(startPoint, cm.getCursor('start'));\n  Object.assign(endPoint, cm.getCursor('end'));\n\n  if (url) {\n    start = start.replace('#url#', url); // url is in start for upload-image\n\n    end = end.replace('#url#', url);\n  }\n\n  if (active) {\n    text = cm.getLine(startPoint.line);\n    start = text.slice(0, startPoint.ch);\n    end = text.slice(startPoint.ch);\n    cm.replaceRange(start + end, {\n      line: startPoint.line,\n      ch: 0\n    });\n  } else {\n    text = cm.getSelection();\n    cm.replaceSelection(start + text + end);\n    startPoint.ch += start.length;\n\n    if (startPoint !== endPoint) {\n      endPoint.ch += start.length;\n    }\n  }\n\n  cm.setSelection(startPoint, endPoint);\n  cm.focus();\n}\n\nfunction _toggleHeading(cm, direction, size) {\n  if (/editor-preview-active/.test(cm.getWrapperElement().lastChild.className)) return;\n  var startPoint = cm.getCursor('start');\n  var endPoint = cm.getCursor('end');\n\n  for (var i = startPoint.line; i <= endPoint.line; i++) {\n    (function (i) {\n      var text = cm.getLine(i);\n      var currHeadingLevel = text.search(/[^#]/);\n\n      if (direction !== undefined) {\n        if (currHeadingLevel <= 0) {\n          if (direction == 'bigger') {\n            text = '###### ' + text;\n          } else {\n            text = '# ' + text;\n          }\n        } else if (currHeadingLevel == 6 && direction == 'smaller') {\n          text = text.substr(7);\n        } else if (currHeadingLevel == 1 && direction == 'bigger') {\n          text = text.substr(2);\n        } else {\n          if (direction == 'bigger') {\n            text = text.substr(1);\n          } else {\n            text = '#' + text;\n          }\n        }\n      } else {\n        if (size == 1) {\n          if (currHeadingLevel <= 0) {\n            text = '# ' + text;\n          } else if (currHeadingLevel == size) {\n            text = text.substr(currHeadingLevel + 1);\n          } else {\n            text = '# ' + text.substr(currHeadingLevel + 1);\n          }\n        } else if (size == 2) {\n          if (currHeadingLevel <= 0) {\n            text = '## ' + text;\n          } else if (currHeadingLevel == size) {\n            text = text.substr(currHeadingLevel + 1);\n          } else {\n            text = '## ' + text.substr(currHeadingLevel + 1);\n          }\n        } else {\n          if (currHeadingLevel <= 0) {\n            text = '### ' + text;\n          } else if (currHeadingLevel == size) {\n            text = text.substr(currHeadingLevel + 1);\n          } else {\n            text = '### ' + text.substr(currHeadingLevel + 1);\n          }\n        }\n      }\n\n      cm.replaceRange(text, {\n        line: i,\n        ch: 0\n      }, {\n        line: i,\n        ch: 99999999999999\n      });\n    })(i);\n  }\n\n  cm.focus();\n}\n\nfunction _toggleLine(cm, name) {\n  if (/editor-preview-active/.test(cm.getWrapperElement().lastChild.className)) return;\n  var listRegexp = /^(\\s*)(\\*|-|\\+|\\d*\\.)(\\s+)/;\n  var whitespacesRegexp = /^\\s*/;\n  var stat = getState(cm);\n  var startPoint = cm.getCursor('start');\n  var endPoint = cm.getCursor('end');\n  var repl = {\n    'quote': /^(\\s*)>\\s+/,\n    'unordered-list': listRegexp,\n    'ordered-list': listRegexp\n  };\n\n  var _getChar = function _getChar(name, i) {\n    var map = {\n      'quote': '>',\n      'unordered-list': '*',\n      'ordered-list': '%%i.'\n    };\n    return map[name].replace('%%i', i);\n  };\n\n  var _checkChar = function _checkChar(name, char) {\n    var map = {\n      'quote': '>',\n      'unordered-list': '*',\n      'ordered-list': '\\\\d+.'\n    };\n    var rt = new RegExp(map[name]);\n    return char && rt.test(char);\n  };\n\n  var _toggle = function _toggle(name, text, untoggleOnly) {\n    var arr = listRegexp.exec(text);\n\n    var char = _getChar(name, line);\n\n    if (arr !== null) {\n      if (_checkChar(name, arr[2])) {\n        char = '';\n      }\n\n      text = arr[1] + char + arr[3] + text.replace(whitespacesRegexp, '').replace(repl[name], '$1');\n    } else if (untoggleOnly == false) {\n      text = char + ' ' + text;\n    }\n\n    return text;\n  };\n\n  var line = 1;\n\n  for (var i = startPoint.line; i <= endPoint.line; i++) {\n    (function (i) {\n      var text = cm.getLine(i);\n\n      if (stat[name]) {\n        text = text.replace(repl[name], '$1');\n      } else {\n        // If we're toggling unordered-list formatting, check if the current line\n        // is part of an ordered-list, and if so, untoggle that first.\n        // Workaround for https://github.com/Ionaru/easy-markdown-editor/issues/92\n        if (name == 'unordered-list') {\n          text = _toggle('ordered-list', text, true);\n        }\n\n        text = _toggle(name, text, false);\n        line += 1;\n      }\n\n      cm.replaceRange(text, {\n        line: i,\n        ch: 0\n      }, {\n        line: i,\n        ch: 99999999999999\n      });\n    })(i);\n  }\n\n  cm.focus();\n}\n\nfunction _toggleBlock(editor, type, start_chars, end_chars) {\n  if (/editor-preview-active/.test(editor.codemirror.getWrapperElement().lastChild.className)) return;\n  end_chars = typeof end_chars === 'undefined' ? start_chars : end_chars;\n  var cm = editor.codemirror;\n  var stat = getState(cm);\n  var text;\n  var start = start_chars;\n  var end = end_chars;\n  var startPoint = cm.getCursor('start');\n  var endPoint = cm.getCursor('end');\n\n  if (stat[type]) {\n    text = cm.getLine(startPoint.line);\n    start = text.slice(0, startPoint.ch);\n    end = text.slice(startPoint.ch);\n\n    if (type == 'bold') {\n      start = start.replace(/(\\*\\*|__)(?![\\s\\S]*(\\*\\*|__))/, '');\n      end = end.replace(/(\\*\\*|__)/, '');\n    } else if (type == 'italic') {\n      start = start.replace(/(\\*|_)(?![\\s\\S]*(\\*|_))/, '');\n      end = end.replace(/(\\*|_)/, '');\n    } else if (type == 'strikethrough') {\n      start = start.replace(/(\\*\\*|~~)(?![\\s\\S]*(\\*\\*|~~))/, '');\n      end = end.replace(/(\\*\\*|~~)/, '');\n    }\n\n    cm.replaceRange(start + end, {\n      line: startPoint.line,\n      ch: 0\n    }, {\n      line: startPoint.line,\n      ch: 99999999999999\n    });\n\n    if (type == 'bold' || type == 'strikethrough') {\n      startPoint.ch -= 2;\n\n      if (startPoint !== endPoint) {\n        endPoint.ch -= 2;\n      }\n    } else if (type == 'italic') {\n      startPoint.ch -= 1;\n\n      if (startPoint !== endPoint) {\n        endPoint.ch -= 1;\n      }\n    }\n  } else {\n    text = cm.getSelection();\n\n    if (type == 'bold') {\n      text = text.split('**').join('');\n      text = text.split('__').join('');\n    } else if (type == 'italic') {\n      text = text.split('*').join('');\n      text = text.split('_').join('');\n    } else if (type == 'strikethrough') {\n      text = text.split('~~').join('');\n    }\n\n    cm.replaceSelection(start + text + end);\n    startPoint.ch += start_chars.length;\n    endPoint.ch = startPoint.ch + text.length;\n  }\n\n  cm.setSelection(startPoint, endPoint);\n  cm.focus();\n}\n\nfunction _cleanBlock(cm) {\n  if (/editor-preview-active/.test(cm.getWrapperElement().lastChild.className)) return;\n  var startPoint = cm.getCursor('start');\n  var endPoint = cm.getCursor('end');\n  var text;\n\n  for (var line = startPoint.line; line <= endPoint.line; line++) {\n    text = cm.getLine(line);\n    text = text.replace(/^[ ]*([# ]+|\\*|-|[> ]+|[0-9]+(.|\\)))[ ]*/, '');\n    cm.replaceRange(text, {\n      line: line,\n      ch: 0\n    }, {\n      line: line,\n      ch: 99999999999999\n    });\n  }\n}\n/**\n * Convert a number of bytes to a human-readable file size. If you desire\n * to add a space between the value and the unit, you need to add this space\n * to the given units.\n * @param bytes {integer} A number of bytes, as integer. Ex: 421137\n * @param units {number[]} An array of human-readable units, ie. [' B', ' K', ' MB']\n * @returns string A human-readable file size. Ex: '412 KB'\n */\n\n\nfunction humanFileSize(bytes, units) {\n  if (Math.abs(bytes) < 1024) {\n    return '' + bytes + units[0];\n  }\n\n  var u = 0;\n\n  do {\n    bytes /= 1024;\n    ++u;\n  } while (Math.abs(bytes) >= 1024 && u < units.length);\n\n  return '' + bytes.toFixed(1) + units[u];\n} // Merge the properties of one object into another.\n\n\nfunction _mergeProperties(target, source) {\n  for (var property in source) {\n    if (Object.prototype.hasOwnProperty.call(source, property)) {\n      if (source[property] instanceof Array) {\n        target[property] = source[property].concat(target[property] instanceof Array ? target[property] : []);\n      } else if (source[property] !== null && typeof source[property] === 'object' && source[property].constructor === Object) {\n        target[property] = _mergeProperties(target[property] || {}, source[property]);\n      } else {\n        target[property] = source[property];\n      }\n    }\n  }\n\n  return target;\n} // Merge an arbitrary number of objects into one.\n\n\nfunction extend(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    target = _mergeProperties(target, arguments[i]);\n  }\n\n  return target;\n}\n/* The right word count in respect for CJK. */\n\n\nfunction wordCount(data) {\n  var pattern = /[a-zA-Z0-9_\\u00A0-\\u02AF\\u0392-\\u03c9\\u0410-\\u04F9]+|[\\u4E00-\\u9FFF\\u3400-\\u4dbf\\uf900-\\ufaff\\u3040-\\u309f\\uac00-\\ud7af]+/g;\n  var m = data.match(pattern);\n  var count = 0;\n  if (m === null) return count;\n\n  for (var i = 0; i < m.length; i++) {\n    if (m[i].charCodeAt(0) >= 0x4E00) {\n      count += m[i].length;\n    } else {\n      count += 1;\n    }\n  }\n\n  return count;\n}\n\nvar toolbarBuiltInButtons = {\n  'bold': {\n    name: 'bold',\n    action: toggleBold,\n    className: 'fa fa-bold',\n    title: 'Bold',\n    default: true\n  },\n  'italic': {\n    name: 'italic',\n    action: toggleItalic,\n    className: 'fa fa-italic',\n    title: 'Italic',\n    default: true\n  },\n  'strikethrough': {\n    name: 'strikethrough',\n    action: toggleStrikethrough,\n    className: 'fa fa-strikethrough',\n    title: 'Strikethrough'\n  },\n  'heading': {\n    name: 'heading',\n    action: toggleHeadingSmaller,\n    className: 'fa fa-header fa-heading',\n    title: 'Heading',\n    default: true\n  },\n  'heading-smaller': {\n    name: 'heading-smaller',\n    action: toggleHeadingSmaller,\n    className: 'fa fa-header fa-heading header-smaller',\n    title: 'Smaller Heading'\n  },\n  'heading-bigger': {\n    name: 'heading-bigger',\n    action: toggleHeadingBigger,\n    className: 'fa fa-header fa-heading header-bigger',\n    title: 'Bigger Heading'\n  },\n  'heading-1': {\n    name: 'heading-1',\n    action: toggleHeading1,\n    className: 'fa fa-header fa-heading header-1',\n    title: 'Big Heading'\n  },\n  'heading-2': {\n    name: 'heading-2',\n    action: toggleHeading2,\n    className: 'fa fa-header fa-heading header-2',\n    title: 'Medium Heading'\n  },\n  'heading-3': {\n    name: 'heading-3',\n    action: toggleHeading3,\n    className: 'fa fa-header fa-heading header-3',\n    title: 'Small Heading'\n  },\n  'separator-1': {\n    name: 'separator-1'\n  },\n  'code': {\n    name: 'code',\n    action: toggleCodeBlock,\n    className: 'fa fa-code',\n    title: 'Code'\n  },\n  'quote': {\n    name: 'quote',\n    action: toggleBlockquote,\n    className: 'fa fa-quote-left',\n    title: 'Quote',\n    default: true\n  },\n  'unordered-list': {\n    name: 'unordered-list',\n    action: toggleUnorderedList,\n    className: 'fa fa-list-ul',\n    title: 'Generic List',\n    default: true\n  },\n  'ordered-list': {\n    name: 'ordered-list',\n    action: toggleOrderedList,\n    className: 'fa fa-list-ol',\n    title: 'Numbered List',\n    default: true\n  },\n  'clean-block': {\n    name: 'clean-block',\n    action: cleanBlock,\n    className: 'fa fa-eraser',\n    title: 'Clean block'\n  },\n  'separator-2': {\n    name: 'separator-2'\n  },\n  'link': {\n    name: 'link',\n    action: drawLink,\n    className: 'fa fa-link',\n    title: 'Create Link',\n    default: true\n  },\n  'image': {\n    name: 'image',\n    action: drawImage,\n    className: 'fa fa-image',\n    title: 'Insert Image',\n    default: true\n  },\n  'upload-image': {\n    name: 'upload-image',\n    action: drawUploadedImage,\n    className: 'fa fa-image',\n    title: 'Import an image'\n  },\n  'table': {\n    name: 'table',\n    action: drawTable,\n    className: 'fa fa-table',\n    title: 'Insert Table'\n  },\n  'horizontal-rule': {\n    name: 'horizontal-rule',\n    action: drawHorizontalRule,\n    className: 'fa fa-minus',\n    title: 'Insert Horizontal Line'\n  },\n  'separator-3': {\n    name: 'separator-3'\n  },\n  'preview': {\n    name: 'preview',\n    action: togglePreview,\n    className: 'fa fa-eye',\n    noDisable: true,\n    title: 'Toggle Preview',\n    default: true\n  },\n  'side-by-side': {\n    name: 'side-by-side',\n    action: toggleSideBySide,\n    className: 'fa fa-columns',\n    noDisable: true,\n    noMobile: true,\n    title: 'Toggle Side by Side',\n    default: true\n  },\n  'fullscreen': {\n    name: 'fullscreen',\n    action: toggleFullScreen,\n    className: 'fa fa-arrows-alt',\n    noDisable: true,\n    noMobile: true,\n    title: 'Toggle Fullscreen',\n    default: true\n  },\n  'separator-4': {\n    name: 'separator-4'\n  },\n  'guide': {\n    name: 'guide',\n    action: 'https://www.markdownguide.org/basic-syntax/',\n    className: 'fa fa-question-circle',\n    noDisable: true,\n    title: 'Markdown Guide',\n    default: true\n  },\n  'separator-5': {\n    name: 'separator-5'\n  },\n  'undo': {\n    name: 'undo',\n    action: undo,\n    className: 'fa fa-undo',\n    noDisable: true,\n    title: 'Undo'\n  },\n  'redo': {\n    name: 'redo',\n    action: redo,\n    className: 'fa fa-repeat fa-redo',\n    noDisable: true,\n    title: 'Redo'\n  }\n};\nvar insertTexts = {\n  link: ['[', '](#url#)'],\n  image: ['![](', '#url#)'],\n  uploadedImage: ['![](#url#)', ''],\n  // uploadedImage: ['![](#url#)\\n', ''], // TODO: New line insertion doesn't work here.\n  table: ['', '\\n\\n| Column 1 | Column 2 | Column 3 |\\n| -------- | -------- | -------- |\\n| Text     | Text     | Text     |\\n\\n'],\n  horizontalRule: ['', '\\n\\n-----\\n\\n']\n};\nvar promptTexts = {\n  link: 'URL for the link:',\n  image: 'URL of the image:'\n};\nvar timeFormat = {\n  locale: 'en-US',\n  format: {\n    hour: '2-digit',\n    minute: '2-digit'\n  }\n};\nvar blockStyles = {\n  'bold': '**',\n  'code': '```',\n  'italic': '*'\n};\n/**\n * Texts displayed to the user (mainly on the status bar) for the import image\n * feature. Can be used for customization or internationalization.\n */\n\nvar imageTexts = {\n  sbInit: 'Attach files by drag and dropping or pasting from clipboard.',\n  sbOnDragEnter: 'Drop image to upload it.',\n  sbOnDrop: 'Uploading image #images_names#...',\n  sbProgress: 'Uploading #file_name#: #progress#%',\n  sbOnUploaded: 'Uploaded #image_name#',\n  sizeUnits: ' B, KB, MB'\n};\n/**\n * Errors displayed to the user, using the `errorCallback` option. Can be used for\n * customization or internationalization.\n */\n\nvar errorMessages = {\n  noFileGiven: 'You must select a file.',\n  typeNotAllowed: 'This image type is not allowed.',\n  fileTooLarge: 'Image #image_name# is too big (#image_size#).\\n' + 'Maximum file size is #image_max_size#.',\n  importError: 'Something went wrong when uploading the image #image_name#.'\n};\n/**\n * Interface of EasyMDE.\n */\n\nfunction EasyMDE(options) {\n  // Handle options parameter\n  options = options || {}; // Used later to refer to it\"s parent\n\n  options.parent = this; // Check if Font Awesome needs to be auto downloaded\n\n  var autoDownloadFA = true;\n\n  if (options.autoDownloadFontAwesome === false) {\n    autoDownloadFA = false;\n  }\n\n  if (options.autoDownloadFontAwesome !== true) {\n    var styleSheets = document.styleSheets;\n\n    for (var i = 0; i < styleSheets.length; i++) {\n      if (!styleSheets[i].href) continue;\n\n      if (styleSheets[i].href.indexOf('//maxcdn.bootstrapcdn.com/font-awesome/') > -1) {\n        autoDownloadFA = false;\n      }\n    }\n  }\n\n  if (autoDownloadFA) {\n    var link = document.createElement('link');\n    link.rel = 'stylesheet';\n    link.href = 'https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css';\n    document.getElementsByTagName('head')[0].appendChild(link);\n  } // Find the textarea to use\n\n\n  if (options.element) {\n    this.element = options.element;\n  } else if (options.element === null) {\n    // This means that the element option was specified, but no element was found\n    console.log('EasyMDE: Error. No element was found.');\n    return;\n  } // Handle toolbar\n\n\n  if (options.toolbar === undefined) {\n    // Initialize\n    options.toolbar = []; // Loop over the built in buttons, to get the preferred order\n\n    for (var key in toolbarBuiltInButtons) {\n      if (Object.prototype.hasOwnProperty.call(toolbarBuiltInButtons, key)) {\n        if (key.indexOf('separator-') != -1) {\n          options.toolbar.push('|');\n        }\n\n        if (toolbarBuiltInButtons[key].default === true || options.showIcons && options.showIcons.constructor === Array && options.showIcons.indexOf(key) != -1) {\n          options.toolbar.push(key);\n        }\n      }\n    }\n  } // Editor preview styling class.\n\n\n  if (!Object.prototype.hasOwnProperty.call(options, 'previewClass')) {\n    options.previewClass = 'editor-preview';\n  } // Handle status bar\n\n\n  if (!Object.prototype.hasOwnProperty.call(options, 'status')) {\n    options.status = ['autosave', 'lines', 'words', 'cursor'];\n\n    if (options.uploadImage) {\n      options.status.unshift('upload-image');\n    }\n  } // Add default preview rendering function\n\n\n  if (!options.previewRender) {\n    options.previewRender = function (plainText) {\n      // Note: \"this\" refers to the options object\n      return this.parent.markdown(plainText);\n    };\n  } // Set default options for parsing config\n\n\n  options.parsingConfig = extend({\n    highlightFormatting: true // needed for toggleCodeBlock to detect types of code\n\n  }, options.parsingConfig || {}); // Merging the insertTexts, with the given options\n\n  options.insertTexts = extend({}, insertTexts, options.insertTexts || {}); // Merging the promptTexts, with the given options\n\n  options.promptTexts = extend({}, promptTexts, options.promptTexts || {}); // Merging the blockStyles, with the given options\n\n  options.blockStyles = extend({}, blockStyles, options.blockStyles || {});\n\n  if (options.autosave != undefined) {\n    // Merging the Autosave timeFormat, with the given options\n    options.autosave.timeFormat = extend({}, timeFormat, options.autosave.timeFormat || {});\n  } // Merging the shortcuts, with the given options\n\n\n  options.shortcuts = extend({}, shortcuts, options.shortcuts || {});\n  options.maxHeight = options.maxHeight || undefined;\n\n  if (typeof options.maxHeight !== 'undefined') {\n    // Min and max height are equal if maxHeight is set\n    options.minHeight = options.maxHeight;\n  } else {\n    options.minHeight = options.minHeight || '300px';\n  }\n\n  options.errorCallback = options.errorCallback || function (errorMessage) {\n    alert(errorMessage);\n  }; // Import-image default configuration\n\n\n  options.uploadImage = options.uploadImage || false;\n  options.imageMaxSize = options.imageMaxSize || 2097152; // 1024 * 1024 * 2\n\n  options.imageAccept = options.imageAccept || 'image/png, image/jpeg';\n  options.imageTexts = extend({}, imageTexts, options.imageTexts || {});\n  options.errorMessages = extend({}, errorMessages, options.errorMessages || {}); // Change unique_id to uniqueId for backwards compatibility\n\n  if (options.autosave != undefined && options.autosave.unique_id != undefined && options.autosave.unique_id != '') options.autosave.uniqueId = options.autosave.unique_id; // If overlay mode is specified and combine is not provided, default it to true\n\n  if (options.overlayMode && options.overlayMode.combine === undefined) {\n    options.overlayMode.combine = true;\n  } // Update this options\n\n\n  this.options = options; // Auto render\n\n  this.render(); // The codemirror component is only available after rendering\n  // so, the setter for the initialValue can only run after\n  // the element has been rendered\n\n  if (options.initialValue && (!this.options.autosave || this.options.autosave.foundSavedValue !== true)) {\n    this.value(options.initialValue);\n  }\n\n  if (options.uploadImage) {\n    var self = this;\n    this.codemirror.on('dragenter', function (cm, event) {\n      self.updateStatusBar('upload-image', self.options.imageTexts.sbOnDragEnter);\n      event.stopPropagation();\n      event.preventDefault();\n    });\n    this.codemirror.on('dragend', function (cm, event) {\n      self.updateStatusBar('upload-image', self.options.imageTexts.sbInit);\n      event.stopPropagation();\n      event.preventDefault();\n    });\n    this.codemirror.on('dragleave', function (cm, event) {\n      self.updateStatusBar('upload-image', self.options.imageTexts.sbInit);\n      event.stopPropagation();\n      event.preventDefault();\n    });\n    this.codemirror.on('dragover', function (cm, event) {\n      self.updateStatusBar('upload-image', self.options.imageTexts.sbOnDragEnter);\n      event.stopPropagation();\n      event.preventDefault();\n    });\n    this.codemirror.on('drop', function (cm, event) {\n      event.stopPropagation();\n      event.preventDefault();\n\n      if (options.imageUploadFunction) {\n        self.uploadImagesUsingCustomFunction(options.imageUploadFunction, event.dataTransfer.files);\n      } else {\n        self.uploadImages(event.dataTransfer.files);\n      }\n    });\n    this.codemirror.on('paste', function (cm, event) {\n      if (options.imageUploadFunction) {\n        self.uploadImagesUsingCustomFunction(options.imageUploadFunction, event.clipboardData.files);\n      } else {\n        self.uploadImages(event.clipboardData.files);\n      }\n    });\n  }\n}\n/**\n * Upload asynchronously a list of images to a server.\n *\n * Can be triggered by:\n * - drag&drop;\n * - copy-paste;\n * - the browse-file window (opened when the user clicks on the *upload-image* icon).\n * @param {FileList} files The files to upload the the server.\n * @param [onSuccess] {function} see EasyMDE.prototype.uploadImage\n * @param [onError] {function} see EasyMDE.prototype.uploadImage\n */\n\n\nEasyMDE.prototype.uploadImages = function (files, onSuccess, onError) {\n  if (files.length === 0) {\n    return;\n  }\n\n  var names = [];\n\n  for (var i = 0; i < files.length; i++) {\n    names.push(files[i].name);\n    this.uploadImage(files[i], onSuccess, onError);\n  }\n\n  this.updateStatusBar('upload-image', this.options.imageTexts.sbOnDrop.replace('#images_names#', names.join(', ')));\n};\n/**\n * Upload asynchronously a list of images to a server.\n *\n * Can be triggered by:\n * - drag&drop;\n * - copy-paste;\n * - the browse-file window (opened when the user clicks on the *upload-image* icon).\n * @param imageUploadFunction {Function} The custom function to upload the image passed in options.\n * @param {FileList} files The files to upload the the server.\n */\n\n\nEasyMDE.prototype.uploadImagesUsingCustomFunction = function (imageUploadFunction, files) {\n  if (files.length === 0) {\n    return;\n  }\n\n  var names = [];\n\n  for (var i = 0; i < files.length; i++) {\n    names.push(files[i].name);\n    this.uploadImageUsingCustomFunction(imageUploadFunction, files[i]);\n  }\n\n  this.updateStatusBar('upload-image', this.options.imageTexts.sbOnDrop.replace('#images_names#', names.join(', ')));\n};\n/**\n * Update an item in the status bar.\n * @param itemName {string} The name of the item to update (ie. 'upload-image', 'autosave', etc.).\n * @param content {string} the new content of the item to write in the status bar.\n */\n\n\nEasyMDE.prototype.updateStatusBar = function (itemName, content) {\n  if (!this.gui.statusbar) {\n    return;\n  }\n\n  var matchingClasses = this.gui.statusbar.getElementsByClassName(itemName);\n\n  if (matchingClasses.length === 1) {\n    this.gui.statusbar.getElementsByClassName(itemName)[0].textContent = content;\n  } else if (matchingClasses.length === 0) {\n    console.log('EasyMDE: status bar item ' + itemName + ' was not found.');\n  } else {\n    console.log('EasyMDE: Several status bar items named ' + itemName + ' was found.');\n  }\n};\n/**\n * Default markdown render.\n */\n\n\nEasyMDE.prototype.markdown = function (text) {\n  if (marked) {\n    // Initialize\n    var markedOptions;\n\n    if (this.options && this.options.renderingConfig && this.options.renderingConfig.markedOptions) {\n      markedOptions = this.options.renderingConfig.markedOptions;\n    } else {\n      markedOptions = {};\n    } // Update options\n\n\n    if (this.options && this.options.renderingConfig && this.options.renderingConfig.singleLineBreaks === false) {\n      markedOptions.breaks = false;\n    } else {\n      markedOptions.breaks = true;\n    }\n\n    if (this.options && this.options.renderingConfig && this.options.renderingConfig.codeSyntaxHighlighting === true) {\n      /* Get HLJS from config or window */\n      var hljs = this.options.renderingConfig.hljs || window.hljs;\n      /* Check if HLJS loaded */\n\n      if (hljs) {\n        markedOptions.highlight = function (code, language) {\n          if (language && hljs.getLanguage(language)) {\n            return hljs.highlight(language, code).value;\n          } else {\n            return hljs.highlightAuto(code).value;\n          }\n        };\n      }\n    } // Set options\n\n\n    marked.setOptions(markedOptions); // Convert the markdown to HTML\n\n    var htmlText = marked(text); // Sanitize HTML\n\n    if (this.options.renderingConfig && typeof this.options.renderingConfig.sanitizerFunction === 'function') {\n      htmlText = this.options.renderingConfig.sanitizerFunction.call(this, htmlText);\n    } // Edit the HTML anchors to add 'target=\"_blank\"' by default.\n\n\n    htmlText = addAnchorTargetBlank(htmlText); // Remove list-style when rendering checkboxes\n\n    htmlText = removeListStyleWhenCheckbox(htmlText);\n    return htmlText;\n  }\n};\n/**\n * Render editor to the given element.\n */\n\n\nEasyMDE.prototype.render = function (el) {\n  if (!el) {\n    el = this.element || document.getElementsByTagName('textarea')[0];\n  }\n\n  if (this._rendered && this._rendered === el) {\n    // Already rendered.\n    return;\n  }\n\n  this.element = el;\n  var options = this.options;\n  var self = this;\n  var keyMaps = {};\n\n  for (var key in options.shortcuts) {\n    // null stands for \"do not bind this command\"\n    if (options.shortcuts[key] !== null && bindings[key] !== null) {\n      (function (key) {\n        keyMaps[fixShortcut(options.shortcuts[key])] = function () {\n          var action = bindings[key];\n\n          if (typeof action === 'function') {\n            action(self);\n          } else if (typeof action === 'string') {\n            window.open(action, '_blank');\n          }\n        };\n      })(key);\n    }\n  }\n\n  keyMaps['Enter'] = 'newlineAndIndentContinueMarkdownList';\n  keyMaps['Tab'] = 'tabAndIndentMarkdownList';\n  keyMaps['Shift-Tab'] = 'shiftTabAndUnindentMarkdownList';\n\n  keyMaps['Esc'] = function (cm) {\n    if (cm.getOption('fullScreen')) toggleFullScreen(self);\n  };\n\n  this.documentOnKeyDown = function (e) {\n    e = e || window.event;\n\n    if (e.keyCode == 27) {\n      if (self.codemirror.getOption('fullScreen')) toggleFullScreen(self);\n    }\n  };\n\n  document.addEventListener('keydown', this.documentOnKeyDown, false);\n  var mode, backdrop; // CodeMirror overlay mode\n\n  if (options.overlayMode) {\n    CodeMirror.defineMode('overlay-mode', function (config) {\n      return CodeMirror.overlayMode(CodeMirror.getMode(config, options.spellChecker !== false ? 'spell-checker' : 'gfm'), options.overlayMode.mode, options.overlayMode.combine);\n    });\n    mode = 'overlay-mode';\n    backdrop = options.parsingConfig;\n    backdrop.gitHubSpice = false;\n  } else {\n    mode = options.parsingConfig;\n    mode.name = 'gfm';\n    mode.gitHubSpice = false;\n  }\n\n  if (options.spellChecker !== false) {\n    mode = 'spell-checker';\n    backdrop = options.parsingConfig;\n    backdrop.name = 'gfm';\n    backdrop.gitHubSpice = false;\n    CodeMirrorSpellChecker({\n      codeMirrorInstance: CodeMirror\n    });\n  } // eslint-disable-next-line no-unused-vars\n\n\n  function configureMouse(cm, repeat, event) {\n    return {\n      addNew: false\n    };\n  }\n\n  this.codemirror = CodeMirror.fromTextArea(el, {\n    mode: mode,\n    backdrop: backdrop,\n    theme: options.theme != undefined ? options.theme : 'easymde',\n    tabSize: options.tabSize != undefined ? options.tabSize : 2,\n    indentUnit: options.tabSize != undefined ? options.tabSize : 2,\n    indentWithTabs: options.indentWithTabs === false ? false : true,\n    lineNumbers: options.lineNumbers === true ? true : false,\n    autofocus: options.autofocus === true ? true : false,\n    extraKeys: keyMaps,\n    lineWrapping: options.lineWrapping === false ? false : true,\n    allowDropFileTypes: ['text/plain'],\n    placeholder: options.placeholder || el.getAttribute('placeholder') || '',\n    styleSelectedText: options.styleSelectedText != undefined ? options.styleSelectedText : !isMobile(),\n    scrollbarStyle: options.scrollbarStyle != undefined ? options.scrollbarStyle : 'native',\n    configureMouse: configureMouse,\n    inputStyle: options.inputStyle != undefined ? options.inputStyle : isMobile() ? 'contenteditable' : 'textarea',\n    spellcheck: options.nativeSpellcheck != undefined ? options.nativeSpellcheck : true,\n    autoRefresh: options.autoRefresh != undefined ? options.autoRefresh : false\n  });\n  this.codemirror.getScrollerElement().style.minHeight = options.minHeight;\n\n  if (typeof options.maxHeight !== 'undefined') {\n    this.codemirror.getScrollerElement().style.height = options.maxHeight;\n  }\n\n  if (options.forceSync === true) {\n    var cm = this.codemirror;\n    cm.on('change', function () {\n      cm.save();\n    });\n  }\n\n  this.gui = {}; // Wrap Codemirror with container before create toolbar, etc,\n  // to use with sideBySideFullscreen option.\n\n  var easyMDEContainer = document.createElement('div');\n  easyMDEContainer.classList.add('EasyMDEContainer');\n  var cmWrapper = this.codemirror.getWrapperElement();\n  cmWrapper.parentNode.insertBefore(easyMDEContainer, cmWrapper);\n  easyMDEContainer.appendChild(cmWrapper);\n\n  if (options.toolbar !== false) {\n    this.gui.toolbar = this.createToolbar();\n  }\n\n  if (options.status !== false) {\n    this.gui.statusbar = this.createStatusbar();\n  }\n\n  if (options.autosave != undefined && options.autosave.enabled === true) {\n    this.autosave(); // use to load localstorage content\n\n    this.codemirror.on('change', function () {\n      clearTimeout(self._autosave_timeout);\n      self._autosave_timeout = setTimeout(function () {\n        self.autosave();\n      }, self.options.autosave.submit_delay || self.options.autosave.delay || 1000);\n    });\n  }\n\n  function calcHeight(naturalWidth, naturalHeight) {\n    var height;\n    var viewportWidth = window.getComputedStyle(document.querySelector('.CodeMirror-sizer')).width.replace('px', '');\n\n    if (naturalWidth < viewportWidth) {\n      height = naturalHeight + 'px';\n    } else {\n      height = naturalHeight / naturalWidth * 100 + '%';\n    }\n\n    return height;\n  }\n\n  var _vm = this;\n\n  function assignImageBlockAttributes(parentEl, img) {\n    parentEl.setAttribute('data-img-src', img.url);\n    parentEl.setAttribute('style', '--bg-image:url(' + img.url + ');--width:' + img.naturalWidth + 'px;--height:' + calcHeight(img.naturalWidth, img.naturalHeight));\n\n    _vm.codemirror.setSize();\n  }\n\n  function handleImages() {\n    if (!options.previewImagesInEditor) {\n      return;\n    }\n\n    easyMDEContainer.querySelectorAll('.cm-image-marker').forEach(function (e) {\n      var parentEl = e.parentElement;\n\n      if (!parentEl.innerText.match(/^!\\[.*?\\]\\(.*\\)/g)) {\n        // if img pasted on the same line with other text, don't preview, preview only images on separate line\n        return;\n      }\n\n      if (!parentEl.hasAttribute('data-img-src')) {\n        var srcAttr = parentEl.innerText.match('\\\\((.*)\\\\)'); // might require better parsing according to markdown spec\n\n        if (!window.EMDEimagesCache) {\n          window.EMDEimagesCache = {};\n        }\n\n        if (srcAttr && srcAttr.length >= 2) {\n          var keySrc = srcAttr[1];\n\n          if (!window.EMDEimagesCache[keySrc]) {\n            var img = document.createElement('img');\n\n            img.onload = function () {\n              window.EMDEimagesCache[keySrc] = {\n                naturalWidth: img.naturalWidth,\n                naturalHeight: img.naturalHeight,\n                url: keySrc\n              };\n              assignImageBlockAttributes(parentEl, window.EMDEimagesCache[keySrc]);\n            };\n\n            img.src = keySrc;\n          } else {\n            assignImageBlockAttributes(parentEl, window.EMDEimagesCache[keySrc]);\n          }\n        }\n      }\n    });\n  }\n\n  this.codemirror.on('update', function () {\n    handleImages();\n  });\n  this.gui.sideBySide = this.createSideBySide();\n  this._rendered = this.element; // Fixes CodeMirror bug (#344)\n\n  var temp_cm = this.codemirror;\n  setTimeout(function () {\n    temp_cm.refresh();\n  }.bind(temp_cm), 0);\n};\n\nEasyMDE.prototype.cleanup = function () {\n  document.removeEventListener('keydown', this.documentOnKeyDown);\n}; // Safari, in Private Browsing Mode, looks like it supports localStorage but all calls to setItem throw QuotaExceededError. We're going to detect this and set a variable accordingly.\n\n\nfunction isLocalStorageAvailable() {\n  if (typeof localStorage === 'object') {\n    try {\n      localStorage.setItem('smde_localStorage', 1);\n      localStorage.removeItem('smde_localStorage');\n    } catch (e) {\n      return false;\n    }\n  } else {\n    return false;\n  }\n\n  return true;\n}\n\nEasyMDE.prototype.autosave = function () {\n  if (isLocalStorageAvailable()) {\n    var easyMDE = this;\n\n    if (this.options.autosave.uniqueId == undefined || this.options.autosave.uniqueId == '') {\n      console.log('EasyMDE: You must set a uniqueId to use the autosave feature');\n      return;\n    }\n\n    if (this.options.autosave.binded !== true) {\n      if (easyMDE.element.form != null && easyMDE.element.form != undefined) {\n        easyMDE.element.form.addEventListener('submit', function () {\n          clearTimeout(easyMDE.autosaveTimeoutId);\n          easyMDE.autosaveTimeoutId = undefined;\n          localStorage.removeItem('smde_' + easyMDE.options.autosave.uniqueId);\n        });\n      }\n\n      this.options.autosave.binded = true;\n    }\n\n    if (this.options.autosave.loaded !== true) {\n      if (typeof localStorage.getItem('smde_' + this.options.autosave.uniqueId) == 'string' && localStorage.getItem('smde_' + this.options.autosave.uniqueId) != '') {\n        this.codemirror.setValue(localStorage.getItem('smde_' + this.options.autosave.uniqueId));\n        this.options.autosave.foundSavedValue = true;\n      }\n\n      this.options.autosave.loaded = true;\n    }\n\n    var value = easyMDE.value();\n\n    if (value !== '') {\n      localStorage.setItem('smde_' + this.options.autosave.uniqueId, value);\n    } else {\n      localStorage.removeItem('smde_' + this.options.autosave.uniqueId);\n    }\n\n    var el = document.getElementById('autosaved');\n\n    if (el != null && el != undefined && el != '') {\n      var d = new Date();\n      var dd = new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale, 'en-US'], this.options.autosave.timeFormat.format).format(d);\n      var save = this.options.autosave.text == undefined ? 'Autosaved: ' : this.options.autosave.text;\n      el.innerHTML = save + dd;\n    }\n  } else {\n    console.log('EasyMDE: localStorage not available, cannot autosave');\n  }\n};\n\nEasyMDE.prototype.clearAutosavedValue = function () {\n  if (isLocalStorageAvailable()) {\n    if (this.options.autosave == undefined || this.options.autosave.uniqueId == undefined || this.options.autosave.uniqueId == '') {\n      console.log('EasyMDE: You must set a uniqueId to clear the autosave value');\n      return;\n    }\n\n    localStorage.removeItem('smde_' + this.options.autosave.uniqueId);\n  } else {\n    console.log('EasyMDE: localStorage not available, cannot autosave');\n  }\n};\n/**\n * Open the browse-file window to upload an image to a server.\n * @param [onSuccess] {function} see EasyMDE.prototype.uploadImage\n * @param [onError] {function} see EasyMDE.prototype.uploadImage\n */\n\n\nEasyMDE.prototype.openBrowseFileWindow = function (onSuccess, onError) {\n  var self = this;\n  var imageInput = this.gui.toolbar.getElementsByClassName('imageInput')[0];\n  imageInput.click(); //dispatchEvent(new MouseEvent('click'));  // replaced with click() for IE11 compatibility.\n\n  function onChange(event) {\n    if (self.options.imageUploadFunction) {\n      self.uploadImagesUsingCustomFunction(self.options.imageUploadFunction, event.target.files);\n    } else {\n      self.uploadImages(event.target.files, onSuccess, onError);\n    }\n\n    imageInput.removeEventListener('change', onChange);\n  }\n\n  imageInput.addEventListener('change', onChange);\n};\n/**\n * Upload an image to the server.\n *\n * @param file {File} The image to upload, as a HTML5 File object (https://developer.mozilla.org/en-US/docs/Web/API/File)\n * @param [onSuccess] {function} A callback function to execute after the image has been successfully uploaded, with one parameter:\n * - url (string): The URL of the uploaded image.\n * @param [onError] {function} A callback function to execute when the image upload fails, with one parameter:\n * - error (string): the detailed error to display to the user (based on messages from options.errorMessages).\n */\n\n\nEasyMDE.prototype.uploadImage = function (file, onSuccess, onError) {\n  var self = this;\n\n  onSuccess = onSuccess || function onSuccess(imageUrl) {\n    afterImageUploaded(self, imageUrl);\n  };\n\n  function onErrorSup(errorMessage) {\n    // show error on status bar and reset after 10000ms\n    self.updateStatusBar('upload-image', errorMessage);\n    setTimeout(function () {\n      self.updateStatusBar('upload-image', self.options.imageTexts.sbInit);\n    }, 10000); // run custom error handler\n\n    if (onError && typeof onError === 'function') {\n      onError(errorMessage);\n    } // run error handler from options, this alerts the message.\n\n\n    self.options.errorCallback(errorMessage);\n  }\n\n  function fillErrorMessage(errorMessage) {\n    var units = self.options.imageTexts.sizeUnits.split(',');\n    return errorMessage.replace('#image_name#', file.name).replace('#image_size#', humanFileSize(file.size, units)).replace('#image_max_size#', humanFileSize(self.options.imageMaxSize, units));\n  }\n\n  if (file.size > this.options.imageMaxSize) {\n    onErrorSup(fillErrorMessage(this.options.errorMessages.fileTooLarge));\n    return;\n  }\n\n  var formData = new FormData();\n  formData.append('image', file); // insert CSRF token if provided in config.\n\n  if (self.options.imageCSRFToken) {\n    formData.append('csrfmiddlewaretoken', self.options.imageCSRFToken);\n  }\n\n  var request = new XMLHttpRequest();\n\n  request.upload.onprogress = function (event) {\n    if (event.lengthComputable) {\n      var progress = '' + Math.round(event.loaded * 100 / event.total);\n      self.updateStatusBar('upload-image', self.options.imageTexts.sbProgress.replace('#file_name#', file.name).replace('#progress#', progress));\n    }\n  };\n\n  request.open('POST', this.options.imageUploadEndpoint);\n\n  request.onload = function () {\n    try {\n      var response = JSON.parse(this.responseText);\n    } catch (error) {\n      console.error('EasyMDE: The server did not return a valid json.');\n      onErrorSup(fillErrorMessage(self.options.errorMessages.importError));\n      return;\n    }\n\n    if (this.status === 200 && response && !response.error && response.data && response.data.filePath) {\n      onSuccess((self.options.imagePathAbsolute ? '' : window.location.origin + '/') + response.data.filePath);\n    } else {\n      if (response.error && response.error in self.options.errorMessages) {\n        // preformatted error message\n        onErrorSup(fillErrorMessage(self.options.errorMessages[response.error]));\n      } else if (response.error) {\n        // server side generated error message\n        onErrorSup(fillErrorMessage(response.error));\n      } else {\n        //unknown error\n        console.error('EasyMDE: Received an unexpected response after uploading the image.' + this.status + ' (' + this.statusText + ')');\n        onErrorSup(fillErrorMessage(self.options.errorMessages.importError));\n      }\n    }\n  };\n\n  request.onerror = function (event) {\n    console.error('EasyMDE: An unexpected error occurred when trying to upload the image.' + event.target.status + ' (' + event.target.statusText + ')');\n    onErrorSup(self.options.errorMessages.importError);\n  };\n\n  request.send(formData);\n};\n/**\n * Upload an image to the server using a custom upload function.\n *\n * @param imageUploadFunction {Function} The custom function to upload the image passed in options\n * @param file {File} The image to upload, as a HTML5 File object (https://developer.mozilla.org/en-US/docs/Web/API/File).\n */\n\n\nEasyMDE.prototype.uploadImageUsingCustomFunction = function (imageUploadFunction, file) {\n  var self = this;\n\n  function onSuccess(imageUrl) {\n    afterImageUploaded(self, imageUrl);\n  }\n\n  function onError(errorMessage) {\n    var filledErrorMessage = fillErrorMessage(errorMessage); // show error on status bar and reset after 10000ms\n\n    self.updateStatusBar('upload-image', filledErrorMessage);\n    setTimeout(function () {\n      self.updateStatusBar('upload-image', self.options.imageTexts.sbInit);\n    }, 10000); // run error handler from options, this alerts the message.\n\n    self.options.errorCallback(filledErrorMessage);\n  }\n\n  function fillErrorMessage(errorMessage) {\n    var units = self.options.imageTexts.sizeUnits.split(',');\n    return errorMessage.replace('#image_name#', file.name).replace('#image_size#', humanFileSize(file.size, units)).replace('#image_max_size#', humanFileSize(self.options.imageMaxSize, units));\n  }\n\n  imageUploadFunction.apply(this, [file, onSuccess, onError]);\n};\n\nEasyMDE.prototype.setPreviewMaxHeight = function () {\n  var cm = this.codemirror;\n  var wrapper = cm.getWrapperElement();\n  var preview = wrapper.nextSibling; // Calc preview max height\n\n  var paddingTop = parseInt(window.getComputedStyle(wrapper).paddingTop);\n  var borderTopWidth = parseInt(window.getComputedStyle(wrapper).borderTopWidth);\n  var optionsMaxHeight = parseInt(this.options.maxHeight);\n  var wrapperMaxHeight = optionsMaxHeight + paddingTop * 2 + borderTopWidth * 2;\n  var previewMaxHeight = wrapperMaxHeight.toString() + 'px';\n  preview.style.height = previewMaxHeight;\n};\n\nEasyMDE.prototype.createSideBySide = function () {\n  var cm = this.codemirror;\n  var wrapper = cm.getWrapperElement();\n  var preview = wrapper.nextSibling;\n\n  if (!preview || !/editor-preview-side/.test(preview.className)) {\n    preview = document.createElement('div');\n    preview.className = 'editor-preview-side';\n\n    if (this.options.previewClass) {\n      if (Array.isArray(this.options.previewClass)) {\n        for (var i = 0; i < this.options.previewClass.length; i++) {\n          preview.className += ' ' + this.options.previewClass[i];\n        }\n      } else if (typeof this.options.previewClass === 'string') {\n        preview.className += ' ' + this.options.previewClass;\n      }\n    }\n\n    wrapper.parentNode.insertBefore(preview, wrapper.nextSibling);\n  }\n\n  if (typeof this.options.maxHeight !== 'undefined') {\n    this.setPreviewMaxHeight();\n  }\n\n  if (this.options.syncSideBySidePreviewScroll === false) return preview; // Syncs scroll  editor -> preview\n\n  var cScroll = false;\n  var pScroll = false;\n  cm.on('scroll', function (v) {\n    if (cScroll) {\n      cScroll = false;\n      return;\n    }\n\n    pScroll = true;\n    var height = v.getScrollInfo().height - v.getScrollInfo().clientHeight;\n    var ratio = parseFloat(v.getScrollInfo().top) / height;\n    var move = (preview.scrollHeight - preview.clientHeight) * ratio;\n    preview.scrollTop = move;\n  }); // Syncs scroll  preview -> editor\n\n  preview.onscroll = function () {\n    if (pScroll) {\n      pScroll = false;\n      return;\n    }\n\n    cScroll = true;\n    var height = preview.scrollHeight - preview.clientHeight;\n    var ratio = parseFloat(preview.scrollTop) / height;\n    var move = (cm.getScrollInfo().height - cm.getScrollInfo().clientHeight) * ratio;\n    cm.scrollTo(0, move);\n  };\n\n  return preview;\n};\n\nEasyMDE.prototype.createToolbar = function (items) {\n  items = items || this.options.toolbar;\n\n  if (!items || items.length === 0) {\n    return;\n  }\n\n  var i;\n\n  for (i = 0; i < items.length; i++) {\n    if (toolbarBuiltInButtons[items[i]] != undefined) {\n      items[i] = toolbarBuiltInButtons[items[i]];\n    }\n  }\n\n  var bar = document.createElement('div');\n  bar.className = 'editor-toolbar';\n  var self = this;\n  var toolbarData = {};\n  self.toolbar = items;\n\n  for (i = 0; i < items.length; i++) {\n    if (items[i].name == 'guide' && self.options.toolbarGuideIcon === false) continue;\n    if (self.options.hideIcons && self.options.hideIcons.indexOf(items[i].name) != -1) continue; // Fullscreen does not work well on mobile devices (even tablets)\n    // In the future, hopefully this can be resolved\n\n    if ((items[i].name == 'fullscreen' || items[i].name == 'side-by-side') && isMobile()) continue; // Don't include trailing separators\n\n    if (items[i] === '|') {\n      var nonSeparatorIconsFollow = false;\n\n      for (var x = i + 1; x < items.length; x++) {\n        if (items[x] !== '|' && (!self.options.hideIcons || self.options.hideIcons.indexOf(items[x].name) == -1)) {\n          nonSeparatorIconsFollow = true;\n        }\n      }\n\n      if (!nonSeparatorIconsFollow) continue;\n    } // Create the icon and append to the toolbar\n\n\n    (function (item) {\n      var el;\n\n      if (item === '|') {\n        el = createSep();\n      } else if (item.children) {\n        el = createToolbarDropdown(item, self.options.toolbarTips, self.options.shortcuts, self);\n      } else {\n        el = createToolbarButton(item, true, self.options.toolbarTips, self.options.shortcuts, 'button', self);\n      }\n\n      toolbarData[item.name || item] = el;\n      bar.appendChild(el); // Create the input element (ie. <input type='file'>), used among\n      // with the 'import-image' icon to open the browse-file window.\n\n      if (item.name === 'upload-image') {\n        var imageInput = document.createElement('input');\n        imageInput.className = 'imageInput';\n        imageInput.type = 'file';\n        imageInput.multiple = true;\n        imageInput.name = 'image';\n        imageInput.accept = self.options.imageAccept;\n        imageInput.style.display = 'none';\n        imageInput.style.opacity = 0;\n        bar.appendChild(imageInput);\n      }\n    })(items[i]);\n  }\n\n  self.toolbar_div = bar;\n  self.toolbarElements = toolbarData;\n  var cm = this.codemirror;\n  cm.on('cursorActivity', function () {\n    var stat = getState(cm);\n\n    for (var key in toolbarData) {\n      (function (key) {\n        var el = toolbarData[key];\n\n        if (stat[key]) {\n          el.className += ' active';\n        } else if (key != 'fullscreen' && key != 'side-by-side') {\n          el.className = el.className.replace(/\\s*active\\s*/g, '');\n        }\n      })(key);\n    }\n  });\n  var cmWrapper = cm.getWrapperElement();\n  cmWrapper.parentNode.insertBefore(bar, cmWrapper);\n  return bar;\n};\n\nEasyMDE.prototype.createStatusbar = function (status) {\n  // Initialize\n  status = status || this.options.status;\n  var options = this.options;\n  var cm = this.codemirror; // Make sure the status variable is valid\n\n  if (!status || status.length === 0) {\n    return;\n  } // Set up the built-in items\n\n\n  var items = [];\n  var i, onUpdate, onActivity, defaultValue;\n\n  for (i = 0; i < status.length; i++) {\n    // Reset some values\n    onUpdate = undefined;\n    onActivity = undefined;\n    defaultValue = undefined; // Handle if custom or not\n\n    if (typeof status[i] === 'object') {\n      items.push({\n        className: status[i].className,\n        defaultValue: status[i].defaultValue,\n        onUpdate: status[i].onUpdate,\n        onActivity: status[i].onActivity\n      });\n    } else {\n      var name = status[i];\n\n      if (name === 'words') {\n        defaultValue = function defaultValue(el) {\n          el.innerHTML = wordCount(cm.getValue());\n        };\n\n        onUpdate = function onUpdate(el) {\n          el.innerHTML = wordCount(cm.getValue());\n        };\n      } else if (name === 'lines') {\n        defaultValue = function defaultValue(el) {\n          el.innerHTML = cm.lineCount();\n        };\n\n        onUpdate = function onUpdate(el) {\n          el.innerHTML = cm.lineCount();\n        };\n      } else if (name === 'cursor') {\n        defaultValue = function defaultValue(el) {\n          el.innerHTML = '0:0';\n        };\n\n        onActivity = function onActivity(el) {\n          var pos = cm.getCursor();\n          el.innerHTML = pos.line + ':' + pos.ch;\n        };\n      } else if (name === 'autosave') {\n        defaultValue = function defaultValue(el) {\n          if (options.autosave != undefined && options.autosave.enabled === true) {\n            el.setAttribute('id', 'autosaved');\n          }\n        };\n      } else if (name === 'upload-image') {\n        defaultValue = function defaultValue(el) {\n          el.innerHTML = options.imageTexts.sbInit;\n        };\n      }\n\n      items.push({\n        className: name,\n        defaultValue: defaultValue,\n        onUpdate: onUpdate,\n        onActivity: onActivity\n      });\n    }\n  } // Create element for the status bar\n\n\n  var bar = document.createElement('div');\n  bar.className = 'editor-statusbar'; // Create a new span for each item\n\n  for (i = 0; i < items.length; i++) {\n    // Store in temporary variable\n    var item = items[i]; // Create span element\n\n    var el = document.createElement('span');\n    el.className = item.className; // Ensure the defaultValue is a function\n\n    if (typeof item.defaultValue === 'function') {\n      item.defaultValue(el);\n    } // Ensure the onUpdate is a function\n\n\n    if (typeof item.onUpdate === 'function') {\n      // Create a closure around the span of the current action, then execute the onUpdate handler\n      this.codemirror.on('update', function (el, item) {\n        return function () {\n          item.onUpdate(el);\n        };\n      }(el, item));\n    }\n\n    if (typeof item.onActivity === 'function') {\n      // Create a closure around the span of the current action, then execute the onActivity handler\n      this.codemirror.on('cursorActivity', function (el, item) {\n        return function () {\n          item.onActivity(el);\n        };\n      }(el, item));\n    } // Append the item to the status bar\n\n\n    bar.appendChild(el);\n  } // Insert the status bar into the DOM\n\n\n  var cmWrapper = this.codemirror.getWrapperElement();\n  cmWrapper.parentNode.insertBefore(bar, cmWrapper.nextSibling);\n  return bar;\n};\n/**\n * Get or set the text content.\n */\n\n\nEasyMDE.prototype.value = function (val) {\n  var cm = this.codemirror;\n\n  if (val === undefined) {\n    return cm.getValue();\n  } else {\n    cm.getDoc().setValue(val);\n\n    if (this.isPreviewActive()) {\n      var wrapper = cm.getWrapperElement();\n      var preview = wrapper.lastChild;\n      preview.innerHTML = this.options.previewRender(val, preview);\n    }\n\n    return this;\n  }\n};\n/**\n * Bind static methods for exports.\n */\n\n\nEasyMDE.toggleBold = toggleBold;\nEasyMDE.toggleItalic = toggleItalic;\nEasyMDE.toggleStrikethrough = toggleStrikethrough;\nEasyMDE.toggleBlockquote = toggleBlockquote;\nEasyMDE.toggleHeadingSmaller = toggleHeadingSmaller;\nEasyMDE.toggleHeadingBigger = toggleHeadingBigger;\nEasyMDE.toggleHeading1 = toggleHeading1;\nEasyMDE.toggleHeading2 = toggleHeading2;\nEasyMDE.toggleHeading3 = toggleHeading3;\nEasyMDE.toggleCodeBlock = toggleCodeBlock;\nEasyMDE.toggleUnorderedList = toggleUnorderedList;\nEasyMDE.toggleOrderedList = toggleOrderedList;\nEasyMDE.cleanBlock = cleanBlock;\nEasyMDE.drawLink = drawLink;\nEasyMDE.drawImage = drawImage;\nEasyMDE.drawUploadedImage = drawUploadedImage;\nEasyMDE.drawTable = drawTable;\nEasyMDE.drawHorizontalRule = drawHorizontalRule;\nEasyMDE.undo = undo;\nEasyMDE.redo = redo;\nEasyMDE.togglePreview = togglePreview;\nEasyMDE.toggleSideBySide = toggleSideBySide;\nEasyMDE.toggleFullScreen = toggleFullScreen;\n/**\n * Bind instance methods for exports.\n */\n\nEasyMDE.prototype.toggleBold = function () {\n  toggleBold(this);\n};\n\nEasyMDE.prototype.toggleItalic = function () {\n  toggleItalic(this);\n};\n\nEasyMDE.prototype.toggleStrikethrough = function () {\n  toggleStrikethrough(this);\n};\n\nEasyMDE.prototype.toggleBlockquote = function () {\n  toggleBlockquote(this);\n};\n\nEasyMDE.prototype.toggleHeadingSmaller = function () {\n  toggleHeadingSmaller(this);\n};\n\nEasyMDE.prototype.toggleHeadingBigger = function () {\n  toggleHeadingBigger(this);\n};\n\nEasyMDE.prototype.toggleHeading1 = function () {\n  toggleHeading1(this);\n};\n\nEasyMDE.prototype.toggleHeading2 = function () {\n  toggleHeading2(this);\n};\n\nEasyMDE.prototype.toggleHeading3 = function () {\n  toggleHeading3(this);\n};\n\nEasyMDE.prototype.toggleCodeBlock = function () {\n  toggleCodeBlock(this);\n};\n\nEasyMDE.prototype.toggleUnorderedList = function () {\n  toggleUnorderedList(this);\n};\n\nEasyMDE.prototype.toggleOrderedList = function () {\n  toggleOrderedList(this);\n};\n\nEasyMDE.prototype.cleanBlock = function () {\n  cleanBlock(this);\n};\n\nEasyMDE.prototype.drawLink = function () {\n  drawLink(this);\n};\n\nEasyMDE.prototype.drawImage = function () {\n  drawImage(this);\n};\n\nEasyMDE.prototype.drawUploadedImage = function () {\n  drawUploadedImage(this);\n};\n\nEasyMDE.prototype.drawTable = function () {\n  drawTable(this);\n};\n\nEasyMDE.prototype.drawHorizontalRule = function () {\n  drawHorizontalRule(this);\n};\n\nEasyMDE.prototype.undo = function () {\n  undo(this);\n};\n\nEasyMDE.prototype.redo = function () {\n  redo(this);\n};\n\nEasyMDE.prototype.togglePreview = function () {\n  togglePreview(this);\n};\n\nEasyMDE.prototype.toggleSideBySide = function () {\n  toggleSideBySide(this);\n};\n\nEasyMDE.prototype.toggleFullScreen = function () {\n  toggleFullScreen(this);\n};\n\nEasyMDE.prototype.isPreviewActive = function () {\n  var cm = this.codemirror;\n  var wrapper = cm.getWrapperElement();\n  var preview = wrapper.lastChild;\n  return /editor-preview-active/.test(preview.className);\n};\n\nEasyMDE.prototype.isSideBySideActive = function () {\n  var cm = this.codemirror;\n  var wrapper = cm.getWrapperElement();\n  var preview = wrapper.nextSibling;\n  return /editor-preview-active-side/.test(preview.className);\n};\n\nEasyMDE.prototype.isFullscreenActive = function () {\n  var cm = this.codemirror;\n  return cm.getOption('fullScreen');\n};\n\nEasyMDE.prototype.getState = function () {\n  var cm = this.codemirror;\n  return getState(cm);\n};\n\nEasyMDE.prototype.toTextArea = function () {\n  var cm = this.codemirror;\n  var wrapper = cm.getWrapperElement();\n  var easyMDEContainer = wrapper.parentNode;\n\n  if (easyMDEContainer) {\n    if (this.gui.toolbar) {\n      easyMDEContainer.removeChild(this.gui.toolbar);\n    }\n\n    if (this.gui.statusbar) {\n      easyMDEContainer.removeChild(this.gui.statusbar);\n    }\n\n    if (this.gui.sideBySide) {\n      easyMDEContainer.removeChild(this.gui.sideBySide);\n    }\n  } // Unwrap easyMDEcontainer before codemirror toTextArea() call\n\n\n  easyMDEContainer.parentNode.insertBefore(wrapper, easyMDEContainer);\n  easyMDEContainer.remove();\n  cm.toTextArea();\n\n  if (this.autosaveTimeoutId) {\n    clearTimeout(this.autosaveTimeoutId);\n    this.autosaveTimeoutId = undefined;\n    this.clearAutosavedValue();\n  }\n};\n\nmodule.exports = EasyMDE;\n\n/***/ }),\n\n/***/ 895:\n/***/ (function(module, exports, __webpack_require__) {\n\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n(function (mod) {\n  if (true) // CommonJS\n    mod(__webpack_require__(287));else {}\n})(function (CodeMirror) {\n  \"use strict\";\n\n  var listRE = /^(\\s*)(>[> ]*|[*+-] \\[[x ]\\]\\s|[*+-]\\s|(\\d+)([.)]))(\\s*)/,\n      emptyListRE = /^(\\s*)(>[> ]*|[*+-] \\[[x ]\\]|[*+-]|(\\d+)[.)])(\\s*)$/,\n      unorderedListRE = /[*+-]\\s/;\n\n  CodeMirror.commands.newlineAndIndentContinueMarkdownList = function (cm) {\n    if (cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n    var ranges = cm.listSelections(),\n        replacements = [];\n\n    for (var i = 0; i < ranges.length; i++) {\n      var pos = ranges[i].head; // If we're not in Markdown mode, fall back to normal newlineAndIndent\n\n      var eolState = cm.getStateAfter(pos.line);\n      var inner = CodeMirror.innerMode(cm.getMode(), eolState);\n\n      if (inner.mode.name !== \"markdown\") {\n        cm.execCommand(\"newlineAndIndent\");\n        return;\n      } else {\n        eolState = inner.state;\n      }\n\n      var inList = eolState.list !== false;\n      var inQuote = eolState.quote !== 0;\n      var line = cm.getLine(pos.line),\n          match = listRE.exec(line);\n      var cursorBeforeBullet = /^\\s*$/.test(line.slice(0, pos.ch));\n\n      if (!ranges[i].empty() || !inList && !inQuote || !match || cursorBeforeBullet) {\n        cm.execCommand(\"newlineAndIndent\");\n        return;\n      }\n\n      if (emptyListRE.test(line)) {\n        var endOfQuote = inQuote && />\\s*$/.test(line);\n        var endOfList = !/>\\s*$/.test(line);\n        if (endOfQuote || endOfList) cm.replaceRange(\"\", {\n          line: pos.line,\n          ch: 0\n        }, {\n          line: pos.line,\n          ch: pos.ch + 1\n        });\n        replacements[i] = \"\\n\";\n      } else {\n        var indent = match[1],\n            after = match[5];\n        var numbered = !(unorderedListRE.test(match[2]) || match[2].indexOf(\">\") >= 0);\n        var bullet = numbered ? parseInt(match[3], 10) + 1 + match[4] : match[2].replace(\"x\", \" \");\n        replacements[i] = \"\\n\" + indent + bullet + after;\n        if (numbered) incrementRemainingMarkdownListNumbers(cm, pos);\n      }\n    }\n\n    cm.replaceSelections(replacements);\n  }; // Auto-updating Markdown list numbers when a new item is added to the\n  // middle of a list\n\n\n  function incrementRemainingMarkdownListNumbers(cm, pos) {\n    var startLine = pos.line,\n        lookAhead = 0,\n        skipCount = 0;\n    var startItem = listRE.exec(cm.getLine(startLine)),\n        startIndent = startItem[1];\n\n    do {\n      lookAhead += 1;\n      var nextLineNumber = startLine + lookAhead;\n      var nextLine = cm.getLine(nextLineNumber),\n          nextItem = listRE.exec(nextLine);\n\n      if (nextItem) {\n        var nextIndent = nextItem[1];\n        var newNumber = parseInt(startItem[3], 10) + lookAhead - skipCount;\n        var nextNumber = parseInt(nextItem[3], 10),\n            itemNumber = nextNumber;\n\n        if (startIndent === nextIndent && !isNaN(nextNumber)) {\n          if (newNumber === nextNumber) itemNumber = nextNumber + 1;\n          if (newNumber > nextNumber) itemNumber = newNumber + 1;\n          cm.replaceRange(nextLine.replace(listRE, nextIndent + itemNumber + nextItem[4] + nextItem[5]), {\n            line: nextLineNumber,\n            ch: 0\n          }, {\n            line: nextLineNumber,\n            ch: nextLine.length\n          });\n        } else {\n          if (startIndent.length > nextIndent.length) return; // This doesn't run if the next line immediately indents, as it is\n          // not clear of the users intention (new indented item or same level)\n\n          if (startIndent.length < nextIndent.length && lookAhead === 1) return;\n          skipCount += 1;\n        }\n      }\n    } while (nextItem);\n  }\n});\n\n/***/ }),\n\n/***/ 896:\n/***/ (function(module, exports, __webpack_require__) {\n\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\nvar CodeMirror = __webpack_require__(287);\n\nCodeMirror.commands.tabAndIndentMarkdownList = function (cm) {\n  var ranges = cm.listSelections();\n  var pos = ranges[0].head;\n  var eolState = cm.getStateAfter(pos.line);\n  var inList = eolState.list !== false;\n\n  if (inList) {\n    cm.execCommand('indentMore');\n    return;\n  }\n\n  if (cm.options.indentWithTabs) {\n    cm.execCommand('insertTab');\n  } else {\n    var spaces = Array(cm.options.tabSize + 1).join(' ');\n    cm.replaceSelection(spaces);\n  }\n};\n\nCodeMirror.commands.shiftTabAndUnindentMarkdownList = function (cm) {\n  var ranges = cm.listSelections();\n  var pos = ranges[0].head;\n  var eolState = cm.getStateAfter(pos.line);\n  var inList = eolState.list !== false;\n\n  if (inList) {\n    cm.execCommand('indentLess');\n    return;\n  }\n\n  if (cm.options.indentWithTabs) {\n    cm.execCommand('insertTab');\n  } else {\n    var spaces = Array(cm.options.tabSize + 1).join(' ');\n    cm.replaceSelection(spaces);\n  }\n};\n\n/***/ }),\n\n/***/ 897:\n/***/ (function(module, exports, __webpack_require__) {\n\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n(function (mod) {\n  if (true) // CommonJS\n    mod(__webpack_require__(287));else {}\n})(function (CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"fullScreen\", false, function (cm, val, old) {\n    if (old == CodeMirror.Init) old = false;\n    if (!old == !val) return;\n    if (val) setFullscreen(cm);else setNormal(cm);\n  });\n\n  function setFullscreen(cm) {\n    var wrap = cm.getWrapperElement();\n    cm.state.fullScreenRestore = {\n      scrollTop: window.pageYOffset,\n      scrollLeft: window.pageXOffset,\n      width: wrap.style.width,\n      height: wrap.style.height\n    };\n    wrap.style.width = \"\";\n    wrap.style.height = \"auto\";\n    wrap.className += \" CodeMirror-fullscreen\";\n    document.documentElement.style.overflow = \"hidden\";\n    cm.refresh();\n  }\n\n  function setNormal(cm) {\n    var wrap = cm.getWrapperElement();\n    wrap.className = wrap.className.replace(/\\s*CodeMirror-fullscreen\\b/, \"\");\n    document.documentElement.style.overflow = \"\";\n    var info = cm.state.fullScreenRestore;\n    wrap.style.width = info.width;\n    wrap.style.height = info.height;\n    window.scrollTo(info.scrollLeft, info.scrollTop);\n    cm.refresh();\n  }\n});\n\n/***/ }),\n\n/***/ 898:\n/***/ (function(module, exports, __webpack_require__) {\n\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n(function (mod) {\n  if (true) // CommonJS\n    mod(__webpack_require__(287));else {}\n})(function (CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.modeInfo = [{\n    name: \"APL\",\n    mime: \"text/apl\",\n    mode: \"apl\",\n    ext: [\"dyalog\", \"apl\"]\n  }, {\n    name: \"PGP\",\n    mimes: [\"application/pgp\", \"application/pgp-encrypted\", \"application/pgp-keys\", \"application/pgp-signature\"],\n    mode: \"asciiarmor\",\n    ext: [\"asc\", \"pgp\", \"sig\"]\n  }, {\n    name: \"ASN.1\",\n    mime: \"text/x-ttcn-asn\",\n    mode: \"asn.1\",\n    ext: [\"asn\", \"asn1\"]\n  }, {\n    name: \"Asterisk\",\n    mime: \"text/x-asterisk\",\n    mode: \"asterisk\",\n    file: /^extensions\\.conf$/i\n  }, {\n    name: \"Brainfuck\",\n    mime: \"text/x-brainfuck\",\n    mode: \"brainfuck\",\n    ext: [\"b\", \"bf\"]\n  }, {\n    name: \"C\",\n    mime: \"text/x-csrc\",\n    mode: \"clike\",\n    ext: [\"c\", \"h\", \"ino\"]\n  }, {\n    name: \"C++\",\n    mime: \"text/x-c++src\",\n    mode: \"clike\",\n    ext: [\"cpp\", \"c++\", \"cc\", \"cxx\", \"hpp\", \"h++\", \"hh\", \"hxx\"],\n    alias: [\"cpp\"]\n  }, {\n    name: \"Cobol\",\n    mime: \"text/x-cobol\",\n    mode: \"cobol\",\n    ext: [\"cob\", \"cpy\"]\n  }, {\n    name: \"C#\",\n    mime: \"text/x-csharp\",\n    mode: \"clike\",\n    ext: [\"cs\"],\n    alias: [\"csharp\", \"cs\"]\n  }, {\n    name: \"Clojure\",\n    mime: \"text/x-clojure\",\n    mode: \"clojure\",\n    ext: [\"clj\", \"cljc\", \"cljx\"]\n  }, {\n    name: \"ClojureScript\",\n    mime: \"text/x-clojurescript\",\n    mode: \"clojure\",\n    ext: [\"cljs\"]\n  }, {\n    name: \"Closure Stylesheets (GSS)\",\n    mime: \"text/x-gss\",\n    mode: \"css\",\n    ext: [\"gss\"]\n  }, {\n    name: \"CMake\",\n    mime: \"text/x-cmake\",\n    mode: \"cmake\",\n    ext: [\"cmake\", \"cmake.in\"],\n    file: /^CMakeLists\\.txt$/\n  }, {\n    name: \"CoffeeScript\",\n    mimes: [\"application/vnd.coffeescript\", \"text/coffeescript\", \"text/x-coffeescript\"],\n    mode: \"coffeescript\",\n    ext: [\"coffee\"],\n    alias: [\"coffee\", \"coffee-script\"]\n  }, {\n    name: \"Common Lisp\",\n    mime: \"text/x-common-lisp\",\n    mode: \"commonlisp\",\n    ext: [\"cl\", \"lisp\", \"el\"],\n    alias: [\"lisp\"]\n  }, {\n    name: \"Cypher\",\n    mime: \"application/x-cypher-query\",\n    mode: \"cypher\",\n    ext: [\"cyp\", \"cypher\"]\n  }, {\n    name: \"Cython\",\n    mime: \"text/x-cython\",\n    mode: \"python\",\n    ext: [\"pyx\", \"pxd\", \"pxi\"]\n  }, {\n    name: \"Crystal\",\n    mime: \"text/x-crystal\",\n    mode: \"crystal\",\n    ext: [\"cr\"]\n  }, {\n    name: \"CSS\",\n    mime: \"text/css\",\n    mode: \"css\",\n    ext: [\"css\"]\n  }, {\n    name: \"CQL\",\n    mime: \"text/x-cassandra\",\n    mode: \"sql\",\n    ext: [\"cql\"]\n  }, {\n    name: \"D\",\n    mime: \"text/x-d\",\n    mode: \"d\",\n    ext: [\"d\"]\n  }, {\n    name: \"Dart\",\n    mimes: [\"application/dart\", \"text/x-dart\"],\n    mode: \"dart\",\n    ext: [\"dart\"]\n  }, {\n    name: \"diff\",\n    mime: \"text/x-diff\",\n    mode: \"diff\",\n    ext: [\"diff\", \"patch\"]\n  }, {\n    name: \"Django\",\n    mime: \"text/x-django\",\n    mode: \"django\"\n  }, {\n    name: \"Dockerfile\",\n    mime: \"text/x-dockerfile\",\n    mode: \"dockerfile\",\n    file: /^Dockerfile$/\n  }, {\n    name: \"DTD\",\n    mime: \"application/xml-dtd\",\n    mode: \"dtd\",\n    ext: [\"dtd\"]\n  }, {\n    name: \"Dylan\",\n    mime: \"text/x-dylan\",\n    mode: \"dylan\",\n    ext: [\"dylan\", \"dyl\", \"intr\"]\n  }, {\n    name: \"EBNF\",\n    mime: \"text/x-ebnf\",\n    mode: \"ebnf\"\n  }, {\n    name: \"ECL\",\n    mime: \"text/x-ecl\",\n    mode: \"ecl\",\n    ext: [\"ecl\"]\n  }, {\n    name: \"edn\",\n    mime: \"application/edn\",\n    mode: \"clojure\",\n    ext: [\"edn\"]\n  }, {\n    name: \"Eiffel\",\n    mime: \"text/x-eiffel\",\n    mode: \"eiffel\",\n    ext: [\"e\"]\n  }, {\n    name: \"Elm\",\n    mime: \"text/x-elm\",\n    mode: \"elm\",\n    ext: [\"elm\"]\n  }, {\n    name: \"Embedded JavaScript\",\n    mime: \"application/x-ejs\",\n    mode: \"htmlembedded\",\n    ext: [\"ejs\"]\n  }, {\n    name: \"Embedded Ruby\",\n    mime: \"application/x-erb\",\n    mode: \"htmlembedded\",\n    ext: [\"erb\"]\n  }, {\n    name: \"Erlang\",\n    mime: \"text/x-erlang\",\n    mode: \"erlang\",\n    ext: [\"erl\"]\n  }, {\n    name: \"Esper\",\n    mime: \"text/x-esper\",\n    mode: \"sql\"\n  }, {\n    name: \"Factor\",\n    mime: \"text/x-factor\",\n    mode: \"factor\",\n    ext: [\"factor\"]\n  }, {\n    name: \"FCL\",\n    mime: \"text/x-fcl\",\n    mode: \"fcl\"\n  }, {\n    name: \"Forth\",\n    mime: \"text/x-forth\",\n    mode: \"forth\",\n    ext: [\"forth\", \"fth\", \"4th\"]\n  }, {\n    name: \"Fortran\",\n    mime: \"text/x-fortran\",\n    mode: \"fortran\",\n    ext: [\"f\", \"for\", \"f77\", \"f90\", \"f95\"]\n  }, {\n    name: \"F#\",\n    mime: \"text/x-fsharp\",\n    mode: \"mllike\",\n    ext: [\"fs\"],\n    alias: [\"fsharp\"]\n  }, {\n    name: \"Gas\",\n    mime: \"text/x-gas\",\n    mode: \"gas\",\n    ext: [\"s\"]\n  }, {\n    name: \"Gherkin\",\n    mime: \"text/x-feature\",\n    mode: \"gherkin\",\n    ext: [\"feature\"]\n  }, {\n    name: \"GitHub Flavored Markdown\",\n    mime: \"text/x-gfm\",\n    mode: \"gfm\",\n    file: /^(readme|contributing|history)\\.md$/i\n  }, {\n    name: \"Go\",\n    mime: \"text/x-go\",\n    mode: \"go\",\n    ext: [\"go\"]\n  }, {\n    name: \"Groovy\",\n    mime: \"text/x-groovy\",\n    mode: \"groovy\",\n    ext: [\"groovy\", \"gradle\"],\n    file: /^Jenkinsfile$/\n  }, {\n    name: \"HAML\",\n    mime: \"text/x-haml\",\n    mode: \"haml\",\n    ext: [\"haml\"]\n  }, {\n    name: \"Haskell\",\n    mime: \"text/x-haskell\",\n    mode: \"haskell\",\n    ext: [\"hs\"]\n  }, {\n    name: \"Haskell (Literate)\",\n    mime: \"text/x-literate-haskell\",\n    mode: \"haskell-literate\",\n    ext: [\"lhs\"]\n  }, {\n    name: \"Haxe\",\n    mime: \"text/x-haxe\",\n    mode: \"haxe\",\n    ext: [\"hx\"]\n  }, {\n    name: \"HXML\",\n    mime: \"text/x-hxml\",\n    mode: \"haxe\",\n    ext: [\"hxml\"]\n  }, {\n    name: \"ASP.NET\",\n    mime: \"application/x-aspx\",\n    mode: \"htmlembedded\",\n    ext: [\"aspx\"],\n    alias: [\"asp\", \"aspx\"]\n  }, {\n    name: \"HTML\",\n    mime: \"text/html\",\n    mode: \"htmlmixed\",\n    ext: [\"html\", \"htm\", \"handlebars\", \"hbs\"],\n    alias: [\"xhtml\"]\n  }, {\n    name: \"HTTP\",\n    mime: \"message/http\",\n    mode: \"http\"\n  }, {\n    name: \"IDL\",\n    mime: \"text/x-idl\",\n    mode: \"idl\",\n    ext: [\"pro\"]\n  }, {\n    name: \"Pug\",\n    mime: \"text/x-pug\",\n    mode: \"pug\",\n    ext: [\"jade\", \"pug\"],\n    alias: [\"jade\"]\n  }, {\n    name: \"Java\",\n    mime: \"text/x-java\",\n    mode: \"clike\",\n    ext: [\"java\"]\n  }, {\n    name: \"Java Server Pages\",\n    mime: \"application/x-jsp\",\n    mode: \"htmlembedded\",\n    ext: [\"jsp\"],\n    alias: [\"jsp\"]\n  }, {\n    name: \"JavaScript\",\n    mimes: [\"text/javascript\", \"text/ecmascript\", \"application/javascript\", \"application/x-javascript\", \"application/ecmascript\"],\n    mode: \"javascript\",\n    ext: [\"js\"],\n    alias: [\"ecmascript\", \"js\", \"node\"]\n  }, {\n    name: \"JSON\",\n    mimes: [\"application/json\", \"application/x-json\"],\n    mode: \"javascript\",\n    ext: [\"json\", \"map\"],\n    alias: [\"json5\"]\n  }, {\n    name: \"JSON-LD\",\n    mime: \"application/ld+json\",\n    mode: \"javascript\",\n    ext: [\"jsonld\"],\n    alias: [\"jsonld\"]\n  }, {\n    name: \"JSX\",\n    mime: \"text/jsx\",\n    mode: \"jsx\",\n    ext: [\"jsx\"]\n  }, {\n    name: \"Jinja2\",\n    mime: \"text/jinja2\",\n    mode: \"jinja2\",\n    ext: [\"j2\", \"jinja\", \"jinja2\"]\n  }, {\n    name: \"Julia\",\n    mime: \"text/x-julia\",\n    mode: \"julia\",\n    ext: [\"jl\"],\n    alias: [\"jl\"]\n  }, {\n    name: \"Kotlin\",\n    mime: \"text/x-kotlin\",\n    mode: \"clike\",\n    ext: [\"kt\"]\n  }, {\n    name: \"LESS\",\n    mime: \"text/x-less\",\n    mode: \"css\",\n    ext: [\"less\"]\n  }, {\n    name: \"LiveScript\",\n    mime: \"text/x-livescript\",\n    mode: \"livescript\",\n    ext: [\"ls\"],\n    alias: [\"ls\"]\n  }, {\n    name: \"Lua\",\n    mime: \"text/x-lua\",\n    mode: \"lua\",\n    ext: [\"lua\"]\n  }, {\n    name: \"Markdown\",\n    mime: \"text/x-markdown\",\n    mode: \"markdown\",\n    ext: [\"markdown\", \"md\", \"mkd\"]\n  }, {\n    name: \"mIRC\",\n    mime: \"text/mirc\",\n    mode: \"mirc\"\n  }, {\n    name: \"MariaDB SQL\",\n    mime: \"text/x-mariadb\",\n    mode: \"sql\"\n  }, {\n    name: \"Mathematica\",\n    mime: \"text/x-mathematica\",\n    mode: \"mathematica\",\n    ext: [\"m\", \"nb\", \"wl\", \"wls\"]\n  }, {\n    name: \"Modelica\",\n    mime: \"text/x-modelica\",\n    mode: \"modelica\",\n    ext: [\"mo\"]\n  }, {\n    name: \"MUMPS\",\n    mime: \"text/x-mumps\",\n    mode: \"mumps\",\n    ext: [\"mps\"]\n  }, {\n    name: \"MS SQL\",\n    mime: \"text/x-mssql\",\n    mode: \"sql\"\n  }, {\n    name: \"mbox\",\n    mime: \"application/mbox\",\n    mode: \"mbox\",\n    ext: [\"mbox\"]\n  }, {\n    name: \"MySQL\",\n    mime: \"text/x-mysql\",\n    mode: \"sql\"\n  }, {\n    name: \"Nginx\",\n    mime: \"text/x-nginx-conf\",\n    mode: \"nginx\",\n    file: /nginx.*\\.conf$/i\n  }, {\n    name: \"NSIS\",\n    mime: \"text/x-nsis\",\n    mode: \"nsis\",\n    ext: [\"nsh\", \"nsi\"]\n  }, {\n    name: \"NTriples\",\n    mimes: [\"application/n-triples\", \"application/n-quads\", \"text/n-triples\"],\n    mode: \"ntriples\",\n    ext: [\"nt\", \"nq\"]\n  }, {\n    name: \"Objective-C\",\n    mime: \"text/x-objectivec\",\n    mode: \"clike\",\n    ext: [\"m\"],\n    alias: [\"objective-c\", \"objc\"]\n  }, {\n    name: \"Objective-C++\",\n    mime: \"text/x-objectivec++\",\n    mode: \"clike\",\n    ext: [\"mm\"],\n    alias: [\"objective-c++\", \"objc++\"]\n  }, {\n    name: \"OCaml\",\n    mime: \"text/x-ocaml\",\n    mode: \"mllike\",\n    ext: [\"ml\", \"mli\", \"mll\", \"mly\"]\n  }, {\n    name: \"Octave\",\n    mime: \"text/x-octave\",\n    mode: \"octave\",\n    ext: [\"m\"]\n  }, {\n    name: \"Oz\",\n    mime: \"text/x-oz\",\n    mode: \"oz\",\n    ext: [\"oz\"]\n  }, {\n    name: \"Pascal\",\n    mime: \"text/x-pascal\",\n    mode: \"pascal\",\n    ext: [\"p\", \"pas\"]\n  }, {\n    name: \"PEG.js\",\n    mime: \"null\",\n    mode: \"pegjs\",\n    ext: [\"jsonld\"]\n  }, {\n    name: \"Perl\",\n    mime: \"text/x-perl\",\n    mode: \"perl\",\n    ext: [\"pl\", \"pm\"]\n  }, {\n    name: \"PHP\",\n    mimes: [\"text/x-php\", \"application/x-httpd-php\", \"application/x-httpd-php-open\"],\n    mode: \"php\",\n    ext: [\"php\", \"php3\", \"php4\", \"php5\", \"php7\", \"phtml\"]\n  }, {\n    name: \"Pig\",\n    mime: \"text/x-pig\",\n    mode: \"pig\",\n    ext: [\"pig\"]\n  }, {\n    name: \"Plain Text\",\n    mime: \"text/plain\",\n    mode: \"null\",\n    ext: [\"txt\", \"text\", \"conf\", \"def\", \"list\", \"log\"]\n  }, {\n    name: \"PLSQL\",\n    mime: \"text/x-plsql\",\n    mode: \"sql\",\n    ext: [\"pls\"]\n  }, {\n    name: \"PostgreSQL\",\n    mime: \"text/x-pgsql\",\n    mode: \"sql\"\n  }, {\n    name: \"PowerShell\",\n    mime: \"application/x-powershell\",\n    mode: \"powershell\",\n    ext: [\"ps1\", \"psd1\", \"psm1\"]\n  }, {\n    name: \"Properties files\",\n    mime: \"text/x-properties\",\n    mode: \"properties\",\n    ext: [\"properties\", \"ini\", \"in\"],\n    alias: [\"ini\", \"properties\"]\n  }, {\n    name: \"ProtoBuf\",\n    mime: \"text/x-protobuf\",\n    mode: \"protobuf\",\n    ext: [\"proto\"]\n  }, {\n    name: \"Python\",\n    mime: \"text/x-python\",\n    mode: \"python\",\n    ext: [\"BUILD\", \"bzl\", \"py\", \"pyw\"],\n    file: /^(BUCK|BUILD)$/\n  }, {\n    name: \"Puppet\",\n    mime: \"text/x-puppet\",\n    mode: \"puppet\",\n    ext: [\"pp\"]\n  }, {\n    name: \"Q\",\n    mime: \"text/x-q\",\n    mode: \"q\",\n    ext: [\"q\"]\n  }, {\n    name: \"R\",\n    mime: \"text/x-rsrc\",\n    mode: \"r\",\n    ext: [\"r\", \"R\"],\n    alias: [\"rscript\"]\n  }, {\n    name: \"reStructuredText\",\n    mime: \"text/x-rst\",\n    mode: \"rst\",\n    ext: [\"rst\"],\n    alias: [\"rst\"]\n  }, {\n    name: \"RPM Changes\",\n    mime: \"text/x-rpm-changes\",\n    mode: \"rpm\"\n  }, {\n    name: \"RPM Spec\",\n    mime: \"text/x-rpm-spec\",\n    mode: \"rpm\",\n    ext: [\"spec\"]\n  }, {\n    name: \"Ruby\",\n    mime: \"text/x-ruby\",\n    mode: \"ruby\",\n    ext: [\"rb\"],\n    alias: [\"jruby\", \"macruby\", \"rake\", \"rb\", \"rbx\"]\n  }, {\n    name: \"Rust\",\n    mime: \"text/x-rustsrc\",\n    mode: \"rust\",\n    ext: [\"rs\"]\n  }, {\n    name: \"SAS\",\n    mime: \"text/x-sas\",\n    mode: \"sas\",\n    ext: [\"sas\"]\n  }, {\n    name: \"Sass\",\n    mime: \"text/x-sass\",\n    mode: \"sass\",\n    ext: [\"sass\"]\n  }, {\n    name: \"Scala\",\n    mime: \"text/x-scala\",\n    mode: \"clike\",\n    ext: [\"scala\"]\n  }, {\n    name: \"Scheme\",\n    mime: \"text/x-scheme\",\n    mode: \"scheme\",\n    ext: [\"scm\", \"ss\"]\n  }, {\n    name: \"SCSS\",\n    mime: \"text/x-scss\",\n    mode: \"css\",\n    ext: [\"scss\"]\n  }, {\n    name: \"Shell\",\n    mimes: [\"text/x-sh\", \"application/x-sh\"],\n    mode: \"shell\",\n    ext: [\"sh\", \"ksh\", \"bash\"],\n    alias: [\"bash\", \"sh\", \"zsh\"],\n    file: /^PKGBUILD$/\n  }, {\n    name: \"Sieve\",\n    mime: \"application/sieve\",\n    mode: \"sieve\",\n    ext: [\"siv\", \"sieve\"]\n  }, {\n    name: \"Slim\",\n    mimes: [\"text/x-slim\", \"application/x-slim\"],\n    mode: \"slim\",\n    ext: [\"slim\"]\n  }, {\n    name: \"Smalltalk\",\n    mime: \"text/x-stsrc\",\n    mode: \"smalltalk\",\n    ext: [\"st\"]\n  }, {\n    name: \"Smarty\",\n    mime: \"text/x-smarty\",\n    mode: \"smarty\",\n    ext: [\"tpl\"]\n  }, {\n    name: \"Solr\",\n    mime: \"text/x-solr\",\n    mode: \"solr\"\n  }, {\n    name: \"SML\",\n    mime: \"text/x-sml\",\n    mode: \"mllike\",\n    ext: [\"sml\", \"sig\", \"fun\", \"smackspec\"]\n  }, {\n    name: \"Soy\",\n    mime: \"text/x-soy\",\n    mode: \"soy\",\n    ext: [\"soy\"],\n    alias: [\"closure template\"]\n  }, {\n    name: \"SPARQL\",\n    mime: \"application/sparql-query\",\n    mode: \"sparql\",\n    ext: [\"rq\", \"sparql\"],\n    alias: [\"sparul\"]\n  }, {\n    name: \"Spreadsheet\",\n    mime: \"text/x-spreadsheet\",\n    mode: \"spreadsheet\",\n    alias: [\"excel\", \"formula\"]\n  }, {\n    name: \"SQL\",\n    mime: \"text/x-sql\",\n    mode: \"sql\",\n    ext: [\"sql\"]\n  }, {\n    name: \"SQLite\",\n    mime: \"text/x-sqlite\",\n    mode: \"sql\"\n  }, {\n    name: \"Squirrel\",\n    mime: \"text/x-squirrel\",\n    mode: \"clike\",\n    ext: [\"nut\"]\n  }, {\n    name: \"Stylus\",\n    mime: \"text/x-styl\",\n    mode: \"stylus\",\n    ext: [\"styl\"]\n  }, {\n    name: \"Swift\",\n    mime: \"text/x-swift\",\n    mode: \"swift\",\n    ext: [\"swift\"]\n  }, {\n    name: \"sTeX\",\n    mime: \"text/x-stex\",\n    mode: \"stex\"\n  }, {\n    name: \"LaTeX\",\n    mime: \"text/x-latex\",\n    mode: \"stex\",\n    ext: [\"text\", \"ltx\", \"tex\"],\n    alias: [\"tex\"]\n  }, {\n    name: \"SystemVerilog\",\n    mime: \"text/x-systemverilog\",\n    mode: \"verilog\",\n    ext: [\"v\", \"sv\", \"svh\"]\n  }, {\n    name: \"Tcl\",\n    mime: \"text/x-tcl\",\n    mode: \"tcl\",\n    ext: [\"tcl\"]\n  }, {\n    name: \"Textile\",\n    mime: \"text/x-textile\",\n    mode: \"textile\",\n    ext: [\"textile\"]\n  }, {\n    name: \"TiddlyWiki\",\n    mime: \"text/x-tiddlywiki\",\n    mode: \"tiddlywiki\"\n  }, {\n    name: \"Tiki wiki\",\n    mime: \"text/tiki\",\n    mode: \"tiki\"\n  }, {\n    name: \"TOML\",\n    mime: \"text/x-toml\",\n    mode: \"toml\",\n    ext: [\"toml\"]\n  }, {\n    name: \"Tornado\",\n    mime: \"text/x-tornado\",\n    mode: \"tornado\"\n  }, {\n    name: \"troff\",\n    mime: \"text/troff\",\n    mode: \"troff\",\n    ext: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"]\n  }, {\n    name: \"TTCN\",\n    mime: \"text/x-ttcn\",\n    mode: \"ttcn\",\n    ext: [\"ttcn\", \"ttcn3\", \"ttcnpp\"]\n  }, {\n    name: \"TTCN_CFG\",\n    mime: \"text/x-ttcn-cfg\",\n    mode: \"ttcn-cfg\",\n    ext: [\"cfg\"]\n  }, {\n    name: \"Turtle\",\n    mime: \"text/turtle\",\n    mode: \"turtle\",\n    ext: [\"ttl\"]\n  }, {\n    name: \"TypeScript\",\n    mime: \"application/typescript\",\n    mode: \"javascript\",\n    ext: [\"ts\"],\n    alias: [\"ts\"]\n  }, {\n    name: \"TypeScript-JSX\",\n    mime: \"text/typescript-jsx\",\n    mode: \"jsx\",\n    ext: [\"tsx\"],\n    alias: [\"tsx\"]\n  }, {\n    name: \"Twig\",\n    mime: \"text/x-twig\",\n    mode: \"twig\"\n  }, {\n    name: \"Web IDL\",\n    mime: \"text/x-webidl\",\n    mode: \"webidl\",\n    ext: [\"webidl\"]\n  }, {\n    name: \"VB.NET\",\n    mime: \"text/x-vb\",\n    mode: \"vb\",\n    ext: [\"vb\"]\n  }, {\n    name: \"VBScript\",\n    mime: \"text/vbscript\",\n    mode: \"vbscript\",\n    ext: [\"vbs\"]\n  }, {\n    name: \"Velocity\",\n    mime: \"text/velocity\",\n    mode: \"velocity\",\n    ext: [\"vtl\"]\n  }, {\n    name: \"Verilog\",\n    mime: \"text/x-verilog\",\n    mode: \"verilog\",\n    ext: [\"v\"]\n  }, {\n    name: \"VHDL\",\n    mime: \"text/x-vhdl\",\n    mode: \"vhdl\",\n    ext: [\"vhd\", \"vhdl\"]\n  }, {\n    name: \"Vue.js Component\",\n    mimes: [\"script/x-vue\", \"text/x-vue\"],\n    mode: \"vue\",\n    ext: [\"vue\"]\n  }, {\n    name: \"XML\",\n    mimes: [\"application/xml\", \"text/xml\"],\n    mode: \"xml\",\n    ext: [\"xml\", \"xsl\", \"xsd\", \"svg\"],\n    alias: [\"rss\", \"wsdl\", \"xsd\"]\n  }, {\n    name: \"XQuery\",\n    mime: \"application/xquery\",\n    mode: \"xquery\",\n    ext: [\"xy\", \"xquery\"]\n  }, {\n    name: \"Yacas\",\n    mime: \"text/x-yacas\",\n    mode: \"yacas\",\n    ext: [\"ys\"]\n  }, {\n    name: \"YAML\",\n    mimes: [\"text/x-yaml\", \"text/yaml\"],\n    mode: \"yaml\",\n    ext: [\"yaml\", \"yml\"],\n    alias: [\"yml\"]\n  }, {\n    name: \"Z80\",\n    mime: \"text/x-z80\",\n    mode: \"z80\",\n    ext: [\"z80\"]\n  }, {\n    name: \"mscgen\",\n    mime: \"text/x-mscgen\",\n    mode: \"mscgen\",\n    ext: [\"mscgen\", \"mscin\", \"msc\"]\n  }, {\n    name: \"xu\",\n    mime: \"text/x-xu\",\n    mode: \"mscgen\",\n    ext: [\"xu\"]\n  }, {\n    name: \"msgenny\",\n    mime: \"text/x-msgenny\",\n    mode: \"mscgen\",\n    ext: [\"msgenny\"]\n  }, {\n    name: \"WebAssembly\",\n    mime: \"text/webassembly\",\n    mode: \"wast\",\n    ext: [\"wat\", \"wast\"]\n  }]; // Ensure all modes have a mime property for backwards compatibility\n\n  for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n    var info = CodeMirror.modeInfo[i];\n    if (info.mimes) info.mime = info.mimes[0];\n  }\n\n  CodeMirror.findModeByMIME = function (mime) {\n    mime = mime.toLowerCase();\n\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.mime == mime) return info;\n      if (info.mimes) for (var j = 0; j < info.mimes.length; j++) {\n        if (info.mimes[j] == mime) return info;\n      }\n    }\n\n    if (/\\+xml$/.test(mime)) return CodeMirror.findModeByMIME(\"application/xml\");\n    if (/\\+json$/.test(mime)) return CodeMirror.findModeByMIME(\"application/json\");\n  };\n\n  CodeMirror.findModeByExtension = function (ext) {\n    ext = ext.toLowerCase();\n\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.ext) for (var j = 0; j < info.ext.length; j++) {\n        if (info.ext[j] == ext) return info;\n      }\n    }\n  };\n\n  CodeMirror.findModeByFileName = function (filename) {\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.file && info.file.test(filename)) return info;\n    }\n\n    var dot = filename.lastIndexOf(\".\");\n    var ext = dot > -1 && filename.substring(dot + 1, filename.length);\n    if (ext) return CodeMirror.findModeByExtension(ext);\n  };\n\n  CodeMirror.findModeByName = function (name) {\n    name = name.toLowerCase();\n\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.name.toLowerCase() == name) return info;\n      if (info.alias) for (var j = 0; j < info.alias.length; j++) {\n        if (info.alias[j].toLowerCase() == name) return info;\n      }\n    }\n  };\n});\n\n/***/ }),\n\n/***/ 899:\n/***/ (function(module, exports, __webpack_require__) {\n\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n(function (mod) {\n  if (true) // CommonJS\n    mod(__webpack_require__(287));else {}\n})(function (CodeMirror) {\n  CodeMirror.defineOption(\"placeholder\", \"\", function (cm, val, old) {\n    var prev = old && old != CodeMirror.Init;\n\n    if (val && !prev) {\n      cm.on(\"blur\", onBlur);\n      cm.on(\"change\", onChange);\n      cm.on(\"swapDoc\", onChange);\n      CodeMirror.on(cm.getInputField(), \"compositionupdate\", cm.state.placeholderCompose = function () {\n        onComposition(cm);\n      });\n      onChange(cm);\n    } else if (!val && prev) {\n      cm.off(\"blur\", onBlur);\n      cm.off(\"change\", onChange);\n      cm.off(\"swapDoc\", onChange);\n      CodeMirror.off(cm.getInputField(), \"compositionupdate\", cm.state.placeholderCompose);\n      clearPlaceholder(cm);\n      var wrapper = cm.getWrapperElement();\n      wrapper.className = wrapper.className.replace(\" CodeMirror-empty\", \"\");\n    }\n\n    if (val && !cm.hasFocus()) onBlur(cm);\n  });\n\n  function clearPlaceholder(cm) {\n    if (cm.state.placeholder) {\n      cm.state.placeholder.parentNode.removeChild(cm.state.placeholder);\n      cm.state.placeholder = null;\n    }\n  }\n\n  function setPlaceholder(cm) {\n    clearPlaceholder(cm);\n    var elt = cm.state.placeholder = document.createElement(\"pre\");\n    elt.style.cssText = \"height: 0; overflow: visible\";\n    elt.style.direction = cm.getOption(\"direction\");\n    elt.className = \"CodeMirror-placeholder CodeMirror-line-like\";\n    var placeHolder = cm.getOption(\"placeholder\");\n    if (typeof placeHolder == \"string\") placeHolder = document.createTextNode(placeHolder);\n    elt.appendChild(placeHolder);\n    cm.display.lineSpace.insertBefore(elt, cm.display.lineSpace.firstChild);\n  }\n\n  function onComposition(cm) {\n    setTimeout(function () {\n      var empty = false;\n\n      if (cm.lineCount() == 1) {\n        var input = cm.getInputField();\n        empty = input.nodeName == \"TEXTAREA\" ? !cm.getLine(0).length : !/[^\\u200b]/.test(input.querySelector(\".CodeMirror-line\").textContent);\n      }\n\n      if (empty) setPlaceholder(cm);else clearPlaceholder(cm);\n    }, 20);\n  }\n\n  function onBlur(cm) {\n    if (isEmpty(cm)) setPlaceholder(cm);\n  }\n\n  function onChange(cm) {\n    var wrapper = cm.getWrapperElement(),\n        empty = isEmpty(cm);\n    wrapper.className = wrapper.className.replace(\" CodeMirror-empty\", \"\") + (empty ? \" CodeMirror-empty\" : \"\");\n    if (empty) setPlaceholder(cm);else clearPlaceholder(cm);\n  }\n\n  function isEmpty(cm) {\n    return cm.lineCount() === 1 && cm.getLine(0) === \"\";\n  }\n});\n\n/***/ }),\n\n/***/ 900:\n/***/ (function(module, exports, __webpack_require__) {\n\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n(function (mod) {\n  if (true) // CommonJS\n    mod(__webpack_require__(287));else {}\n})(function (CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"autoRefresh\", false, function (cm, val) {\n    if (cm.state.autoRefresh) {\n      stopListening(cm, cm.state.autoRefresh);\n      cm.state.autoRefresh = null;\n    }\n\n    if (val && cm.display.wrapper.offsetHeight == 0) startListening(cm, cm.state.autoRefresh = {\n      delay: val.delay || 250\n    });\n  });\n\n  function startListening(cm, state) {\n    function check() {\n      if (cm.display.wrapper.offsetHeight) {\n        stopListening(cm, state);\n        if (cm.display.lastWrapHeight != cm.display.wrapper.clientHeight) cm.refresh();\n      } else {\n        state.timeout = setTimeout(check, state.delay);\n      }\n    }\n\n    state.timeout = setTimeout(check, state.delay);\n\n    state.hurry = function () {\n      clearTimeout(state.timeout);\n      state.timeout = setTimeout(check, 50);\n    };\n\n    CodeMirror.on(window, \"mouseup\", state.hurry);\n    CodeMirror.on(window, \"keyup\", state.hurry);\n  }\n\n  function stopListening(_cm, state) {\n    clearTimeout(state.timeout);\n    CodeMirror.off(window, \"mouseup\", state.hurry);\n    CodeMirror.off(window, \"keyup\", state.hurry);\n  }\n});\n\n/***/ }),\n\n/***/ 901:\n/***/ (function(module, exports, __webpack_require__) {\n\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n// Because sometimes you need to mark the selected *text*.\n//\n// Adds an option 'styleSelectedText' which, when enabled, gives\n// selected text the CSS class given as option value, or\n// \"CodeMirror-selectedtext\" when the value is not a string.\n(function (mod) {\n  if (true) // CommonJS\n    mod(__webpack_require__(287));else {}\n})(function (CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"styleSelectedText\", false, function (cm, val, old) {\n    var prev = old && old != CodeMirror.Init;\n\n    if (val && !prev) {\n      cm.state.markedSelection = [];\n      cm.state.markedSelectionStyle = typeof val == \"string\" ? val : \"CodeMirror-selectedtext\";\n      reset(cm);\n      cm.on(\"cursorActivity\", onCursorActivity);\n      cm.on(\"change\", onChange);\n    } else if (!val && prev) {\n      cm.off(\"cursorActivity\", onCursorActivity);\n      cm.off(\"change\", onChange);\n      clear(cm);\n      cm.state.markedSelection = cm.state.markedSelectionStyle = null;\n    }\n  });\n\n  function onCursorActivity(cm) {\n    if (cm.state.markedSelection) cm.operation(function () {\n      update(cm);\n    });\n  }\n\n  function onChange(cm) {\n    if (cm.state.markedSelection && cm.state.markedSelection.length) cm.operation(function () {\n      clear(cm);\n    });\n  }\n\n  var CHUNK_SIZE = 8;\n  var Pos = CodeMirror.Pos;\n  var cmp = CodeMirror.cmpPos;\n\n  function coverRange(cm, from, to, addAt) {\n    if (cmp(from, to) == 0) return;\n    var array = cm.state.markedSelection;\n    var cls = cm.state.markedSelectionStyle;\n\n    for (var line = from.line;;) {\n      var start = line == from.line ? from : Pos(line, 0);\n      var endLine = line + CHUNK_SIZE,\n          atEnd = endLine >= to.line;\n      var end = atEnd ? to : Pos(endLine, 0);\n      var mark = cm.markText(start, end, {\n        className: cls\n      });\n      if (addAt == null) array.push(mark);else array.splice(addAt++, 0, mark);\n      if (atEnd) break;\n      line = endLine;\n    }\n  }\n\n  function clear(cm) {\n    var array = cm.state.markedSelection;\n\n    for (var i = 0; i < array.length; ++i) {\n      array[i].clear();\n    }\n\n    array.length = 0;\n  }\n\n  function reset(cm) {\n    clear(cm);\n    var ranges = cm.listSelections();\n\n    for (var i = 0; i < ranges.length; i++) {\n      coverRange(cm, ranges[i].from(), ranges[i].to());\n    }\n  }\n\n  function update(cm) {\n    if (!cm.somethingSelected()) return clear(cm);\n    if (cm.listSelections().length > 1) return reset(cm);\n    var from = cm.getCursor(\"start\"),\n        to = cm.getCursor(\"end\");\n    var array = cm.state.markedSelection;\n    if (!array.length) return coverRange(cm, from, to);\n    var coverStart = array[0].find(),\n        coverEnd = array[array.length - 1].find();\n    if (!coverStart || !coverEnd || to.line - from.line <= CHUNK_SIZE || cmp(from, coverEnd.to) >= 0 || cmp(to, coverStart.from) <= 0) return reset(cm);\n\n    while (cmp(from, coverStart.from) > 0) {\n      array.shift().clear();\n      coverStart = array[0].find();\n    }\n\n    if (cmp(from, coverStart.from) < 0) {\n      if (coverStart.to.line - from.line < CHUNK_SIZE) {\n        array.shift().clear();\n        coverRange(cm, from, coverStart.to, 0);\n      } else {\n        coverRange(cm, from, coverStart.from, 0);\n      }\n    }\n\n    while (cmp(to, coverEnd.to) < 0) {\n      array.pop().clear();\n      coverEnd = array[array.length - 1].find();\n    }\n\n    if (cmp(to, coverEnd.to) > 0) {\n      if (to.line - coverEnd.from.line < CHUNK_SIZE) {\n        array.pop().clear();\n        coverRange(cm, coverEnd.from, to);\n      } else {\n        coverRange(cm, coverEnd.to, to);\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 902:\n/***/ (function(module, exports, __webpack_require__) {\n\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n(function (mod) {\n  if (true) // CommonJS\n    mod(__webpack_require__(287));else {}\n})(function (CodeMirror) {\n  \"use strict\";\n\n  var Pos = CodeMirror.Pos;\n\n  function regexpFlags(regexp) {\n    var flags = regexp.flags;\n    return flags != null ? flags : (regexp.ignoreCase ? \"i\" : \"\") + (regexp.global ? \"g\" : \"\") + (regexp.multiline ? \"m\" : \"\");\n  }\n\n  function ensureFlags(regexp, flags) {\n    var current = regexpFlags(regexp),\n        target = current;\n\n    for (var i = 0; i < flags.length; i++) {\n      if (target.indexOf(flags.charAt(i)) == -1) target += flags.charAt(i);\n    }\n\n    return current == target ? regexp : new RegExp(regexp.source, target);\n  }\n\n  function maybeMultiline(regexp) {\n    return /\\\\s|\\\\n|\\n|\\\\W|\\\\D|\\[\\^/.test(regexp.source);\n  }\n\n  function searchRegexpForward(doc, regexp, start) {\n    regexp = ensureFlags(regexp, \"g\");\n\n    for (var line = start.line, ch = start.ch, last = doc.lastLine(); line <= last; line++, ch = 0) {\n      regexp.lastIndex = ch;\n      var string = doc.getLine(line),\n          match = regexp.exec(string);\n      if (match) return {\n        from: Pos(line, match.index),\n        to: Pos(line, match.index + match[0].length),\n        match: match\n      };\n    }\n  }\n\n  function searchRegexpForwardMultiline(doc, regexp, start) {\n    if (!maybeMultiline(regexp)) return searchRegexpForward(doc, regexp, start);\n    regexp = ensureFlags(regexp, \"gm\");\n    var string,\n        chunk = 1;\n\n    for (var line = start.line, last = doc.lastLine(); line <= last;) {\n      // This grows the search buffer in exponentially-sized chunks\n      // between matches, so that nearby matches are fast and don't\n      // require concatenating the whole document (in case we're\n      // searching for something that has tons of matches), but at the\n      // same time, the amount of retries is limited.\n      for (var i = 0; i < chunk; i++) {\n        if (line > last) break;\n        var curLine = doc.getLine(line++);\n        string = string == null ? curLine : string + \"\\n\" + curLine;\n      }\n\n      chunk = chunk * 2;\n      regexp.lastIndex = start.ch;\n      var match = regexp.exec(string);\n\n      if (match) {\n        var before = string.slice(0, match.index).split(\"\\n\"),\n            inside = match[0].split(\"\\n\");\n        var startLine = start.line + before.length - 1,\n            startCh = before[before.length - 1].length;\n        return {\n          from: Pos(startLine, startCh),\n          to: Pos(startLine + inside.length - 1, inside.length == 1 ? startCh + inside[0].length : inside[inside.length - 1].length),\n          match: match\n        };\n      }\n    }\n  }\n\n  function lastMatchIn(string, regexp, endMargin) {\n    var match,\n        from = 0;\n\n    while (from <= string.length) {\n      regexp.lastIndex = from;\n      var newMatch = regexp.exec(string);\n      if (!newMatch) break;\n      var end = newMatch.index + newMatch[0].length;\n      if (end > string.length - endMargin) break;\n      if (!match || end > match.index + match[0].length) match = newMatch;\n      from = newMatch.index + 1;\n    }\n\n    return match;\n  }\n\n  function searchRegexpBackward(doc, regexp, start) {\n    regexp = ensureFlags(regexp, \"g\");\n\n    for (var line = start.line, ch = start.ch, first = doc.firstLine(); line >= first; line--, ch = -1) {\n      var string = doc.getLine(line);\n      var match = lastMatchIn(string, regexp, ch < 0 ? 0 : string.length - ch);\n      if (match) return {\n        from: Pos(line, match.index),\n        to: Pos(line, match.index + match[0].length),\n        match: match\n      };\n    }\n  }\n\n  function searchRegexpBackwardMultiline(doc, regexp, start) {\n    if (!maybeMultiline(regexp)) return searchRegexpBackward(doc, regexp, start);\n    regexp = ensureFlags(regexp, \"gm\");\n    var string,\n        chunkSize = 1,\n        endMargin = doc.getLine(start.line).length - start.ch;\n\n    for (var line = start.line, first = doc.firstLine(); line >= first;) {\n      for (var i = 0; i < chunkSize && line >= first; i++) {\n        var curLine = doc.getLine(line--);\n        string = string == null ? curLine : curLine + \"\\n\" + string;\n      }\n\n      chunkSize *= 2;\n      var match = lastMatchIn(string, regexp, endMargin);\n\n      if (match) {\n        var before = string.slice(0, match.index).split(\"\\n\"),\n            inside = match[0].split(\"\\n\");\n        var startLine = line + before.length,\n            startCh = before[before.length - 1].length;\n        return {\n          from: Pos(startLine, startCh),\n          to: Pos(startLine + inside.length - 1, inside.length == 1 ? startCh + inside[0].length : inside[inside.length - 1].length),\n          match: match\n        };\n      }\n    }\n  }\n\n  var doFold, noFold;\n\n  if (String.prototype.normalize) {\n    doFold = function doFold(str) {\n      return str.normalize(\"NFD\").toLowerCase();\n    };\n\n    noFold = function noFold(str) {\n      return str.normalize(\"NFD\");\n    };\n  } else {\n    doFold = function doFold(str) {\n      return str.toLowerCase();\n    };\n\n    noFold = function noFold(str) {\n      return str;\n    };\n  } // Maps a position in a case-folded line back to a position in the original line\n  // (compensating for codepoints increasing in number during folding)\n\n\n  function adjustPos(orig, folded, pos, foldFunc) {\n    if (orig.length == folded.length) return pos;\n\n    for (var min = 0, max = pos + Math.max(0, orig.length - folded.length);;) {\n      if (min == max) return min;\n      var mid = min + max >> 1;\n      var len = foldFunc(orig.slice(0, mid)).length;\n      if (len == pos) return mid;else if (len > pos) max = mid;else min = mid + 1;\n    }\n  }\n\n  function searchStringForward(doc, query, start, caseFold) {\n    // Empty string would match anything and never progress, so we\n    // define it to match nothing instead.\n    if (!query.length) return null;\n    var fold = caseFold ? doFold : noFold;\n    var lines = fold(query).split(/\\r|\\n\\r?/);\n\n    search: for (var line = start.line, ch = start.ch, last = doc.lastLine() + 1 - lines.length; line <= last; line++, ch = 0) {\n      var orig = doc.getLine(line).slice(ch),\n          string = fold(orig);\n\n      if (lines.length == 1) {\n        var found = string.indexOf(lines[0]);\n        if (found == -1) continue search;\n        var start = adjustPos(orig, string, found, fold) + ch;\n        return {\n          from: Pos(line, adjustPos(orig, string, found, fold) + ch),\n          to: Pos(line, adjustPos(orig, string, found + lines[0].length, fold) + ch)\n        };\n      } else {\n        var cutFrom = string.length - lines[0].length;\n        if (string.slice(cutFrom) != lines[0]) continue search;\n\n        for (var i = 1; i < lines.length - 1; i++) {\n          if (fold(doc.getLine(line + i)) != lines[i]) continue search;\n        }\n\n        var end = doc.getLine(line + lines.length - 1),\n            endString = fold(end),\n            lastLine = lines[lines.length - 1];\n        if (endString.slice(0, lastLine.length) != lastLine) continue search;\n        return {\n          from: Pos(line, adjustPos(orig, string, cutFrom, fold) + ch),\n          to: Pos(line + lines.length - 1, adjustPos(end, endString, lastLine.length, fold))\n        };\n      }\n    }\n  }\n\n  function searchStringBackward(doc, query, start, caseFold) {\n    if (!query.length) return null;\n    var fold = caseFold ? doFold : noFold;\n    var lines = fold(query).split(/\\r|\\n\\r?/);\n\n    search: for (var line = start.line, ch = start.ch, first = doc.firstLine() - 1 + lines.length; line >= first; line--, ch = -1) {\n      var orig = doc.getLine(line);\n      if (ch > -1) orig = orig.slice(0, ch);\n      var string = fold(orig);\n\n      if (lines.length == 1) {\n        var found = string.lastIndexOf(lines[0]);\n        if (found == -1) continue search;\n        return {\n          from: Pos(line, adjustPos(orig, string, found, fold)),\n          to: Pos(line, adjustPos(orig, string, found + lines[0].length, fold))\n        };\n      } else {\n        var lastLine = lines[lines.length - 1];\n        if (string.slice(0, lastLine.length) != lastLine) continue search;\n\n        for (var i = 1, start = line - lines.length + 1; i < lines.length - 1; i++) {\n          if (fold(doc.getLine(start + i)) != lines[i]) continue search;\n        }\n\n        var top = doc.getLine(line + 1 - lines.length),\n            topString = fold(top);\n        if (topString.slice(topString.length - lines[0].length) != lines[0]) continue search;\n        return {\n          from: Pos(line + 1 - lines.length, adjustPos(top, topString, top.length - lines[0].length, fold)),\n          to: Pos(line, adjustPos(orig, string, lastLine.length, fold))\n        };\n      }\n    }\n  }\n\n  function SearchCursor(doc, query, pos, options) {\n    this.atOccurrence = false;\n    this.doc = doc;\n    pos = pos ? doc.clipPos(pos) : Pos(0, 0);\n    this.pos = {\n      from: pos,\n      to: pos\n    };\n    var caseFold;\n\n    if (typeof options == \"object\") {\n      caseFold = options.caseFold;\n    } else {\n      // Backwards compat for when caseFold was the 4th argument\n      caseFold = options;\n      options = null;\n    }\n\n    if (typeof query == \"string\") {\n      if (caseFold == null) caseFold = false;\n\n      this.matches = function (reverse, pos) {\n        return (reverse ? searchStringBackward : searchStringForward)(doc, query, pos, caseFold);\n      };\n    } else {\n      query = ensureFlags(query, \"gm\");\n      if (!options || options.multiline !== false) this.matches = function (reverse, pos) {\n        return (reverse ? searchRegexpBackwardMultiline : searchRegexpForwardMultiline)(doc, query, pos);\n      };else this.matches = function (reverse, pos) {\n        return (reverse ? searchRegexpBackward : searchRegexpForward)(doc, query, pos);\n      };\n    }\n  }\n\n  SearchCursor.prototype = {\n    findNext: function findNext() {\n      return this.find(false);\n    },\n    findPrevious: function findPrevious() {\n      return this.find(true);\n    },\n    find: function find(reverse) {\n      var result = this.matches(reverse, this.doc.clipPos(reverse ? this.pos.from : this.pos.to)); // Implements weird auto-growing behavior on null-matches for\n      // backwards-compatibility with the vim code (unfortunately)\n\n      while (result && CodeMirror.cmpPos(result.from, result.to) == 0) {\n        if (reverse) {\n          if (result.from.ch) result.from = Pos(result.from.line, result.from.ch - 1);else if (result.from.line == this.doc.firstLine()) result = null;else result = this.matches(reverse, this.doc.clipPos(Pos(result.from.line - 1)));\n        } else {\n          if (result.to.ch < this.doc.getLine(result.to.line).length) result.to = Pos(result.to.line, result.to.ch + 1);else if (result.to.line == this.doc.lastLine()) result = null;else result = this.matches(reverse, Pos(result.to.line + 1, 0));\n        }\n      }\n\n      if (result) {\n        this.pos = result;\n        this.atOccurrence = true;\n        return this.pos.match || true;\n      } else {\n        var end = Pos(reverse ? this.doc.firstLine() : this.doc.lastLine() + 1, 0);\n        this.pos = {\n          from: end,\n          to: end\n        };\n        return this.atOccurrence = false;\n      }\n    },\n    from: function from() {\n      if (this.atOccurrence) return this.pos.from;\n    },\n    to: function to() {\n      if (this.atOccurrence) return this.pos.to;\n    },\n    replace: function replace(newText, origin) {\n      if (!this.atOccurrence) return;\n      var lines = CodeMirror.splitLines(newText);\n      this.doc.replaceRange(lines, this.pos.from, this.pos.to, origin);\n      this.pos.to = Pos(this.pos.from.line + lines.length - 1, lines[lines.length - 1].length + (lines.length == 1 ? this.pos.from.ch : 0));\n    }\n  };\n  CodeMirror.defineExtension(\"getSearchCursor\", function (query, pos, caseFold) {\n    return new SearchCursor(this.doc, query, pos, caseFold);\n  });\n  CodeMirror.defineDocExtension(\"getSearchCursor\", function (query, pos, caseFold) {\n    return new SearchCursor(this, query, pos, caseFold);\n  });\n  CodeMirror.defineExtension(\"selectMatches\", function (query, caseFold) {\n    var ranges = [];\n    var cur = this.getSearchCursor(query, this.getCursor(\"from\"), caseFold);\n\n    while (cur.findNext()) {\n      if (CodeMirror.cmpPos(cur.to(), this.getCursor(\"to\")) > 0) break;\n      ranges.push({\n        anchor: cur.from(),\n        head: cur.to()\n      });\n    }\n\n    if (ranges.length) this.setSelections(ranges, 0);\n  });\n});\n\n/***/ }),\n\n/***/ 903:\n/***/ (function(module, exports, __webpack_require__) {\n\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n(function (mod) {\n  if (true) // CommonJS\n    mod(__webpack_require__(287), __webpack_require__(849), __webpack_require__(851));else {}\n})(function (CodeMirror) {\n  \"use strict\";\n\n  var urlRE = /^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\\.beep|\\.lwz|\\.xpc|\\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\\.beeps?|xmpp|xri|ymsgr|z39\\.50[rs]?):(?:\\/{1,3}|[a-z0-9%])|www\\d{0,3}[.]|[a-z0-9.\\-]+[.][a-z]{2,4}\\/)(?:[^\\s()<>]|\\([^\\s()<>]*\\))+(?:\\([^\\s()<>]*\\)|[^\\s`*!()\\[\\]{};:'\".,<>?]))/i;\n  CodeMirror.defineMode(\"gfm\", function (config, modeConfig) {\n    var codeDepth = 0;\n\n    function blankLine(state) {\n      state.code = false;\n      return null;\n    }\n\n    var gfmOverlay = {\n      startState: function startState() {\n        return {\n          code: false,\n          codeBlock: false,\n          ateSpace: false\n        };\n      },\n      copyState: function copyState(s) {\n        return {\n          code: s.code,\n          codeBlock: s.codeBlock,\n          ateSpace: s.ateSpace\n        };\n      },\n      token: function token(stream, state) {\n        state.combineTokens = null; // Hack to prevent formatting override inside code blocks (block and inline)\n\n        if (state.codeBlock) {\n          if (stream.match(/^```+/)) {\n            state.codeBlock = false;\n            return null;\n          }\n\n          stream.skipToEnd();\n          return null;\n        }\n\n        if (stream.sol()) {\n          state.code = false;\n        }\n\n        if (stream.sol() && stream.match(/^```+/)) {\n          stream.skipToEnd();\n          state.codeBlock = true;\n          return null;\n        } // If this block is changed, it may need to be updated in Markdown mode\n\n\n        if (stream.peek() === '`') {\n          stream.next();\n          var before = stream.pos;\n          stream.eatWhile('`');\n          var difference = 1 + stream.pos - before;\n\n          if (!state.code) {\n            codeDepth = difference;\n            state.code = true;\n          } else {\n            if (difference === codeDepth) {\n              // Must be exact\n              state.code = false;\n            }\n          }\n\n          return null;\n        } else if (state.code) {\n          stream.next();\n          return null;\n        } // Check if space. If so, links can be formatted later on\n\n\n        if (stream.eatSpace()) {\n          state.ateSpace = true;\n          return null;\n        }\n\n        if (stream.sol() || state.ateSpace) {\n          state.ateSpace = false;\n\n          if (modeConfig.gitHubSpice !== false) {\n            if (stream.match(/^(?:[a-zA-Z0-9\\-_]+\\/)?(?:[a-zA-Z0-9\\-_]+@)?(?=.{0,6}\\d)(?:[a-f0-9]{7,40}\\b)/)) {\n              // User/Project@SHA\n              // User@SHA\n              // SHA\n              state.combineTokens = true;\n              return \"link\";\n            } else if (stream.match(/^(?:[a-zA-Z0-9\\-_]+\\/)?(?:[a-zA-Z0-9\\-_]+)?#[0-9]+\\b/)) {\n              // User/Project#Num\n              // User#Num\n              // #Num\n              state.combineTokens = true;\n              return \"link\";\n            }\n          }\n        }\n\n        if (stream.match(urlRE) && stream.string.slice(stream.start - 2, stream.start) != \"](\" && (stream.start == 0 || /\\W/.test(stream.string.charAt(stream.start - 1)))) {\n          // URLs\n          // Taken from http://daringfireball.net/2010/07/improved_regex_for_matching_urls\n          // And then (issue #1160) simplified to make it not crash the Chrome Regexp engine\n          // And then limited url schemes to the CommonMark list, so foo:bar isn't matched as a URL\n          state.combineTokens = true;\n          return \"link\";\n        }\n\n        stream.next();\n        return null;\n      },\n      blankLine: blankLine\n    };\n    var markdownConfig = {\n      taskLists: true,\n      strikethrough: true,\n      emoji: true\n    };\n\n    for (var attr in modeConfig) {\n      markdownConfig[attr] = modeConfig[attr];\n    }\n\n    markdownConfig.name = \"markdown\";\n    return CodeMirror.overlayMode(CodeMirror.getMode(config, markdownConfig), gfmOverlay);\n  }, \"markdown\");\n  CodeMirror.defineMIME(\"text/x-gfm\", \"gfm\");\n});\n\n/***/ }),\n\n/***/ 904:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n// Use strict mode (https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode)\n // Requires\n\nvar Typo = __webpack_require__(905); // Create function\n\n\nfunction CodeMirrorSpellChecker(options) {\n  // Initialize\n  options = options || {}; // Verify\n\n  if (typeof options.codeMirrorInstance !== \"function\" || typeof options.codeMirrorInstance.defineMode !== \"function\") {\n    console.log(\"CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`\");\n    return;\n  } // Because some browsers don't support this functionality yet\n\n\n  if (!String.prototype.includes) {\n    String.prototype.includes = function () {\n      \"use strict\";\n\n      return String.prototype.indexOf.apply(this, arguments) !== -1;\n    };\n  } // Define the new mode\n\n\n  options.codeMirrorInstance.defineMode(\"spell-checker\", function (config) {\n    // Load AFF/DIC data\n    if (!CodeMirrorSpellChecker.aff_loading) {\n      CodeMirrorSpellChecker.aff_loading = true;\n      var xhr_aff = new XMLHttpRequest();\n      xhr_aff.open(\"GET\", \"https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff\", true);\n\n      xhr_aff.onload = function () {\n        if (xhr_aff.readyState === 4 && xhr_aff.status === 200) {\n          CodeMirrorSpellChecker.aff_data = xhr_aff.responseText;\n          CodeMirrorSpellChecker.num_loaded++;\n\n          if (CodeMirrorSpellChecker.num_loaded == 2) {\n            CodeMirrorSpellChecker.typo = new Typo(\"en_US\", CodeMirrorSpellChecker.aff_data, CodeMirrorSpellChecker.dic_data, {\n              platform: \"any\"\n            });\n          }\n        }\n      };\n\n      xhr_aff.send(null);\n    }\n\n    if (!CodeMirrorSpellChecker.dic_loading) {\n      CodeMirrorSpellChecker.dic_loading = true;\n      var xhr_dic = new XMLHttpRequest();\n      xhr_dic.open(\"GET\", \"https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic\", true);\n\n      xhr_dic.onload = function () {\n        if (xhr_dic.readyState === 4 && xhr_dic.status === 200) {\n          CodeMirrorSpellChecker.dic_data = xhr_dic.responseText;\n          CodeMirrorSpellChecker.num_loaded++;\n\n          if (CodeMirrorSpellChecker.num_loaded == 2) {\n            CodeMirrorSpellChecker.typo = new Typo(\"en_US\", CodeMirrorSpellChecker.aff_data, CodeMirrorSpellChecker.dic_data, {\n              platform: \"any\"\n            });\n          }\n        }\n      };\n\n      xhr_dic.send(null);\n    } // Define what separates a word\n\n\n    var rx_word = \"!\\\"#$%&()*+,-./:;<=>?@[\\\\]^_`{|}~ \"; // Create the overlay and such\n\n    var overlay = {\n      token: function token(stream) {\n        var ch = stream.peek();\n        var word = \"\";\n\n        if (rx_word.includes(ch)) {\n          stream.next();\n          return null;\n        }\n\n        while ((ch = stream.peek()) != null && !rx_word.includes(ch)) {\n          word += ch;\n          stream.next();\n        }\n\n        if (CodeMirrorSpellChecker.typo && !CodeMirrorSpellChecker.typo.check(word)) return \"spell-error\"; // CSS class: cm-spell-error\n\n        return null;\n      }\n    };\n    var mode = options.codeMirrorInstance.getMode(config, config.backdrop || \"text/plain\");\n    return options.codeMirrorInstance.overlayMode(mode, overlay, true);\n  });\n} // Initialize data globally to reduce memory consumption\n\n\nCodeMirrorSpellChecker.num_loaded = 0;\nCodeMirrorSpellChecker.aff_loading = false;\nCodeMirrorSpellChecker.dic_loading = false;\nCodeMirrorSpellChecker.aff_data = \"\";\nCodeMirrorSpellChecker.dic_data = \"\";\nCodeMirrorSpellChecker.typo; // Export\n\nmodule.exports = CodeMirrorSpellChecker;\n\n/***/ }),\n\n/***/ 905:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(__dirname) {/* globals chrome: false */\n\n/* globals __dirname: false */\n\n/* globals require: false */\n\n/* globals Buffer: false */\n\n/* globals module: false */\n\n/**\n * Typo is a JavaScript implementation of a spellchecker using hunspell-style \n * dictionaries.\n */\nvar Typo;\n\n(function () {\n  \"use strict\";\n  /**\n   * Typo constructor.\n   *\n   * @param {String} [dictionary] The locale code of the dictionary being used. e.g.,\n   *                              \"en_US\". This is only used to auto-load dictionaries.\n   * @param {String} [affData]    The data from the dictionary's .aff file. If omitted\n   *                              and Typo.js is being used in a Chrome extension, the .aff\n   *                              file will be loaded automatically from\n   *                              lib/typo/dictionaries/[dictionary]/[dictionary].aff\n   *                              In other environments, it will be loaded from\n   *                              [settings.dictionaryPath]/dictionaries/[dictionary]/[dictionary].aff\n   * @param {String} [wordsData]  The data from the dictionary's .dic file. If omitted\n   *                              and Typo.js is being used in a Chrome extension, the .dic\n   *                              file will be loaded automatically from\n   *                              lib/typo/dictionaries/[dictionary]/[dictionary].dic\n   *                              In other environments, it will be loaded from\n   *                              [settings.dictionaryPath]/dictionaries/[dictionary]/[dictionary].dic\n   * @param {Object} [settings]   Constructor settings. Available properties are:\n   *                              {String} [dictionaryPath]: path to load dictionary from in non-chrome\n   *                              environment.\n   *                              {Object} [flags]: flag information.\n   *                              {Boolean} [asyncLoad]: If true, affData and wordsData will be loaded\n   *                              asynchronously.\n   *                              {Function} [loadedCallback]: Called when both affData and wordsData\n   *                              have been loaded. Only used if asyncLoad is set to true. The parameter\n   *                              is the instantiated Typo object.\n   *\n   * @returns {Typo} A Typo object.\n   */\n\n  Typo = function Typo(dictionary, affData, wordsData, settings) {\n    settings = settings || {};\n    this.dictionary = null;\n    this.rules = {};\n    this.dictionaryTable = {};\n    this.compoundRules = [];\n    this.compoundRuleCodes = {};\n    this.replacementTable = [];\n    this.flags = settings.flags || {};\n    this.memoized = {};\n    this.loaded = false;\n    var self = this;\n    var path; // Loop-control variables.\n\n    var i, j, _len, _jlen;\n\n    if (dictionary) {\n      self.dictionary = dictionary; // If the data is preloaded, just setup the Typo object.\n\n      if (affData && wordsData) {\n        setup();\n      } // Loading data for Chrome extentions.\n      else if (typeof window !== 'undefined' && 'chrome' in window && 'extension' in window.chrome && 'getURL' in window.chrome.extension) {\n          if (settings.dictionaryPath) {\n            path = settings.dictionaryPath;\n          } else {\n            path = \"typo/dictionaries\";\n          }\n\n          if (!affData) readDataFile(chrome.extension.getURL(path + \"/\" + dictionary + \"/\" + dictionary + \".aff\"), setAffData);\n          if (!wordsData) readDataFile(chrome.extension.getURL(path + \"/\" + dictionary + \"/\" + dictionary + \".dic\"), setWordsData);\n        } else {\n          if (settings.dictionaryPath) {\n            path = settings.dictionaryPath;\n          } else if (true) {\n            path = __dirname + '/dictionaries';\n          } else {}\n\n          if (!affData) readDataFile(path + \"/\" + dictionary + \"/\" + dictionary + \".aff\", setAffData);\n          if (!wordsData) readDataFile(path + \"/\" + dictionary + \"/\" + dictionary + \".dic\", setWordsData);\n        }\n    }\n\n    function readDataFile(url, setFunc) {\n      var response = self._readFile(url, null, settings.asyncLoad);\n\n      if (settings.asyncLoad) {\n        response.then(function (data) {\n          setFunc(data);\n        });\n      } else {\n        setFunc(response);\n      }\n    }\n\n    function setAffData(data) {\n      affData = data;\n\n      if (wordsData) {\n        setup();\n      }\n    }\n\n    function setWordsData(data) {\n      wordsData = data;\n\n      if (affData) {\n        setup();\n      }\n    }\n\n    function setup() {\n      self.rules = self._parseAFF(affData); // Save the rule codes that are used in compound rules.\n\n      self.compoundRuleCodes = {};\n\n      for (i = 0, _len = self.compoundRules.length; i < _len; i++) {\n        var rule = self.compoundRules[i];\n\n        for (j = 0, _jlen = rule.length; j < _jlen; j++) {\n          self.compoundRuleCodes[rule[j]] = [];\n        }\n      } // If we add this ONLYINCOMPOUND flag to self.compoundRuleCodes, then _parseDIC\n      // will do the work of saving the list of words that are compound-only.\n\n\n      if (\"ONLYINCOMPOUND\" in self.flags) {\n        self.compoundRuleCodes[self.flags.ONLYINCOMPOUND] = [];\n      }\n\n      self.dictionaryTable = self._parseDIC(wordsData); // Get rid of any codes from the compound rule codes that are never used \n      // (or that were special regex characters).  Not especially necessary... \n\n      for (i in self.compoundRuleCodes) {\n        if (self.compoundRuleCodes[i].length === 0) {\n          delete self.compoundRuleCodes[i];\n        }\n      } // Build the full regular expressions for each compound rule.\n      // I have a feeling (but no confirmation yet) that this method of \n      // testing for compound words is probably slow.\n\n\n      for (i = 0, _len = self.compoundRules.length; i < _len; i++) {\n        var ruleText = self.compoundRules[i];\n        var expressionText = \"\";\n\n        for (j = 0, _jlen = ruleText.length; j < _jlen; j++) {\n          var character = ruleText[j];\n\n          if (character in self.compoundRuleCodes) {\n            expressionText += \"(\" + self.compoundRuleCodes[character].join(\"|\") + \")\";\n          } else {\n            expressionText += character;\n          }\n        }\n\n        self.compoundRules[i] = new RegExp(expressionText, \"i\");\n      }\n\n      self.loaded = true;\n\n      if (settings.asyncLoad && settings.loadedCallback) {\n        settings.loadedCallback(self);\n      }\n    }\n\n    return this;\n  };\n\n  Typo.prototype = {\n    /**\n     * Loads a Typo instance from a hash of all of the Typo properties.\n     *\n     * @param object obj A hash of Typo properties, probably gotten from a JSON.parse(JSON.stringify(typo_instance)).\n     */\n    load: function load(obj) {\n      for (var i in obj) {\n        if (obj.hasOwnProperty(i)) {\n          this[i] = obj[i];\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * Read the contents of a file.\n     * \n     * @param {String} path The path (relative) to the file.\n     * @param {String} [charset=\"ISO8859-1\"] The expected charset of the file\n     * @param {Boolean} async If true, the file will be read asynchronously. For node.js this does nothing, all\n     *        files are read synchronously.\n     * @returns {String} The file data if async is false, otherwise a promise object. If running node.js, the data is\n     *          always returned.\n     */\n    _readFile: function _readFile(path, charset, async) {\n      charset = charset || \"utf8\";\n\n      if (typeof XMLHttpRequest !== 'undefined') {\n        var promise;\n        var req = new XMLHttpRequest();\n        req.open(\"GET\", path, async);\n\n        if (async) {\n          promise = new Promise(function (resolve, reject) {\n            req.onload = function () {\n              if (req.status === 200) {\n                resolve(req.responseText);\n              } else {\n                reject(req.statusText);\n              }\n            };\n\n            req.onerror = function () {\n              reject(req.statusText);\n            };\n          });\n        }\n\n        if (req.overrideMimeType) req.overrideMimeType(\"text/plain; charset=\" + charset);\n        req.send(null);\n        return async ? promise : req.responseText;\n      } else if (true) {\n        // Node.js\n        var fs = __webpack_require__(906);\n\n        try {\n          if (fs.existsSync(path)) {\n            return fs.readFileSync(path, charset);\n          } else {\n            console.log(\"Path \" + path + \" does not exist.\");\n          }\n        } catch (e) {\n          console.log(e);\n          return '';\n        }\n      }\n    },\n\n    /**\n     * Parse the rules out from a .aff file.\n     *\n     * @param {String} data The contents of the affix file.\n     * @returns object The rules from the file.\n     */\n    _parseAFF: function _parseAFF(data) {\n      var rules = {};\n      var line, subline, numEntries, lineParts;\n\n      var i, j, _len, _jlen; // Remove comment lines\n\n\n      data = this._removeAffixComments(data);\n      var lines = data.split(/\\r?\\n/);\n\n      for (i = 0, _len = lines.length; i < _len; i++) {\n        line = lines[i];\n        var definitionParts = line.split(/\\s+/);\n        var ruleType = definitionParts[0];\n\n        if (ruleType == \"PFX\" || ruleType == \"SFX\") {\n          var ruleCode = definitionParts[1];\n          var combineable = definitionParts[2];\n          numEntries = parseInt(definitionParts[3], 10);\n          var entries = [];\n\n          for (j = i + 1, _jlen = i + 1 + numEntries; j < _jlen; j++) {\n            subline = lines[j];\n            lineParts = subline.split(/\\s+/);\n            var charactersToRemove = lineParts[2];\n            var additionParts = lineParts[3].split(\"/\");\n            var charactersToAdd = additionParts[0];\n            if (charactersToAdd === \"0\") charactersToAdd = \"\";\n            var continuationClasses = this.parseRuleCodes(additionParts[1]);\n            var regexToMatch = lineParts[4];\n            var entry = {};\n            entry.add = charactersToAdd;\n            if (continuationClasses.length > 0) entry.continuationClasses = continuationClasses;\n\n            if (regexToMatch !== \".\") {\n              if (ruleType === \"SFX\") {\n                entry.match = new RegExp(regexToMatch + \"$\");\n              } else {\n                entry.match = new RegExp(\"^\" + regexToMatch);\n              }\n            }\n\n            if (charactersToRemove != \"0\") {\n              if (ruleType === \"SFX\") {\n                entry.remove = new RegExp(charactersToRemove + \"$\");\n              } else {\n                entry.remove = charactersToRemove;\n              }\n            }\n\n            entries.push(entry);\n          }\n\n          rules[ruleCode] = {\n            \"type\": ruleType,\n            \"combineable\": combineable == \"Y\",\n            \"entries\": entries\n          };\n          i += numEntries;\n        } else if (ruleType === \"COMPOUNDRULE\") {\n          numEntries = parseInt(definitionParts[1], 10);\n\n          for (j = i + 1, _jlen = i + 1 + numEntries; j < _jlen; j++) {\n            line = lines[j];\n            lineParts = line.split(/\\s+/);\n            this.compoundRules.push(lineParts[1]);\n          }\n\n          i += numEntries;\n        } else if (ruleType === \"REP\") {\n          lineParts = line.split(/\\s+/);\n\n          if (lineParts.length === 3) {\n            this.replacementTable.push([lineParts[1], lineParts[2]]);\n          }\n        } else {\n          // ONLYINCOMPOUND\n          // COMPOUNDMIN\n          // FLAG\n          // KEEPCASE\n          // NEEDAFFIX\n          this.flags[ruleType] = definitionParts[1];\n        }\n      }\n\n      return rules;\n    },\n\n    /**\n     * Removes comment lines and then cleans up blank lines and trailing whitespace.\n     *\n     * @param {String} data The data from an affix file.\n     * @return {String} The cleaned-up data.\n     */\n    _removeAffixComments: function _removeAffixComments(data) {\n      // Remove comments\n      // This used to remove any string starting with '#' up to the end of the line,\n      // but some COMPOUNDRULE definitions include '#' as part of the rule.\n      // I haven't seen any affix files that use comments on the same line as real data,\n      // so I don't think this will break anything.\n      data = data.replace(/^\\s*#.*$/mg, \"\"); // Trim each line\n\n      data = data.replace(/^\\s\\s*/m, '').replace(/\\s\\s*$/m, ''); // Remove blank lines.\n\n      data = data.replace(/\\n{2,}/g, \"\\n\"); // Trim the entire string\n\n      data = data.replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n      return data;\n    },\n\n    /**\n     * Parses the words out from the .dic file.\n     *\n     * @param {String} data The data from the dictionary file.\n     * @returns object The lookup table containing all of the words and\n     *                 word forms from the dictionary.\n     */\n    _parseDIC: function _parseDIC(data) {\n      data = this._removeDicComments(data);\n      var lines = data.split(/\\r?\\n/);\n      var dictionaryTable = {};\n\n      function addWord(word, rules) {\n        // Some dictionaries will list the same word multiple times with different rule sets.\n        if (!dictionaryTable.hasOwnProperty(word)) {\n          dictionaryTable[word] = null;\n        }\n\n        if (rules.length > 0) {\n          if (dictionaryTable[word] === null) {\n            dictionaryTable[word] = [];\n          }\n\n          dictionaryTable[word].push(rules);\n        }\n      } // The first line is the number of words in the dictionary.\n\n\n      for (var i = 1, _len = lines.length; i < _len; i++) {\n        var line = lines[i];\n\n        if (!line) {\n          // Ignore empty lines.\n          continue;\n        }\n\n        var parts = line.split(\"/\", 2);\n        var word = parts[0]; // Now for each affix rule, generate that form of the word.\n\n        if (parts.length > 1) {\n          var ruleCodesArray = this.parseRuleCodes(parts[1]); // Save the ruleCodes for compound word situations.\n\n          if (!(\"NEEDAFFIX\" in this.flags) || ruleCodesArray.indexOf(this.flags.NEEDAFFIX) == -1) {\n            addWord(word, ruleCodesArray);\n          }\n\n          for (var j = 0, _jlen = ruleCodesArray.length; j < _jlen; j++) {\n            var code = ruleCodesArray[j];\n            var rule = this.rules[code];\n\n            if (rule) {\n              var newWords = this._applyRule(word, rule);\n\n              for (var ii = 0, _iilen = newWords.length; ii < _iilen; ii++) {\n                var newWord = newWords[ii];\n                addWord(newWord, []);\n\n                if (rule.combineable) {\n                  for (var k = j + 1; k < _jlen; k++) {\n                    var combineCode = ruleCodesArray[k];\n                    var combineRule = this.rules[combineCode];\n\n                    if (combineRule) {\n                      if (combineRule.combineable && rule.type != combineRule.type) {\n                        var otherNewWords = this._applyRule(newWord, combineRule);\n\n                        for (var iii = 0, _iiilen = otherNewWords.length; iii < _iiilen; iii++) {\n                          var otherNewWord = otherNewWords[iii];\n                          addWord(otherNewWord, []);\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n\n            if (code in this.compoundRuleCodes) {\n              this.compoundRuleCodes[code].push(word);\n            }\n          }\n        } else {\n          addWord(word.trim(), []);\n        }\n      }\n\n      return dictionaryTable;\n    },\n\n    /**\n     * Removes comment lines and then cleans up blank lines and trailing whitespace.\n     *\n     * @param {String} data The data from a .dic file.\n     * @return {String} The cleaned-up data.\n     */\n    _removeDicComments: function _removeDicComments(data) {\n      // I can't find any official documentation on it, but at least the de_DE\n      // dictionary uses tab-indented lines as comments.\n      // Remove comments\n      data = data.replace(/^\\t.*$/mg, \"\");\n      return data;\n    },\n    parseRuleCodes: function parseRuleCodes(textCodes) {\n      if (!textCodes) {\n        return [];\n      } else if (!(\"FLAG\" in this.flags)) {\n        return textCodes.split(\"\");\n      } else if (this.flags.FLAG === \"long\") {\n        var flags = [];\n\n        for (var i = 0, _len = textCodes.length; i < _len; i += 2) {\n          flags.push(textCodes.substr(i, 2));\n        }\n\n        return flags;\n      } else if (this.flags.FLAG === \"num\") {\n        return textCodes.split(\",\");\n      }\n    },\n\n    /**\n     * Applies an affix rule to a word.\n     *\n     * @param {String} word The base word.\n     * @param {Object} rule The affix rule.\n     * @returns {String[]} The new words generated by the rule.\n     */\n    _applyRule: function _applyRule(word, rule) {\n      var entries = rule.entries;\n      var newWords = [];\n\n      for (var i = 0, _len = entries.length; i < _len; i++) {\n        var entry = entries[i];\n\n        if (!entry.match || word.match(entry.match)) {\n          var newWord = word;\n\n          if (entry.remove) {\n            newWord = newWord.replace(entry.remove, \"\");\n          }\n\n          if (rule.type === \"SFX\") {\n            newWord = newWord + entry.add;\n          } else {\n            newWord = entry.add + newWord;\n          }\n\n          newWords.push(newWord);\n\n          if (\"continuationClasses\" in entry) {\n            for (var j = 0, _jlen = entry.continuationClasses.length; j < _jlen; j++) {\n              var continuationRule = this.rules[entry.continuationClasses[j]];\n\n              if (continuationRule) {\n                newWords = newWords.concat(this._applyRule(newWord, continuationRule));\n              }\n              /*\n              else {\n              \t// This shouldn't happen, but it does, at least in the de_DE dictionary.\n              \t// I think the author mistakenly supplied lower-case rule codes instead \n              \t// of upper-case.\n              }\n              */\n\n            }\n          }\n        }\n      }\n\n      return newWords;\n    },\n\n    /**\n     * Checks whether a word or a capitalization variant exists in the current dictionary.\n     * The word is trimmed and several variations of capitalizations are checked.\n     * If you want to check a word without any changes made to it, call checkExact()\n     *\n     * @see http://blog.stevenlevithan.com/archives/faster-trim-javascript re:trimming function\n     *\n     * @param {String} aWord The word to check.\n     * @returns {Boolean}\n     */\n    check: function check(aWord) {\n      if (!this.loaded) {\n        throw \"Dictionary not loaded.\";\n      } // Remove leading and trailing whitespace\n\n\n      var trimmedWord = aWord.replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n\n      if (this.checkExact(trimmedWord)) {\n        return true;\n      } // The exact word is not in the dictionary.\n\n\n      if (trimmedWord.toUpperCase() === trimmedWord) {\n        // The word was supplied in all uppercase.\n        // Check for a capitalized form of the word.\n        var capitalizedWord = trimmedWord[0] + trimmedWord.substring(1).toLowerCase();\n\n        if (this.hasFlag(capitalizedWord, \"KEEPCASE\")) {\n          // Capitalization variants are not allowed for this word.\n          return false;\n        }\n\n        if (this.checkExact(capitalizedWord)) {\n          // The all-caps word is a capitalized word spelled correctly.\n          return true;\n        }\n\n        if (this.checkExact(trimmedWord.toLowerCase())) {\n          // The all-caps is a lowercase word spelled correctly.\n          return true;\n        }\n      }\n\n      var uncapitalizedWord = trimmedWord[0].toLowerCase() + trimmedWord.substring(1);\n\n      if (uncapitalizedWord !== trimmedWord) {\n        if (this.hasFlag(uncapitalizedWord, \"KEEPCASE\")) {\n          // Capitalization variants are not allowed for this word.\n          return false;\n        } // Check for an uncapitalized form\n\n\n        if (this.checkExact(uncapitalizedWord)) {\n          // The word is spelled correctly but with the first letter capitalized.\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    /**\n     * Checks whether a word exists in the current dictionary.\n     *\n     * @param {String} word The word to check.\n     * @returns {Boolean}\n     */\n    checkExact: function checkExact(word) {\n      if (!this.loaded) {\n        throw \"Dictionary not loaded.\";\n      }\n\n      var ruleCodes = this.dictionaryTable[word];\n\n      var i, _len;\n\n      if (typeof ruleCodes === 'undefined') {\n        // Check if this might be a compound word.\n        if (\"COMPOUNDMIN\" in this.flags && word.length >= this.flags.COMPOUNDMIN) {\n          for (i = 0, _len = this.compoundRules.length; i < _len; i++) {\n            if (word.match(this.compoundRules[i])) {\n              return true;\n            }\n          }\n        }\n      } else if (ruleCodes === null) {\n        // a null (but not undefined) value for an entry in the dictionary table\n        // means that the word is in the dictionary but has no flags.\n        return true;\n      } else if (typeof ruleCodes === 'object') {\n        // this.dictionary['hasOwnProperty'] will be a function.\n        for (i = 0, _len = ruleCodes.length; i < _len; i++) {\n          if (!this.hasFlag(word, \"ONLYINCOMPOUND\", ruleCodes[i])) {\n            return true;\n          }\n        }\n      }\n\n      return false;\n    },\n\n    /**\n     * Looks up whether a given word is flagged with a given flag.\n     *\n     * @param {String} word The word in question.\n     * @param {String} flag The flag in question.\n     * @return {Boolean}\n     */\n    hasFlag: function hasFlag(word, flag, wordFlags) {\n      if (!this.loaded) {\n        throw \"Dictionary not loaded.\";\n      }\n\n      if (flag in this.flags) {\n        if (typeof wordFlags === 'undefined') {\n          wordFlags = Array.prototype.concat.apply([], this.dictionaryTable[word]);\n        }\n\n        if (wordFlags && wordFlags.indexOf(this.flags[flag]) !== -1) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    /**\n     * Returns a list of suggestions for a misspelled word.\n     *\n     * @see http://www.norvig.com/spell-correct.html for the basis of this suggestor.\n     * This suggestor is primitive, but it works.\n     *\n     * @param {String} word The misspelling.\n     * @param {Number} [limit=5] The maximum number of suggestions to return.\n     * @returns {String[]} The array of suggestions.\n     */\n    alphabet: \"\",\n    suggest: function suggest(word, limit) {\n      if (!this.loaded) {\n        throw \"Dictionary not loaded.\";\n      }\n\n      limit = limit || 5;\n\n      if (this.memoized.hasOwnProperty(word)) {\n        var memoizedLimit = this.memoized[word]['limit']; // Only return the cached list if it's big enough or if there weren't enough suggestions\n        // to fill a smaller limit.\n\n        if (limit <= memoizedLimit || this.memoized[word]['suggestions'].length < memoizedLimit) {\n          return this.memoized[word]['suggestions'].slice(0, limit);\n        }\n      }\n\n      if (this.check(word)) return []; // Check the replacement table.\n\n      for (var i = 0, _len = this.replacementTable.length; i < _len; i++) {\n        var replacementEntry = this.replacementTable[i];\n\n        if (word.indexOf(replacementEntry[0]) !== -1) {\n          var correctedWord = word.replace(replacementEntry[0], replacementEntry[1]);\n\n          if (this.check(correctedWord)) {\n            return [correctedWord];\n          }\n        }\n      }\n\n      var self = this;\n      self.alphabet = \"abcdefghijklmnopqrstuvwxyz\";\n      /*\n      if (!self.alphabet) {\n      \t// Use the alphabet as implicitly defined by the words in the dictionary.\n      \tvar alphaHash = {};\n      \t\n      \tfor (var i in self.dictionaryTable) {\n      \t\tfor (var j = 0, _len = i.length; j < _len; j++) {\n      \t\t\talphaHash[i[j]] = true;\n      \t\t}\n      \t}\n      \t\n      \tfor (var i in alphaHash) {\n      \t\tself.alphabet += i;\n      \t}\n      \t\n      \tvar alphaArray = self.alphabet.split(\"\");\n      \talphaArray.sort();\n      \tself.alphabet = alphaArray.join(\"\");\n      }\n      */\n\n      /**\n       * Returns a hash keyed by all of the strings that can be made by making a single edit to the word (or words in) `words`\n       * The value of each entry is the number of unique ways that the resulting word can be made.\n       *\n       * @arg mixed words Either a hash keyed by words or a string word to operate on.\n       * @arg bool known_only Whether this function should ignore strings that are not in the dictionary.\n       */\n\n      function edits1(words, known_only) {\n        var rv = {};\n\n        var i, j, _iilen, _len, _jlen, _edit;\n\n        var alphabetLength = self.alphabet.length;\n\n        if (typeof words == 'string') {\n          var word = words;\n          words = {};\n          words[word] = true;\n        }\n\n        for (var word in words) {\n          for (i = 0, _len = word.length + 1; i < _len; i++) {\n            var s = [word.substring(0, i), word.substring(i)]; // Remove a letter.\n\n            if (s[1]) {\n              _edit = s[0] + s[1].substring(1);\n\n              if (!known_only || self.check(_edit)) {\n                if (!(_edit in rv)) {\n                  rv[_edit] = 1;\n                } else {\n                  rv[_edit] += 1;\n                }\n              }\n            } // Transpose letters\n            // Eliminate transpositions of identical letters\n\n\n            if (s[1].length > 1 && s[1][1] !== s[1][0]) {\n              _edit = s[0] + s[1][1] + s[1][0] + s[1].substring(2);\n\n              if (!known_only || self.check(_edit)) {\n                if (!(_edit in rv)) {\n                  rv[_edit] = 1;\n                } else {\n                  rv[_edit] += 1;\n                }\n              }\n            }\n\n            if (s[1]) {\n              // Replace a letter with another letter.\n              var lettercase = s[1].substring(0, 1).toUpperCase() === s[1].substring(0, 1) ? 'uppercase' : 'lowercase';\n\n              for (j = 0; j < alphabetLength; j++) {\n                var replacementLetter = self.alphabet[j]; // Set the case of the replacement letter to the same as the letter being replaced.\n\n                if ('uppercase' === lettercase) {\n                  replacementLetter = replacementLetter.toUpperCase();\n                } // Eliminate replacement of a letter by itself\n\n\n                if (replacementLetter != s[1].substring(0, 1)) {\n                  _edit = s[0] + replacementLetter + s[1].substring(1);\n\n                  if (!known_only || self.check(_edit)) {\n                    if (!(_edit in rv)) {\n                      rv[_edit] = 1;\n                    } else {\n                      rv[_edit] += 1;\n                    }\n                  }\n                }\n              }\n            }\n\n            if (s[1]) {\n              // Add a letter between each letter.\n              for (j = 0; j < alphabetLength; j++) {\n                // If the letters on each side are capitalized, capitalize the replacement.\n                var lettercase = s[0].substring(-1).toUpperCase() === s[0].substring(-1) && s[1].substring(0, 1).toUpperCase() === s[1].substring(0, 1) ? 'uppercase' : 'lowercase';\n                var replacementLetter = self.alphabet[j];\n\n                if ('uppercase' === lettercase) {\n                  replacementLetter = replacementLetter.toUpperCase();\n                }\n\n                _edit = s[0] + replacementLetter + s[1];\n\n                if (!known_only || self.check(_edit)) {\n                  if (!(_edit in rv)) {\n                    rv[_edit] = 1;\n                  } else {\n                    rv[_edit] += 1;\n                  }\n                }\n              }\n            }\n          }\n        }\n\n        return rv;\n      }\n\n      function correct(word) {\n        // Get the edit-distance-1 and edit-distance-2 forms of this word.\n        var ed1 = edits1(word);\n        var ed2 = edits1(ed1, true); // Sort the edits based on how many different ways they were created.\n\n        var weighted_corrections = ed2;\n\n        for (var ed1word in ed1) {\n          if (!self.check(ed1word)) {\n            continue;\n          }\n\n          if (ed1word in weighted_corrections) {\n            weighted_corrections[ed1word] += ed1[ed1word];\n          } else {\n            weighted_corrections[ed1word] = ed1[ed1word];\n          }\n        }\n\n        var i, _len;\n\n        var sorted_corrections = [];\n\n        for (i in weighted_corrections) {\n          if (weighted_corrections.hasOwnProperty(i)) {\n            sorted_corrections.push([i, weighted_corrections[i]]);\n          }\n        }\n\n        function sorter(a, b) {\n          var a_val = a[1];\n          var b_val = b[1];\n\n          if (a_val < b_val) {\n            return -1;\n          } else if (a_val > b_val) {\n            return 1;\n          } // @todo If a and b are equally weighted, add our own weight based on something like the key locations on this language's default keyboard.\n\n\n          return b[0].localeCompare(a[0]);\n        }\n\n        sorted_corrections.sort(sorter).reverse();\n        var rv = [];\n        var capitalization_scheme = \"lowercase\";\n\n        if (word.toUpperCase() === word) {\n          capitalization_scheme = \"uppercase\";\n        } else if (word.substr(0, 1).toUpperCase() + word.substr(1).toLowerCase() === word) {\n          capitalization_scheme = \"capitalized\";\n        }\n\n        var working_limit = limit;\n\n        for (i = 0; i < Math.min(working_limit, sorted_corrections.length); i++) {\n          if (\"uppercase\" === capitalization_scheme) {\n            sorted_corrections[i][0] = sorted_corrections[i][0].toUpperCase();\n          } else if (\"capitalized\" === capitalization_scheme) {\n            sorted_corrections[i][0] = sorted_corrections[i][0].substr(0, 1).toUpperCase() + sorted_corrections[i][0].substr(1);\n          }\n\n          if (!self.hasFlag(sorted_corrections[i][0], \"NOSUGGEST\") && rv.indexOf(sorted_corrections[i][0]) == -1) {\n            rv.push(sorted_corrections[i][0]);\n          } else {\n            // If one of the corrections is not eligible as a suggestion , make sure we still return the right number of suggestions.\n            working_limit++;\n          }\n        }\n\n        return rv;\n      }\n\n      this.memoized[word] = {\n        'suggestions': correct(word),\n        'limit': limit\n      };\n      return this.memoized[word]['suggestions'];\n    }\n  };\n})(); // Support for use as a node.js module.\n\n\nif (true) {\n  module.exports = Typo;\n}\n/* WEBPACK VAR INJECTION */}.call(this, \"/\"))\n\n/***/ }),\n\n/***/ 907:\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * marked - a markdown parser\n * Copyright (c) 2011-2021, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n\n/**\n * DO NOT EDIT THIS FILE\n * The code in this file is generated from files in ./src/\n */\n(function (global, factory) {\n   true ? module.exports = factory() : undefined;\n})(this, function () {\n  'use strict';\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n\n  function _createForOfIteratorHelperLoose(o, allowArrayLike) {\n    var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n    if (it) return (it = it.call(o)).next.bind(it);\n\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      return function () {\n        if (i >= o.length) return {\n          done: true\n        };\n        return {\n          done: false,\n          value: o[i++]\n        };\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var defaults$5 = {\n    exports: {}\n  };\n\n  function getDefaults$1() {\n    return {\n      baseUrl: null,\n      breaks: false,\n      extensions: null,\n      gfm: true,\n      headerIds: true,\n      headerPrefix: '',\n      highlight: null,\n      langPrefix: 'language-',\n      mangle: true,\n      pedantic: false,\n      renderer: null,\n      sanitize: false,\n      sanitizer: null,\n      silent: false,\n      smartLists: false,\n      smartypants: false,\n      tokenizer: null,\n      walkTokens: null,\n      xhtml: false\n    };\n  }\n\n  function changeDefaults$1(newDefaults) {\n    defaults$5.exports.defaults = newDefaults;\n  }\n\n  defaults$5.exports = {\n    defaults: getDefaults$1(),\n    getDefaults: getDefaults$1,\n    changeDefaults: changeDefaults$1\n  };\n  /**\n   * Helpers\n   */\n\n  var escapeTest = /[&<>\"']/;\n  var escapeReplace = /[&<>\"']/g;\n  var escapeTestNoEncode = /[<>\"']|&(?!#?\\w+;)/;\n  var escapeReplaceNoEncode = /[<>\"']|&(?!#?\\w+;)/g;\n  var escapeReplacements = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  var getEscapeReplacement = function getEscapeReplacement(ch) {\n    return escapeReplacements[ch];\n  };\n\n  function escape$2(html, encode) {\n    if (encode) {\n      if (escapeTest.test(html)) {\n        return html.replace(escapeReplace, getEscapeReplacement);\n      }\n    } else {\n      if (escapeTestNoEncode.test(html)) {\n        return html.replace(escapeReplaceNoEncode, getEscapeReplacement);\n      }\n    }\n\n    return html;\n  }\n\n  var unescapeTest = /&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig;\n\n  function unescape$1(html) {\n    // explicitly match decimal, hex, and named HTML entities\n    return html.replace(unescapeTest, function (_, n) {\n      n = n.toLowerCase();\n      if (n === 'colon') return ':';\n\n      if (n.charAt(0) === '#') {\n        return n.charAt(1) === 'x' ? String.fromCharCode(parseInt(n.substring(2), 16)) : String.fromCharCode(+n.substring(1));\n      }\n\n      return '';\n    });\n  }\n\n  var caret = /(^|[^\\[])\\^/g;\n\n  function edit$1(regex, opt) {\n    regex = regex.source || regex;\n    opt = opt || '';\n    var obj = {\n      replace: function replace(name, val) {\n        val = val.source || val;\n        val = val.replace(caret, '$1');\n        regex = regex.replace(name, val);\n        return obj;\n      },\n      getRegex: function getRegex() {\n        return new RegExp(regex, opt);\n      }\n    };\n    return obj;\n  }\n\n  var nonWordAndColonTest = /[^\\w:]/g;\n  var originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\n\n  function cleanUrl$1(sanitize, base, href) {\n    if (sanitize) {\n      var prot;\n\n      try {\n        prot = decodeURIComponent(unescape$1(href)).replace(nonWordAndColonTest, '').toLowerCase();\n      } catch (e) {\n        return null;\n      }\n\n      if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n        return null;\n      }\n    }\n\n    if (base && !originIndependentUrl.test(href)) {\n      href = resolveUrl(base, href);\n    }\n\n    try {\n      href = encodeURI(href).replace(/%25/g, '%');\n    } catch (e) {\n      return null;\n    }\n\n    return href;\n  }\n\n  var baseUrls = {};\n  var justDomain = /^[^:]+:\\/*[^/]*$/;\n  var protocol = /^([^:]+:)[\\s\\S]*$/;\n  var domain = /^([^:]+:\\/*[^/]*)[\\s\\S]*$/;\n\n  function resolveUrl(base, href) {\n    if (!baseUrls[' ' + base]) {\n      // we can ignore everything in base after the last slash of its path component,\n      // but we might need to add _that_\n      // https://tools.ietf.org/html/rfc3986#section-3\n      if (justDomain.test(base)) {\n        baseUrls[' ' + base] = base + '/';\n      } else {\n        baseUrls[' ' + base] = rtrim$1(base, '/', true);\n      }\n    }\n\n    base = baseUrls[' ' + base];\n    var relativeBase = base.indexOf(':') === -1;\n\n    if (href.substring(0, 2) === '//') {\n      if (relativeBase) {\n        return href;\n      }\n\n      return base.replace(protocol, '$1') + href;\n    } else if (href.charAt(0) === '/') {\n      if (relativeBase) {\n        return href;\n      }\n\n      return base.replace(domain, '$1') + href;\n    } else {\n      return base + href;\n    }\n  }\n\n  var noopTest$1 = {\n    exec: function noopTest() {}\n  };\n\n  function merge$2(obj) {\n    var i = 1,\n        target,\n        key;\n\n    for (; i < arguments.length; i++) {\n      target = arguments[i];\n\n      for (key in target) {\n        if (Object.prototype.hasOwnProperty.call(target, key)) {\n          obj[key] = target[key];\n        }\n      }\n    }\n\n    return obj;\n  }\n\n  function splitCells$1(tableRow, count) {\n    // ensure that every cell-delimiting pipe has a space\n    // before it to distinguish it from an escaped pipe\n    var row = tableRow.replace(/\\|/g, function (match, offset, str) {\n      var escaped = false,\n          curr = offset;\n\n      while (--curr >= 0 && str[curr] === '\\\\') {\n        escaped = !escaped;\n      }\n\n      if (escaped) {\n        // odd number of slashes means | is escaped\n        // so we leave it alone\n        return '|';\n      } else {\n        // add space before unescaped |\n        return ' |';\n      }\n    }),\n        cells = row.split(/ \\|/);\n    var i = 0;\n\n    if (cells.length > count) {\n      cells.splice(count);\n    } else {\n      while (cells.length < count) {\n        cells.push('');\n      }\n    }\n\n    for (; i < cells.length; i++) {\n      // leading or trailing whitespace is ignored per the gfm spec\n      cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n    }\n\n    return cells;\n  } // Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n  // /c*$/ is vulnerable to REDOS.\n  // invert: Remove suffix of non-c chars instead. Default falsey.\n\n\n  function rtrim$1(str, c, invert) {\n    var l = str.length;\n\n    if (l === 0) {\n      return '';\n    } // Length of suffix matching the invert condition.\n\n\n    var suffLen = 0; // Step left until we fail to match the invert condition.\n\n    while (suffLen < l) {\n      var currChar = str.charAt(l - suffLen - 1);\n\n      if (currChar === c && !invert) {\n        suffLen++;\n      } else if (currChar !== c && invert) {\n        suffLen++;\n      } else {\n        break;\n      }\n    }\n\n    return str.substr(0, l - suffLen);\n  }\n\n  function findClosingBracket$1(str, b) {\n    if (str.indexOf(b[1]) === -1) {\n      return -1;\n    }\n\n    var l = str.length;\n    var level = 0,\n        i = 0;\n\n    for (; i < l; i++) {\n      if (str[i] === '\\\\') {\n        i++;\n      } else if (str[i] === b[0]) {\n        level++;\n      } else if (str[i] === b[1]) {\n        level--;\n\n        if (level < 0) {\n          return i;\n        }\n      }\n    }\n\n    return -1;\n  }\n\n  function checkSanitizeDeprecation$1(opt) {\n    if (opt && opt.sanitize && !opt.silent) {\n      console.warn('marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options');\n    }\n  } // copied from https://stackoverflow.com/a/5450113/806777\n\n\n  function repeatString$1(pattern, count) {\n    if (count < 1) {\n      return '';\n    }\n\n    var result = '';\n\n    while (count > 1) {\n      if (count & 1) {\n        result += pattern;\n      }\n\n      count >>= 1;\n      pattern += pattern;\n    }\n\n    return result + pattern;\n  }\n\n  var helpers = {\n    escape: escape$2,\n    unescape: unescape$1,\n    edit: edit$1,\n    cleanUrl: cleanUrl$1,\n    resolveUrl: resolveUrl,\n    noopTest: noopTest$1,\n    merge: merge$2,\n    splitCells: splitCells$1,\n    rtrim: rtrim$1,\n    findClosingBracket: findClosingBracket$1,\n    checkSanitizeDeprecation: checkSanitizeDeprecation$1,\n    repeatString: repeatString$1\n  };\n  var defaults$4 = defaults$5.exports.defaults;\n  var rtrim = helpers.rtrim,\n      splitCells = helpers.splitCells,\n      _escape = helpers.escape,\n      findClosingBracket = helpers.findClosingBracket;\n\n  function outputLink(cap, link, raw) {\n    var href = link.href;\n    var title = link.title ? _escape(link.title) : null;\n    var text = cap[1].replace(/\\\\([\\[\\]])/g, '$1');\n\n    if (cap[0].charAt(0) !== '!') {\n      return {\n        type: 'link',\n        raw: raw,\n        href: href,\n        title: title,\n        text: text\n      };\n    } else {\n      return {\n        type: 'image',\n        raw: raw,\n        href: href,\n        title: title,\n        text: _escape(text)\n      };\n    }\n  }\n\n  function indentCodeCompensation(raw, text) {\n    var matchIndentToCode = raw.match(/^(\\s+)(?:```)/);\n\n    if (matchIndentToCode === null) {\n      return text;\n    }\n\n    var indentToCode = matchIndentToCode[1];\n    return text.split('\\n').map(function (node) {\n      var matchIndentInNode = node.match(/^\\s+/);\n\n      if (matchIndentInNode === null) {\n        return node;\n      }\n\n      var indentInNode = matchIndentInNode[0];\n\n      if (indentInNode.length >= indentToCode.length) {\n        return node.slice(indentToCode.length);\n      }\n\n      return node;\n    }).join('\\n');\n  }\n  /**\n   * Tokenizer\n   */\n\n\n  var Tokenizer_1 = /*#__PURE__*/function () {\n    function Tokenizer(options) {\n      this.options = options || defaults$4;\n    }\n\n    var _proto = Tokenizer.prototype;\n\n    _proto.space = function space(src) {\n      var cap = this.rules.block.newline.exec(src);\n\n      if (cap) {\n        if (cap[0].length > 1) {\n          return {\n            type: 'space',\n            raw: cap[0]\n          };\n        }\n\n        return {\n          raw: '\\n'\n        };\n      }\n    };\n\n    _proto.code = function code(src) {\n      var cap = this.rules.block.code.exec(src);\n\n      if (cap) {\n        var text = cap[0].replace(/^ {1,4}/gm, '');\n        return {\n          type: 'code',\n          raw: cap[0],\n          codeBlockStyle: 'indented',\n          text: !this.options.pedantic ? rtrim(text, '\\n') : text\n        };\n      }\n    };\n\n    _proto.fences = function fences(src) {\n      var cap = this.rules.block.fences.exec(src);\n\n      if (cap) {\n        var raw = cap[0];\n        var text = indentCodeCompensation(raw, cap[3] || '');\n        return {\n          type: 'code',\n          raw: raw,\n          lang: cap[2] ? cap[2].trim() : cap[2],\n          text: text\n        };\n      }\n    };\n\n    _proto.heading = function heading(src) {\n      var cap = this.rules.block.heading.exec(src);\n\n      if (cap) {\n        var text = cap[2].trim(); // remove trailing #s\n\n        if (/#$/.test(text)) {\n          var trimmed = rtrim(text, '#');\n\n          if (this.options.pedantic) {\n            text = trimmed.trim();\n          } else if (!trimmed || / $/.test(trimmed)) {\n            // CommonMark requires space before trailing #s\n            text = trimmed.trim();\n          }\n        }\n\n        return {\n          type: 'heading',\n          raw: cap[0],\n          depth: cap[1].length,\n          text: text\n        };\n      }\n    };\n\n    _proto.nptable = function nptable(src) {\n      var cap = this.rules.block.nptable.exec(src);\n\n      if (cap) {\n        var item = {\n          type: 'table',\n          header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n          align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n          cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : [],\n          raw: cap[0]\n        };\n\n        if (item.header.length === item.align.length) {\n          var l = item.align.length;\n          var i;\n\n          for (i = 0; i < l; i++) {\n            if (/^ *-+: *$/.test(item.align[i])) {\n              item.align[i] = 'right';\n            } else if (/^ *:-+: *$/.test(item.align[i])) {\n              item.align[i] = 'center';\n            } else if (/^ *:-+ *$/.test(item.align[i])) {\n              item.align[i] = 'left';\n            } else {\n              item.align[i] = null;\n            }\n          }\n\n          l = item.cells.length;\n\n          for (i = 0; i < l; i++) {\n            item.cells[i] = splitCells(item.cells[i], item.header.length);\n          }\n\n          return item;\n        }\n      }\n    };\n\n    _proto.hr = function hr(src) {\n      var cap = this.rules.block.hr.exec(src);\n\n      if (cap) {\n        return {\n          type: 'hr',\n          raw: cap[0]\n        };\n      }\n    };\n\n    _proto.blockquote = function blockquote(src) {\n      var cap = this.rules.block.blockquote.exec(src);\n\n      if (cap) {\n        var text = cap[0].replace(/^ *> ?/gm, '');\n        return {\n          type: 'blockquote',\n          raw: cap[0],\n          text: text\n        };\n      }\n    };\n\n    _proto.list = function list(src) {\n      var cap = this.rules.block.list.exec(src);\n\n      if (cap) {\n        var raw = cap[0];\n        var bull = cap[2];\n        var isordered = bull.length > 1;\n        var list = {\n          type: 'list',\n          raw: raw,\n          ordered: isordered,\n          start: isordered ? +bull.slice(0, -1) : '',\n          loose: false,\n          items: []\n        }; // Get each top-level item.\n\n        var itemMatch = cap[0].match(this.rules.block.item);\n        var next = false,\n            item,\n            space,\n            bcurr,\n            bnext,\n            addBack,\n            loose,\n            istask,\n            ischecked,\n            endMatch;\n        var l = itemMatch.length;\n        bcurr = this.rules.block.listItemStart.exec(itemMatch[0]);\n\n        for (var i = 0; i < l; i++) {\n          item = itemMatch[i];\n          raw = item;\n\n          if (!this.options.pedantic) {\n            // Determine if current item contains the end of the list\n            endMatch = item.match(new RegExp('\\\\n\\\\s*\\\\n {0,' + (bcurr[0].length - 1) + '}\\\\S'));\n\n            if (endMatch) {\n              addBack = item.length - endMatch.index + itemMatch.slice(i + 1).join('\\n').length;\n              list.raw = list.raw.substring(0, list.raw.length - addBack);\n              item = item.substring(0, endMatch.index);\n              raw = item;\n              l = i + 1;\n            }\n          } // Determine whether the next list item belongs here.\n          // Backpedal if it does not belong in this list.\n\n\n          if (i !== l - 1) {\n            bnext = this.rules.block.listItemStart.exec(itemMatch[i + 1]);\n\n            if (!this.options.pedantic ? bnext[1].length >= bcurr[0].length || bnext[1].length > 3 : bnext[1].length > bcurr[1].length) {\n              // nested list or continuation\n              itemMatch.splice(i, 2, itemMatch[i] + (!this.options.pedantic && bnext[1].length < bcurr[0].length && !itemMatch[i].match(/\\n$/) ? '' : '\\n') + itemMatch[i + 1]);\n              i--;\n              l--;\n              continue;\n            } else if ( // different bullet style\n            !this.options.pedantic || this.options.smartLists ? bnext[2][bnext[2].length - 1] !== bull[bull.length - 1] : isordered === (bnext[2].length === 1)) {\n              addBack = itemMatch.slice(i + 1).join('\\n').length;\n              list.raw = list.raw.substring(0, list.raw.length - addBack);\n              i = l - 1;\n            }\n\n            bcurr = bnext;\n          } // Remove the list item's bullet\n          // so it is seen as the next token.\n\n\n          space = item.length;\n          item = item.replace(/^ *([*+-]|\\d+[.)]) ?/, ''); // Outdent whatever the\n          // list item contains. Hacky.\n\n          if (~item.indexOf('\\n ')) {\n            space -= item.length;\n            item = !this.options.pedantic ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '') : item.replace(/^ {1,4}/gm, '');\n          } // trim item newlines at end\n\n\n          item = rtrim(item, '\\n');\n\n          if (i !== l - 1) {\n            raw = raw + '\\n';\n          } // Determine whether item is loose or not.\n          // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n          // for discount behavior.\n\n\n          loose = next || /\\n\\n(?!\\s*$)/.test(raw);\n\n          if (i !== l - 1) {\n            next = raw.slice(-2) === '\\n\\n';\n            if (!loose) loose = next;\n          }\n\n          if (loose) {\n            list.loose = true;\n          } // Check for task list items\n\n\n          if (this.options.gfm) {\n            istask = /^\\[[ xX]\\] /.test(item);\n            ischecked = undefined;\n\n            if (istask) {\n              ischecked = item[1] !== ' ';\n              item = item.replace(/^\\[[ xX]\\] +/, '');\n            }\n          }\n\n          list.items.push({\n            type: 'list_item',\n            raw: raw,\n            task: istask,\n            checked: ischecked,\n            loose: loose,\n            text: item\n          });\n        }\n\n        return list;\n      }\n    };\n\n    _proto.html = function html(src) {\n      var cap = this.rules.block.html.exec(src);\n\n      if (cap) {\n        return {\n          type: this.options.sanitize ? 'paragraph' : 'html',\n          raw: cap[0],\n          pre: !this.options.sanitizer && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n          text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0]\n        };\n      }\n    };\n\n    _proto.def = function def(src) {\n      var cap = this.rules.block.def.exec(src);\n\n      if (cap) {\n        if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n        var tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n        return {\n          type: 'def',\n          tag: tag,\n          raw: cap[0],\n          href: cap[2],\n          title: cap[3]\n        };\n      }\n    };\n\n    _proto.table = function table(src) {\n      var cap = this.rules.block.table.exec(src);\n\n      if (cap) {\n        var item = {\n          type: 'table',\n          header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n          align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n          cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n        };\n\n        if (item.header.length === item.align.length) {\n          item.raw = cap[0];\n          var l = item.align.length;\n          var i;\n\n          for (i = 0; i < l; i++) {\n            if (/^ *-+: *$/.test(item.align[i])) {\n              item.align[i] = 'right';\n            } else if (/^ *:-+: *$/.test(item.align[i])) {\n              item.align[i] = 'center';\n            } else if (/^ *:-+ *$/.test(item.align[i])) {\n              item.align[i] = 'left';\n            } else {\n              item.align[i] = null;\n            }\n          }\n\n          l = item.cells.length;\n\n          for (i = 0; i < l; i++) {\n            item.cells[i] = splitCells(item.cells[i].replace(/^ *\\| *| *\\| *$/g, ''), item.header.length);\n          }\n\n          return item;\n        }\n      }\n    };\n\n    _proto.lheading = function lheading(src) {\n      var cap = this.rules.block.lheading.exec(src);\n\n      if (cap) {\n        return {\n          type: 'heading',\n          raw: cap[0],\n          depth: cap[2].charAt(0) === '=' ? 1 : 2,\n          text: cap[1]\n        };\n      }\n    };\n\n    _proto.paragraph = function paragraph(src) {\n      var cap = this.rules.block.paragraph.exec(src);\n\n      if (cap) {\n        return {\n          type: 'paragraph',\n          raw: cap[0],\n          text: cap[1].charAt(cap[1].length - 1) === '\\n' ? cap[1].slice(0, -1) : cap[1]\n        };\n      }\n    };\n\n    _proto.text = function text(src) {\n      var cap = this.rules.block.text.exec(src);\n\n      if (cap) {\n        return {\n          type: 'text',\n          raw: cap[0],\n          text: cap[0]\n        };\n      }\n    };\n\n    _proto.escape = function escape(src) {\n      var cap = this.rules.inline.escape.exec(src);\n\n      if (cap) {\n        return {\n          type: 'escape',\n          raw: cap[0],\n          text: _escape(cap[1])\n        };\n      }\n    };\n\n    _proto.tag = function tag(src, inLink, inRawBlock) {\n      var cap = this.rules.inline.tag.exec(src);\n\n      if (cap) {\n        if (!inLink && /^<a /i.test(cap[0])) {\n          inLink = true;\n        } else if (inLink && /^<\\/a>/i.test(cap[0])) {\n          inLink = false;\n        }\n\n        if (!inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n          inRawBlock = true;\n        } else if (inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n          inRawBlock = false;\n        }\n\n        return {\n          type: this.options.sanitize ? 'text' : 'html',\n          raw: cap[0],\n          inLink: inLink,\n          inRawBlock: inRawBlock,\n          text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0]\n        };\n      }\n    };\n\n    _proto.link = function link(src) {\n      var cap = this.rules.inline.link.exec(src);\n\n      if (cap) {\n        var trimmedUrl = cap[2].trim();\n\n        if (!this.options.pedantic && /^</.test(trimmedUrl)) {\n          // commonmark requires matching angle brackets\n          if (!/>$/.test(trimmedUrl)) {\n            return;\n          } // ending angle bracket cannot be escaped\n\n\n          var rtrimSlash = rtrim(trimmedUrl.slice(0, -1), '\\\\');\n\n          if ((trimmedUrl.length - rtrimSlash.length) % 2 === 0) {\n            return;\n          }\n        } else {\n          // find closing parenthesis\n          var lastParenIndex = findClosingBracket(cap[2], '()');\n\n          if (lastParenIndex > -1) {\n            var start = cap[0].indexOf('!') === 0 ? 5 : 4;\n            var linkLen = start + cap[1].length + lastParenIndex;\n            cap[2] = cap[2].substring(0, lastParenIndex);\n            cap[0] = cap[0].substring(0, linkLen).trim();\n            cap[3] = '';\n          }\n        }\n\n        var href = cap[2];\n        var title = '';\n\n        if (this.options.pedantic) {\n          // split pedantic href and title\n          var link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n\n          if (link) {\n            href = link[1];\n            title = link[3];\n          }\n        } else {\n          title = cap[3] ? cap[3].slice(1, -1) : '';\n        }\n\n        href = href.trim();\n\n        if (/^</.test(href)) {\n          if (this.options.pedantic && !/>$/.test(trimmedUrl)) {\n            // pedantic allows starting angle bracket without ending angle bracket\n            href = href.slice(1);\n          } else {\n            href = href.slice(1, -1);\n          }\n        }\n\n        return outputLink(cap, {\n          href: href ? href.replace(this.rules.inline._escapes, '$1') : href,\n          title: title ? title.replace(this.rules.inline._escapes, '$1') : title\n        }, cap[0]);\n      }\n    };\n\n    _proto.reflink = function reflink(src, links) {\n      var cap;\n\n      if ((cap = this.rules.inline.reflink.exec(src)) || (cap = this.rules.inline.nolink.exec(src))) {\n        var link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n        link = links[link.toLowerCase()];\n\n        if (!link || !link.href) {\n          var text = cap[0].charAt(0);\n          return {\n            type: 'text',\n            raw: text,\n            text: text\n          };\n        }\n\n        return outputLink(cap, link, cap[0]);\n      }\n    };\n\n    _proto.emStrong = function emStrong(src, maskedSrc, prevChar) {\n      if (prevChar === void 0) {\n        prevChar = '';\n      }\n\n      var match = this.rules.inline.emStrong.lDelim.exec(src);\n      if (!match) return; // _ can't be between two alphanumerics. \\p{L}\\p{N} includes non-english alphabet/numbers as well\n\n      if (match[3] && prevChar.match(/(?:[0-9A-Za-z\\xAA\\xB2\\xB3\\xB5\\xB9\\xBA\\xBC-\\xBE\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0560-\\u0588\\u05D0-\\u05EA\\u05EF-\\u05F2\\u0620-\\u064A\\u0660-\\u0669\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07C0-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086A\\u08A0-\\u08B4\\u08B6-\\u08C7\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0966-\\u096F\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09E6-\\u09F1\\u09F4-\\u09F9\\u09FC\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A6F\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AE6-\\u0AEF\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B66-\\u0B6F\\u0B71-\\u0B77\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0BE6-\\u0BF2\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C66-\\u0C6F\\u0C78-\\u0C7E\\u0C80\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D04-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D54-\\u0D56\\u0D58-\\u0D61\\u0D66-\\u0D78\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DE6-\\u0DEF\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E86-\\u0E8A\\u0E8C-\\u0EA3\\u0EA5\\u0EA7-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F20-\\u0F33\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F-\\u1049\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u1090-\\u1099\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1369-\\u137C\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u17E0-\\u17E9\\u17F0-\\u17F9\\u1810-\\u1819\\u1820-\\u1878\\u1880-\\u1884\\u1887-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19DA\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B50-\\u1B59\\u1B83-\\u1BA0\\u1BAE-\\u1BE5\\u1C00-\\u1C23\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1C80-\\u1C88\\u1C90-\\u1CBA\\u1CBD-\\u1CBF\\u1CE9-\\u1CEC\\u1CEE-\\u1CF3\\u1CF5\\u1CF6\\u1CFA\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2070\\u2071\\u2074-\\u2079\\u207F-\\u2089\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2150-\\u2189\\u2460-\\u249B\\u24EA-\\u24FF\\u2776-\\u2793\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2CFD\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312F\\u3131-\\u318E\\u3192-\\u3195\\u31A0-\\u31BF\\u31F0-\\u31FF\\u3220-\\u3229\\u3248-\\u324F\\u3251-\\u325F\\u3280-\\u3289\\u32B1-\\u32BF\\u3400-\\u4DBF\\u4E00-\\u9FFC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7BF\\uA7C2-\\uA7CA\\uA7F5-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA830-\\uA835\\uA840-\\uA873\\uA882-\\uA8B3\\uA8D0-\\uA8D9\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA8FE\\uA900-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF-\\uA9D9\\uA9E0-\\uA9E4\\uA9E6-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB69\\uAB70-\\uABE2\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD07-\\uDD33\\uDD40-\\uDD78\\uDD8A\\uDD8B\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDEE1-\\uDEFB\\uDF00-\\uDF23\\uDF2D-\\uDF4A\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCA0-\\uDCA9\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC58-\\uDC76\\uDC79-\\uDC9E\\uDCA7-\\uDCAF\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDCFB-\\uDD1B\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBC-\\uDDCF\\uDDD2-\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE35\\uDE40-\\uDE48\\uDE60-\\uDE7E\\uDE80-\\uDE9F\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDEEB-\\uDEEF\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF58-\\uDF72\\uDF78-\\uDF91\\uDFA9-\\uDFAF]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2\\uDCFA-\\uDD23\\uDD30-\\uDD39\\uDE60-\\uDE7E\\uDE80-\\uDEA9\\uDEB0\\uDEB1\\uDF00-\\uDF27\\uDF30-\\uDF45\\uDF51-\\uDF54\\uDFB0-\\uDFCB\\uDFE0-\\uDFF6]|\\uD804[\\uDC03-\\uDC37\\uDC52-\\uDC6F\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDCF0-\\uDCF9\\uDD03-\\uDD26\\uDD36-\\uDD3F\\uDD44\\uDD47\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDD0-\\uDDDA\\uDDDC\\uDDE1-\\uDDF4\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDEF0-\\uDEF9\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC00-\\uDC34\\uDC47-\\uDC4A\\uDC50-\\uDC59\\uDC5F-\\uDC61\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDCD0-\\uDCD9\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE50-\\uDE59\\uDE80-\\uDEAA\\uDEB8\\uDEC0-\\uDEC9\\uDF00-\\uDF1A\\uDF30-\\uDF3B]|\\uD806[\\uDC00-\\uDC2B\\uDCA0-\\uDCF2\\uDCFF-\\uDD06\\uDD09\\uDD0C-\\uDD13\\uDD15\\uDD16\\uDD18-\\uDD2F\\uDD3F\\uDD41\\uDD50-\\uDD59\\uDDA0-\\uDDA7\\uDDAA-\\uDDD0\\uDDE1\\uDDE3\\uDE00\\uDE0B-\\uDE32\\uDE3A\\uDE50\\uDE5C-\\uDE89\\uDE9D\\uDEC0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC2E\\uDC40\\uDC50-\\uDC6C\\uDC72-\\uDC8F\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD30\\uDD46\\uDD50-\\uDD59\\uDD60-\\uDD65\\uDD67\\uDD68\\uDD6A-\\uDD89\\uDD98\\uDDA0-\\uDDA9\\uDEE0-\\uDEF2\\uDFB0\\uDFC0-\\uDFD4]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|[\\uD80C\\uD81C-\\uD820\\uD822\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879\\uD880-\\uD883][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDE60-\\uDE69\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF50-\\uDF59\\uDF5B-\\uDF61\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDE40-\\uDE96\\uDF00-\\uDF4A\\uDF50\\uDF93-\\uDF9F\\uDFE0\\uDFE1\\uDFE3]|\\uD821[\\uDC00-\\uDFF7]|\\uD823[\\uDC00-\\uDCD5\\uDD00-\\uDD08]|\\uD82C[\\uDC00-\\uDD1E\\uDD50-\\uDD52\\uDD64-\\uDD67\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD834[\\uDEE0-\\uDEF3\\uDF60-\\uDF78]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB\\uDFCE-\\uDFFF]|\\uD838[\\uDD00-\\uDD2C\\uDD37-\\uDD3D\\uDD40-\\uDD49\\uDD4E\\uDEC0-\\uDEEB\\uDEF0-\\uDEF9]|\\uD83A[\\uDC00-\\uDCC4\\uDCC7-\\uDCCF\\uDD00-\\uDD43\\uDD4B\\uDD50-\\uDD59]|\\uD83B[\\uDC71-\\uDCAB\\uDCAD-\\uDCAF\\uDCB1-\\uDCB4\\uDD01-\\uDD2D\\uDD2F-\\uDD3D\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD83C[\\uDD00-\\uDD0C]|\\uD83E[\\uDFF0-\\uDFF9]|\\uD869[\\uDC00-\\uDEDD\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D]|\\uD884[\\uDC00-\\uDF4A])/)) return;\n      var nextChar = match[1] || match[2] || '';\n\n      if (!nextChar || nextChar && (prevChar === '' || this.rules.inline.punctuation.exec(prevChar))) {\n        var lLength = match[0].length - 1;\n        var rDelim,\n            rLength,\n            delimTotal = lLength,\n            midDelimTotal = 0;\n        var endReg = match[0][0] === '*' ? this.rules.inline.emStrong.rDelimAst : this.rules.inline.emStrong.rDelimUnd;\n        endReg.lastIndex = 0; // Clip maskedSrc to same section of string as src (move to lexer?)\n\n        maskedSrc = maskedSrc.slice(-1 * src.length + lLength);\n\n        while ((match = endReg.exec(maskedSrc)) != null) {\n          rDelim = match[1] || match[2] || match[3] || match[4] || match[5] || match[6];\n          if (!rDelim) continue; // skip single * in __abc*abc__\n\n          rLength = rDelim.length;\n\n          if (match[3] || match[4]) {\n            // found another Left Delim\n            delimTotal += rLength;\n            continue;\n          } else if (match[5] || match[6]) {\n            // either Left or Right Delim\n            if (lLength % 3 && !((lLength + rLength) % 3)) {\n              midDelimTotal += rLength;\n              continue; // CommonMark Emphasis Rules 9-10\n            }\n          }\n\n          delimTotal -= rLength;\n          if (delimTotal > 0) continue; // Haven't found enough closing delimiters\n          // Remove extra characters. *a*** -> *a*\n\n          rLength = Math.min(rLength, rLength + delimTotal + midDelimTotal); // Create `em` if smallest delimiter has odd char count. *a***\n\n          if (Math.min(lLength, rLength) % 2) {\n            return {\n              type: 'em',\n              raw: src.slice(0, lLength + match.index + rLength + 1),\n              text: src.slice(1, lLength + match.index + rLength)\n            };\n          } // Create 'strong' if smallest delimiter has even char count. **a***\n\n\n          return {\n            type: 'strong',\n            raw: src.slice(0, lLength + match.index + rLength + 1),\n            text: src.slice(2, lLength + match.index + rLength - 1)\n          };\n        }\n      }\n    };\n\n    _proto.codespan = function codespan(src) {\n      var cap = this.rules.inline.code.exec(src);\n\n      if (cap) {\n        var text = cap[2].replace(/\\n/g, ' ');\n        var hasNonSpaceChars = /[^ ]/.test(text);\n        var hasSpaceCharsOnBothEnds = /^ /.test(text) && / $/.test(text);\n\n        if (hasNonSpaceChars && hasSpaceCharsOnBothEnds) {\n          text = text.substring(1, text.length - 1);\n        }\n\n        text = _escape(text, true);\n        return {\n          type: 'codespan',\n          raw: cap[0],\n          text: text\n        };\n      }\n    };\n\n    _proto.br = function br(src) {\n      var cap = this.rules.inline.br.exec(src);\n\n      if (cap) {\n        return {\n          type: 'br',\n          raw: cap[0]\n        };\n      }\n    };\n\n    _proto.del = function del(src) {\n      var cap = this.rules.inline.del.exec(src);\n\n      if (cap) {\n        return {\n          type: 'del',\n          raw: cap[0],\n          text: cap[2]\n        };\n      }\n    };\n\n    _proto.autolink = function autolink(src, mangle) {\n      var cap = this.rules.inline.autolink.exec(src);\n\n      if (cap) {\n        var text, href;\n\n        if (cap[2] === '@') {\n          text = _escape(this.options.mangle ? mangle(cap[1]) : cap[1]);\n          href = 'mailto:' + text;\n        } else {\n          text = _escape(cap[1]);\n          href = text;\n        }\n\n        return {\n          type: 'link',\n          raw: cap[0],\n          text: text,\n          href: href,\n          tokens: [{\n            type: 'text',\n            raw: text,\n            text: text\n          }]\n        };\n      }\n    };\n\n    _proto.url = function url(src, mangle) {\n      var cap;\n\n      if (cap = this.rules.inline.url.exec(src)) {\n        var text, href;\n\n        if (cap[2] === '@') {\n          text = _escape(this.options.mangle ? mangle(cap[0]) : cap[0]);\n          href = 'mailto:' + text;\n        } else {\n          // do extended autolink path validation\n          var prevCapZero;\n\n          do {\n            prevCapZero = cap[0];\n            cap[0] = this.rules.inline._backpedal.exec(cap[0])[0];\n          } while (prevCapZero !== cap[0]);\n\n          text = _escape(cap[0]);\n\n          if (cap[1] === 'www.') {\n            href = 'http://' + text;\n          } else {\n            href = text;\n          }\n        }\n\n        return {\n          type: 'link',\n          raw: cap[0],\n          text: text,\n          href: href,\n          tokens: [{\n            type: 'text',\n            raw: text,\n            text: text\n          }]\n        };\n      }\n    };\n\n    _proto.inlineText = function inlineText(src, inRawBlock, smartypants) {\n      var cap = this.rules.inline.text.exec(src);\n\n      if (cap) {\n        var text;\n\n        if (inRawBlock) {\n          text = this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0];\n        } else {\n          text = _escape(this.options.smartypants ? smartypants(cap[0]) : cap[0]);\n        }\n\n        return {\n          type: 'text',\n          raw: cap[0],\n          text: text\n        };\n      }\n    };\n\n    return Tokenizer;\n  }();\n\n  var noopTest = helpers.noopTest,\n      edit = helpers.edit,\n      merge$1 = helpers.merge;\n  /**\n   * Block-Level Grammar\n   */\n\n  var block$1 = {\n    newline: /^(?: *(?:\\n|$))+/,\n    code: /^( {4}[^\\n]+(?:\\n(?: *(?:\\n|$))*)?)+/,\n    fences: /^ {0,3}(`{3,}(?=[^`\\n]*\\n)|~{3,})([^\\n]*)\\n(?:|([\\s\\S]*?)\\n)(?: {0,3}\\1[~`]* *(?:\\n+|$)|$)/,\n    hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)/,\n    heading: /^ {0,3}(#{1,6})(?=\\s|$)(.*)(?:\\n+|$)/,\n    blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n    list: /^( {0,3})(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?! {0,3}bull )\\n*|\\s*$)/,\n    html: '^ {0,3}(?:' // optional indentation\n    + '<(script|pre|style|textarea)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n    + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n    + '|<\\\\?[\\\\s\\\\S]*?(?:\\\\?>\\\\n*|$)' // (3)\n    + '|<![A-Z][\\\\s\\\\S]*?(?:>\\\\n*|$)' // (4)\n    + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?(?:\\\\]\\\\]>\\\\n*|$)' // (5)\n    + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (6)\n    + '|<(?!script|pre|style|textarea)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (7) open tag\n    + '|</(?!script|pre|style|textarea)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (7) closing tag\n    + ')',\n    def: /^ {0,3}\\[(label)\\]: *\\n? *<?([^\\s>]+)>?(?:(?: +\\n? *| *\\n *)(title))? *(?:\\n+|$)/,\n    nptable: noopTest,\n    table: noopTest,\n    lheading: /^([^\\n]+)\\n {0,3}(=+|-+) *(?:\\n+|$)/,\n    // regex template, placeholders will be replaced according to different paragraph\n    // interruption rules of commonmark and the original markdown spec:\n    _paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading|blockquote|fences|list|html| +\\n)[^\\n]+)*)/,\n    text: /^[^\\n]+/\n  };\n  block$1._label = /(?!\\s*\\])(?:\\\\[\\[\\]]|[^\\[\\]])+/;\n  block$1._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\n  block$1.def = edit(block$1.def).replace('label', block$1._label).replace('title', block$1._title).getRegex();\n  block$1.bullet = /(?:[*+-]|\\d{1,9}[.)])/;\n  block$1.item = /^( *)(bull) ?[^\\n]*(?:\\n(?! *bull ?)[^\\n]*)*/;\n  block$1.item = edit(block$1.item, 'gm').replace(/bull/g, block$1.bullet).getRegex();\n  block$1.listItemStart = edit(/^( *)(bull) */).replace('bull', block$1.bullet).getRegex();\n  block$1.list = edit(block$1.list).replace(/bull/g, block$1.bullet).replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))').replace('def', '\\\\n+(?=' + block$1.def.source + ')').getRegex();\n  block$1._tag = 'address|article|aside|base|basefont|blockquote|body|caption' + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption' + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe' + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option' + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr' + '|track|ul';\n  block$1._comment = /<!--(?!-?>)[\\s\\S]*?(?:-->|$)/;\n  block$1.html = edit(block$1.html, 'i').replace('comment', block$1._comment).replace('tag', block$1._tag).replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/).getRegex();\n  block$1.paragraph = edit(block$1._paragraph).replace('hr', block$1.hr).replace('heading', ' {0,3}#{1,6} ').replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n  .replace('blockquote', ' {0,3}>').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)').replace('tag', block$1._tag) // pars can be interrupted by type (6) html blocks\n  .getRegex();\n  block$1.blockquote = edit(block$1.blockquote).replace('paragraph', block$1.paragraph).getRegex();\n  /**\n   * Normal Block Grammar\n   */\n\n  block$1.normal = merge$1({}, block$1);\n  /**\n   * GFM Block Grammar\n   */\n\n  block$1.gfm = merge$1({}, block$1.normal, {\n    nptable: '^ *([^|\\\\n ].*\\\\|.*)\\\\n' // Header\n    + ' {0,3}([-:]+ *\\\\|[-| :]*)' // Align\n    + '(?:\\\\n((?:(?!\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)',\n    // Cells\n    table: '^ *\\\\|(.+)\\\\n' // Header\n    + ' {0,3}\\\\|?( *[-:]+[-| :]*)' // Align\n    + '(?:\\\\n *((?:(?!\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)' // Cells\n\n  });\n  block$1.gfm.nptable = edit(block$1.gfm.nptable).replace('hr', block$1.hr).replace('heading', ' {0,3}#{1,6} ').replace('blockquote', ' {0,3}>').replace('code', ' {4}[^\\\\n]').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)').replace('tag', block$1._tag) // tables can be interrupted by type (6) html blocks\n  .getRegex();\n  block$1.gfm.table = edit(block$1.gfm.table).replace('hr', block$1.hr).replace('heading', ' {0,3}#{1,6} ').replace('blockquote', ' {0,3}>').replace('code', ' {4}[^\\\\n]').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)').replace('tag', block$1._tag) // tables can be interrupted by type (6) html blocks\n  .getRegex();\n  /**\n   * Pedantic grammar (original John Gruber's loose markdown specification)\n   */\n\n  block$1.pedantic = merge$1({}, block$1.normal, {\n    html: edit('^ *(?:comment *(?:\\\\n|\\\\s*$)' + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n    + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))').replace('comment', block$1._comment).replace(/tag/g, '(?!(?:' + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub' + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)' + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b').getRegex(),\n    def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/,\n    heading: /^(#{1,6})(.*)(?:\\n+|$)/,\n    fences: noopTest,\n    // fences not supported\n    paragraph: edit(block$1.normal._paragraph).replace('hr', block$1.hr).replace('heading', ' *#{1,6} *[^\\n]').replace('lheading', block$1.lheading).replace('blockquote', ' {0,3}>').replace('|fences', '').replace('|list', '').replace('|html', '').getRegex()\n  });\n  /**\n   * Inline-Level Grammar\n   */\n\n  var inline$1 = {\n    escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n    autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n    url: noopTest,\n    tag: '^comment' + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n    + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n    + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n    + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n    + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>',\n    // CDATA section\n    link: /^!?\\[(label)\\]\\(\\s*(href)(?:\\s+(title))?\\s*\\)/,\n    reflink: /^!?\\[(label)\\]\\[(?!\\s*\\])((?:\\\\[\\[\\]]?|[^\\[\\]\\\\])+)\\]/,\n    nolink: /^!?\\[(?!\\s*\\])((?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]])*)\\](?:\\[\\])?/,\n    reflinkSearch: 'reflink|nolink(?!\\\\()',\n    emStrong: {\n      lDelim: /^(?:\\*+(?:([punct_])|[^\\s*]))|^_+(?:([punct*])|([^\\s_]))/,\n      //        (1) and (2) can only be a Right Delimiter. (3) and (4) can only be Left.  (5) and (6) can be either Left or Right.\n      //        () Skip other delimiter (1) #***                   (2) a***#, a***                   (3) #***a, ***a                 (4) ***#              (5) #***#                 (6) a***a\n      rDelimAst: /\\_\\_[^_*]*?\\*[^_*]*?\\_\\_|[punct_](\\*+)(?=[\\s]|$)|[^punct*_\\s](\\*+)(?=[punct_\\s]|$)|[punct_\\s](\\*+)(?=[^punct*_\\s])|[\\s](\\*+)(?=[punct_])|[punct_](\\*+)(?=[punct_])|[^punct*_\\s](\\*+)(?=[^punct*_\\s])/,\n      rDelimUnd: /\\*\\*[^_*]*?\\_[^_*]*?\\*\\*|[punct*](\\_+)(?=[\\s]|$)|[^punct*_\\s](\\_+)(?=[punct*\\s]|$)|[punct*\\s](\\_+)(?=[^punct*_\\s])|[\\s](\\_+)(?=[punct*])|[punct*](\\_+)(?=[punct*])/ // ^- Not allowed for _\n\n    },\n    code: /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n    br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n    del: noopTest,\n    text: /^(`+|[^`])(?:(?= {2,}\\n)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*_]|\\b_|$)|[^ ](?= {2,}\\n)))/,\n    punctuation: /^([\\spunctuation])/\n  }; // list of punctuation marks from CommonMark spec\n  // without * and _ to handle the different emphasis markers * and _\n\n  inline$1._punctuation = '!\"#$%&\\'()+\\\\-.,/:;<=>?@\\\\[\\\\]`^{|}~';\n  inline$1.punctuation = edit(inline$1.punctuation).replace(/punctuation/g, inline$1._punctuation).getRegex(); // sequences em should skip over [title](link), `code`, <html>\n\n  inline$1.blockSkip = /\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>/g;\n  inline$1.escapedEmSt = /\\\\\\*|\\\\_/g;\n  inline$1._comment = edit(block$1._comment).replace('(?:-->|$)', '-->').getRegex();\n  inline$1.emStrong.lDelim = edit(inline$1.emStrong.lDelim).replace(/punct/g, inline$1._punctuation).getRegex();\n  inline$1.emStrong.rDelimAst = edit(inline$1.emStrong.rDelimAst, 'g').replace(/punct/g, inline$1._punctuation).getRegex();\n  inline$1.emStrong.rDelimUnd = edit(inline$1.emStrong.rDelimUnd, 'g').replace(/punct/g, inline$1._punctuation).getRegex();\n  inline$1._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g;\n  inline$1._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\n  inline$1._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\n  inline$1.autolink = edit(inline$1.autolink).replace('scheme', inline$1._scheme).replace('email', inline$1._email).getRegex();\n  inline$1._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\n  inline$1.tag = edit(inline$1.tag).replace('comment', inline$1._comment).replace('attribute', inline$1._attribute).getRegex();\n  inline$1._label = /(?:\\[(?:\\\\.|[^\\[\\]\\\\])*\\]|\\\\.|`[^`]*`|[^\\[\\]\\\\`])*?/;\n  inline$1._href = /<(?:\\\\.|[^\\n<>\\\\])+>|[^\\s\\x00-\\x1f]*/;\n  inline$1._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\n  inline$1.link = edit(inline$1.link).replace('label', inline$1._label).replace('href', inline$1._href).replace('title', inline$1._title).getRegex();\n  inline$1.reflink = edit(inline$1.reflink).replace('label', inline$1._label).getRegex();\n  inline$1.reflinkSearch = edit(inline$1.reflinkSearch, 'g').replace('reflink', inline$1.reflink).replace('nolink', inline$1.nolink).getRegex();\n  /**\n   * Normal Inline Grammar\n   */\n\n  inline$1.normal = merge$1({}, inline$1);\n  /**\n   * Pedantic Inline Grammar\n   */\n\n  inline$1.pedantic = merge$1({}, inline$1.normal, {\n    strong: {\n      start: /^__|\\*\\*/,\n      middle: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n      endAst: /\\*\\*(?!\\*)/g,\n      endUnd: /__(?!_)/g\n    },\n    em: {\n      start: /^_|\\*/,\n      middle: /^()\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)|^_(?=\\S)([\\s\\S]*?\\S)_(?!_)/,\n      endAst: /\\*(?!\\*)/g,\n      endUnd: /_(?!_)/g\n    },\n    link: edit(/^!?\\[(label)\\]\\((.*?)\\)/).replace('label', inline$1._label).getRegex(),\n    reflink: edit(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/).replace('label', inline$1._label).getRegex()\n  });\n  /**\n   * GFM Inline Grammar\n   */\n\n  inline$1.gfm = merge$1({}, inline$1.normal, {\n    escape: edit(inline$1.escape).replace('])', '~|])').getRegex(),\n    _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,\n    url: /^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n    _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n    del: /^(~~?)(?=[^\\s~])([\\s\\S]*?[^\\s~])\\1(?=[^~]|$)/,\n    text: /^([`~]+|[^`~])(?:(?= {2,}\\n)|(?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*~_]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)))/\n  });\n  inline$1.gfm.url = edit(inline$1.gfm.url, 'i').replace('email', inline$1.gfm._extended_email).getRegex();\n  /**\n   * GFM + Line Breaks Inline Grammar\n   */\n\n  inline$1.breaks = merge$1({}, inline$1.gfm, {\n    br: edit(inline$1.br).replace('{2,}', '*').getRegex(),\n    text: edit(inline$1.gfm.text).replace('\\\\b_', '\\\\b_| {2,}\\\\n').replace(/\\{2,\\}/g, '*').getRegex()\n  });\n  var rules = {\n    block: block$1,\n    inline: inline$1\n  };\n  var Tokenizer$1 = Tokenizer_1;\n  var defaults$3 = defaults$5.exports.defaults;\n  var block = rules.block,\n      inline = rules.inline;\n  var repeatString = helpers.repeatString;\n  /**\n   * smartypants text replacement\n   */\n\n  function smartypants(text) {\n    return text // em-dashes\n    .replace(/---/g, \"\\u2014\") // en-dashes\n    .replace(/--/g, \"\\u2013\") // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, \"$1\\u2018\") // closing singles & apostrophes\n    .replace(/'/g, \"\\u2019\") // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, \"$1\\u201C\") // closing doubles\n    .replace(/\"/g, \"\\u201D\") // ellipses\n    .replace(/\\.{3}/g, \"\\u2026\");\n  }\n  /**\n   * mangle email addresses\n   */\n\n\n  function mangle(text) {\n    var out = '',\n        i,\n        ch;\n    var l = text.length;\n\n    for (i = 0; i < l; i++) {\n      ch = text.charCodeAt(i);\n\n      if (Math.random() > 0.5) {\n        ch = 'x' + ch.toString(16);\n      }\n\n      out += '&#' + ch + ';';\n    }\n\n    return out;\n  }\n  /**\n   * Block Lexer\n   */\n\n\n  var Lexer_1 = /*#__PURE__*/function () {\n    function Lexer(options) {\n      this.tokens = [];\n      this.tokens.links = Object.create(null);\n      this.options = options || defaults$3;\n      this.options.tokenizer = this.options.tokenizer || new Tokenizer$1();\n      this.tokenizer = this.options.tokenizer;\n      this.tokenizer.options = this.options;\n      var rules = {\n        block: block.normal,\n        inline: inline.normal\n      };\n\n      if (this.options.pedantic) {\n        rules.block = block.pedantic;\n        rules.inline = inline.pedantic;\n      } else if (this.options.gfm) {\n        rules.block = block.gfm;\n\n        if (this.options.breaks) {\n          rules.inline = inline.breaks;\n        } else {\n          rules.inline = inline.gfm;\n        }\n      }\n\n      this.tokenizer.rules = rules;\n    }\n    /**\n     * Expose Rules\n     */\n\n    /**\n     * Static Lex Method\n     */\n\n\n    Lexer.lex = function lex(src, options) {\n      var lexer = new Lexer(options);\n      return lexer.lex(src);\n    }\n    /**\n     * Static Lex Inline Method\n     */\n    ;\n\n    Lexer.lexInline = function lexInline(src, options) {\n      var lexer = new Lexer(options);\n      return lexer.inlineTokens(src);\n    }\n    /**\n     * Preprocessing\n     */\n    ;\n\n    var _proto = Lexer.prototype;\n\n    _proto.lex = function lex(src) {\n      src = src.replace(/\\r\\n|\\r/g, '\\n').replace(/\\t/g, '    ');\n      this.blockTokens(src, this.tokens, true);\n      this.inline(this.tokens);\n      return this.tokens;\n    }\n    /**\n     * Lexing\n     */\n    ;\n\n    _proto.blockTokens = function blockTokens(src, tokens, top) {\n      var _this = this;\n\n      if (tokens === void 0) {\n        tokens = [];\n      }\n\n      if (top === void 0) {\n        top = true;\n      }\n\n      if (this.options.pedantic) {\n        src = src.replace(/^ +$/gm, '');\n      }\n\n      var token, i, l, lastToken, cutSrc, lastParagraphClipped;\n\n      while (src) {\n        if (this.options.extensions && this.options.extensions.block && this.options.extensions.block.some(function (extTokenizer) {\n          if (token = extTokenizer.call(_this, src, tokens)) {\n            src = src.substring(token.raw.length);\n            tokens.push(token);\n            return true;\n          }\n\n          return false;\n        })) {\n          continue;\n        } // newline\n\n\n        if (token = this.tokenizer.space(src)) {\n          src = src.substring(token.raw.length);\n\n          if (token.type) {\n            tokens.push(token);\n          }\n\n          continue;\n        } // code\n\n\n        if (token = this.tokenizer.code(src)) {\n          src = src.substring(token.raw.length);\n          lastToken = tokens[tokens.length - 1]; // An indented code block cannot interrupt a paragraph.\n\n          if (lastToken && lastToken.type === 'paragraph') {\n            lastToken.raw += '\\n' + token.raw;\n            lastToken.text += '\\n' + token.text;\n          } else {\n            tokens.push(token);\n          }\n\n          continue;\n        } // fences\n\n\n        if (token = this.tokenizer.fences(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // heading\n\n\n        if (token = this.tokenizer.heading(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // table no leading pipe (gfm)\n\n\n        if (token = this.tokenizer.nptable(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // hr\n\n\n        if (token = this.tokenizer.hr(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // blockquote\n\n\n        if (token = this.tokenizer.blockquote(src)) {\n          src = src.substring(token.raw.length);\n          token.tokens = this.blockTokens(token.text, [], top);\n          tokens.push(token);\n          continue;\n        } // list\n\n\n        if (token = this.tokenizer.list(src)) {\n          src = src.substring(token.raw.length);\n          l = token.items.length;\n\n          for (i = 0; i < l; i++) {\n            token.items[i].tokens = this.blockTokens(token.items[i].text, [], false);\n          }\n\n          tokens.push(token);\n          continue;\n        } // html\n\n\n        if (token = this.tokenizer.html(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // def\n\n\n        if (top && (token = this.tokenizer.def(src))) {\n          src = src.substring(token.raw.length);\n\n          if (!this.tokens.links[token.tag]) {\n            this.tokens.links[token.tag] = {\n              href: token.href,\n              title: token.title\n            };\n          }\n\n          continue;\n        } // table (gfm)\n\n\n        if (token = this.tokenizer.table(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // lheading\n\n\n        if (token = this.tokenizer.lheading(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // top-level paragraph\n        // prevent paragraph consuming extensions by clipping 'src' to extension start\n\n\n        cutSrc = src;\n\n        if (this.options.extensions && this.options.extensions.startBlock) {\n          (function () {\n            var startIndex = Infinity;\n            var tempSrc = src.slice(1);\n            var tempStart = void 0;\n\n            _this.options.extensions.startBlock.forEach(function (getStartIndex) {\n              tempStart = getStartIndex.call(this, tempSrc);\n\n              if (typeof tempStart === 'number' && tempStart >= 0) {\n                startIndex = Math.min(startIndex, tempStart);\n              }\n            });\n\n            if (startIndex < Infinity && startIndex >= 0) {\n              cutSrc = src.substring(0, startIndex + 1);\n            }\n          })();\n        }\n\n        if (top && (token = this.tokenizer.paragraph(cutSrc))) {\n          lastToken = tokens[tokens.length - 1];\n\n          if (lastParagraphClipped && lastToken.type === 'paragraph') {\n            lastToken.raw += '\\n' + token.raw;\n            lastToken.text += '\\n' + token.text;\n          } else {\n            tokens.push(token);\n          }\n\n          lastParagraphClipped = cutSrc.length !== src.length;\n          src = src.substring(token.raw.length);\n          continue;\n        } // text\n\n\n        if (token = this.tokenizer.text(src)) {\n          src = src.substring(token.raw.length);\n          lastToken = tokens[tokens.length - 1];\n\n          if (lastToken && lastToken.type === 'text') {\n            lastToken.raw += '\\n' + token.raw;\n            lastToken.text += '\\n' + token.text;\n          } else {\n            tokens.push(token);\n          }\n\n          continue;\n        }\n\n        if (src) {\n          var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n\n          if (this.options.silent) {\n            console.error(errMsg);\n            break;\n          } else {\n            throw new Error(errMsg);\n          }\n        }\n      }\n\n      return tokens;\n    };\n\n    _proto.inline = function inline(tokens) {\n      var i, j, k, l2, row, token;\n      var l = tokens.length;\n\n      for (i = 0; i < l; i++) {\n        token = tokens[i];\n\n        switch (token.type) {\n          case 'paragraph':\n          case 'text':\n          case 'heading':\n            {\n              token.tokens = [];\n              this.inlineTokens(token.text, token.tokens);\n              break;\n            }\n\n          case 'table':\n            {\n              token.tokens = {\n                header: [],\n                cells: []\n              }; // header\n\n              l2 = token.header.length;\n\n              for (j = 0; j < l2; j++) {\n                token.tokens.header[j] = [];\n                this.inlineTokens(token.header[j], token.tokens.header[j]);\n              } // cells\n\n\n              l2 = token.cells.length;\n\n              for (j = 0; j < l2; j++) {\n                row = token.cells[j];\n                token.tokens.cells[j] = [];\n\n                for (k = 0; k < row.length; k++) {\n                  token.tokens.cells[j][k] = [];\n                  this.inlineTokens(row[k], token.tokens.cells[j][k]);\n                }\n              }\n\n              break;\n            }\n\n          case 'blockquote':\n            {\n              this.inline(token.tokens);\n              break;\n            }\n\n          case 'list':\n            {\n              l2 = token.items.length;\n\n              for (j = 0; j < l2; j++) {\n                this.inline(token.items[j].tokens);\n              }\n\n              break;\n            }\n        }\n      }\n\n      return tokens;\n    }\n    /**\n     * Lexing/Compiling\n     */\n    ;\n\n    _proto.inlineTokens = function inlineTokens(src, tokens, inLink, inRawBlock) {\n      var _this2 = this;\n\n      if (tokens === void 0) {\n        tokens = [];\n      }\n\n      if (inLink === void 0) {\n        inLink = false;\n      }\n\n      if (inRawBlock === void 0) {\n        inRawBlock = false;\n      }\n\n      var token, lastToken, cutSrc; // String with links masked to avoid interference with em and strong\n\n      var maskedSrc = src;\n      var match;\n      var keepPrevChar, prevChar; // Mask out reflinks\n\n      if (this.tokens.links) {\n        var links = Object.keys(this.tokens.links);\n\n        if (links.length > 0) {\n          while ((match = this.tokenizer.rules.inline.reflinkSearch.exec(maskedSrc)) != null) {\n            if (links.includes(match[0].slice(match[0].lastIndexOf('[') + 1, -1))) {\n              maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex);\n            }\n          }\n        }\n      } // Mask out other blocks\n\n\n      while ((match = this.tokenizer.rules.inline.blockSkip.exec(maskedSrc)) != null) {\n        maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);\n      } // Mask out escaped em & strong delimiters\n\n\n      while ((match = this.tokenizer.rules.inline.escapedEmSt.exec(maskedSrc)) != null) {\n        maskedSrc = maskedSrc.slice(0, match.index) + '++' + maskedSrc.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);\n      }\n\n      while (src) {\n        if (!keepPrevChar) {\n          prevChar = '';\n        }\n\n        keepPrevChar = false; // extensions\n\n        if (this.options.extensions && this.options.extensions.inline && this.options.extensions.inline.some(function (extTokenizer) {\n          if (token = extTokenizer.call(_this2, src, tokens)) {\n            src = src.substring(token.raw.length);\n            tokens.push(token);\n            return true;\n          }\n\n          return false;\n        })) {\n          continue;\n        } // escape\n\n\n        if (token = this.tokenizer.escape(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // tag\n\n\n        if (token = this.tokenizer.tag(src, inLink, inRawBlock)) {\n          src = src.substring(token.raw.length);\n          inLink = token.inLink;\n          inRawBlock = token.inRawBlock;\n          lastToken = tokens[tokens.length - 1];\n\n          if (lastToken && token.type === 'text' && lastToken.type === 'text') {\n            lastToken.raw += token.raw;\n            lastToken.text += token.text;\n          } else {\n            tokens.push(token);\n          }\n\n          continue;\n        } // link\n\n\n        if (token = this.tokenizer.link(src)) {\n          src = src.substring(token.raw.length);\n\n          if (token.type === 'link') {\n            token.tokens = this.inlineTokens(token.text, [], true, inRawBlock);\n          }\n\n          tokens.push(token);\n          continue;\n        } // reflink, nolink\n\n\n        if (token = this.tokenizer.reflink(src, this.tokens.links)) {\n          src = src.substring(token.raw.length);\n          lastToken = tokens[tokens.length - 1];\n\n          if (token.type === 'link') {\n            token.tokens = this.inlineTokens(token.text, [], true, inRawBlock);\n            tokens.push(token);\n          } else if (lastToken && token.type === 'text' && lastToken.type === 'text') {\n            lastToken.raw += token.raw;\n            lastToken.text += token.text;\n          } else {\n            tokens.push(token);\n          }\n\n          continue;\n        } // em & strong\n\n\n        if (token = this.tokenizer.emStrong(src, maskedSrc, prevChar)) {\n          src = src.substring(token.raw.length);\n          token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);\n          tokens.push(token);\n          continue;\n        } // code\n\n\n        if (token = this.tokenizer.codespan(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // br\n\n\n        if (token = this.tokenizer.br(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // del (gfm)\n\n\n        if (token = this.tokenizer.del(src)) {\n          src = src.substring(token.raw.length);\n          token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);\n          tokens.push(token);\n          continue;\n        } // autolink\n\n\n        if (token = this.tokenizer.autolink(src, mangle)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // url (gfm)\n\n\n        if (!inLink && (token = this.tokenizer.url(src, mangle))) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // text\n        // prevent inlineText consuming extensions by clipping 'src' to extension start\n\n\n        cutSrc = src;\n\n        if (this.options.extensions && this.options.extensions.startInline) {\n          (function () {\n            var startIndex = Infinity;\n            var tempSrc = src.slice(1);\n            var tempStart = void 0;\n\n            _this2.options.extensions.startInline.forEach(function (getStartIndex) {\n              tempStart = getStartIndex.call(this, tempSrc);\n\n              if (typeof tempStart === 'number' && tempStart >= 0) {\n                startIndex = Math.min(startIndex, tempStart);\n              }\n            });\n\n            if (startIndex < Infinity && startIndex >= 0) {\n              cutSrc = src.substring(0, startIndex + 1);\n            }\n          })();\n        }\n\n        if (token = this.tokenizer.inlineText(cutSrc, inRawBlock, smartypants)) {\n          src = src.substring(token.raw.length);\n\n          if (token.raw.slice(-1) !== '_') {\n            // Track prevChar before string of ____ started\n            prevChar = token.raw.slice(-1);\n          }\n\n          keepPrevChar = true;\n          lastToken = tokens[tokens.length - 1];\n\n          if (lastToken && lastToken.type === 'text') {\n            lastToken.raw += token.raw;\n            lastToken.text += token.text;\n          } else {\n            tokens.push(token);\n          }\n\n          continue;\n        }\n\n        if (src) {\n          var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n\n          if (this.options.silent) {\n            console.error(errMsg);\n            break;\n          } else {\n            throw new Error(errMsg);\n          }\n        }\n      }\n\n      return tokens;\n    };\n\n    _createClass(Lexer, null, [{\n      key: \"rules\",\n      get: function get() {\n        return {\n          block: block,\n          inline: inline\n        };\n      }\n    }]);\n\n    return Lexer;\n  }();\n\n  var defaults$2 = defaults$5.exports.defaults;\n  var cleanUrl = helpers.cleanUrl,\n      escape$1 = helpers.escape;\n  /**\n   * Renderer\n   */\n\n  var Renderer_1 = /*#__PURE__*/function () {\n    function Renderer(options) {\n      this.options = options || defaults$2;\n    }\n\n    var _proto = Renderer.prototype;\n\n    _proto.code = function code(_code, infostring, escaped) {\n      var lang = (infostring || '').match(/\\S*/)[0];\n\n      if (this.options.highlight) {\n        var out = this.options.highlight(_code, lang);\n\n        if (out != null && out !== _code) {\n          escaped = true;\n          _code = out;\n        }\n      }\n\n      _code = _code.replace(/\\n$/, '') + '\\n';\n\n      if (!lang) {\n        return '<pre><code>' + (escaped ? _code : escape$1(_code, true)) + '</code></pre>\\n';\n      }\n\n      return '<pre><code class=\"' + this.options.langPrefix + escape$1(lang, true) + '\">' + (escaped ? _code : escape$1(_code, true)) + '</code></pre>\\n';\n    };\n\n    _proto.blockquote = function blockquote(quote) {\n      return '<blockquote>\\n' + quote + '</blockquote>\\n';\n    };\n\n    _proto.html = function html(_html) {\n      return _html;\n    };\n\n    _proto.heading = function heading(text, level, raw, slugger) {\n      if (this.options.headerIds) {\n        return '<h' + level + ' id=\"' + this.options.headerPrefix + slugger.slug(raw) + '\">' + text + '</h' + level + '>\\n';\n      } // ignore IDs\n\n\n      return '<h' + level + '>' + text + '</h' + level + '>\\n';\n    };\n\n    _proto.hr = function hr() {\n      return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n    };\n\n    _proto.list = function list(body, ordered, start) {\n      var type = ordered ? 'ol' : 'ul',\n          startatt = ordered && start !== 1 ? ' start=\"' + start + '\"' : '';\n      return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n    };\n\n    _proto.listitem = function listitem(text) {\n      return '<li>' + text + '</li>\\n';\n    };\n\n    _proto.checkbox = function checkbox(checked) {\n      return '<input ' + (checked ? 'checked=\"\" ' : '') + 'disabled=\"\" type=\"checkbox\"' + (this.options.xhtml ? ' /' : '') + '> ';\n    };\n\n    _proto.paragraph = function paragraph(text) {\n      return '<p>' + text + '</p>\\n';\n    };\n\n    _proto.table = function table(header, body) {\n      if (body) body = '<tbody>' + body + '</tbody>';\n      return '<table>\\n' + '<thead>\\n' + header + '</thead>\\n' + body + '</table>\\n';\n    };\n\n    _proto.tablerow = function tablerow(content) {\n      return '<tr>\\n' + content + '</tr>\\n';\n    };\n\n    _proto.tablecell = function tablecell(content, flags) {\n      var type = flags.header ? 'th' : 'td';\n      var tag = flags.align ? '<' + type + ' align=\"' + flags.align + '\">' : '<' + type + '>';\n      return tag + content + '</' + type + '>\\n';\n    } // span level renderer\n    ;\n\n    _proto.strong = function strong(text) {\n      return '<strong>' + text + '</strong>';\n    };\n\n    _proto.em = function em(text) {\n      return '<em>' + text + '</em>';\n    };\n\n    _proto.codespan = function codespan(text) {\n      return '<code>' + text + '</code>';\n    };\n\n    _proto.br = function br() {\n      return this.options.xhtml ? '<br/>' : '<br>';\n    };\n\n    _proto.del = function del(text) {\n      return '<del>' + text + '</del>';\n    };\n\n    _proto.link = function link(href, title, text) {\n      href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n\n      if (href === null) {\n        return text;\n      }\n\n      var out = '<a href=\"' + escape$1(href) + '\"';\n\n      if (title) {\n        out += ' title=\"' + title + '\"';\n      }\n\n      out += '>' + text + '</a>';\n      return out;\n    };\n\n    _proto.image = function image(href, title, text) {\n      href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n\n      if (href === null) {\n        return text;\n      }\n\n      var out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n\n      if (title) {\n        out += ' title=\"' + title + '\"';\n      }\n\n      out += this.options.xhtml ? '/>' : '>';\n      return out;\n    };\n\n    _proto.text = function text(_text) {\n      return _text;\n    };\n\n    return Renderer;\n  }();\n  /**\n   * TextRenderer\n   * returns only the textual part of the token\n   */\n\n\n  var TextRenderer_1 = /*#__PURE__*/function () {\n    function TextRenderer() {}\n\n    var _proto = TextRenderer.prototype; // no need for block level renderers\n\n    _proto.strong = function strong(text) {\n      return text;\n    };\n\n    _proto.em = function em(text) {\n      return text;\n    };\n\n    _proto.codespan = function codespan(text) {\n      return text;\n    };\n\n    _proto.del = function del(text) {\n      return text;\n    };\n\n    _proto.html = function html(text) {\n      return text;\n    };\n\n    _proto.text = function text(_text) {\n      return _text;\n    };\n\n    _proto.link = function link(href, title, text) {\n      return '' + text;\n    };\n\n    _proto.image = function image(href, title, text) {\n      return '' + text;\n    };\n\n    _proto.br = function br() {\n      return '';\n    };\n\n    return TextRenderer;\n  }();\n  /**\n   * Slugger generates header id\n   */\n\n\n  var Slugger_1 = /*#__PURE__*/function () {\n    function Slugger() {\n      this.seen = {};\n    }\n\n    var _proto = Slugger.prototype;\n\n    _proto.serialize = function serialize(value) {\n      return value.toLowerCase().trim() // remove html tags\n      .replace(/<[!\\/a-z].*?>/ig, '') // remove unwanted chars\n      .replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,./:;<=>?@[\\]^`{|}~]/g, '').replace(/\\s/g, '-');\n    }\n    /**\n     * Finds the next safe (unique) slug to use\n     */\n    ;\n\n    _proto.getNextSafeSlug = function getNextSafeSlug(originalSlug, isDryRun) {\n      var slug = originalSlug;\n      var occurenceAccumulator = 0;\n\n      if (this.seen.hasOwnProperty(slug)) {\n        occurenceAccumulator = this.seen[originalSlug];\n\n        do {\n          occurenceAccumulator++;\n          slug = originalSlug + '-' + occurenceAccumulator;\n        } while (this.seen.hasOwnProperty(slug));\n      }\n\n      if (!isDryRun) {\n        this.seen[originalSlug] = occurenceAccumulator;\n        this.seen[slug] = 0;\n      }\n\n      return slug;\n    }\n    /**\n     * Convert string to unique id\n     * @param {object} options\n     * @param {boolean} options.dryrun Generates the next unique slug without updating the internal accumulator.\n     */\n    ;\n\n    _proto.slug = function slug(value, options) {\n      if (options === void 0) {\n        options = {};\n      }\n\n      var slug = this.serialize(value);\n      return this.getNextSafeSlug(slug, options.dryrun);\n    };\n\n    return Slugger;\n  }();\n\n  var Renderer$1 = Renderer_1;\n  var TextRenderer$1 = TextRenderer_1;\n  var Slugger$1 = Slugger_1;\n  var defaults$1 = defaults$5.exports.defaults;\n  var unescape = helpers.unescape;\n  /**\n   * Parsing & Compiling\n   */\n\n  var Parser_1 = /*#__PURE__*/function () {\n    function Parser(options) {\n      this.options = options || defaults$1;\n      this.options.renderer = this.options.renderer || new Renderer$1();\n      this.renderer = this.options.renderer;\n      this.renderer.options = this.options;\n      this.textRenderer = new TextRenderer$1();\n      this.slugger = new Slugger$1();\n    }\n    /**\n     * Static Parse Method\n     */\n\n\n    Parser.parse = function parse(tokens, options) {\n      var parser = new Parser(options);\n      return parser.parse(tokens);\n    }\n    /**\n     * Static Parse Inline Method\n     */\n    ;\n\n    Parser.parseInline = function parseInline(tokens, options) {\n      var parser = new Parser(options);\n      return parser.parseInline(tokens);\n    }\n    /**\n     * Parse Loop\n     */\n    ;\n\n    var _proto = Parser.prototype;\n\n    _proto.parse = function parse(tokens, top) {\n      if (top === void 0) {\n        top = true;\n      }\n\n      var out = '',\n          i,\n          j,\n          k,\n          l2,\n          l3,\n          row,\n          cell,\n          header,\n          body,\n          token,\n          ordered,\n          start,\n          loose,\n          itemBody,\n          item,\n          checked,\n          task,\n          checkbox,\n          ret;\n      var l = tokens.length;\n\n      for (i = 0; i < l; i++) {\n        token = tokens[i]; // Run any renderer extensions\n\n        if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {\n          ret = this.options.extensions.renderers[token.type].call(this, token);\n\n          if (ret !== false || !['space', 'hr', 'heading', 'code', 'table', 'blockquote', 'list', 'html', 'paragraph', 'text'].includes(token.type)) {\n            out += ret || '';\n            continue;\n          }\n        }\n\n        switch (token.type) {\n          case 'space':\n            {\n              continue;\n            }\n\n          case 'hr':\n            {\n              out += this.renderer.hr();\n              continue;\n            }\n\n          case 'heading':\n            {\n              out += this.renderer.heading(this.parseInline(token.tokens), token.depth, unescape(this.parseInline(token.tokens, this.textRenderer)), this.slugger);\n              continue;\n            }\n\n          case 'code':\n            {\n              out += this.renderer.code(token.text, token.lang, token.escaped);\n              continue;\n            }\n\n          case 'table':\n            {\n              header = ''; // header\n\n              cell = '';\n              l2 = token.header.length;\n\n              for (j = 0; j < l2; j++) {\n                cell += this.renderer.tablecell(this.parseInline(token.tokens.header[j]), {\n                  header: true,\n                  align: token.align[j]\n                });\n              }\n\n              header += this.renderer.tablerow(cell);\n              body = '';\n              l2 = token.cells.length;\n\n              for (j = 0; j < l2; j++) {\n                row = token.tokens.cells[j];\n                cell = '';\n                l3 = row.length;\n\n                for (k = 0; k < l3; k++) {\n                  cell += this.renderer.tablecell(this.parseInline(row[k]), {\n                    header: false,\n                    align: token.align[k]\n                  });\n                }\n\n                body += this.renderer.tablerow(cell);\n              }\n\n              out += this.renderer.table(header, body);\n              continue;\n            }\n\n          case 'blockquote':\n            {\n              body = this.parse(token.tokens);\n              out += this.renderer.blockquote(body);\n              continue;\n            }\n\n          case 'list':\n            {\n              ordered = token.ordered;\n              start = token.start;\n              loose = token.loose;\n              l2 = token.items.length;\n              body = '';\n\n              for (j = 0; j < l2; j++) {\n                item = token.items[j];\n                checked = item.checked;\n                task = item.task;\n                itemBody = '';\n\n                if (item.task) {\n                  checkbox = this.renderer.checkbox(checked);\n\n                  if (loose) {\n                    if (item.tokens.length > 0 && item.tokens[0].type === 'text') {\n                      item.tokens[0].text = checkbox + ' ' + item.tokens[0].text;\n\n                      if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === 'text') {\n                        item.tokens[0].tokens[0].text = checkbox + ' ' + item.tokens[0].tokens[0].text;\n                      }\n                    } else {\n                      item.tokens.unshift({\n                        type: 'text',\n                        text: checkbox\n                      });\n                    }\n                  } else {\n                    itemBody += checkbox;\n                  }\n                }\n\n                itemBody += this.parse(item.tokens, loose);\n                body += this.renderer.listitem(itemBody, task, checked);\n              }\n\n              out += this.renderer.list(body, ordered, start);\n              continue;\n            }\n\n          case 'html':\n            {\n              // TODO parse inline content if parameter markdown=1\n              out += this.renderer.html(token.text);\n              continue;\n            }\n\n          case 'paragraph':\n            {\n              out += this.renderer.paragraph(this.parseInline(token.tokens));\n              continue;\n            }\n\n          case 'text':\n            {\n              body = token.tokens ? this.parseInline(token.tokens) : token.text;\n\n              while (i + 1 < l && tokens[i + 1].type === 'text') {\n                token = tokens[++i];\n                body += '\\n' + (token.tokens ? this.parseInline(token.tokens) : token.text);\n              }\n\n              out += top ? this.renderer.paragraph(body) : body;\n              continue;\n            }\n\n          default:\n            {\n              var errMsg = 'Token with \"' + token.type + '\" type was not found.';\n\n              if (this.options.silent) {\n                console.error(errMsg);\n                return;\n              } else {\n                throw new Error(errMsg);\n              }\n            }\n        }\n      }\n\n      return out;\n    }\n    /**\n     * Parse Inline Tokens\n     */\n    ;\n\n    _proto.parseInline = function parseInline(tokens, renderer) {\n      renderer = renderer || this.renderer;\n      var out = '',\n          i,\n          token,\n          ret;\n      var l = tokens.length;\n\n      for (i = 0; i < l; i++) {\n        token = tokens[i]; // Run any renderer extensions\n\n        if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {\n          ret = this.options.extensions.renderers[token.type].call(this, token);\n\n          if (ret !== false || !['escape', 'html', 'link', 'image', 'strong', 'em', 'codespan', 'br', 'del', 'text'].includes(token.type)) {\n            out += ret || '';\n            continue;\n          }\n        }\n\n        switch (token.type) {\n          case 'escape':\n            {\n              out += renderer.text(token.text);\n              break;\n            }\n\n          case 'html':\n            {\n              out += renderer.html(token.text);\n              break;\n            }\n\n          case 'link':\n            {\n              out += renderer.link(token.href, token.title, this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'image':\n            {\n              out += renderer.image(token.href, token.title, token.text);\n              break;\n            }\n\n          case 'strong':\n            {\n              out += renderer.strong(this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'em':\n            {\n              out += renderer.em(this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'codespan':\n            {\n              out += renderer.codespan(token.text);\n              break;\n            }\n\n          case 'br':\n            {\n              out += renderer.br();\n              break;\n            }\n\n          case 'del':\n            {\n              out += renderer.del(this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'text':\n            {\n              out += renderer.text(token.text);\n              break;\n            }\n\n          default:\n            {\n              var errMsg = 'Token with \"' + token.type + '\" type was not found.';\n\n              if (this.options.silent) {\n                console.error(errMsg);\n                return;\n              } else {\n                throw new Error(errMsg);\n              }\n            }\n        }\n      }\n\n      return out;\n    };\n\n    return Parser;\n  }();\n\n  var Lexer = Lexer_1;\n  var Parser = Parser_1;\n  var Tokenizer = Tokenizer_1;\n  var Renderer = Renderer_1;\n  var TextRenderer = TextRenderer_1;\n  var Slugger = Slugger_1;\n  var merge = helpers.merge,\n      checkSanitizeDeprecation = helpers.checkSanitizeDeprecation,\n      escape = helpers.escape;\n  var getDefaults = defaults$5.exports.getDefaults,\n      changeDefaults = defaults$5.exports.changeDefaults,\n      defaults = defaults$5.exports.defaults;\n  /**\n   * Marked\n   */\n\n  function marked(src, opt, callback) {\n    // throw error in case of non string input\n    if (typeof src === 'undefined' || src === null) {\n      throw new Error('marked(): input parameter is undefined or null');\n    }\n\n    if (typeof src !== 'string') {\n      throw new Error('marked(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected');\n    }\n\n    if (typeof opt === 'function') {\n      callback = opt;\n      opt = null;\n    }\n\n    opt = merge({}, marked.defaults, opt || {});\n    checkSanitizeDeprecation(opt);\n\n    if (callback) {\n      var highlight = opt.highlight;\n      var tokens;\n\n      try {\n        tokens = Lexer.lex(src, opt);\n      } catch (e) {\n        return callback(e);\n      }\n\n      var done = function done(err) {\n        var out;\n\n        if (!err) {\n          try {\n            if (opt.walkTokens) {\n              marked.walkTokens(tokens, opt.walkTokens);\n            }\n\n            out = Parser.parse(tokens, opt);\n          } catch (e) {\n            err = e;\n          }\n        }\n\n        opt.highlight = highlight;\n        return err ? callback(err) : callback(null, out);\n      };\n\n      if (!highlight || highlight.length < 3) {\n        return done();\n      }\n\n      delete opt.highlight;\n      if (!tokens.length) return done();\n      var pending = 0;\n      marked.walkTokens(tokens, function (token) {\n        if (token.type === 'code') {\n          pending++;\n          setTimeout(function () {\n            highlight(token.text, token.lang, function (err, code) {\n              if (err) {\n                return done(err);\n              }\n\n              if (code != null && code !== token.text) {\n                token.text = code;\n                token.escaped = true;\n              }\n\n              pending--;\n\n              if (pending === 0) {\n                done();\n              }\n            });\n          }, 0);\n        }\n      });\n\n      if (pending === 0) {\n        done();\n      }\n\n      return;\n    }\n\n    try {\n      var _tokens = Lexer.lex(src, opt);\n\n      if (opt.walkTokens) {\n        marked.walkTokens(_tokens, opt.walkTokens);\n      }\n\n      return Parser.parse(_tokens, opt);\n    } catch (e) {\n      e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n\n      if (opt.silent) {\n        return '<p>An error occurred:</p><pre>' + escape(e.message + '', true) + '</pre>';\n      }\n\n      throw e;\n    }\n  }\n  /**\n   * Options\n   */\n\n\n  marked.options = marked.setOptions = function (opt) {\n    merge(marked.defaults, opt);\n    changeDefaults(marked.defaults);\n    return marked;\n  };\n\n  marked.getDefaults = getDefaults;\n  marked.defaults = defaults;\n  /**\n   * Use Extension\n   */\n\n  marked.use = function () {\n    var _this = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var opts = merge.apply(void 0, [{}].concat(args));\n    var extensions = marked.defaults.extensions || {\n      renderers: {},\n      childTokens: {}\n    };\n    var hasExtensions;\n    args.forEach(function (pack) {\n      // ==-- Parse \"addon\" extensions --== //\n      if (pack.extensions) {\n        hasExtensions = true;\n        pack.extensions.forEach(function (ext) {\n          if (!ext.name) {\n            throw new Error('extension name required');\n          }\n\n          if (ext.renderer) {\n            // Renderer extensions\n            var prevRenderer = extensions.renderers ? extensions.renderers[ext.name] : null;\n\n            if (prevRenderer) {\n              // Replace extension with func to run new extension but fall back if false\n              extensions.renderers[ext.name] = function () {\n                for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                  args[_key2] = arguments[_key2];\n                }\n\n                var ret = ext.renderer.apply(this, args);\n\n                if (ret === false) {\n                  ret = prevRenderer.apply(this, args);\n                }\n\n                return ret;\n              };\n            } else {\n              extensions.renderers[ext.name] = ext.renderer;\n            }\n          }\n\n          if (ext.tokenizer) {\n            // Tokenizer Extensions\n            if (!ext.level || ext.level !== 'block' && ext.level !== 'inline') {\n              throw new Error(\"extension level must be 'block' or 'inline'\");\n            }\n\n            if (extensions[ext.level]) {\n              extensions[ext.level].unshift(ext.tokenizer);\n            } else {\n              extensions[ext.level] = [ext.tokenizer];\n            }\n\n            if (ext.start) {\n              // Function to check for start of token\n              if (ext.level === 'block') {\n                if (extensions.startBlock) {\n                  extensions.startBlock.push(ext.start);\n                } else {\n                  extensions.startBlock = [ext.start];\n                }\n              } else if (ext.level === 'inline') {\n                if (extensions.startInline) {\n                  extensions.startInline.push(ext.start);\n                } else {\n                  extensions.startInline = [ext.start];\n                }\n              }\n            }\n          }\n\n          if (ext.childTokens) {\n            // Child tokens to be visited by walkTokens\n            extensions.childTokens[ext.name] = ext.childTokens;\n          }\n        });\n      } // ==-- Parse \"overwrite\" extensions --== //\n\n\n      if (pack.renderer) {\n        (function () {\n          var renderer = marked.defaults.renderer || new Renderer();\n\n          var _loop = function _loop(prop) {\n            var prevRenderer = renderer[prop]; // Replace renderer with func to run extension, but fall back if false\n\n            renderer[prop] = function () {\n              for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n                args[_key3] = arguments[_key3];\n              }\n\n              var ret = pack.renderer[prop].apply(renderer, args);\n\n              if (ret === false) {\n                ret = prevRenderer.apply(renderer, args);\n              }\n\n              return ret;\n            };\n          };\n\n          for (var prop in pack.renderer) {\n            _loop(prop);\n          }\n\n          opts.renderer = renderer;\n        })();\n      }\n\n      if (pack.tokenizer) {\n        (function () {\n          var tokenizer = marked.defaults.tokenizer || new Tokenizer();\n\n          var _loop2 = function _loop2(prop) {\n            var prevTokenizer = tokenizer[prop]; // Replace tokenizer with func to run extension, but fall back if false\n\n            tokenizer[prop] = function () {\n              for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n                args[_key4] = arguments[_key4];\n              }\n\n              var ret = pack.tokenizer[prop].apply(tokenizer, args);\n\n              if (ret === false) {\n                ret = prevTokenizer.apply(tokenizer, args);\n              }\n\n              return ret;\n            };\n          };\n\n          for (var prop in pack.tokenizer) {\n            _loop2(prop);\n          }\n\n          opts.tokenizer = tokenizer;\n        })();\n      } // ==-- Parse WalkTokens extensions --== //\n\n\n      if (pack.walkTokens) {\n        var walkTokens = marked.defaults.walkTokens;\n\n        opts.walkTokens = function (token) {\n          pack.walkTokens.call(_this, token);\n\n          if (walkTokens) {\n            walkTokens(token);\n          }\n        };\n      }\n\n      if (hasExtensions) {\n        opts.extensions = extensions;\n      }\n\n      marked.setOptions(opts);\n    });\n  };\n  /**\n   * Run callback for every token\n   */\n\n\n  marked.walkTokens = function (tokens, callback) {\n    var _loop3 = function _loop3() {\n      var token = _step.value;\n      callback(token);\n\n      switch (token.type) {\n        case 'table':\n          {\n            for (var _iterator2 = _createForOfIteratorHelperLoose(token.tokens.header), _step2; !(_step2 = _iterator2()).done;) {\n              var cell = _step2.value;\n              marked.walkTokens(cell, callback);\n            }\n\n            for (var _iterator3 = _createForOfIteratorHelperLoose(token.tokens.cells), _step3; !(_step3 = _iterator3()).done;) {\n              var row = _step3.value;\n\n              for (var _iterator4 = _createForOfIteratorHelperLoose(row), _step4; !(_step4 = _iterator4()).done;) {\n                var _cell = _step4.value;\n                marked.walkTokens(_cell, callback);\n              }\n            }\n\n            break;\n          }\n\n        case 'list':\n          {\n            marked.walkTokens(token.items, callback);\n            break;\n          }\n\n        default:\n          {\n            if (marked.defaults.extensions && marked.defaults.extensions.childTokens && marked.defaults.extensions.childTokens[token.type]) {\n              // Walk any extensions\n              marked.defaults.extensions.childTokens[token.type].forEach(function (childTokens) {\n                marked.walkTokens(token[childTokens], callback);\n              });\n            } else if (token.tokens) {\n              marked.walkTokens(token.tokens, callback);\n            }\n          }\n      }\n    };\n\n    for (var _iterator = _createForOfIteratorHelperLoose(tokens), _step; !(_step = _iterator()).done;) {\n      _loop3();\n    }\n  };\n  /**\n   * Parse Inline\n   */\n\n\n  marked.parseInline = function (src, opt) {\n    // throw error in case of non string input\n    if (typeof src === 'undefined' || src === null) {\n      throw new Error('marked.parseInline(): input parameter is undefined or null');\n    }\n\n    if (typeof src !== 'string') {\n      throw new Error('marked.parseInline(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected');\n    }\n\n    opt = merge({}, marked.defaults, opt || {});\n    checkSanitizeDeprecation(opt);\n\n    try {\n      var tokens = Lexer.lexInline(src, opt);\n\n      if (opt.walkTokens) {\n        marked.walkTokens(tokens, opt.walkTokens);\n      }\n\n      return Parser.parseInline(tokens, opt);\n    } catch (e) {\n      e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n\n      if (opt.silent) {\n        return '<p>An error occurred:</p><pre>' + escape(e.message + '', true) + '</pre>';\n      }\n\n      throw e;\n    }\n  };\n  /**\n   * Expose\n   */\n\n\n  marked.Parser = Parser;\n  marked.parser = Parser.parse;\n  marked.Renderer = Renderer;\n  marked.TextRenderer = TextRenderer;\n  marked.Lexer = Lexer;\n  marked.lexer = Lexer.lex;\n  marked.Tokenizer = Tokenizer;\n  marked.Slugger = Slugger;\n  marked.parse = marked;\n  var marked_1 = marked;\n  return marked_1;\n});\n\n/***/ }),\n\n/***/ 908:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/@restart/ui/node_modules/@restart/hooks/esm/useCommittedRef.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/@restart/ui/node_modules/@restart/hooks/esm/useEventCallback.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/@restart/ui/node_modules/@restart/hooks/esm/useEventListener.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/dom-helpers/esm/camelize.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/react-bootstrap/esm/createWithBsPrefix.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/@restart/ui/node_modules/@restart/hooks/esm/usePrevious.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/@restart/ui/node_modules/@restart/hooks/esm/useGlobalListener.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/@restart/ui/node_modules/@restart/hooks/esm/useCallbackRef.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/@restart/ui/node_modules/@restart/hooks/esm/useMounted.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/@restart/ui/node_modules/@restart/hooks/esm/useInterval.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/@restart/ui/node_modules/@restart/hooks/esm/useRafInterval.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/@restart/ui/node_modules/@restart/hooks/esm/useMergeState.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/@restart/ui/node_modules/@restart/hooks/esm/useMergeStateFromProps.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/@restart/ui/node_modules/@restart/hooks/esm/useImage.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/@restart/ui/node_modules/@restart/hooks/esm/useResizeObserver.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/@restart/ui/node_modules/@restart/hooks/esm/index.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/@restart/ui/esm/Anchor.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/@restart/ui/esm/Button.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/react-bootstrap/esm/divWithClassName.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/@restart/ui/node_modules/@restart/hooks/esm/useIsomorphicEffect.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/react-bootstrap/esm/CardHeaderContext.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/react-bootstrap/esm/Col.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/react-bootstrap/esm/CardImg.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/react-bootstrap/esm/CardHeader.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/react-bootstrap/esm/Card.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/react-bootstrap/esm/BreadcrumbItem.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/react-bootstrap/esm/Breadcrumb.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/react-bootstrap/esm/Row.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/@babel/runtime/helpers/objectWithoutProperties.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/codemirror/lib/codemirror.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/@babel/runtime/helpers/arrayLikeToArray.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/@babel/runtime/helpers/slicedToArray.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/@babel/runtime/helpers/arrayWithHoles.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/@babel/runtime/helpers/nonIterableRest.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/codemirror/mode/markdown/markdown.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/codemirror/mode/xml/xml.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/codemirror/addon/mode/overlay.js","../src/SimpleMdeReact.tsx","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/@babel/runtime/helpers/interopRequireDefault.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/easymde/src/js/easymde.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/codemirror/addon/edit/continuelist.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/easymde/src/js/codemirror/tablist.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/codemirror/addon/display/fullscreen.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/codemirror/mode/meta.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/codemirror/addon/display/placeholder.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/codemirror/addon/display/autorefresh.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/codemirror/addon/selection/mark-selection.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/codemirror/addon/search/searchcursor.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/codemirror/mode/gfm/gfm.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/codemirror-spell-checker/src/js/spell-checker.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/typo-js/typo.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/marked/lib/marked.js","/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/postcss-loader/src/index.js??postcss!/Users/nazarethavaqueirogradin/Documents/Grupo Gradin/testeo/Shreyu_react_v1.0.0/shreyu_react/node_modules/easymde/dist/easymde.min.css"],"names":["useCommittedRef","value","ref","useRef","useEffect","current","useEventCallback","fn","useCallback","apply","arguments","useEventListener","eventTarget","event","listener","capture","handler","target","addEventListener","removeEventListener","rHyphen","camelize","string","replace","_","chr","toUpperCase","pascalCase","str","slice","createWithBsPrefix","prefix","displayName","Component","defaultProps","BsComponent","React","className","bsPrefix","as","Tag","props","resolvedPrefix","useBootstrapPrefix","_jsx","classNames","usePrevious","useGlobalListener","documentTarget","document","useCallbackRef","useState","useMounted","mounted","isMounted","useInterval","ms","paused","runImmediately","handle","fnRef","pausedRef","tick","schedule","clearTimeout","setTimeout","useRafInterval","start","Date","getTime","loop","delta","cancelAnimationFrame","requestAnimationFrame","_extends","Object","assign","i","length","source","key","prototype","hasOwnProperty","call","useMergeState","initialState","_useState","state","setState","updater","update","nextState","useMergeStateFromProps","gDSFP","_useMergeState","useImage","imageOrUrl","crossOrigin","image","error","undefined","Image","src","complete","naturalHeight","onLoad","onError","targetMap","WeakMap","resizeObserver","getResizeObserver","window","ResizeObserver","entries","forEach","entry","get","contentRect","useResizeObserver","element","rect","setRect","observe","getBoundingClientRect","set","delete","_excluded","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","isTrivialHref","href","trim","Anchor","_ref","onKeyDown","useButtonProps","tagName","buttonProps","handleKeyDown","e","role","disabled","rel","onClick","tabIndex","type","meta","handleClick","preventDefault","stopPropagation","Button","asProp","p","isReactNative","global","navigator","product","isDOM","useLayoutEffect","context","DEVICE_SIZES","useCol","spans","classes","brkPoint","propValue","span","offset","order","infix","push","Col","colProps","CardImg","variant","CardHeader","contextValue","useMemo","cardHeaderBsPrefix","CardHeaderContext","Provider","children","DivStyledAsH5","divWithClassName","DivStyledAsH6","CardBody","CardTitle","CardSubtitle","CardLink","CardText","CardFooter","CardImgOverlay","body","Card","bg","text","border","Img","Title","Subtitle","Body","Link","Text","Header","Footer","ImgOverlay","active","linkProps","BreadcrumbItem","linkAs","LinkComponent","title","label","listProps","Breadcrumb","Item","Row","decoratedBsPrefix","sizePrefix","cols","factory","module","exports","userAgent","platform","gecko","test","ie_upto10","ie_11up","exec","edge","ie","ie_version","documentMode","webkit","qtwebkit","chrome","presto","safari","vendor","mac_geMountainLion","phantom","ios","maxTouchPoints","android","mobile","mac","chromeOS","windows","presto_version","match","Number","flipCtrlCmd","captureRightClick","classTest","cls","RegExp","rmClass","node","after","index","removeChildren","count","childNodes","removeChild","firstChild","removeChildrenAndAdd","parent","appendChild","elt","tag","content","style","createElement","cssText","createTextNode","eltP","setAttribute","range","createRange","end","endNode","r","setEnd","setStart","createTextRange","moveToElementText","parentNode","collapse","moveEnd","moveStart","contains","child","nodeType","host","activeElt","activeElement","shadowRoot","addClass","joinClasses","a","b","split","selectInput","select","selectionStart","selectionEnd","_e","bind","f","args","Array","copyObj","obj","overwrite","prop","countColumn","tabSize","startIndex","startValue","search","n","nextTab","Delayed","id","time","onTimeout","self","array","scrollerGap","Pass","toString","sel_dontScroll","scroll","sel_mouse","origin","sel_move","findColumn","goal","pos","col","skipped","Math","min","spaceStrs","spaceStr","lst","arr","map","out","insertSorted","score","priority","splice","nothing","createObj","base","inst","create","nonASCIISingleCaseWordChar","isWordCharBasic","ch","toLowerCase","isWordChar","helper","isEmpty","extendingChars","isExtendingChar","charCodeAt","skipExtendingChars","dir","charAt","findFirst","pred","from","to","midF","mid","ceil","floor","iterateBidiSections","found","part","max","level","bidiOther","getBidiPartAt","sticky","cur","bidiOrdering","lowTypes","arabicTypes","charType","code","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","BidiSpan","direction","outerType","len","types","i$1","prev","i$2","type$1","i$3","prev$1","type$2","i$4","type$3","j","i$5","cur$1","type$4","i$6","end$1","before","replace$1","j$1","m","i$7","at","isRTL","j$2","nstart","unshift","reverse","getOrder","line","noHandlers","on","emitter","attachEvent","_handlers","concat","getHandlers","off","detachEvent","signal","handlers","signalDOMEvent","cm","override","defaultPrevented","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","cursorActivity","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","e_preventDefault","returnValue","e_stopPropagation","cancelBubble","e_stop","e_target","srcElement","e_button","which","button","ctrlKey","dragAndDrop","div","zwspSupported","zeroWidthElement","measure","offsetHeight","offsetWidth","badBidiRects","hasBadBidiRects","txt","r0","r1","left","right","splitLinesAuto","result","l","nl","rt","hasSelection","getSelection","te","ownerDocument","selection","parentElement","compareEndPoints","hasCopyEvent","oncopy","badZoomedRects","hasBadZoomedRects","normal","fromRange","abs","modes","mimeModes","defineMode","name","mode","dependencies","defineMIME","mime","spec","resolveMode","getMode","options","mfactory","modeObj","modeExtensions","exts","helperType","modeProps","prop$1","extendMode","properties","copyState","nstate","val","innerMode","info","startState","a1","a2","StringStream","lineOracle","lastColumnPos","lastColumnValue","lineStart","eol","sol","peek","next","eat","ok","eatWhile","eatSpace","skipToEnd","skipTo","backUp","column","indentation","pattern","consume","caseInsensitive","cased","substr","hideFirstChars","inner","lookAhead","oracle","baseToken","getLine","doc","first","size","Error","chunk","lines","sz","chunkSize","getBetween","iter","getLines","updateLineHeight","height","diff","lineNo","no","lineAtHeight","h","outer","lh","isLine","lineNumberFor","String","lineNumberFormatter","firstLineNumber","Pos","cmp","equalCursorPos","copyPos","x","maxPos","minPos","clipLine","clipPos","last","clipToLen","linelen","clipPosArray","SavedContext","Context","maxLookAhead","baseTokens","baseTokenPos","nextLine","fromSaved","saved","save","copy","highlightLine","forceToEnd","st","modeGen","lineClasses","runMode","o","overlay","overlays","i_end","opaque","styles","bgClass","textClass","getLineStyles","updateFrontier","getContextBefore","resetState","maxHighlightLength","stateAfter","styleClasses","highlightFrontier","modeFrontier","precise","display","findStartLine","processLine","viewFrom","viewTo","startAt","stream","callBlankLine","readToken","blankLine","token","Token","takeToken","asArray","tokens","extractLineClasses","output","lineClass","flattenSpans","curStart","curStyle","addModeClass","mName","minindent","minline","lim","indented","retreatFrontier","sawReadOnlySpans","sawCollapsedSpans","seeReadOnlySpans","seeCollapsedSpans","MarkedSpan","marker","getMarkedSpanFor","removeMarkedSpan","addMarkedSpan","op","inThisOp","WeakSet","markedSpans","has","add","attachLine","markedSpansBefore","old","startCh","isInsert","nw","startsBefore","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","markedSpansAfter","endCh","stretchSpansOverChange","change","full","oldFirst","oldLast","sameLine","span$1","found$1","clearEmptySpans","newMarkers","gap","gapMarkers","clearWhenEmpty","removeReadOnlyRanges","markers","mark","readOnly","parts","mk","find","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsed","collapsedSpanAtStart","collapsedSpanAtEnd","collapsedSpanAround","conflictingCollapsedRange","visualLine","merged","visualLineEnd","visualLineContinued","visualLineNo","lineN","vis","visualLineEndNo","lastLine","lineIsHidden","widgetNode","lineIsHiddenInner","heightAtLine","lineObj","lineLength","findMaxLine","d","maxLine","maxLineLength","maxLineChanged","Line","estimateHeight","updateLine","estHeight","cleanUpLine","styleToClassCache","styleToClassCacheWithMode","interpretTokenStyle","cache","buildLineContent","lineView","builder","pre","trailingSpace","splitSpaces","getOption","rest","addToken","buildToken","buildTokenBadBidi","allowFrontierUpdate","externalMeasured","insertLineContent","maps","caches","lastChild","querySelector","defaultSpecialCharPlaceholder","startStyle","endStyle","css","attributes","displayText","special","specialChars","mustWrap","createDocumentFragment","lastIndex","txt$1","tabWidth","specialCharPlaceholder","fullStyle","attr","trailingBefore","spaceBefore","buildCollapsedSpan","ignoreWidget","widget","input","needsContentAttribute","setUneditable","allText","nextChange","spanStyle","spanEndStyle","spanStartStyle","Infinity","foundBookmarks","endStyles","upto","tokenText","LineView","hidden","buildViewArray","nextPos","view","operationGroup","pushOperation","ops","ownsGroup","delayedCallbacks","fireCallbacksForOps","group","callbacks","cursorActivityCalled","finishOperation","endCb","orphanDelayedCallbacks","signalLater","list","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","zIndex","updateLineBackground","background","wrap","insertBefore","getLineContent","ext","built","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","gutterMarkers","lineNumbers","wrap$1","gutterWrap","lineNumber","gutterLeft","lineNumInnerWidth","k","gutterSpecs","gutterWidth","alignable","isWidget","nextSibling","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","ws","handleMouseEvents","positionLineWidget","above","noHScroll","width","wrapperWidth","coverGutter","paddingLeft","position","marginLeft","widgetHeight","parentStyle","gutters","wrapper","clientWidth","eventInWidget","getAttribute","sizer","mover","paddingTop","lineSpace","offsetTop","paddingVert","paddingH","cachedPaddingH","getComputedStyle","currentStyle","data","parseInt","paddingRight","isNaN","scrollGap","nativeBarWidth","displayWidth","scroller","barWidth","displayHeight","clientHeight","barHeight","ensureLineHeights","wrapping","lineWrapping","curWidth","heights","rects","getClientRects","bottom","top","mapFromLineView","updateExternalMeasurement","lineMeasure","measureChar","bias","measureCharPrepared","prepareMeasureForLine","findViewForLine","findViewIndex","getDimensions","forceUpdate","hasHeights","prepared","varHeight","measureCharInner","bogus","rtop","rbottom","nullRect","nodeAndOffsetInLineMap","mStart","mEnd","coverStart","coverEnd","getUsefulRect","place","maybeUpdateRectForZooming","rSpan","charWidth","rbot","bot","singleCursorHeightPerLine","screen","logicalXDPI","deviceXDPI","scaleX","scaleY","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","cachedCharWidth","cachedTextHeight","lineNumChars","pageScrollX","pageXOffset","documentElement","scrollLeft","pageScrollY","marginTop","pageYOffset","scrollTop","widgetTopHeight","intoCoordSystem","includeWidgets","yOff","viewOffset","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","charCoords","cursorCoords","preparedMeasure","getBidi","partPos","invert","other","estimateCoords","PosWithInfo","outside","xRel","coordsChar","y","coordsCharInner","rangeEnd","wrappedLineExtent","begin","wrappedLineExtentChar","targetTop","boxIsAfter","box","ltr","coordsBidiPartWrapped","coordsBidiPart","chAround","boxAround","baseX","atLeft","atStart","_lineNo","closestDist","endX","dist","measureText","textHeight","anchor","clientLeft","offsetLeft","compensateForHScroll","th","perLine","widgetsHeight","estimateLineHeights","est","posFromMouse","liberal","forRect","space","clientX","clientY","e$1","colDiff","round","regChange","lendiff","updateLineNumbers","viewChanged","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","adjustView","countDirtyView","dirty","updateSelection","showSelection","prepareSelection","primary","curFragment","cursors","selFragment","sel","ranges","primIndex","empty","showCursorWhenSelecting","drawSelectionCursor","head","drawSelectionRange","cursor","cursorHeight","otherCursor","cmpCoords","fragment","padding","leftSide","rightSide","sizerWidth","docLTR","drawForLine","fromArg","toArg","lineLen","wrapX","side","extent","fromPos","toPos","openStart","openEnd","openLeft","openRight","topLeft","topRight","botLeft","botRight","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","focused","clearInterval","blinker","cursorDiv","visibility","cursorBlinkRate","setInterval","hasFocus","onBlur","ensureFocus","focus","onFocus","delayBlurEvent","delayingBlurEvent","draggingText","selForContextMenu","reset","receivedFocus","shift","updateHeightsInViewport","prevBottom","lineDiv","updateWidgetHeight","chWidth","w","visibleLines","viewport","ensure","ensureFrom","ensureTo","maybeScrollWindow","doScroll","innerHeight","scrollNode","scrollIntoView","scrollPosIntoView","margin","limit","changed","endCoords","scrollPos","calculateScrollPos","startTop","startLeft","updateScrollTop","setScrollLeft","snapMargin","screentop","docBottom","atTop","atBottom","newTop","gutterSpace","screenleft","screenw","tooWide","addToScrollTop","resolveScrollToPos","ensureCursorVisible","getCursor","scrollToPos","cursorScrollMargin","scrollToCoords","scrollToRange","scrollToCoordsRange","sPos","updateDisplaySimple","setScrollTop","startWorker","forceScroll","scrollHeight","scrollbars","isScroller","scrollWidth","alignHorizontally","measureForScrollbars","gutterW","docH","viewHeight","viewWidth","barLeft","docHeight","NativeScrollbars","vert","horiz","checkedZeroWidth","minHeight","minWidth","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","pointerEvents","bar","delay","maybeDisable","elementFromPoint","clear","NullScrollbars","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","sizes","paddingBottom","heightForcer","borderBottom","scrollbarFiller","coverGutterNextToScrollbar","gutterFiller","scrollbarModel","initScrollbars","scrollbarStyle","axis","nextOpId","startOperation","updateInput","typing","changeObjs","selectionChanged","updateMaxLine","markArrays","endOperation","endOperations","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","endOperation_finish","maybeClipScrollbars","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","takeFocus","setDocumentHeight","postUpdateDisplay","wheelStartX","wheelStartY","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","operation","methodOp","docMethodOp","highlight","highlightWorker","workTime","changedLines","oldStyles","highlighted","oldCls","newCls","ischange","workDelay","force","visible","editorIsHidden","wrapperHeight","oldDisplayWidth","events","scrollbarsClipped","marginBottom","borderRightWidth","selectionSnapshot","anchorNode","extend","anchorOffset","focusNode","focusOffset","restoreSelection","snapshot","nodeName","removeAllRanges","addRange","renderedView","maybeUpdateLineNumberWidth","viewportMargin","different","lastWrapHeight","lastWrapWidth","toUpdate","selSnapshot","patchDisplay","selectionDiv","reportedViewFrom","reportedViewTo","updateNumbersFrom","container","rm","currentWheelTarget","updateNumber","updateGutterSpace","alignWidgets","comp","align","innerW","lineGutter","lineNumWidth","getGutters","sawLineNumbers","renderGutters","specs","gElt","updateGutters","Display","draggable","wheelDX","wheelDY","activeTouch","init","wheelSamples","wheelPixelsPerUnit","wheelEventDelta","dx","wheelDeltaX","dy","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","onScrollWheel","canScrollX","canScrollY","pixels","movedX","movedY","sample","Selection","equals","here","there","deepCopy","Range","somethingSelected","normalizeSelection","mayTouch","selectionsMayTouch","prim","sort","inv","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","computeReplacedSel","hint","oldPrev","newPrev","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","spansFor","linesFor","firstLine","lastText","lastSpans","nlines","insert","remove","added","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","shared","attachDoc","setDirectionClass","directionChanged","History","done","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","pop","lastChangeEvent","hist","addChangeToHistory","selAfter","opId","history","historyEventDelay","pushSelectionToHistory","selectionEventCanBeMerged","addSelectionToHistory","clearRedo","dest","existing","removeClearedSpans","explicitlyCleared","getOldSpans","mergeOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","newGroup","instantiateSel","newChanges","extendRange","posBefore","extendSelection","setSelection","extendSelections","heads","newSel","replaceOneSelection","setSimpleSelection","filterSelectionChange","setSelectionReplaceHistory","setSelectionNoUndo","NaN","setSelectionInner","skipAtomicInSelection","reCheckSelection","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","preventCursorLeft","selectLeft","preventCursorRight","selectRight","atomic","near","movePos","far","cantEdit","selectAll","filterChange","canceled","cancel","makeChange","ignoreReadOnly","suppressEdits","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","suppress","antiChanges","filter","returned","v","shiftDoc","distance","removed","makeChangeSingleDocInEditor","recomputeMaxLength","checkWidthStart","changesHandler","changeHandler","replaceRange","splitLines","rebaseHistSelSingle","rebaseHistArray","sub","copied","changeLine","changeType","LeafChunk","removeInner","insertInner","iterN","BranchChunk","oldHeight","remaining","leaf","maybeSpill","me","spilled","sibling","myIndex","used","LineWidget","opt","adjustScrollWhenAboveVisible","this$1","oldH","addLineWidget","insertAt","aboveVisible","nextMarkerId","TextMarker","withOp","visual","dHeight","markText","markTextShared","replacedWith","addToHistory","curLine","clearOnEnter","clearHistory","SharedTextMarker","cloneNode","isParent","findSharedMarkers","findMarks","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","nextDocId","Doc","lineSep","cleanGeneration","constructor","getValue","join","lineSeparator","setValue","getRange","getLineHandle","getLineNumber","getLineHandleVisualStart","lineCount","listSelections","setCursor","extendSelectionsBy","setSelections","addSelection","getSelections","replaceSelection","dup","replaceSelections","undo","redo","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","gen","getHistory","setHistory","histData","setGutterMarker","gutterID","clearGutter","lineInfo","addLineClass","where","removeLineClass","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","unlinkDoc","CodeMirror","link","splitIds","iterLinkedDocs","getEditor","setDirection","eachLine","lastDrop","onDrop","clearDragCursor","files","dataTransfer","isReadOnly","FileReader","File","read","markAsReadAndPasteIfAllFilesAreRead","t","readTextFromFile","file","allowDropFileTypes","reader","onerror","onload","readAsText","text$1","getData","selected","onDragStart","setData","effectAllowed","setDragImage","img","_top","onDragOver","frag","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","editors","globalsRegistered","ensureGlobalHandlers","registerGlobalHandlers","resizeTimer","onResize","setSize","keyNames","fromCharCode","keyMap","basic","pcDefault","emacsy","macDefault","normalizeKeyName","alt","ctrl","cmd","mod","normalizeKeyMap","keymap","keyname","lookupKey","getKeyMap","fallthrough","isModifierKey","keyCode","addModifierNames","noShift","altKey","metaKey","shiftKey","keyName","altGraphKey","deleteNearSelection","compute","kill","toKill","replaced","moveCharLogically","moveLogically","endOfLine","visually","moveInStorageOrder","prep","moveVisually","bidi","mv","getWrappedLineExtent","searchInVisualLine","getRes","res","nextCh","commands","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","leftPos","delWrappedLineRight","rightPos","goDocStart","goDocEnd","goLineStart","goLineStartSmart","lineStartSmart","goLineEnd","lineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","moveV","goLineDown","goPageUp","goPageDown","goCharLeft","moveH","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","deleteH","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentSelection","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","execCommand","transposeChars","newlineAndIndent","sels","indentLine","openLine","toggleOverwrite","firstNonWS","inWS","doHandleBinding","bound","dropShift","ensurePolled","prevShift","lookupKeyForEditor","keyMaps","extraKeys","stopSeq","dispatchKey","seq","keySeq","dispatchKeyInner","handleKeyBinding","motion","handleCharBinding","lastStoppedKey","getField","handled","showCrossHair","up","onKeyUp","onKeyPress","charCode","DOUBLECLICK_DELAY","PastClick","compare","lastClick","lastDoubleClick","clickRepeat","now","onMouseDown","supportsTouch","clickInGutter","repeat","selectingText","handleMappedButton","leftButtonDown","onContextMenu","configureMouse","option","unit","addNew","moveOnDrag","behavior","contained","dragDrop","leftButtonStartDrag","leftButtonSelect","moved","dragEnd","mouseMove","dragStart","preventScroll","e2","rangeForUnit","findWordAt","ourRange","ourIndex","startSel","lastPos","extendTo","startCol","posCol","oldRange","ranges$1","bidiSimplify","editorSize","counter","curCount","move","buttons","anchorLine","boundary","headIndex","usePart","gutterEvent","prevent","mX","mY","touches","lineBox","g","contextMenuInGutter","themeChanged","theme","Init","defaults","optionHandlers","defineOptions","deflt","notOnInit","defineOption","newBreaks","refresh","getInputField","spellcheck","autocorrect","autocapitalize","detach","attach","wrappingChanged","integer","blur","readOnlyChanged","screenReaderLabelChanged","dragDropChanged","resetPosition","wasOn","funcs","dragFunctions","toggle","enter","over","leave","drop","inputStyles","inputStyle","pasteIncoming","cutIncoming","autofocus","registerEventHandlers","finishInit","initHooks","textRendering","word","touchFinished","prevTouch","finishTouch","isMouseLikeTouchEvent","touch","radiusX","radiusY","farAway","pageX","pageY","inp","defineInitHook","how","aggressive","indent","curSpace","curSpaceString","indentUnit","indentString","indentWithTabs","pos$1","lastCopied","setLastCopied","newLastCopied","applyTextInput","inserted","deleted","recent","paste","textLines","multiPaste","pasteLinesPerSelection","lineWise","changeEvent","triggerElectric","handlePaste","pasted","clipboardData","disableInput","electricChars","smartIndent","getModeAt","electricInput","copyableRanges","lineRange","disableBrowserMagic","field","hiddenTextarea","addEditorMethods","helpers","setOption","getDoc","addKeyMap","removeKeyMap","addOverlay","modeSpec","removeOverlay","newRanges","getTokenAt","getLineTokens","getTokenTypeAt","getHelper","getHelpers","help","_global","getStateAfter","defaultTextHeight","defaultCharWidth","getViewport","addWidget","vspace","hspace","triggerOnKeyDown","triggerOnKeyPress","triggerOnKeyUp","triggerOnMouseDown","findPosH","amount","hitSide","rtlMoveVisually","findPosV","goalColumn","goals","headPos","startChar","check","scrollTo","getScrollInfo","interpret","swapDoc","phrase","phraseText","phrases","getWrapperElement","getScrollerElement","getGutterElement","registerHelper","registerGlobalHelper","predicate","origDir","lineDir","findNextLine","moveOnce","boundToLine","astral","sawType","pageSize","moveAmount","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","contentEditable","belongsToInput","updateFromDOM","readFromDOMSoon","forceCompositionEnd","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","removeAttribute","showMultipleSelections","curAnchor","domToPos","curFocus","bad","posToDOM","rangeCount","getRangeAt","rng","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","pollSelection","poll","pollInterval","isInGutter","pollContent","fromIndex","fromNode","toIndex","toNode","previousSibling","newText","domTextBetween","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","scan","badPos","closing","extraLinebreak","recognizeMarker","close","addText","walk","cmText","markerID","isBlock","textContent","nodeValue","lineNode","locateNodeInLineView","textNode","topNode","curNode","dist$1","TextareaInput","prevInput","pollingFast","createField","textarea","fastPoll","prepareCopyCut","dispatchEvent","Event","_display","moveInputWithCursor","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","slowPoll","missed","same","resetSelectionOnContextMenu","oldCSS","oldWrapperCSS","wrapperBox","offsetParent","oldScrollY","scrollY","rehide","detectingSelectAll","prepareSelectAllHack","extval","mouseup","fromTextArea","tabindex","placeholder","realSubmit","form","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","toTextArea","addLegacyProps","cmpPos","dontDelegate","method","defineExtension","func","defineDocExtension","version","require","cmCfg","modeCfg","htmlMode","htmlModeMissing","findModeByName","mimes","highlightFormatting","maxBlockquoteDepth","taskLists","strikethrough","emoji","fencedCodeBlockHighlighting","fencedCodeBlockDefaultMode","xml","tokenTypeOverrides","tokenTypes","header","quote","list1","list2","list3","hr","imageAltText","imageMarker","formatting","linkInline","linkEmail","linkText","linkHref","em","strong","tokenType","hrRE","listRE","taskListRE","atxHeaderRE","allowAtxHeaderWithoutSpace","setextHeaderRE","textRE","fencedCodeRE","linkDefRE","punctuation","expandedTab","switchInline","inline","switchBlock","block","lineIsEmpty","linkTitle","indentedCode","htmlBlock","exit","htmlState","tagStart","tokenize","isInText","inlineNormal","blockNormal","trailingSpaceNewLine","prevLine","thisLine","firstTokenOnLine","prevLineLineIsEmpty","prevLineIsIndentedCode","prevLineIsHr","prevLineIsList","maxNonCodeIndentation","listStack","lineIndentation","indentationDiff","allowsInlineContinuation","fencedCodeEnd","isHr","getType","setext","listType","taskList","fencedEndRE","localMode","localState","local","footnoteLink","md_inside","currListInd","hasExitedList","maxFencedEndInd","returnType","taskOpen","taskClosed","listMod","handleText","matchCh","regex","previousFormatting","formattingEscape","atts","substring","leftFlanking","rightFlanking","setEm","setStrong","retType","getLinkHrefInside","linkRE","endChar","returnState","footnoteLinkInside","footnoteUrl","s","textAfter","blockCommentStart","blockCommentEnd","closeBrackets","fold","htmlConfig","autoSelfClosers","implicitlyClosed","contextGrabbers","doNotIndent","allowUnquoted","allowMissing","caseFold","xmlConfig","allowMissingTagName","editorConf","config_","config","setStyle","inText","chain","parser","inBlock","doctype","inTag","baseState","inAttribute","stringStartCol","closure","isInAttribute","terminator","depth","startOfLine","noIndent","popContext","maybePopContext","nextTagName","parentTagName","tagNameState","closeTagNameState","attrState","matchClosing","closeState","closeStateErr","_stream","attrEqState","attrValueState","attrContinuedState","baseIndent","fullLine","multilineTagIndentPastTag","multilineTagIndentFactor","alignCDATA","tagAfter","grabbers","configuration","skipAttribute","xmlCurrentTag","xmlCurrentContext","cx","overlayMode","combine","basePos","baseCur","overlayPos","overlayCur","streamSeen","combineTokens","overlayToken","CodeMirrorSpellChecker","marked","isMac","anchorToExternalRegex","bindings","toggleBold","toggleItalic","drawLink","toggleHeadingSmaller","toggleHeadingBigger","drawImage","toggleBlockquote","toggleOrderedList","toggleUnorderedList","toggleCodeBlock","togglePreview","toggleStrikethrough","toggleHeading1","toggleHeading2","toggleHeading3","cleanBlock","drawTable","drawHorizontalRule","toggleSideBySide","toggleFullScreen","shortcuts","getBindingName","isMobile","opera","addAnchorTargetBlank","htmlText","linkString","fixedLinkString","removeListStyleWhenCheckbox","DOMParser","htmlDoc","parseFromString","listItems","getElementsByTagName","listItem","listItemChild","HTMLInputElement","listStyleType","innerHTML","fixShortcut","CLASS_REGEX","getClassRegex","el","classRegex","removeClass","createToolbarDropdown","enableTooltips","createToolbarButton","childrenIndex","childElement","toolbarBuiltInButtons","enableActions","markup","action","createTooltip","noDisable","classList","noMobile","classNameParts","iconClasses","classNameIndex","classNamePart","icon","iconClassIndex","iconClass","onclick","open","createSep","actionName","tooltip","getState","stat","ret","bold","italic","saved_overflow","editor","codemirror","overflow","sidebyside","sideBySideFullscreen","easyMDEContainer","onToggleFullScreen","maxHeight","removeProperty","setPreviewMaxHeight","toolbar_div","toolbarElements","fullscreen","toolbarButton","_toggleBlock","blockStyles","fenceCharsToInsert","fencing_line","token_state","code_type","line_num","firstTok","lastTok","fencedChars","insertFencingAtSelection","cur_start","cur_end","start_line_sel","end_line_sel","sel_multi","repl_start","repl_end","_replaceSelection","tok","is_code","block_start","block_end","fencedTok","fence_chars","start_text","start_line","end_text","end_line","search_from","next_line","next_line_last_tok","next_line_indented","no_sel_and_starting_of_line","_toggleLine","_toggleHeading","_cleanBlock","url","promptURLs","prompt","promptTexts","insertTexts","drawUploadedImage","openBrowseFileWindow","afterImageUploaded","imageName","lastIndexOf","includes","uploadedImage","text_link","updateStatusBar","imageTexts","sbOnUploaded","sbInit","table","horizontalRule","preview","useSideBySideListener","previewNormal","toolbar","sideBySideRenderingFunction","newValue","previewRender","previewClass","isArray","startEnd","startPoint","endPoint","currHeadingLevel","listRegexp","whitespacesRegexp","repl","_getChar","_checkChar","char","_toggle","untoggleOnly","start_chars","end_chars","humanFileSize","bytes","units","u","toFixed","_mergeProperties","property","wordCount","default","timeFormat","locale","format","hour","minute","sbOnDragEnter","sbOnDrop","sbProgress","sizeUnits","errorMessages","noFileGiven","typeNotAllowed","fileTooLarge","importError","EasyMDE","autoDownloadFA","autoDownloadFontAwesome","styleSheets","console","log","showIcons","status","uploadImage","plainText","markdown","parsingConfig","autosave","errorCallback","errorMessage","alert","imageMaxSize","imageAccept","unique_id","uniqueId","render","initialValue","foundSavedValue","imageUploadFunction","uploadImagesUsingCustomFunction","uploadImages","onSuccess","names","uploadImageUsingCustomFunction","itemName","gui","statusbar","matchingClasses","markedOptions","renderingConfig","singleLineBreaks","breaks","codeSyntaxHighlighting","hljs","language","getLanguage","highlightAuto","setOptions","sanitizerFunction","_rendered","documentOnKeyDown","backdrop","spellChecker","gitHubSpice","codeMirrorInstance","styleSelectedText","nativeSpellcheck","autoRefresh","forceSync","cmWrapper","createToolbar","createStatusbar","enabled","_autosave_timeout","submit_delay","calcHeight","naturalWidth","viewportWidth","_vm","assignImageBlockAttributes","parentEl","handleImages","previewImagesInEditor","querySelectorAll","innerText","hasAttribute","srcAttr","EMDEimagesCache","keySrc","sideBySide","createSideBySide","temp_cm","cleanup","isLocalStorageAvailable","localStorage","setItem","removeItem","easyMDE","binded","autosaveTimeoutId","loaded","getItem","getElementById","dd","Intl","DateTimeFormat","clearAutosavedValue","imageInput","click","onChange","imageUrl","onErrorSup","fillErrorMessage","formData","FormData","append","imageCSRFToken","request","XMLHttpRequest","upload","onprogress","lengthComputable","progress","total","imageUploadEndpoint","response","JSON","parse","responseText","filePath","imagePathAbsolute","location","statusText","send","filledErrorMessage","borderTopWidth","optionsMaxHeight","wrapperMaxHeight","previewMaxHeight","syncSideBySidePreviewScroll","cScroll","pScroll","ratio","parseFloat","onscroll","items","toolbarData","toolbarGuideIcon","hideIcons","nonSeparatorIconsFollow","item","toolbarTips","multiple","accept","opacity","onUpdate","onActivity","defaultValue","isPreviewActive","isSideBySideActive","isFullscreenActive","emptyListRE","unorderedListRE","newlineAndIndentContinueMarkdownList","replacements","eolState","inList","inQuote","cursorBeforeBullet","endOfQuote","endOfList","numbered","bullet","incrementRemainingMarkdownListNumbers","startLine","skipCount","startItem","startIndent","nextLineNumber","nextItem","nextIndent","newNumber","nextNumber","itemNumber","tabAndIndentMarkdownList","shiftTabAndUnindentMarkdownList","setFullscreen","setNormal","fullScreenRestore","modeInfo","alias","findModeByMIME","findModeByExtension","findModeByFileName","filename","dot","placeholderCompose","onComposition","clearPlaceholder","setPlaceholder","placeHolder","stopListening","startListening","timeout","hurry","_cm","markedSelection","markedSelectionStyle","onCursorActivity","CHUNK_SIZE","coverRange","addAt","endLine","atEnd","regexpFlags","regexp","flags","ignoreCase","multiline","ensureFlags","maybeMultiline","searchRegexpForward","searchRegexpForwardMultiline","inside","lastMatchIn","endMargin","newMatch","searchRegexpBackward","searchRegexpBackwardMultiline","doFold","noFold","normalize","adjustPos","orig","folded","foldFunc","searchStringForward","query","cutFrom","endString","searchStringBackward","topString","SearchCursor","atOccurrence","matches","findNext","findPrevious","getSearchCursor","urlRE","modeConfig","codeDepth","gfmOverlay","codeBlock","ateSpace","difference","markdownConfig","Typo","aff_loading","xhr_aff","readyState","aff_data","num_loaded","typo","dic_data","dic_loading","xhr_dic","rx_word","dictionary","affData","wordsData","settings","rules","dictionaryTable","compoundRules","compoundRuleCodes","replacementTable","memoized","path","_len","_jlen","setup","extension","dictionaryPath","readDataFile","getURL","setAffData","setWordsData","__dirname","setFunc","_readFile","asyncLoad","then","_parseAFF","rule","ONLYINCOMPOUND","_parseDIC","ruleText","expressionText","character","loadedCallback","load","charset","async","promise","req","Promise","resolve","reject","overrideMimeType","fs","existsSync","readFileSync","subline","numEntries","lineParts","_removeAffixComments","definitionParts","ruleType","ruleCode","combineable","charactersToRemove","additionParts","charactersToAdd","continuationClasses","parseRuleCodes","regexToMatch","_removeDicComments","addWord","ruleCodesArray","NEEDAFFIX","newWords","_applyRule","ii","_iilen","newWord","combineCode","combineRule","otherNewWords","iii","_iiilen","otherNewWord","textCodes","FLAG","continuationRule","aWord","trimmedWord","checkExact","capitalizedWord","hasFlag","uncapitalizedWord","ruleCodes","COMPOUNDMIN","flag","wordFlags","alphabet","suggest","memoizedLimit","replacementEntry","correctedWord","edits1","words","known_only","rv","_edit","alphabetLength","lettercase","replacementLetter","correct","ed1","ed2","weighted_corrections","ed1word","sorted_corrections","sorter","a_val","b_val","localeCompare","capitalization_scheme","working_limit","_defineProperties","descriptor","enumerable","configurable","writable","defineProperty","_createClass","Constructor","protoProps","staticProps","_unsupportedIterableToArray","minLen","_arrayLikeToArray","arr2","_createForOfIteratorHelperLoose","allowArrayLike","it","Symbol","iterator","TypeError","defaults$5","getDefaults$1","baseUrl","extensions","gfm","headerIds","headerPrefix","langPrefix","mangle","pedantic","renderer","sanitize","sanitizer","silent","smartLists","smartypants","tokenizer","walkTokens","xhtml","changeDefaults$1","newDefaults","getDefaults","changeDefaults","escapeTest","escapeReplace","escapeTestNoEncode","escapeReplaceNoEncode","escapeReplacements","getEscapeReplacement","escape$2","html","encode","unescapeTest","unescape$1","caret","edit$1","getRegex","nonWordAndColonTest","originIndependentUrl","cleanUrl$1","prot","decodeURIComponent","resolveUrl","encodeURI","baseUrls","justDomain","protocol","domain","rtrim$1","relativeBase","noopTest$1","noopTest","merge$2","splitCells$1","tableRow","row","escaped","curr","cells","c","suffLen","currChar","findClosingBracket$1","checkSanitizeDeprecation$1","warn","repeatString$1","escape","unescape","edit","cleanUrl","merge","splitCells","rtrim","findClosingBracket","checkSanitizeDeprecation","repeatString","defaults$4","_escape","outputLink","cap","raw","indentCodeCompensation","matchIndentToCode","indentToCode","matchIndentInNode","indentInNode","Tokenizer_1","Tokenizer","_proto","newline","codeBlockStyle","fences","lang","heading","trimmed","nptable","blockquote","bull","isordered","ordered","loose","itemMatch","bcurr","bnext","addBack","istask","ischecked","endMatch","listItemStart","task","checked","def","lheading","paragraph","inLink","inRawBlock","trimmedUrl","rtrimSlash","lastParenIndex","linkLen","_escapes","reflink","links","nolink","emStrong","maskedSrc","prevChar","lDelim","nextChar","lLength","rDelim","rLength","delimTotal","midDelimTotal","endReg","rDelimAst","rDelimUnd","codespan","hasNonSpaceChars","hasSpaceCharsOnBothEnds","br","del","autolink","prevCapZero","_backpedal","inlineText","merge$1","block$1","_paragraph","_label","_title","_tag","_comment","inline$1","reflinkSearch","_punctuation","blockSkip","escapedEmSt","_scheme","_email","_attribute","_href","middle","endAst","endUnd","_extended_email","Tokenizer$1","defaults$3","random","Lexer_1","Lexer","lex","lexer","lexInline","inlineTokens","blockTokens","_this","lastToken","cutSrc","lastParagraphClipped","some","extTokenizer","startBlock","tempSrc","tempStart","getStartIndex","errMsg","l2","_this2","keepPrevChar","startInline","defaults$2","escape$1","Renderer_1","Renderer","_code","infostring","_html","slugger","slug","startatt","listitem","checkbox","tablerow","tablecell","_text","TextRenderer_1","TextRenderer","Slugger_1","Slugger","seen","serialize","getNextSafeSlug","originalSlug","isDryRun","occurenceAccumulator","dryrun","Renderer$1","TextRenderer$1","Slugger$1","defaults$1","Parser_1","Parser","textRenderer","parseInline","l3","cell","itemBody","renderers","callback","err","pending","_tokens","message","use","_key","opts","childTokens","hasExtensions","pack","prevRenderer","_len2","_key2","_loop","_len3","_key3","_loop2","prevTokenizer","_len4","_key4","_loop3","_step","_iterator2","_step2","_iterator3","_step3","_iterator4","_step4","_cell","_iterator","marked_1"],"mappings":"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","file":"x","sourcesContent":["import { useEffect, useRef } from 'react';\n/**\n * Creates a `Ref` whose value is updated in an effect, ensuring the most recent\n * value is the one rendered with. Generally only required for Concurrent mode usage\n * where previous work in `render()` may be discarded befor being used.\n *\n * This is safe to access in an event handler.\n *\n * @param value The `Ref` value\n */\n\nfunction useCommittedRef(value) {\n  var ref = useRef(value);\n  useEffect(function () {\n    ref.current = value;\n  }, [value]);\n  return ref;\n}\n\nexport default useCommittedRef;","import { useCallback } from 'react';\nimport useCommittedRef from './useCommittedRef';\nexport default function useEventCallback(fn) {\n  var ref = useCommittedRef(fn);\n  return useCallback(function () {\n    return ref.current && ref.current.apply(ref, arguments);\n  }, [ref]);\n}","import { useEffect } from 'react';\nimport useEventCallback from './useEventCallback';\n\n/**\n * Attaches an event handler outside directly to specified DOM element\n * bypassing the react synthetic event system.\n *\n * @param element The target to listen for events on\n * @param event The DOM event name\n * @param handler An event handler\n * @param capture Whether or not to listen during the capture event phase\n */\nexport default function useEventListener(eventTarget, event, listener, capture) {\n  if (capture === void 0) {\n    capture = false;\n  }\n\n  var handler = useEventCallback(listener);\n  useEffect(function () {\n    var target = typeof eventTarget === 'function' ? eventTarget() : eventTarget;\n    target.addEventListener(event, handler, capture);\n    return function () {\n      return target.removeEventListener(event, handler, capture);\n    };\n  }, [eventTarget]);\n}","var rHyphen = /-(.)/g;\nexport default function camelize(string) {\n  return string.replace(rHyphen, function (_, chr) {\n    return chr.toUpperCase();\n  });\n}","import classNames from 'classnames';\nimport camelize from 'dom-helpers/camelize';\nimport * as React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst pascalCase = str => str[0].toUpperCase() + camelize(str).slice(1);\n\n// TODO: emstricten & fix the typing here! `createWithBsPrefix<TElementType>...`\nexport default function createWithBsPrefix(prefix, {\n  displayName = pascalCase(prefix),\n  Component,\n  defaultProps\n} = {}) {\n  const BsComponent = /*#__PURE__*/React.forwardRef(({\n    className,\n    bsPrefix,\n    as: Tag = Component || 'div',\n    ...props\n  }, ref) => {\n    const resolvedPrefix = useBootstrapPrefix(bsPrefix, prefix);\n    return /*#__PURE__*/_jsx(Tag, {\n      ref: ref,\n      className: classNames(className, resolvedPrefix),\n      ...props\n    });\n  });\n  BsComponent.defaultProps = defaultProps;\n  BsComponent.displayName = displayName;\n  return BsComponent;\n}","import { useEffect, useRef } from 'react';\n/**\n * Store the last of some value. Tracked via a `Ref` only updating it\n * after the component renders.\n *\n * Helpful if you need to compare a prop value to it's previous value during render.\n *\n * ```ts\n * function Component(props) {\n *   const lastProps = usePrevious(props)\n *\n *   if (lastProps.foo !== props.foo)\n *     resetValueFromProps(props.foo)\n * }\n * ```\n *\n * @param value the value to track\n */\n\nexport default function usePrevious(value) {\n  var ref = useRef(null);\n  useEffect(function () {\n    ref.current = value;\n  });\n  return ref.current;\n}","import useEventListener from './useEventListener';\nimport { useCallback } from 'react';\n\n/**\n * Attaches an event handler outside directly to the `document`,\n * bypassing the react synthetic event system.\n *\n * ```ts\n * useGlobalListener('keydown', (event) => {\n *  console.log(event.key)\n * })\n * ```\n *\n * @param event The DOM event name\n * @param handler An event handler\n * @param capture Whether or not to listen during the capture event phase\n */\nexport default function useGlobalListener(event, handler, capture) {\n  if (capture === void 0) {\n    capture = false;\n  }\n\n  var documentTarget = useCallback(function () {\n    return document;\n  }, []);\n  return useEventListener(documentTarget, event, handler, capture);\n}","import { useState } from 'react';\n/**\n * A convenience hook around `useState` designed to be paired with\n * the component [callback ref](https://reactjs.org/docs/refs-and-the-dom.html#callback-refs) api.\n * Callback refs are useful over `useRef()` when you need to respond to the ref being set\n * instead of lazily accessing it in an effect.\n *\n * ```ts\n * const [element, attachRef] = useCallbackRef<HTMLDivElement>()\n *\n * useEffect(() => {\n *   if (!element) return\n *\n *   const calendar = new FullCalendar.Calendar(element)\n *\n *   return () => {\n *     calendar.destroy()\n *   }\n * }, [element])\n *\n * return <div ref={attachRef} />\n * ```\n *\n * @category refs\n */\n\nexport default function useCallbackRef() {\n  return useState(null);\n}","import { useRef, useEffect } from 'react';\n/**\n * Track whether a component is current mounted. Generally less preferable than\n * properlly canceling effects so they don't run after a component is unmounted,\n * but helpful in cases where that isn't feasible, such as a `Promise` resolution.\n *\n * @returns a function that returns the current isMounted state of the component\n *\n * ```ts\n * const [data, setData] = useState(null)\n * const isMounted = useMounted()\n *\n * useEffect(() => {\n *   fetchdata().then((newData) => {\n *      if (isMounted()) {\n *        setData(newData);\n *      }\n *   })\n * })\n * ```\n */\n\nexport default function useMounted() {\n  var mounted = useRef(true);\n  var isMounted = useRef(function () {\n    return mounted.current;\n  });\n  useEffect(function () {\n    return function () {\n      mounted.current = false;\n    };\n  }, []);\n  return isMounted.current;\n}","import { useEffect } from 'react';\nimport useCommittedRef from './useCommittedRef';\n/**\n * Creates a `setInterval` that is properly cleaned up when a component unmounted\n *\n * ```tsx\n *  function Timer() {\n *    const [timer, setTimer] = useState(0)\n *    useInterval(() => setTimer(i => i + 1), 1000)\n *\n *    return <span>{timer} seconds past</span>\n *  }\n * ```\n *\n * @param fn an function run on each interval\n * @param ms The milliseconds duration of the interval\n */\n\nfunction useInterval(fn, ms, paused, runImmediately) {\n  if (paused === void 0) {\n    paused = false;\n  }\n\n  if (runImmediately === void 0) {\n    runImmediately = false;\n  }\n\n  var handle;\n  var fnRef = useCommittedRef(fn); // this ref is necessary b/c useEffect will sometimes miss a paused toggle\n  // orphaning a setTimeout chain in the aether, so relying on it's refresh logic is not reliable.\n\n  var pausedRef = useCommittedRef(paused);\n\n  var tick = function tick() {\n    if (pausedRef.current) return;\n    fnRef.current();\n    schedule(); // eslint-disable-line no-use-before-define\n  };\n\n  var schedule = function schedule() {\n    clearTimeout(handle);\n    handle = setTimeout(tick, ms);\n  };\n\n  useEffect(function () {\n    if (runImmediately) {\n      tick();\n    } else {\n      schedule();\n    }\n\n    return function () {\n      return clearTimeout(handle);\n    };\n  }, [paused, runImmediately]);\n}\n\nexport default useInterval;","import { useEffect } from 'react';\nimport useCommittedRef from './useCommittedRef';\n\nfunction useRafInterval(fn, ms, paused) {\n  if (paused === void 0) {\n    paused = false;\n  }\n\n  var handle;\n  var start = new Date().getTime();\n  var fnRef = useCommittedRef(fn); // this ref is necessary b/c useEffect will sometimes miss a paused toggle\n  // orphaning a setTimeout chain in the aether, so relying on it's refresh logic is not reliable.\n\n  var pausedRef = useCommittedRef(paused);\n\n  function loop() {\n    var current = new Date().getTime();\n    var delta = current - start;\n    if (pausedRef.current) return;\n\n    if (delta >= ms && fnRef.current) {\n      fnRef.current();\n      start = new Date().getTime();\n    }\n\n    cancelAnimationFrame(handle);\n    handle = requestAnimationFrame(loop);\n  }\n\n  useEffect(function () {\n    handle = requestAnimationFrame(loop);\n    return function () {\n      return cancelAnimationFrame(handle);\n    };\n  }, []);\n}\n\nexport default useRafInterval;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { useCallback, useState } from 'react';\n\n/**\n * Mimics a React class component's state model, of having a single unified\n * `state` object and an updater that merges updates into the existing state, as\n * opposed to replacing it.\n *\n * ```js\n * const [state, setState] = useMergeState({ name: 'Betsy', age: 24 })\n *\n * setState({ name: 'Johan' }) // { name: 'Johan', age: 24 }\n *\n * setState(state => ({ age: state.age + 10 })) // { name: 'Johan', age: 34 }\n * ```\n *\n * @param initialState The initial state object\n */\nexport default function useMergeState(initialState) {\n  var _useState = useState(initialState),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var updater = useCallback(function (update) {\n    if (update === null) return;\n\n    if (typeof update === 'function') {\n      setState(function (state) {\n        var nextState = update(state);\n        return nextState == null ? state : _extends({}, state, nextState);\n      });\n    } else {\n      setState(function (state) {\n        return _extends({}, state, update);\n      });\n    }\n  }, [setState]);\n  return [state, updater];\n}","import useMergeState from './useMergeState';\nexport default function useMergeStateFromProps(props, gDSFP, initialState) {\n  var _useMergeState = useMergeState(initialState),\n      state = _useMergeState[0],\n      setState = _useMergeState[1];\n\n  var nextState = gDSFP(props, state);\n  if (nextState !== null) setState(nextState);\n  return [state, setState];\n}","import { useState, useEffect } from 'react';\n\n/**\n * Fetch and load an image for programatic use such as in a `<canvas>` element.\n *\n * @param imageOrUrl The `HtmlImageElement` or image url to load\n * @param crossOrigin The `crossorigin` attribute to set\n *\n * ```ts\n * const { image, error } = useImage('/static/kittens.png')\n * const ref = useRef<HTMLCanvasElement>()\n *\n * useEffect(() => {\n *   const ctx = ref.current.getContext('2d')\n *\n *   if (image) {\n *     ctx.drawImage(image, 0, 0)\n *   }\n * }, [ref, image])\n *\n * return (\n *   <>\n *     {error && \"there was a problem loading the image\"}\n *     <canvas ref={ref} />\n *   </>\n * ```\n */\nexport default function useImage(imageOrUrl, crossOrigin) {\n  var _useState = useState({\n    image: null,\n    error: null\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  useEffect(function () {\n    if (!imageOrUrl) return undefined;\n    var image;\n\n    if (typeof imageOrUrl === 'string') {\n      image = new Image();\n      if (crossOrigin) image.crossOrigin = crossOrigin;\n      image.src = imageOrUrl;\n    } else {\n      image = imageOrUrl;\n\n      if (image.complete && image.naturalHeight > 0) {\n        setState({\n          image: image,\n          error: null\n        });\n        return;\n      }\n    }\n\n    function onLoad() {\n      setState({\n        image: image,\n        error: null\n      });\n    }\n\n    function onError(error) {\n      setState({\n        image: image,\n        error: error\n      });\n    }\n\n    image.addEventListener('load', onLoad);\n    image.addEventListener('error', onError);\n    return function () {\n      image.removeEventListener('load', onLoad);\n      image.removeEventListener('error', onError);\n    };\n  }, [imageOrUrl, crossOrigin]);\n  return state;\n}","import { useState } from 'react';\nimport useEffect from './useIsomorphicEffect';\nvar targetMap = new WeakMap();\nvar resizeObserver;\n\nfunction getResizeObserver() {\n  // eslint-disable-next-line no-return-assign\n  return resizeObserver = resizeObserver || new window.ResizeObserver(function (entries) {\n    entries.forEach(function (entry) {\n      var handler = targetMap.get(entry.target);\n      if (handler) handler(entry.contentRect);\n    });\n  });\n}\n/**\n * Efficiently observe size changes on an element. Depends on the `ResizeObserver` api,\n * and polyfills are needed in older browsers.\n *\n * ```ts\n * const [ref, attachRef] = useCallbackRef(null);\n *\n * const rect = useResizeObserver(ref);\n *\n * return (\n *  <div ref={attachRef}>\n *    {JSON.stringify(rect)}\n *  </div>\n * )\n * ```\n *\n * @param element The DOM element to observe\n */\n\n\nexport default function useResizeObserver(element) {\n  var _useState = useState(null),\n      rect = _useState[0],\n      setRect = _useState[1];\n\n  useEffect(function () {\n    if (!element) return;\n    getResizeObserver().observe(element);\n    setRect(element.getBoundingClientRect());\n    targetMap.set(element, function (rect) {\n      setRect(rect);\n    });\n    return function () {\n      targetMap.delete(element);\n    };\n  }, [element]);\n  return rect;\n}","import useCallbackRef from './useCallbackRef';\nimport useCommittedRef from './useCommittedRef';\nimport useEventCallback from './useEventCallback';\nimport useEventListener from './useEventListener';\nimport useGlobalListener from './useGlobalListener';\nimport useInterval from './useInterval';\nimport useRafInterval from './useRafInterval';\nimport useMergeState from './useMergeState';\nimport useMergeStateFromProps from './useMergeStateFromProps';\nimport useMounted from './useMounted';\nimport usePrevious from './usePrevious';\nimport useImage from './useImage';\nimport useResizeObserver from './useResizeObserver';\nexport { useCallbackRef, useCommittedRef, useEventCallback, useEventListener, useGlobalListener, useInterval, useRafInterval, useMergeState, useMergeStateFromProps, useMounted, usePrevious, useImage, useResizeObserver };","const _excluded = [\"onKeyDown\"];\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n\n/* eslint-disable jsx-a11y/anchor-has-content */\nimport * as React from 'react';\nimport { useEventCallback } from '@restart/hooks';\nimport { useButtonProps } from './Button';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport function isTrivialHref(href) {\n  return !href || href.trim() === '#';\n}\n\n/**\n * An generic `<a>` component that covers a few A11y cases, ensuring that\n * cases where the `href` is missing or trivial like \"#\" are treated like buttons.\n */\nconst Anchor = /*#__PURE__*/React.forwardRef((_ref, ref) => {\n  let {\n    onKeyDown\n  } = _ref,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  const [buttonProps] = useButtonProps(Object.assign({\n    tagName: 'a'\n  }, props));\n  const handleKeyDown = useEventCallback(e => {\n    buttonProps.onKeyDown(e);\n    onKeyDown == null ? void 0 : onKeyDown(e);\n  });\n\n  if (isTrivialHref(props.href) && !props.role || props.role === 'button') {\n    return /*#__PURE__*/_jsx(\"a\", Object.assign({\n      ref: ref\n    }, props, buttonProps, {\n      onKeyDown: handleKeyDown\n    }));\n  }\n\n  return /*#__PURE__*/_jsx(\"a\", Object.assign({\n    ref: ref\n  }, props, {\n    onKeyDown: onKeyDown\n  }));\n});\nAnchor.displayName = 'Anchor';\nexport default Anchor;","const _excluded = [\"as\", \"disabled\"];\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport function isTrivialHref(href) {\n  return !href || href.trim() === '#';\n}\nexport function useButtonProps({\n  tagName,\n  disabled,\n  href,\n  target,\n  rel,\n  onClick,\n  tabIndex = 0,\n  type\n}) {\n  if (!tagName) {\n    if (href != null || target != null || rel != null) {\n      tagName = 'a';\n    } else {\n      tagName = 'button';\n    }\n  }\n\n  const meta = {\n    tagName\n  };\n\n  if (tagName === 'button') {\n    return [{\n      type: type || 'button',\n      disabled\n    }, meta];\n  }\n\n  const handleClick = event => {\n    if (disabled || tagName === 'a' && isTrivialHref(href)) {\n      event.preventDefault();\n    }\n\n    if (disabled) {\n      event.stopPropagation();\n      return;\n    }\n\n    onClick == null ? void 0 : onClick(event);\n  };\n\n  const handleKeyDown = event => {\n    if (event.key === ' ') {\n      event.preventDefault();\n      handleClick(event);\n    }\n  };\n\n  return [{\n    role: 'button',\n    // explicitly undefined so that it overrides the props disabled in a spread\n    // e.g. <Tag {...props} {...hookProps} />\n    disabled: undefined,\n    tabIndex: disabled ? undefined : tabIndex,\n    href: tagName === 'a' && disabled ? undefined : href,\n    target: tagName === 'a' ? target : undefined,\n    'aria-disabled': !disabled ? undefined : disabled,\n    rel: tagName === 'a' ? rel : undefined,\n    onClick: handleClick,\n    onKeyDown: handleKeyDown\n  }, meta];\n}\nconst Button = /*#__PURE__*/React.forwardRef((_ref, ref) => {\n  let {\n    as: asProp,\n    disabled\n  } = _ref,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  const [buttonProps, {\n    tagName: Component\n  }] = useButtonProps(Object.assign({\n    tagName: asProp,\n    disabled\n  }, props));\n  return /*#__PURE__*/_jsx(Component, Object.assign({}, props, buttonProps, {\n    ref: ref\n  }));\n});\nButton.displayName = 'Button';\nexport default Button;","import * as React from 'react';\nimport classNames from 'classnames';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default (className => /*#__PURE__*/React.forwardRef((p, ref) => /*#__PURE__*/_jsx(\"div\", { ...p,\n  ref: ref,\n  className: classNames(p.className, className)\n})));","import { useEffect, useLayoutEffect } from 'react';\nvar isReactNative = typeof global !== 'undefined' && // @ts-ignore\nglobal.navigator && // @ts-ignore\nglobal.navigator.product === 'ReactNative';\nvar isDOM = typeof document !== 'undefined';\n/**\n * Is `useLayoutEffect` in a DOM or React Native environment, otherwise resolves to useEffect\n * Only useful to avoid the console warning.\n *\n * PREFER `useEffect` UNLESS YOU KNOW WHAT YOU ARE DOING.\n *\n * @category effects\n */\n\nexport default isDOM || isReactNative ? useLayoutEffect : useEffect;","import * as React from 'react';\nconst context = /*#__PURE__*/React.createContext(null);\ncontext.displayName = 'CardHeaderContext';\nexport default context;","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst DEVICE_SIZES = ['xxl', 'xl', 'lg', 'md', 'sm', 'xs'];\nexport function useCol({\n  as,\n  bsPrefix,\n  className,\n  ...props\n}) {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'col');\n  const spans = [];\n  const classes = [];\n  DEVICE_SIZES.forEach(brkPoint => {\n    const propValue = props[brkPoint];\n    delete props[brkPoint];\n    let span;\n    let offset;\n    let order;\n\n    if (typeof propValue === 'object' && propValue != null) {\n      ({\n        span,\n        offset,\n        order\n      } = propValue);\n    } else {\n      span = propValue;\n    }\n\n    const infix = brkPoint !== 'xs' ? `-${brkPoint}` : '';\n    if (span) spans.push(span === true ? `${bsPrefix}${infix}` : `${bsPrefix}${infix}-${span}`);\n    if (order != null) classes.push(`order${infix}-${order}`);\n    if (offset != null) classes.push(`offset${infix}-${offset}`);\n  });\n  return [{ ...props,\n    className: classNames(className, ...spans, ...classes)\n  }, {\n    as,\n    bsPrefix,\n    spans\n  }];\n}\nconst Col = /*#__PURE__*/React.forwardRef( // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n(props, ref) => {\n  const [{\n    className,\n    ...colProps\n  }, {\n    as: Component = 'div',\n    bsPrefix,\n    spans\n  }] = useCol(props);\n  return /*#__PURE__*/_jsx(Component, { ...colProps,\n    ref: ref,\n    className: classNames(className, !spans.length && bsPrefix)\n  });\n});\nCol.displayName = 'Col';\nexport default Col;","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst CardImg = /*#__PURE__*/React.forwardRef( // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n({\n  bsPrefix,\n  className,\n  variant,\n  as: Component = 'img',\n  ...props\n}, ref) => {\n  const prefix = useBootstrapPrefix(bsPrefix, 'card-img');\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    className: classNames(variant ? `${prefix}-${variant}` : prefix, className),\n    ...props\n  });\n});\nCardImg.displayName = 'CardImg';\nexport default CardImg;","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useMemo } from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport CardHeaderContext from './CardHeaderContext';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst CardHeader = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n  as: Component = 'div',\n  ...props\n}, ref) => {\n  const prefix = useBootstrapPrefix(bsPrefix, 'card-header');\n  const contextValue = useMemo(() => ({\n    cardHeaderBsPrefix: prefix\n  }), [prefix]);\n  return /*#__PURE__*/_jsx(CardHeaderContext.Provider, {\n    value: contextValue,\n    children: /*#__PURE__*/_jsx(Component, {\n      ref: ref,\n      ...props,\n      className: classNames(className, prefix)\n    })\n  });\n});\nCardHeader.displayName = 'CardHeader';\nexport default CardHeader;","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport createWithBsPrefix from './createWithBsPrefix';\nimport divWithClassName from './divWithClassName';\nimport CardImg from './CardImg';\nimport CardHeader from './CardHeader';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst DivStyledAsH5 = divWithClassName('h5');\nconst DivStyledAsH6 = divWithClassName('h6');\nconst CardBody = createWithBsPrefix('card-body');\nconst CardTitle = createWithBsPrefix('card-title', {\n  Component: DivStyledAsH5\n});\nconst CardSubtitle = createWithBsPrefix('card-subtitle', {\n  Component: DivStyledAsH6\n});\nconst CardLink = createWithBsPrefix('card-link', {\n  Component: 'a'\n});\nconst CardText = createWithBsPrefix('card-text', {\n  Component: 'p'\n});\nconst CardFooter = createWithBsPrefix('card-footer');\nconst CardImgOverlay = createWithBsPrefix('card-img-overlay');\nconst defaultProps = {\n  body: false\n};\nconst Card = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  bg,\n  text,\n  border,\n  body,\n  children,\n  // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n  as: Component = 'div',\n  ...props\n}, ref) => {\n  const prefix = useBootstrapPrefix(bsPrefix, 'card');\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    ...props,\n    className: classNames(className, prefix, bg && `bg-${bg}`, text && `text-${text}`, border && `border-${border}`),\n    children: body ? /*#__PURE__*/_jsx(CardBody, {\n      children: children\n    }) : children\n  });\n});\nCard.displayName = 'Card';\nCard.defaultProps = defaultProps;\nexport default Object.assign(Card, {\n  Img: CardImg,\n  Title: CardTitle,\n  Subtitle: CardSubtitle,\n  Body: CardBody,\n  Link: CardLink,\n  Text: CardText,\n  Header: CardHeader,\n  Footer: CardFooter,\n  ImgOverlay: CardImgOverlay\n});","import classNames from 'classnames';\nimport * as React from 'react';\nimport Anchor from '@restart/ui/Anchor';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst defaultProps = {\n  active: false,\n  linkProps: {}\n};\nconst BreadcrumbItem = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  active,\n  children,\n  className,\n  // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n  as: Component = 'li',\n  linkAs: LinkComponent = Anchor,\n  linkProps,\n  href,\n  title,\n  target,\n  ...props\n}, ref) => {\n  const prefix = useBootstrapPrefix(bsPrefix, 'breadcrumb-item');\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    ...props,\n    className: classNames(prefix, className, {\n      active\n    }),\n    \"aria-current\": active ? 'page' : undefined,\n    children: active ? children : /*#__PURE__*/_jsx(LinkComponent, { ...linkProps,\n      href: href,\n      title: title,\n      target: target,\n      children: children\n    })\n  });\n});\nBreadcrumbItem.displayName = 'BreadcrumbItem';\nBreadcrumbItem.defaultProps = defaultProps;\nexport default BreadcrumbItem;","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport BreadcrumbItem from './BreadcrumbItem';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst defaultProps = {\n  label: 'breadcrumb',\n  listProps: {}\n};\nconst Breadcrumb = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  listProps,\n  children,\n  label,\n  // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n  as: Component = 'nav',\n  ...props\n}, ref) => {\n  const prefix = useBootstrapPrefix(bsPrefix, 'breadcrumb');\n  return /*#__PURE__*/_jsx(Component, {\n    \"aria-label\": label,\n    className: className,\n    ref: ref,\n    ...props,\n    children: /*#__PURE__*/_jsx(\"ol\", { ...listProps,\n      className: classNames(prefix, listProps == null ? void 0 : listProps.className),\n      children: children\n    })\n  });\n});\nBreadcrumb.displayName = 'Breadcrumb';\nBreadcrumb.defaultProps = defaultProps;\nexport default Object.assign(Breadcrumb, {\n  Item: BreadcrumbItem\n});","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst DEVICE_SIZES = ['xxl', 'xl', 'lg', 'md', 'sm', 'xs'];\nconst Row = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n  as: Component = 'div',\n  ...props\n}, ref) => {\n  const decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'row');\n  const sizePrefix = `${decoratedBsPrefix}-cols`;\n  const classes = [];\n  DEVICE_SIZES.forEach(brkPoint => {\n    const propValue = props[brkPoint];\n    delete props[brkPoint];\n    let cols;\n\n    if (propValue != null && typeof propValue === 'object') {\n      ({\n        cols\n      } = propValue);\n    } else {\n      cols = propValue;\n    }\n\n    const infix = brkPoint !== 'xs' ? `-${brkPoint}` : '';\n    if (cols != null) classes.push(`${sizePrefix}${infix}-${cols}`);\n  });\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    ...props,\n    className: classNames(className, decoratedBsPrefix, ...classes)\n  });\n});\nRow.displayName = 'Row';\nexport default Row;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose.js\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// This is CodeMirror (https://codemirror.net), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.CodeMirror = factory());\n}(this, (function () { 'use strict';\n\n  // Kludges for bugs and behavior differences that can't be feature\n  // detected are enabled based on userAgent etc sniffing.\n  var userAgent = navigator.userAgent;\n  var platform = navigator.platform;\n\n  var gecko = /gecko\\/\\d/i.test(userAgent);\n  var ie_upto10 = /MSIE \\d/.test(userAgent);\n  var ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\n  var edge = /Edge\\/(\\d+)/.exec(userAgent);\n  var ie = ie_upto10 || ie_11up || edge;\n  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);\n  var webkit = !edge && /WebKit\\//.test(userAgent);\n  var qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\n  var chrome = !edge && /Chrome\\//.test(userAgent);\n  var presto = /Opera\\//.test(userAgent);\n  var safari = /Apple Computer/.test(navigator.vendor);\n  var mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\n  var phantom = /PhantomJS/.test(userAgent);\n\n  var ios = safari && (/Mobile\\/\\w+/.test(userAgent) || navigator.maxTouchPoints > 2);\n  var android = /Android/.test(userAgent);\n  // This is woefully incomplete. Suggestions for alternative methods welcome.\n  var mobile = ios || android || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\n  var mac = ios || /Mac/.test(platform);\n  var chromeOS = /\\bCrOS\\b/.test(userAgent);\n  var windows = /win/i.test(platform);\n\n  var presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\n  if (presto_version) { presto_version = Number(presto_version[1]); }\n  if (presto_version && presto_version >= 15) { presto = false; webkit = true; }\n  // Some browsers use the wrong event properties to signal cmd/ctrl on OS X\n  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\n  var captureRightClick = gecko || (ie && ie_version >= 9);\n\n  function classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\n\n  var rmClass = function(node, cls) {\n    var current = node.className;\n    var match = classTest(cls).exec(current);\n    if (match) {\n      var after = current.slice(match.index + match[0].length);\n      node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n    }\n  };\n\n  function removeChildren(e) {\n    for (var count = e.childNodes.length; count > 0; --count)\n      { e.removeChild(e.firstChild); }\n    return e\n  }\n\n  function removeChildrenAndAdd(parent, e) {\n    return removeChildren(parent).appendChild(e)\n  }\n\n  function elt(tag, content, className, style) {\n    var e = document.createElement(tag);\n    if (className) { e.className = className; }\n    if (style) { e.style.cssText = style; }\n    if (typeof content == \"string\") { e.appendChild(document.createTextNode(content)); }\n    else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]); } }\n    return e\n  }\n  // wrapper for elt, which removes the elt from the accessibility tree\n  function eltP(tag, content, className, style) {\n    var e = elt(tag, content, className, style);\n    e.setAttribute(\"role\", \"presentation\");\n    return e\n  }\n\n  var range;\n  if (document.createRange) { range = function(node, start, end, endNode) {\n    var r = document.createRange();\n    r.setEnd(endNode || node, end);\n    r.setStart(node, start);\n    return r\n  }; }\n  else { range = function(node, start, end) {\n    var r = document.body.createTextRange();\n    try { r.moveToElementText(node.parentNode); }\n    catch(e) { return r }\n    r.collapse(true);\n    r.moveEnd(\"character\", end);\n    r.moveStart(\"character\", start);\n    return r\n  }; }\n\n  function contains(parent, child) {\n    if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n      { child = child.parentNode; }\n    if (parent.contains)\n      { return parent.contains(child) }\n    do {\n      if (child.nodeType == 11) { child = child.host; }\n      if (child == parent) { return true }\n    } while (child = child.parentNode)\n  }\n\n  function activeElt() {\n    // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n    // IE < 10 will throw when accessed while the page is loading or in an iframe.\n    // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n    var activeElement;\n    try {\n      activeElement = document.activeElement;\n    } catch(e) {\n      activeElement = document.body || null;\n    }\n    while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement)\n      { activeElement = activeElement.shadowRoot.activeElement; }\n    return activeElement\n  }\n\n  function addClass(node, cls) {\n    var current = node.className;\n    if (!classTest(cls).test(current)) { node.className += (current ? \" \" : \"\") + cls; }\n  }\n  function joinClasses(a, b) {\n    var as = a.split(\" \");\n    for (var i = 0; i < as.length; i++)\n      { if (as[i] && !classTest(as[i]).test(b)) { b += \" \" + as[i]; } }\n    return b\n  }\n\n  var selectInput = function(node) { node.select(); };\n  if (ios) // Mobile Safari apparently has a bug where select() is broken.\n    { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; }; }\n  else if (ie) // Suppress mysterious IE10 errors\n    { selectInput = function(node) { try { node.select(); } catch(_e) {} }; }\n\n  function bind(f) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function(){return f.apply(null, args)}\n  }\n\n  function copyObj(obj, target, overwrite) {\n    if (!target) { target = {}; }\n    for (var prop in obj)\n      { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\n        { target[prop] = obj[prop]; } }\n    return target\n  }\n\n  // Counts the column offset in a string, taking tabs into account.\n  // Used mostly to find indentation.\n  function countColumn(string, end, tabSize, startIndex, startValue) {\n    if (end == null) {\n      end = string.search(/[^\\s\\u00a0]/);\n      if (end == -1) { end = string.length; }\n    }\n    for (var i = startIndex || 0, n = startValue || 0;;) {\n      var nextTab = string.indexOf(\"\\t\", i);\n      if (nextTab < 0 || nextTab >= end)\n        { return n + (end - i) }\n      n += nextTab - i;\n      n += tabSize - (n % tabSize);\n      i = nextTab + 1;\n    }\n  }\n\n  var Delayed = function() {\n    this.id = null;\n    this.f = null;\n    this.time = 0;\n    this.handler = bind(this.onTimeout, this);\n  };\n  Delayed.prototype.onTimeout = function (self) {\n    self.id = 0;\n    if (self.time <= +new Date) {\n      self.f();\n    } else {\n      setTimeout(self.handler, self.time - +new Date);\n    }\n  };\n  Delayed.prototype.set = function (ms, f) {\n    this.f = f;\n    var time = +new Date + ms;\n    if (!this.id || time < this.time) {\n      clearTimeout(this.id);\n      this.id = setTimeout(this.handler, ms);\n      this.time = time;\n    }\n  };\n\n  function indexOf(array, elt) {\n    for (var i = 0; i < array.length; ++i)\n      { if (array[i] == elt) { return i } }\n    return -1\n  }\n\n  // Number of pixels added to scroller and sizer to hide scrollbar\n  var scrollerGap = 50;\n\n  // Returned or thrown by various protocols to signal 'I'm not\n  // handling this'.\n  var Pass = {toString: function(){return \"CodeMirror.Pass\"}};\n\n  // Reused option objects for setSelection & friends\n  var sel_dontScroll = {scroll: false}, sel_mouse = {origin: \"*mouse\"}, sel_move = {origin: \"+move\"};\n\n  // The inverse of countColumn -- find the offset that corresponds to\n  // a particular column.\n  function findColumn(string, goal, tabSize) {\n    for (var pos = 0, col = 0;;) {\n      var nextTab = string.indexOf(\"\\t\", pos);\n      if (nextTab == -1) { nextTab = string.length; }\n      var skipped = nextTab - pos;\n      if (nextTab == string.length || col + skipped >= goal)\n        { return pos + Math.min(skipped, goal - col) }\n      col += nextTab - pos;\n      col += tabSize - (col % tabSize);\n      pos = nextTab + 1;\n      if (col >= goal) { return pos }\n    }\n  }\n\n  var spaceStrs = [\"\"];\n  function spaceStr(n) {\n    while (spaceStrs.length <= n)\n      { spaceStrs.push(lst(spaceStrs) + \" \"); }\n    return spaceStrs[n]\n  }\n\n  function lst(arr) { return arr[arr.length-1] }\n\n  function map(array, f) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i); }\n    return out\n  }\n\n  function insertSorted(array, value, score) {\n    var pos = 0, priority = score(value);\n    while (pos < array.length && score(array[pos]) <= priority) { pos++; }\n    array.splice(pos, 0, value);\n  }\n\n  function nothing() {}\n\n  function createObj(base, props) {\n    var inst;\n    if (Object.create) {\n      inst = Object.create(base);\n    } else {\n      nothing.prototype = base;\n      inst = new nothing();\n    }\n    if (props) { copyObj(props, inst); }\n    return inst\n  }\n\n  var nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\n  function isWordCharBasic(ch) {\n    return /\\w/.test(ch) || ch > \"\\x80\" &&\n      (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))\n  }\n  function isWordChar(ch, helper) {\n    if (!helper) { return isWordCharBasic(ch) }\n    if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) { return true }\n    return helper.test(ch)\n  }\n\n  function isEmpty(obj) {\n    for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }\n    return true\n  }\n\n  // Extending unicode characters. A series of a non-extending char +\n  // any number of extending chars is treated as a single unit as far\n  // as editing and measuring is concerned. This is not fully correct,\n  // since some scripts/fonts/browsers also treat other configurations\n  // of code points as a group.\n  var extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\n  function isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }\n\n  // Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\n  function skipExtendingChars(str, pos, dir) {\n    while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) { pos += dir; }\n    return pos\n  }\n\n  // Returns the value from the range [`from`; `to`] that satisfies\n  // `pred` and is closest to `from`. Assumes that at least `to`\n  // satisfies `pred`. Supports `from` being greater than `to`.\n  function findFirst(pred, from, to) {\n    // At any point we are certain `to` satisfies `pred`, don't know\n    // whether `from` does.\n    var dir = from > to ? -1 : 1;\n    for (;;) {\n      if (from == to) { return from }\n      var midF = (from + to) / 2, mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);\n      if (mid == from) { return pred(mid) ? from : to }\n      if (pred(mid)) { to = mid; }\n      else { from = mid + dir; }\n    }\n  }\n\n  // BIDI HELPERS\n\n  function iterateBidiSections(order, from, to, f) {\n    if (!order) { return f(from, to, \"ltr\", 0) }\n    var found = false;\n    for (var i = 0; i < order.length; ++i) {\n      var part = order[i];\n      if (part.from < to && part.to > from || from == to && part.to == from) {\n        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\", i);\n        found = true;\n      }\n    }\n    if (!found) { f(from, to, \"ltr\"); }\n  }\n\n  var bidiOther = null;\n  function getBidiPartAt(order, ch, sticky) {\n    var found;\n    bidiOther = null;\n    for (var i = 0; i < order.length; ++i) {\n      var cur = order[i];\n      if (cur.from < ch && cur.to > ch) { return i }\n      if (cur.to == ch) {\n        if (cur.from != cur.to && sticky == \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n      if (cur.from == ch) {\n        if (cur.from != cur.to && sticky != \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n    }\n    return found != null ? found : bidiOther\n  }\n\n  // Bidirectional ordering algorithm\n  // See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n  // that this (partially) implements.\n\n  // One-char codes used for character types:\n  // L (L):   Left-to-Right\n  // R (R):   Right-to-Left\n  // r (AL):  Right-to-Left Arabic\n  // 1 (EN):  European Number\n  // + (ES):  European Number Separator\n  // % (ET):  European Number Terminator\n  // n (AN):  Arabic Number\n  // , (CS):  Common Number Separator\n  // m (NSM): Non-Spacing Mark\n  // b (BN):  Boundary Neutral\n  // s (B):   Paragraph Separator\n  // t (S):   Segment Separator\n  // w (WS):  Whitespace\n  // N (ON):  Other Neutrals\n\n  // Returns null if characters are ordered as they appear\n  // (left-to-right), or an array of sections ({from, to, level}\n  // objects) in the order in which they occur visually.\n  var bidiOrdering = (function() {\n    // Character types for codepoints 0 to 0xff\n    var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\";\n    // Character types for codepoints 0x600 to 0x6f9\n    var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";\n    function charType(code) {\n      if (code <= 0xf7) { return lowTypes.charAt(code) }\n      else if (0x590 <= code && code <= 0x5f4) { return \"R\" }\n      else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }\n      else if (0x6ee <= code && code <= 0x8ac) { return \"r\" }\n      else if (0x2000 <= code && code <= 0x200b) { return \"w\" }\n      else if (code == 0x200c) { return \"b\" }\n      else { return \"L\" }\n    }\n\n    var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n    var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/;\n\n    function BidiSpan(level, from, to) {\n      this.level = level;\n      this.from = from; this.to = to;\n    }\n\n    return function(str, direction) {\n      var outerType = direction == \"ltr\" ? \"L\" : \"R\";\n\n      if (str.length == 0 || direction == \"ltr\" && !bidiRE.test(str)) { return false }\n      var len = str.length, types = [];\n      for (var i = 0; i < len; ++i)\n        { types.push(charType(str.charCodeAt(i))); }\n\n      // W1. Examine each non-spacing mark (NSM) in the level run, and\n      // change the type of the NSM to the type of the previous\n      // character. If the NSM is at the start of the level run, it will\n      // get the type of sor.\n      for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n        var type = types[i$1];\n        if (type == \"m\") { types[i$1] = prev; }\n        else { prev = type; }\n      }\n\n      // W2. Search backwards from each instance of a European number\n      // until the first strong type (R, L, AL, or sor) is found. If an\n      // AL is found, change the type of the European number to Arabic\n      // number.\n      // W3. Change all ALs to R.\n      for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n        var type$1 = types[i$2];\n        if (type$1 == \"1\" && cur == \"r\") { types[i$2] = \"n\"; }\n        else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == \"r\") { types[i$2] = \"R\"; } }\n      }\n\n      // W4. A single European separator between two European numbers\n      // changes to a European number. A single common separator between\n      // two numbers of the same type changes to that type.\n      for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n        var type$2 = types[i$3];\n        if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3+1] == \"1\") { types[i$3] = \"1\"; }\n        else if (type$2 == \",\" && prev$1 == types[i$3+1] &&\n                 (prev$1 == \"1\" || prev$1 == \"n\")) { types[i$3] = prev$1; }\n        prev$1 = type$2;\n      }\n\n      // W5. A sequence of European terminators adjacent to European\n      // numbers changes to all European numbers.\n      // W6. Otherwise, separators and terminators change to Other\n      // Neutral.\n      for (var i$4 = 0; i$4 < len; ++i$4) {\n        var type$3 = types[i$4];\n        if (type$3 == \",\") { types[i$4] = \"N\"; }\n        else if (type$3 == \"%\") {\n          var end = (void 0);\n          for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n          var replace = (i$4 && types[i$4-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\";\n          for (var j = i$4; j < end; ++j) { types[j] = replace; }\n          i$4 = end - 1;\n        }\n      }\n\n      // W7. Search backwards from each instance of a European number\n      // until the first strong type (R, L, or sor) is found. If an L is\n      // found, then change the type of the European number to L.\n      for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n        var type$4 = types[i$5];\n        if (cur$1 == \"L\" && type$4 == \"1\") { types[i$5] = \"L\"; }\n        else if (isStrong.test(type$4)) { cur$1 = type$4; }\n      }\n\n      // N1. A sequence of neutrals takes the direction of the\n      // surrounding strong text if the text on both sides has the same\n      // direction. European and Arabic numbers act as if they were R in\n      // terms of their influence on neutrals. Start-of-level-run (sor)\n      // and end-of-level-run (eor) are used at level run boundaries.\n      // N2. Any remaining neutrals take the embedding direction.\n      for (var i$6 = 0; i$6 < len; ++i$6) {\n        if (isNeutral.test(types[i$6])) {\n          var end$1 = (void 0);\n          for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n          var before = (i$6 ? types[i$6-1] : outerType) == \"L\";\n          var after = (end$1 < len ? types[end$1] : outerType) == \"L\";\n          var replace$1 = before == after ? (before ? \"L\" : \"R\") : outerType;\n          for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1; }\n          i$6 = end$1 - 1;\n        }\n      }\n\n      // Here we depart from the documented algorithm, in order to avoid\n      // building up an actual levels array. Since there are only three\n      // levels (0, 1, 2) in an implementation that doesn't take\n      // explicit embedding into account, we can build up the order on\n      // the fly, without following the level-based algorithm.\n      var order = [], m;\n      for (var i$7 = 0; i$7 < len;) {\n        if (countsAsLeft.test(types[i$7])) {\n          var start = i$7;\n          for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n          order.push(new BidiSpan(0, start, i$7));\n        } else {\n          var pos = i$7, at = order.length, isRTL = direction == \"rtl\" ? 1 : 0;\n          for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n          for (var j$2 = pos; j$2 < i$7;) {\n            if (countsAsNum.test(types[j$2])) {\n              if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)); at += isRTL; }\n              var nstart = j$2;\n              for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n              order.splice(at, 0, new BidiSpan(2, nstart, j$2));\n              at += isRTL;\n              pos = j$2;\n            } else { ++j$2; }\n          }\n          if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)); }\n        }\n      }\n      if (direction == \"ltr\") {\n        if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n          order[0].from = m[0].length;\n          order.unshift(new BidiSpan(0, 0, m[0].length));\n        }\n        if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n          lst(order).to -= m[0].length;\n          order.push(new BidiSpan(0, len - m[0].length, len));\n        }\n      }\n\n      return direction == \"rtl\" ? order.reverse() : order\n    }\n  })();\n\n  // Get the bidi ordering for the given line (and cache it). Returns\n  // false for lines that are fully left-to-right, and an array of\n  // BidiSpan objects otherwise.\n  function getOrder(line, direction) {\n    var order = line.order;\n    if (order == null) { order = line.order = bidiOrdering(line.text, direction); }\n    return order\n  }\n\n  // EVENT HANDLING\n\n  // Lightweight event framework. on/off also work on DOM nodes,\n  // registering native DOM handlers.\n\n  var noHandlers = [];\n\n  var on = function(emitter, type, f) {\n    if (emitter.addEventListener) {\n      emitter.addEventListener(type, f, false);\n    } else if (emitter.attachEvent) {\n      emitter.attachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers || (emitter._handlers = {});\n      map[type] = (map[type] || noHandlers).concat(f);\n    }\n  };\n\n  function getHandlers(emitter, type) {\n    return emitter._handlers && emitter._handlers[type] || noHandlers\n  }\n\n  function off(emitter, type, f) {\n    if (emitter.removeEventListener) {\n      emitter.removeEventListener(type, f, false);\n    } else if (emitter.detachEvent) {\n      emitter.detachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers, arr = map && map[type];\n      if (arr) {\n        var index = indexOf(arr, f);\n        if (index > -1)\n          { map[type] = arr.slice(0, index).concat(arr.slice(index + 1)); }\n      }\n    }\n  }\n\n  function signal(emitter, type /*, values...*/) {\n    var handlers = getHandlers(emitter, type);\n    if (!handlers.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2);\n    for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args); }\n  }\n\n  // The DOM events that CodeMirror handles can be overridden by\n  // registering a (non-DOM) handler on the editor for the event name,\n  // and preventDefault-ing the event in that handler.\n  function signalDOMEvent(cm, e, override) {\n    if (typeof e == \"string\")\n      { e = {type: e, preventDefault: function() { this.defaultPrevented = true; }}; }\n    signal(cm, override || e.type, cm, e);\n    return e_defaultPrevented(e) || e.codemirrorIgnore\n  }\n\n  function signalCursorActivity(cm) {\n    var arr = cm._handlers && cm._handlers.cursorActivity;\n    if (!arr) { return }\n    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n    for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)\n      { set.push(arr[i]); } }\n  }\n\n  function hasHandler(emitter, type) {\n    return getHandlers(emitter, type).length > 0\n  }\n\n  // Add on and off methods to a constructor's prototype, to make\n  // registering events on such objects more convenient.\n  function eventMixin(ctor) {\n    ctor.prototype.on = function(type, f) {on(this, type, f);};\n    ctor.prototype.off = function(type, f) {off(this, type, f);};\n  }\n\n  // Due to the fact that we still support jurassic IE versions, some\n  // compatibility wrappers are needed.\n\n  function e_preventDefault(e) {\n    if (e.preventDefault) { e.preventDefault(); }\n    else { e.returnValue = false; }\n  }\n  function e_stopPropagation(e) {\n    if (e.stopPropagation) { e.stopPropagation(); }\n    else { e.cancelBubble = true; }\n  }\n  function e_defaultPrevented(e) {\n    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false\n  }\n  function e_stop(e) {e_preventDefault(e); e_stopPropagation(e);}\n\n  function e_target(e) {return e.target || e.srcElement}\n  function e_button(e) {\n    var b = e.which;\n    if (b == null) {\n      if (e.button & 1) { b = 1; }\n      else if (e.button & 2) { b = 3; }\n      else if (e.button & 4) { b = 2; }\n    }\n    if (mac && e.ctrlKey && b == 1) { b = 3; }\n    return b\n  }\n\n  // Detect drag-and-drop\n  var dragAndDrop = function() {\n    // There is *some* kind of drag-and-drop support in IE6-8, but I\n    // couldn't get it to work yet.\n    if (ie && ie_version < 9) { return false }\n    var div = elt('div');\n    return \"draggable\" in div || \"dragDrop\" in div\n  }();\n\n  var zwspSupported;\n  function zeroWidthElement(measure) {\n    if (zwspSupported == null) {\n      var test = elt(\"span\", \"\\u200b\");\n      removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n      if (measure.firstChild.offsetHeight != 0)\n        { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8); }\n    }\n    var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\n      elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n    node.setAttribute(\"cm-text\", \"\");\n    return node\n  }\n\n  // Feature-detect IE's crummy client rect reporting for bidi text\n  var badBidiRects;\n  function hasBadBidiRects(measure) {\n    if (badBidiRects != null) { return badBidiRects }\n    var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"));\n    var r0 = range(txt, 0, 1).getBoundingClientRect();\n    var r1 = range(txt, 1, 2).getBoundingClientRect();\n    removeChildren(measure);\n    if (!r0 || r0.left == r0.right) { return false } // Safari returns null in some cases (#2780)\n    return badBidiRects = (r1.right - r0.right < 3)\n  }\n\n  // See if \"\".split is the broken IE version, if so, provide an\n  // alternative way to split lines.\n  var splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\n    var pos = 0, result = [], l = string.length;\n    while (pos <= l) {\n      var nl = string.indexOf(\"\\n\", pos);\n      if (nl == -1) { nl = string.length; }\n      var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n      var rt = line.indexOf(\"\\r\");\n      if (rt != -1) {\n        result.push(line.slice(0, rt));\n        pos += rt + 1;\n      } else {\n        result.push(line);\n        pos = nl + 1;\n      }\n    }\n    return result\n  } : function (string) { return string.split(/\\r\\n?|\\n/); };\n\n  var hasSelection = window.getSelection ? function (te) {\n    try { return te.selectionStart != te.selectionEnd }\n    catch(e) { return false }\n  } : function (te) {\n    var range;\n    try {range = te.ownerDocument.selection.createRange();}\n    catch(e) {}\n    if (!range || range.parentElement() != te) { return false }\n    return range.compareEndPoints(\"StartToEnd\", range) != 0\n  };\n\n  var hasCopyEvent = (function () {\n    var e = elt(\"div\");\n    if (\"oncopy\" in e) { return true }\n    e.setAttribute(\"oncopy\", \"return;\");\n    return typeof e.oncopy == \"function\"\n  })();\n\n  var badZoomedRects = null;\n  function hasBadZoomedRects(measure) {\n    if (badZoomedRects != null) { return badZoomedRects }\n    var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n    var normal = node.getBoundingClientRect();\n    var fromRange = range(node, 0, 1).getBoundingClientRect();\n    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1\n  }\n\n  // Known modes, by name and by MIME\n  var modes = {}, mimeModes = {};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  function defineMode(name, mode) {\n    if (arguments.length > 2)\n      { mode.dependencies = Array.prototype.slice.call(arguments, 2); }\n    modes[name] = mode;\n  }\n\n  function defineMIME(mime, spec) {\n    mimeModes[mime] = spec;\n  }\n\n  // Given a MIME type, a {name, ...options} config object, or a name\n  // string, return a mode config object.\n  function resolveMode(spec) {\n    if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n      spec = mimeModes[spec];\n    } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n      var found = mimeModes[spec.name];\n      if (typeof found == \"string\") { found = {name: found}; }\n      spec = createObj(found, spec);\n      spec.name = found.name;\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n      return resolveMode(\"application/xml\")\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\n      return resolveMode(\"application/json\")\n    }\n    if (typeof spec == \"string\") { return {name: spec} }\n    else { return spec || {name: \"null\"} }\n  }\n\n  // Given a mode spec (anything that resolveMode accepts), find and\n  // initialize an actual mode object.\n  function getMode(options, spec) {\n    spec = resolveMode(spec);\n    var mfactory = modes[spec.name];\n    if (!mfactory) { return getMode(options, \"text/plain\") }\n    var modeObj = mfactory(options, spec);\n    if (modeExtensions.hasOwnProperty(spec.name)) {\n      var exts = modeExtensions[spec.name];\n      for (var prop in exts) {\n        if (!exts.hasOwnProperty(prop)) { continue }\n        if (modeObj.hasOwnProperty(prop)) { modeObj[\"_\" + prop] = modeObj[prop]; }\n        modeObj[prop] = exts[prop];\n      }\n    }\n    modeObj.name = spec.name;\n    if (spec.helperType) { modeObj.helperType = spec.helperType; }\n    if (spec.modeProps) { for (var prop$1 in spec.modeProps)\n      { modeObj[prop$1] = spec.modeProps[prop$1]; } }\n\n    return modeObj\n  }\n\n  // This can be used to attach properties to mode objects from\n  // outside the actual mode definition.\n  var modeExtensions = {};\n  function extendMode(mode, properties) {\n    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});\n    copyObj(properties, exts);\n  }\n\n  function copyState(mode, state) {\n    if (state === true) { return state }\n    if (mode.copyState) { return mode.copyState(state) }\n    var nstate = {};\n    for (var n in state) {\n      var val = state[n];\n      if (val instanceof Array) { val = val.concat([]); }\n      nstate[n] = val;\n    }\n    return nstate\n  }\n\n  // Given a mode and a state (for that mode), find the inner mode and\n  // state at the position that the state refers to.\n  function innerMode(mode, state) {\n    var info;\n    while (mode.innerMode) {\n      info = mode.innerMode(state);\n      if (!info || info.mode == mode) { break }\n      state = info.state;\n      mode = info.mode;\n    }\n    return info || {mode: mode, state: state}\n  }\n\n  function startState(mode, a1, a2) {\n    return mode.startState ? mode.startState(a1, a2) : true\n  }\n\n  // STRING STREAM\n\n  // Fed to the mode parsers, provides helper functions to make\n  // parsers more succinct.\n\n  var StringStream = function(string, tabSize, lineOracle) {\n    this.pos = this.start = 0;\n    this.string = string;\n    this.tabSize = tabSize || 8;\n    this.lastColumnPos = this.lastColumnValue = 0;\n    this.lineStart = 0;\n    this.lineOracle = lineOracle;\n  };\n\n  StringStream.prototype.eol = function () {return this.pos >= this.string.length};\n  StringStream.prototype.sol = function () {return this.pos == this.lineStart};\n  StringStream.prototype.peek = function () {return this.string.charAt(this.pos) || undefined};\n  StringStream.prototype.next = function () {\n    if (this.pos < this.string.length)\n      { return this.string.charAt(this.pos++) }\n  };\n  StringStream.prototype.eat = function (match) {\n    var ch = this.string.charAt(this.pos);\n    var ok;\n    if (typeof match == \"string\") { ok = ch == match; }\n    else { ok = ch && (match.test ? match.test(ch) : match(ch)); }\n    if (ok) {++this.pos; return ch}\n  };\n  StringStream.prototype.eatWhile = function (match) {\n    var start = this.pos;\n    while (this.eat(match)){}\n    return this.pos > start\n  };\n  StringStream.prototype.eatSpace = function () {\n    var start = this.pos;\n    while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) { ++this.pos; }\n    return this.pos > start\n  };\n  StringStream.prototype.skipToEnd = function () {this.pos = this.string.length;};\n  StringStream.prototype.skipTo = function (ch) {\n    var found = this.string.indexOf(ch, this.pos);\n    if (found > -1) {this.pos = found; return true}\n  };\n  StringStream.prototype.backUp = function (n) {this.pos -= n;};\n  StringStream.prototype.column = function () {\n    if (this.lastColumnPos < this.start) {\n      this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n      this.lastColumnPos = this.start;\n    }\n    return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.indentation = function () {\n    return countColumn(this.string, null, this.tabSize) -\n      (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n    if (typeof pattern == \"string\") {\n      var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; };\n      var substr = this.string.substr(this.pos, pattern.length);\n      if (cased(substr) == cased(pattern)) {\n        if (consume !== false) { this.pos += pattern.length; }\n        return true\n      }\n    } else {\n      var match = this.string.slice(this.pos).match(pattern);\n      if (match && match.index > 0) { return null }\n      if (match && consume !== false) { this.pos += match[0].length; }\n      return match\n    }\n  };\n  StringStream.prototype.current = function (){return this.string.slice(this.start, this.pos)};\n  StringStream.prototype.hideFirstChars = function (n, inner) {\n    this.lineStart += n;\n    try { return inner() }\n    finally { this.lineStart -= n; }\n  };\n  StringStream.prototype.lookAhead = function (n) {\n    var oracle = this.lineOracle;\n    return oracle && oracle.lookAhead(n)\n  };\n  StringStream.prototype.baseToken = function () {\n    var oracle = this.lineOracle;\n    return oracle && oracle.baseToken(this.pos)\n  };\n\n  // Find the line object corresponding to the given line number.\n  function getLine(doc, n) {\n    n -= doc.first;\n    if (n < 0 || n >= doc.size) { throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\") }\n    var chunk = doc;\n    while (!chunk.lines) {\n      for (var i = 0;; ++i) {\n        var child = chunk.children[i], sz = child.chunkSize();\n        if (n < sz) { chunk = child; break }\n        n -= sz;\n      }\n    }\n    return chunk.lines[n]\n  }\n\n  // Get the part of a document between two positions, as an array of\n  // strings.\n  function getBetween(doc, start, end) {\n    var out = [], n = start.line;\n    doc.iter(start.line, end.line + 1, function (line) {\n      var text = line.text;\n      if (n == end.line) { text = text.slice(0, end.ch); }\n      if (n == start.line) { text = text.slice(start.ch); }\n      out.push(text);\n      ++n;\n    });\n    return out\n  }\n  // Get the lines between from and to, as array of strings.\n  function getLines(doc, from, to) {\n    var out = [];\n    doc.iter(from, to, function (line) { out.push(line.text); }); // iter aborts when callback returns truthy value\n    return out\n  }\n\n  // Update the height of a line, propagating the height change\n  // upwards to parent nodes.\n  function updateLineHeight(line, height) {\n    var diff = height - line.height;\n    if (diff) { for (var n = line; n; n = n.parent) { n.height += diff; } }\n  }\n\n  // Given a line object, find its line number by walking up through\n  // its parent links.\n  function lineNo(line) {\n    if (line.parent == null) { return null }\n    var cur = line.parent, no = indexOf(cur.lines, line);\n    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (var i = 0;; ++i) {\n        if (chunk.children[i] == cur) { break }\n        no += chunk.children[i].chunkSize();\n      }\n    }\n    return no + cur.first\n  }\n\n  // Find the line at the given vertical position, using the height\n  // information in the document tree.\n  function lineAtHeight(chunk, h) {\n    var n = chunk.first;\n    outer: do {\n      for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n        var child = chunk.children[i$1], ch = child.height;\n        if (h < ch) { chunk = child; continue outer }\n        h -= ch;\n        n += child.chunkSize();\n      }\n      return n\n    } while (!chunk.lines)\n    var i = 0;\n    for (; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i], lh = line.height;\n      if (h < lh) { break }\n      h -= lh;\n    }\n    return n + i\n  }\n\n  function isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}\n\n  function lineNumberFor(options, i) {\n    return String(options.lineNumberFormatter(i + options.firstLineNumber))\n  }\n\n  // A Pos instance represents a position within the text.\n  function Pos(line, ch, sticky) {\n    if ( sticky === void 0 ) sticky = null;\n\n    if (!(this instanceof Pos)) { return new Pos(line, ch, sticky) }\n    this.line = line;\n    this.ch = ch;\n    this.sticky = sticky;\n  }\n\n  // Compare two positions, return 0 if they are the same, a negative\n  // number when a is less, and a positive number otherwise.\n  function cmp(a, b) { return a.line - b.line || a.ch - b.ch }\n\n  function equalCursorPos(a, b) { return a.sticky == b.sticky && cmp(a, b) == 0 }\n\n  function copyPos(x) {return Pos(x.line, x.ch)}\n  function maxPos(a, b) { return cmp(a, b) < 0 ? b : a }\n  function minPos(a, b) { return cmp(a, b) < 0 ? a : b }\n\n  // Most of the external API clips given positions to make sure they\n  // actually exist within the document.\n  function clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}\n  function clipPos(doc, pos) {\n    if (pos.line < doc.first) { return Pos(doc.first, 0) }\n    var last = doc.first + doc.size - 1;\n    if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }\n    return clipToLen(pos, getLine(doc, pos.line).text.length)\n  }\n  function clipToLen(pos, linelen) {\n    var ch = pos.ch;\n    if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }\n    else if (ch < 0) { return Pos(pos.line, 0) }\n    else { return pos }\n  }\n  function clipPosArray(doc, array) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]); }\n    return out\n  }\n\n  var SavedContext = function(state, lookAhead) {\n    this.state = state;\n    this.lookAhead = lookAhead;\n  };\n\n  var Context = function(doc, state, line, lookAhead) {\n    this.state = state;\n    this.doc = doc;\n    this.line = line;\n    this.maxLookAhead = lookAhead || 0;\n    this.baseTokens = null;\n    this.baseTokenPos = 1;\n  };\n\n  Context.prototype.lookAhead = function (n) {\n    var line = this.doc.getLine(this.line + n);\n    if (line != null && n > this.maxLookAhead) { this.maxLookAhead = n; }\n    return line\n  };\n\n  Context.prototype.baseToken = function (n) {\n    if (!this.baseTokens) { return null }\n    while (this.baseTokens[this.baseTokenPos] <= n)\n      { this.baseTokenPos += 2; }\n    var type = this.baseTokens[this.baseTokenPos + 1];\n    return {type: type && type.replace(/( |^)overlay .*/, \"\"),\n            size: this.baseTokens[this.baseTokenPos] - n}\n  };\n\n  Context.prototype.nextLine = function () {\n    this.line++;\n    if (this.maxLookAhead > 0) { this.maxLookAhead--; }\n  };\n\n  Context.fromSaved = function (doc, saved, line) {\n    if (saved instanceof SavedContext)\n      { return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead) }\n    else\n      { return new Context(doc, copyState(doc.mode, saved), line) }\n  };\n\n  Context.prototype.save = function (copy) {\n    var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;\n    return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state\n  };\n\n\n  // Compute a style array (an array starting with a mode generation\n  // -- for invalidation -- followed by pairs of end positions and\n  // style strings), which is used to highlight the tokens on the\n  // line.\n  function highlightLine(cm, line, context, forceToEnd) {\n    // A styles array always starts with a number identifying the\n    // mode/overlays that it is based on (for easy invalidation).\n    var st = [cm.state.modeGen], lineClasses = {};\n    // Compute the base array of styles\n    runMode(cm, line.text, cm.doc.mode, context, function (end, style) { return st.push(end, style); },\n            lineClasses, forceToEnd);\n    var state = context.state;\n\n    // Run overlays, adjust style array.\n    var loop = function ( o ) {\n      context.baseTokens = st;\n      var overlay = cm.state.overlays[o], i = 1, at = 0;\n      context.state = true;\n      runMode(cm, line.text, overlay.mode, context, function (end, style) {\n        var start = i;\n        // Ensure there's a token end at the current position, and that i points at it\n        while (at < end) {\n          var i_end = st[i];\n          if (i_end > end)\n            { st.splice(i, 1, end, st[i+1], i_end); }\n          i += 2;\n          at = Math.min(end, i_end);\n        }\n        if (!style) { return }\n        if (overlay.opaque) {\n          st.splice(start, i - start, end, \"overlay \" + style);\n          i = start + 2;\n        } else {\n          for (; start < i; start += 2) {\n            var cur = st[start+1];\n            st[start+1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style;\n          }\n        }\n      }, lineClasses);\n      context.state = state;\n      context.baseTokens = null;\n      context.baseTokenPos = 1;\n    };\n\n    for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );\n\n    return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}\n  }\n\n  function getLineStyles(cm, line, updateFrontier) {\n    if (!line.styles || line.styles[0] != cm.state.modeGen) {\n      var context = getContextBefore(cm, lineNo(line));\n      var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);\n      var result = highlightLine(cm, line, context);\n      if (resetState) { context.state = resetState; }\n      line.stateAfter = context.save(!resetState);\n      line.styles = result.styles;\n      if (result.classes) { line.styleClasses = result.classes; }\n      else if (line.styleClasses) { line.styleClasses = null; }\n      if (updateFrontier === cm.doc.highlightFrontier)\n        { cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier); }\n    }\n    return line.styles\n  }\n\n  function getContextBefore(cm, n, precise) {\n    var doc = cm.doc, display = cm.display;\n    if (!doc.mode.startState) { return new Context(doc, true, n) }\n    var start = findStartLine(cm, n, precise);\n    var saved = start > doc.first && getLine(doc, start - 1).stateAfter;\n    var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start);\n\n    doc.iter(start, n, function (line) {\n      processLine(cm, line.text, context);\n      var pos = context.line;\n      line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;\n      context.nextLine();\n    });\n    if (precise) { doc.modeFrontier = context.line; }\n    return context\n  }\n\n  // Lightweight form of highlight -- proceed over this line and\n  // update state, but don't save a style array. Used for lines that\n  // aren't currently visible.\n  function processLine(cm, text, context, startAt) {\n    var mode = cm.doc.mode;\n    var stream = new StringStream(text, cm.options.tabSize, context);\n    stream.start = stream.pos = startAt || 0;\n    if (text == \"\") { callBlankLine(mode, context.state); }\n    while (!stream.eol()) {\n      readToken(mode, stream, context.state);\n      stream.start = stream.pos;\n    }\n  }\n\n  function callBlankLine(mode, state) {\n    if (mode.blankLine) { return mode.blankLine(state) }\n    if (!mode.innerMode) { return }\n    var inner = innerMode(mode, state);\n    if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }\n  }\n\n  function readToken(mode, stream, state, inner) {\n    for (var i = 0; i < 10; i++) {\n      if (inner) { inner[0] = innerMode(mode, state).mode; }\n      var style = mode.token(stream, state);\n      if (stream.pos > stream.start) { return style }\n    }\n    throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\")\n  }\n\n  var Token = function(stream, type, state) {\n    this.start = stream.start; this.end = stream.pos;\n    this.string = stream.current();\n    this.type = type || null;\n    this.state = state;\n  };\n\n  // Utility for getTokenAt and getLineTokens\n  function takeToken(cm, pos, precise, asArray) {\n    var doc = cm.doc, mode = doc.mode, style;\n    pos = clipPos(doc, pos);\n    var line = getLine(doc, pos.line), context = getContextBefore(cm, pos.line, precise);\n    var stream = new StringStream(line.text, cm.options.tabSize, context), tokens;\n    if (asArray) { tokens = []; }\n    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n      stream.start = stream.pos;\n      style = readToken(mode, stream, context.state);\n      if (asArray) { tokens.push(new Token(stream, style, copyState(doc.mode, context.state))); }\n    }\n    return asArray ? tokens : new Token(stream, style, context.state)\n  }\n\n  function extractLineClasses(type, output) {\n    if (type) { for (;;) {\n      var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n      if (!lineClass) { break }\n      type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n      var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n      if (output[prop] == null)\n        { output[prop] = lineClass[2]; }\n      else if (!(new RegExp(\"(?:^|\\\\s)\" + lineClass[2] + \"(?:$|\\\\s)\")).test(output[prop]))\n        { output[prop] += \" \" + lineClass[2]; }\n    } }\n    return type\n  }\n\n  // Run the given mode's parser over a line, calling f for each token.\n  function runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {\n    var flattenSpans = mode.flattenSpans;\n    if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans; }\n    var curStart = 0, curStyle = null;\n    var stream = new StringStream(text, cm.options.tabSize, context), style;\n    var inner = cm.options.addModeClass && [null];\n    if (text == \"\") { extractLineClasses(callBlankLine(mode, context.state), lineClasses); }\n    while (!stream.eol()) {\n      if (stream.pos > cm.options.maxHighlightLength) {\n        flattenSpans = false;\n        if (forceToEnd) { processLine(cm, text, context, stream.pos); }\n        stream.pos = text.length;\n        style = null;\n      } else {\n        style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);\n      }\n      if (inner) {\n        var mName = inner[0].name;\n        if (mName) { style = \"m-\" + (style ? mName + \" \" + style : mName); }\n      }\n      if (!flattenSpans || curStyle != style) {\n        while (curStart < stream.start) {\n          curStart = Math.min(stream.start, curStart + 5000);\n          f(curStart, curStyle);\n        }\n        curStyle = style;\n      }\n      stream.start = stream.pos;\n    }\n    while (curStart < stream.pos) {\n      // Webkit seems to refuse to render text nodes longer than 57444\n      // characters, and returns inaccurate measurements in nodes\n      // starting around 5000 chars.\n      var pos = Math.min(stream.pos, curStart + 5000);\n      f(pos, curStyle);\n      curStart = pos;\n    }\n  }\n\n  // Finds the line to start with when starting a parse. Tries to\n  // find a line with a stateAfter, so that it can start with a\n  // valid state. If that fails, it returns the line with the\n  // smallest indentation, which tends to need the least context to\n  // parse correctly.\n  function findStartLine(cm, n, precise) {\n    var minindent, minline, doc = cm.doc;\n    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n    for (var search = n; search > lim; --search) {\n      if (search <= doc.first) { return doc.first }\n      var line = getLine(doc, search - 1), after = line.stateAfter;\n      if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier))\n        { return search }\n      var indented = countColumn(line.text, null, cm.options.tabSize);\n      if (minline == null || minindent > indented) {\n        minline = search - 1;\n        minindent = indented;\n      }\n    }\n    return minline\n  }\n\n  function retreatFrontier(doc, n) {\n    doc.modeFrontier = Math.min(doc.modeFrontier, n);\n    if (doc.highlightFrontier < n - 10) { return }\n    var start = doc.first;\n    for (var line = n - 1; line > start; line--) {\n      var saved = getLine(doc, line).stateAfter;\n      // change is on 3\n      // state on line 1 looked ahead 2 -- so saw 3\n      // test 1 + 2 < 3 should cover this\n      if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {\n        start = line + 1;\n        break\n      }\n    }\n    doc.highlightFrontier = Math.min(doc.highlightFrontier, start);\n  }\n\n  // Optimize some code when these features are not used.\n  var sawReadOnlySpans = false, sawCollapsedSpans = false;\n\n  function seeReadOnlySpans() {\n    sawReadOnlySpans = true;\n  }\n\n  function seeCollapsedSpans() {\n    sawCollapsedSpans = true;\n  }\n\n  // TEXTMARKER SPANS\n\n  function MarkedSpan(marker, from, to) {\n    this.marker = marker;\n    this.from = from; this.to = to;\n  }\n\n  // Search an array of spans for a span matching the given marker.\n  function getMarkedSpanFor(spans, marker) {\n    if (spans) { for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.marker == marker) { return span }\n    } }\n  }\n\n  // Remove a span from an array, returning undefined if no spans are\n  // left (we don't store arrays for lines without spans).\n  function removeMarkedSpan(spans, span) {\n    var r;\n    for (var i = 0; i < spans.length; ++i)\n      { if (spans[i] != span) { (r || (r = [])).push(spans[i]); } }\n    return r\n  }\n\n  // Add a span to a line.\n  function addMarkedSpan(line, span, op) {\n    var inThisOp = op && window.WeakSet && (op.markedSpans || (op.markedSpans = new WeakSet));\n    if (inThisOp && inThisOp.has(line.markedSpans)) {\n      line.markedSpans.push(span);\n    } else {\n      line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n      if (inThisOp) { inThisOp.add(line.markedSpans); }\n    }\n    span.marker.attachLine(line);\n  }\n\n  // Used for the algorithm that adjusts markers for a change in the\n  // document. These functions cut an array of spans at a given\n  // character position, returning an array of remaining chunks (or\n  // undefined if nothing remains).\n  function markedSpansBefore(old, startCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n      if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n      }\n    } }\n    return nw\n  }\n  function markedSpansAfter(old, endCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n      if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\n                                              span.to == null ? null : span.to - endCh));\n      }\n    } }\n    return nw\n  }\n\n  // Given a change object, compute the new set of marker spans that\n  // cover the line in which the change took place. Removes spans\n  // entirely within the change, reconnects spans belonging to the\n  // same marker that appear on both sides of the change, and cuts off\n  // spans partially within the change. Returns an array of span\n  // arrays with one element for each line in (after) the change.\n  function stretchSpansOverChange(doc, change) {\n    if (change.full) { return null }\n    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n    if (!oldFirst && !oldLast) { return null }\n\n    var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;\n    // Get the spans that 'stick out' on both sides\n    var first = markedSpansBefore(oldFirst, startCh, isInsert);\n    var last = markedSpansAfter(oldLast, endCh, isInsert);\n\n    // Next, merge those two ends\n    var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);\n    if (first) {\n      // Fix up .to properties of first\n      for (var i = 0; i < first.length; ++i) {\n        var span = first[i];\n        if (span.to == null) {\n          var found = getMarkedSpanFor(last, span.marker);\n          if (!found) { span.to = startCh; }\n          else if (sameLine) { span.to = found.to == null ? null : found.to + offset; }\n        }\n      }\n    }\n    if (last) {\n      // Fix up .from in last (or move them into first in case of sameLine)\n      for (var i$1 = 0; i$1 < last.length; ++i$1) {\n        var span$1 = last[i$1];\n        if (span$1.to != null) { span$1.to += offset; }\n        if (span$1.from == null) {\n          var found$1 = getMarkedSpanFor(first, span$1.marker);\n          if (!found$1) {\n            span$1.from = offset;\n            if (sameLine) { (first || (first = [])).push(span$1); }\n          }\n        } else {\n          span$1.from += offset;\n          if (sameLine) { (first || (first = [])).push(span$1); }\n        }\n      }\n    }\n    // Make sure we didn't create any zero-length spans\n    if (first) { first = clearEmptySpans(first); }\n    if (last && last != first) { last = clearEmptySpans(last); }\n\n    var newMarkers = [first];\n    if (!sameLine) {\n      // Fill gap with whole-line-spans\n      var gap = change.text.length - 2, gapMarkers;\n      if (gap > 0 && first)\n        { for (var i$2 = 0; i$2 < first.length; ++i$2)\n          { if (first[i$2].to == null)\n            { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)); } } }\n      for (var i$3 = 0; i$3 < gap; ++i$3)\n        { newMarkers.push(gapMarkers); }\n      newMarkers.push(last);\n    }\n    return newMarkers\n  }\n\n  // Remove spans that are empty and don't have a clearWhenEmpty\n  // option of false.\n  function clearEmptySpans(spans) {\n    for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\n        { spans.splice(i--, 1); }\n    }\n    if (!spans.length) { return null }\n    return spans\n  }\n\n  // Used to 'clip' out readOnly ranges when making a change.\n  function removeReadOnlyRanges(doc, from, to) {\n    var markers = null;\n    doc.iter(from.line, to.line + 1, function (line) {\n      if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n        var mark = line.markedSpans[i].marker;\n        if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\n          { (markers || (markers = [])).push(mark); }\n      } }\n    });\n    if (!markers) { return null }\n    var parts = [{from: from, to: to}];\n    for (var i = 0; i < markers.length; ++i) {\n      var mk = markers[i], m = mk.find(0);\n      for (var j = 0; j < parts.length; ++j) {\n        var p = parts[j];\n        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }\n        var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);\n        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\n          { newParts.push({from: p.from, to: m.from}); }\n        if (dto > 0 || !mk.inclusiveRight && !dto)\n          { newParts.push({from: m.to, to: p.to}); }\n        parts.splice.apply(parts, newParts);\n        j += newParts.length - 3;\n      }\n    }\n    return parts\n  }\n\n  // Connect or disconnect spans from a line.\n  function detachMarkedSpans(line) {\n    var spans = line.markedSpans;\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.detachLine(line); }\n    line.markedSpans = null;\n  }\n  function attachMarkedSpans(line, spans) {\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.attachLine(line); }\n    line.markedSpans = spans;\n  }\n\n  // Helpers used when computing which overlapping collapsed span\n  // counts as the larger one.\n  function extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }\n  function extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }\n\n  // Returns a number indicating which of two overlapping collapsed\n  // spans is larger (and thus includes the other). Falls back to\n  // comparing ids when the spans cover exactly the same range.\n  function compareCollapsedMarkers(a, b) {\n    var lenDiff = a.lines.length - b.lines.length;\n    if (lenDiff != 0) { return lenDiff }\n    var aPos = a.find(), bPos = b.find();\n    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n    if (fromCmp) { return -fromCmp }\n    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n    if (toCmp) { return toCmp }\n    return b.id - a.id\n  }\n\n  // Find out whether a line ends or starts in a collapsed span. If\n  // so, return the marker for that span.\n  function collapsedSpanAtSide(line, start) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0))\n        { found = sp.marker; }\n    } }\n    return found\n  }\n  function collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }\n  function collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }\n\n  function collapsedSpanAround(line, ch) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (sp.marker.collapsed && (sp.from == null || sp.from < ch) && (sp.to == null || sp.to > ch) &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0)) { found = sp.marker; }\n    } }\n    return found\n  }\n\n  // Test whether there exists a collapsed span that partially\n  // overlaps (covers the start or end, but not both) of a new span.\n  // Such overlap is not allowed.\n  function conflictingCollapsedRange(doc, lineNo, from, to, marker) {\n    var line = getLine(doc, lineNo);\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      var found = sp.marker.find(0);\n      var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n      var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n      if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }\n      if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\n          fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\n        { return true }\n    } }\n  }\n\n  // A visual line is a line as drawn on the screen. Folding, for\n  // example, can cause multiple logical lines to appear on the same\n  // visual line. This finds the start of the visual line that the\n  // given line is part of (usually that is the line itself).\n  function visualLine(line) {\n    var merged;\n    while (merged = collapsedSpanAtStart(line))\n      { line = merged.find(-1, true).line; }\n    return line\n  }\n\n  function visualLineEnd(line) {\n    var merged;\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return line\n  }\n\n  // Returns an array of logical lines that continue the visual line\n  // started by the argument, or undefined if there are no such lines.\n  function visualLineContinued(line) {\n    var merged, lines;\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line\n      ;(lines || (lines = [])).push(line);\n    }\n    return lines\n  }\n\n  // Get the line number of the start of the visual line that the\n  // given line number is part of.\n  function visualLineNo(doc, lineN) {\n    var line = getLine(doc, lineN), vis = visualLine(line);\n    if (line == vis) { return lineN }\n    return lineNo(vis)\n  }\n\n  // Get the line number of the start of the next visual line after\n  // the given line.\n  function visualLineEndNo(doc, lineN) {\n    if (lineN > doc.lastLine()) { return lineN }\n    var line = getLine(doc, lineN), merged;\n    if (!lineIsHidden(doc, line)) { return lineN }\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return lineNo(line) + 1\n  }\n\n  // Compute whether a line is hidden. Lines count as hidden when they\n  // are part of a visual line that starts with another line, or when\n  // they are entirely covered by collapsed, non-widget span.\n  function lineIsHidden(doc, line) {\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      if (sp.from == null) { return true }\n      if (sp.marker.widgetNode) { continue }\n      if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\n        { return true }\n    } }\n  }\n  function lineIsHiddenInner(doc, line, span) {\n    if (span.to == null) {\n      var end = span.marker.find(1, true);\n      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))\n    }\n    if (span.marker.inclusiveRight && span.to == line.text.length)\n      { return true }\n    for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {\n      sp = line.markedSpans[i];\n      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\n          (sp.to == null || sp.to != span.from) &&\n          (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\n          lineIsHiddenInner(doc, line, sp)) { return true }\n    }\n  }\n\n  // Find the height above the given line.\n  function heightAtLine(lineObj) {\n    lineObj = visualLine(lineObj);\n\n    var h = 0, chunk = lineObj.parent;\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i];\n      if (line == lineObj) { break }\n      else { h += line.height; }\n    }\n    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n        var cur = p.children[i$1];\n        if (cur == chunk) { break }\n        else { h += cur.height; }\n      }\n    }\n    return h\n  }\n\n  // Compute the character length of a line, taking into account\n  // collapsed ranges (see markText) that might hide parts, and join\n  // other lines onto it.\n  function lineLength(line) {\n    if (line.height == 0) { return 0 }\n    var len = line.text.length, merged, cur = line;\n    while (merged = collapsedSpanAtStart(cur)) {\n      var found = merged.find(0, true);\n      cur = found.from.line;\n      len += found.from.ch - found.to.ch;\n    }\n    cur = line;\n    while (merged = collapsedSpanAtEnd(cur)) {\n      var found$1 = merged.find(0, true);\n      len -= cur.text.length - found$1.from.ch;\n      cur = found$1.to.line;\n      len += cur.text.length - found$1.to.ch;\n    }\n    return len\n  }\n\n  // Find the longest line in the document.\n  function findMaxLine(cm) {\n    var d = cm.display, doc = cm.doc;\n    d.maxLine = getLine(doc, doc.first);\n    d.maxLineLength = lineLength(d.maxLine);\n    d.maxLineChanged = true;\n    doc.iter(function (line) {\n      var len = lineLength(line);\n      if (len > d.maxLineLength) {\n        d.maxLineLength = len;\n        d.maxLine = line;\n      }\n    });\n  }\n\n  // LINE DATA STRUCTURE\n\n  // Line objects. These hold state related to a line, including\n  // highlighting info (the styles array).\n  var Line = function(text, markedSpans, estimateHeight) {\n    this.text = text;\n    attachMarkedSpans(this, markedSpans);\n    this.height = estimateHeight ? estimateHeight(this) : 1;\n  };\n\n  Line.prototype.lineNo = function () { return lineNo(this) };\n  eventMixin(Line);\n\n  // Change the content (text, markers) of a line. Automatically\n  // invalidates cached information and tries to re-estimate the\n  // line's height.\n  function updateLine(line, text, markedSpans, estimateHeight) {\n    line.text = text;\n    if (line.stateAfter) { line.stateAfter = null; }\n    if (line.styles) { line.styles = null; }\n    if (line.order != null) { line.order = null; }\n    detachMarkedSpans(line);\n    attachMarkedSpans(line, markedSpans);\n    var estHeight = estimateHeight ? estimateHeight(line) : 1;\n    if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n  }\n\n  // Detach a line from the document tree and its markers.\n  function cleanUpLine(line) {\n    line.parent = null;\n    detachMarkedSpans(line);\n  }\n\n  // Convert a style as returned by a mode (either null, or a string\n  // containing one or more styles) to a CSS style. This is cached,\n  // and also looks for line-wide styles.\n  var styleToClassCache = {}, styleToClassCacheWithMode = {};\n  function interpretTokenStyle(style, options) {\n    if (!style || /^\\s*$/.test(style)) { return null }\n    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n    return cache[style] ||\n      (cache[style] = style.replace(/\\S+/g, \"cm-$&\"))\n  }\n\n  // Render the DOM representation of the text of a line. Also builds\n  // up a 'line map', which points at the DOM nodes that represent\n  // specific stretches of text, and is used by the measuring code.\n  // The returned object contains the DOM node, this map, and\n  // information about line-wide styles that were set by the mode.\n  function buildLineContent(cm, lineView) {\n    // The padding-right forces the element to have a 'border', which\n    // is needed on Webkit to be able to get line-level bounding\n    // rectangles for it (in measureChar).\n    var content = eltP(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n    var builder = {pre: eltP(\"pre\", [content], \"CodeMirror-line\"), content: content,\n                   col: 0, pos: 0, cm: cm,\n                   trailingSpace: false,\n                   splitSpaces: cm.getOption(\"lineWrapping\")};\n    lineView.measure = {};\n\n    // Iterate over the logical lines that make up this visual line.\n    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n      var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0);\n      builder.pos = 0;\n      builder.addToken = buildToken;\n      // Optionally wire in some hacks into the token-rendering\n      // algorithm, to deal with browser quirks.\n      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction)))\n        { builder.addToken = buildTokenBadBidi(builder.addToken, order); }\n      builder.map = [];\n      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n      if (line.styleClasses) {\n        if (line.styleClasses.bgClass)\n          { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\"); }\n        if (line.styleClasses.textClass)\n          { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\"); }\n      }\n\n      // Ensure at least a single node is present, for measuring.\n      if (builder.map.length == 0)\n        { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))); }\n\n      // Store the map and a cache object for the current logical line\n      if (i == 0) {\n        lineView.measure.map = builder.map;\n        lineView.measure.cache = {};\n      } else {\n  (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)\n        ;(lineView.measure.caches || (lineView.measure.caches = [])).push({});\n      }\n    }\n\n    // See issue #2901\n    if (webkit) {\n      var last = builder.content.lastChild;\n      if (/\\bcm-tab\\b/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\n        { builder.content.className = \"cm-tab-wrap-hack\"; }\n    }\n\n    signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n    if (builder.pre.className)\n      { builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\"); }\n\n    return builder\n  }\n\n  function defaultSpecialCharPlaceholder(ch) {\n    var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n    token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n    token.setAttribute(\"aria-label\", token.title);\n    return token\n  }\n\n  // Build up the DOM representation for a single token, and add it to\n  // the line map. Takes care to render special characters separately.\n  function buildToken(builder, text, style, startStyle, endStyle, css, attributes) {\n    if (!text) { return }\n    var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;\n    var special = builder.cm.state.specialChars, mustWrap = false;\n    var content;\n    if (!special.test(text)) {\n      builder.col += text.length;\n      content = document.createTextNode(displayText);\n      builder.map.push(builder.pos, builder.pos + text.length, content);\n      if (ie && ie_version < 9) { mustWrap = true; }\n      builder.pos += text.length;\n    } else {\n      content = document.createDocumentFragment();\n      var pos = 0;\n      while (true) {\n        special.lastIndex = pos;\n        var m = special.exec(text);\n        var skipped = m ? m.index - pos : text.length - pos;\n        if (skipped) {\n          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt])); }\n          else { content.appendChild(txt); }\n          builder.map.push(builder.pos, builder.pos + skipped, txt);\n          builder.col += skipped;\n          builder.pos += skipped;\n        }\n        if (!m) { break }\n        pos += skipped + 1;\n        var txt$1 = (void 0);\n        if (m[0] == \"\\t\") {\n          var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;\n          txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n          txt$1.setAttribute(\"role\", \"presentation\");\n          txt$1.setAttribute(\"cm-text\", \"\\t\");\n          builder.col += tabWidth;\n        } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n          txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          builder.col += 1;\n        } else {\n          txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt$1])); }\n          else { content.appendChild(txt$1); }\n          builder.col += 1;\n        }\n        builder.map.push(builder.pos, builder.pos + 1, txt$1);\n        builder.pos++;\n      }\n    }\n    builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;\n    if (style || startStyle || endStyle || mustWrap || css || attributes) {\n      var fullStyle = style || \"\";\n      if (startStyle) { fullStyle += startStyle; }\n      if (endStyle) { fullStyle += endStyle; }\n      var token = elt(\"span\", [content], fullStyle, css);\n      if (attributes) {\n        for (var attr in attributes) { if (attributes.hasOwnProperty(attr) && attr != \"style\" && attr != \"class\")\n          { token.setAttribute(attr, attributes[attr]); } }\n      }\n      return builder.content.appendChild(token)\n    }\n    builder.content.appendChild(content);\n  }\n\n  // Change some spaces to NBSP to prevent the browser from collapsing\n  // trailing spaces at the end of a line when rendering text (issue #1362).\n  function splitSpaces(text, trailingBefore) {\n    if (text.length > 1 && !/  /.test(text)) { return text }\n    var spaceBefore = trailingBefore, result = \"\";\n    for (var i = 0; i < text.length; i++) {\n      var ch = text.charAt(i);\n      if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\n        { ch = \"\\u00a0\"; }\n      result += ch;\n      spaceBefore = ch == \" \";\n    }\n    return result\n  }\n\n  // Work around nonsense dimensions being reported for stretches of\n  // right-to-left text.\n  function buildTokenBadBidi(inner, order) {\n    return function (builder, text, style, startStyle, endStyle, css, attributes) {\n      style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n      var start = builder.pos, end = start + text.length;\n      for (;;) {\n        // Find the part that overlaps with the start of this text\n        var part = (void 0);\n        for (var i = 0; i < order.length; i++) {\n          part = order[i];\n          if (part.to > start && part.from <= start) { break }\n        }\n        if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, css, attributes) }\n        inner(builder, text.slice(0, part.to - start), style, startStyle, null, css, attributes);\n        startStyle = null;\n        text = text.slice(part.to - start);\n        start = part.to;\n      }\n    }\n  }\n\n  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n    var widget = !ignoreWidget && marker.widgetNode;\n    if (widget) { builder.map.push(builder.pos, builder.pos + size, widget); }\n    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n      if (!widget)\n        { widget = builder.content.appendChild(document.createElement(\"span\")); }\n      widget.setAttribute(\"cm-marker\", marker.id);\n    }\n    if (widget) {\n      builder.cm.display.input.setUneditable(widget);\n      builder.content.appendChild(widget);\n    }\n    builder.pos += size;\n    builder.trailingSpace = false;\n  }\n\n  // Outputs a number of spans to make up a line, taking highlighting\n  // and marked text into account.\n  function insertLineContent(line, builder, styles) {\n    var spans = line.markedSpans, allText = line.text, at = 0;\n    if (!spans) {\n      for (var i$1 = 1; i$1 < styles.length; i$1+=2)\n        { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)); }\n      return\n    }\n\n    var len = allText.length, pos = 0, i = 1, text = \"\", style, css;\n    var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, collapsed, attributes;\n    for (;;) {\n      if (nextChange == pos) { // Update current marker set\n        spanStyle = spanEndStyle = spanStartStyle = css = \"\";\n        attributes = null;\n        collapsed = null; nextChange = Infinity;\n        var foundBookmarks = [], endStyles = (void 0);\n        for (var j = 0; j < spans.length; ++j) {\n          var sp = spans[j], m = sp.marker;\n          if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n            foundBookmarks.push(m);\n          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n            if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n              nextChange = sp.to;\n              spanEndStyle = \"\";\n            }\n            if (m.className) { spanStyle += \" \" + m.className; }\n            if (m.css) { css = (css ? css + \";\" : \"\") + m.css; }\n            if (m.startStyle && sp.from == pos) { spanStartStyle += \" \" + m.startStyle; }\n            if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to); }\n            // support for the old title property\n            // https://github.com/codemirror/CodeMirror/pull/5673\n            if (m.title) { (attributes || (attributes = {})).title = m.title; }\n            if (m.attributes) {\n              for (var attr in m.attributes)\n                { (attributes || (attributes = {}))[attr] = m.attributes[attr]; }\n            }\n            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\n              { collapsed = sp; }\n          } else if (sp.from > pos && nextChange > sp.from) {\n            nextChange = sp.from;\n          }\n        }\n        if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)\n          { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += \" \" + endStyles[j$1]; } } }\n\n        if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)\n          { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]); } }\n        if (collapsed && (collapsed.from || 0) == pos) {\n          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\n                             collapsed.marker, collapsed.from == null);\n          if (collapsed.to == null) { return }\n          if (collapsed.to == pos) { collapsed = false; }\n        }\n      }\n      if (pos >= len) { break }\n\n      var upto = Math.min(len, nextChange);\n      while (true) {\n        if (text) {\n          var end = pos + text.length;\n          if (!collapsed) {\n            var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\n                             spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", css, attributes);\n          }\n          if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}\n          pos = end;\n          spanStartStyle = \"\";\n        }\n        text = allText.slice(at, at = styles[i++]);\n        style = interpretTokenStyle(styles[i++], builder.cm.options);\n      }\n    }\n  }\n\n\n  // These objects are used to represent the visible (currently drawn)\n  // part of the document. A LineView may correspond to multiple\n  // logical lines, if those are connected by collapsed ranges.\n  function LineView(doc, line, lineN) {\n    // The starting line\n    this.line = line;\n    // Continuing lines, if any\n    this.rest = visualLineContinued(line);\n    // Number of logical lines in this visual line\n    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n    this.node = this.text = null;\n    this.hidden = lineIsHidden(doc, line);\n  }\n\n  // Create a range of LineView objects for the given lines.\n  function buildViewArray(cm, from, to) {\n    var array = [], nextPos;\n    for (var pos = from; pos < to; pos = nextPos) {\n      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n      nextPos = pos + view.size;\n      array.push(view);\n    }\n    return array\n  }\n\n  var operationGroup = null;\n\n  function pushOperation(op) {\n    if (operationGroup) {\n      operationGroup.ops.push(op);\n    } else {\n      op.ownsGroup = operationGroup = {\n        ops: [op],\n        delayedCallbacks: []\n      };\n    }\n  }\n\n  function fireCallbacksForOps(group) {\n    // Calls delayed callbacks and cursorActivity handlers until no\n    // new ones appear\n    var callbacks = group.delayedCallbacks, i = 0;\n    do {\n      for (; i < callbacks.length; i++)\n        { callbacks[i].call(null); }\n      for (var j = 0; j < group.ops.length; j++) {\n        var op = group.ops[j];\n        if (op.cursorActivityHandlers)\n          { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\n            { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm); } }\n      }\n    } while (i < callbacks.length)\n  }\n\n  function finishOperation(op, endCb) {\n    var group = op.ownsGroup;\n    if (!group) { return }\n\n    try { fireCallbacksForOps(group); }\n    finally {\n      operationGroup = null;\n      endCb(group);\n    }\n  }\n\n  var orphanDelayedCallbacks = null;\n\n  // Often, we want to signal events at a point where we are in the\n  // middle of some work, but don't want the handler to start calling\n  // other methods on the editor, which might be in an inconsistent\n  // state or simply not expect any other events to happen.\n  // signalLater looks whether there are any handlers, and schedules\n  // them to be executed when the last operation ends, or, if no\n  // operation is active, when a timeout fires.\n  function signalLater(emitter, type /*, values...*/) {\n    var arr = getHandlers(emitter, type);\n    if (!arr.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2), list;\n    if (operationGroup) {\n      list = operationGroup.delayedCallbacks;\n    } else if (orphanDelayedCallbacks) {\n      list = orphanDelayedCallbacks;\n    } else {\n      list = orphanDelayedCallbacks = [];\n      setTimeout(fireOrphanDelayed, 0);\n    }\n    var loop = function ( i ) {\n      list.push(function () { return arr[i].apply(null, args); });\n    };\n\n    for (var i = 0; i < arr.length; ++i)\n      loop( i );\n  }\n\n  function fireOrphanDelayed() {\n    var delayed = orphanDelayedCallbacks;\n    orphanDelayedCallbacks = null;\n    for (var i = 0; i < delayed.length; ++i) { delayed[i](); }\n  }\n\n  // When an aspect of a line changes, a string is added to\n  // lineView.changes. This updates the relevant part of the line's\n  // DOM structure.\n  function updateLineForChanges(cm, lineView, lineN, dims) {\n    for (var j = 0; j < lineView.changes.length; j++) {\n      var type = lineView.changes[j];\n      if (type == \"text\") { updateLineText(cm, lineView); }\n      else if (type == \"gutter\") { updateLineGutter(cm, lineView, lineN, dims); }\n      else if (type == \"class\") { updateLineClasses(cm, lineView); }\n      else if (type == \"widget\") { updateLineWidgets(cm, lineView, dims); }\n    }\n    lineView.changes = null;\n  }\n\n  // Lines with gutter elements, widgets or a background class need to\n  // be wrapped, and have the extra elements added to the wrapper div\n  function ensureLineWrapped(lineView) {\n    if (lineView.node == lineView.text) {\n      lineView.node = elt(\"div\", null, null, \"position: relative\");\n      if (lineView.text.parentNode)\n        { lineView.text.parentNode.replaceChild(lineView.node, lineView.text); }\n      lineView.node.appendChild(lineView.text);\n      if (ie && ie_version < 8) { lineView.node.style.zIndex = 2; }\n    }\n    return lineView.node\n  }\n\n  function updateLineBackground(cm, lineView) {\n    var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n    if (cls) { cls += \" CodeMirror-linebackground\"; }\n    if (lineView.background) {\n      if (cls) { lineView.background.className = cls; }\n      else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }\n    } else if (cls) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n      cm.display.input.setUneditable(lineView.background);\n    }\n  }\n\n  // Wrapper around buildLineContent which will reuse the structure\n  // in display.externalMeasured when possible.\n  function getLineContent(cm, lineView) {\n    var ext = cm.display.externalMeasured;\n    if (ext && ext.line == lineView.line) {\n      cm.display.externalMeasured = null;\n      lineView.measure = ext.measure;\n      return ext.built\n    }\n    return buildLineContent(cm, lineView)\n  }\n\n  // Redraw the line's text. Interacts with the background and text\n  // classes because the mode may output tokens that influence these\n  // classes.\n  function updateLineText(cm, lineView) {\n    var cls = lineView.text.className;\n    var built = getLineContent(cm, lineView);\n    if (lineView.text == lineView.node) { lineView.node = built.pre; }\n    lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n    lineView.text = built.pre;\n    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n      lineView.bgClass = built.bgClass;\n      lineView.textClass = built.textClass;\n      updateLineClasses(cm, lineView);\n    } else if (cls) {\n      lineView.text.className = cls;\n    }\n  }\n\n  function updateLineClasses(cm, lineView) {\n    updateLineBackground(cm, lineView);\n    if (lineView.line.wrapClass)\n      { ensureLineWrapped(lineView).className = lineView.line.wrapClass; }\n    else if (lineView.node != lineView.text)\n      { lineView.node.className = \"\"; }\n    var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n    lineView.text.className = textClass || \"\";\n  }\n\n  function updateLineGutter(cm, lineView, lineN, dims) {\n    if (lineView.gutter) {\n      lineView.node.removeChild(lineView.gutter);\n      lineView.gutter = null;\n    }\n    if (lineView.gutterBackground) {\n      lineView.node.removeChild(lineView.gutterBackground);\n      lineView.gutterBackground = null;\n    }\n    if (lineView.line.gutterClass) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\n                                      (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + (dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(lineView.gutterBackground);\n      wrap.insertBefore(lineView.gutterBackground, lineView.text);\n    }\n    var markers = lineView.line.gutterMarkers;\n    if (cm.options.lineNumbers || markers) {\n      var wrap$1 = ensureLineWrapped(lineView);\n      var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\"));\n      gutterWrap.setAttribute(\"aria-hidden\", \"true\");\n      cm.display.input.setUneditable(gutterWrap);\n      wrap$1.insertBefore(gutterWrap, lineView.text);\n      if (lineView.line.gutterClass)\n        { gutterWrap.className += \" \" + lineView.line.gutterClass; }\n      if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\n        { lineView.lineNumber = gutterWrap.appendChild(\n          elt(\"div\", lineNumberFor(cm.options, lineN),\n              \"CodeMirror-linenumber CodeMirror-gutter-elt\",\n              (\"left: \" + (dims.gutterLeft[\"CodeMirror-linenumbers\"]) + \"px; width: \" + (cm.display.lineNumInnerWidth) + \"px\"))); }\n      if (markers) { for (var k = 0; k < cm.display.gutterSpecs.length; ++k) {\n        var id = cm.display.gutterSpecs[k].className, found = markers.hasOwnProperty(id) && markers[id];\n        if (found)\n          { gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\",\n                                     (\"left: \" + (dims.gutterLeft[id]) + \"px; width: \" + (dims.gutterWidth[id]) + \"px\"))); }\n      } }\n    }\n  }\n\n  function updateLineWidgets(cm, lineView, dims) {\n    if (lineView.alignable) { lineView.alignable = null; }\n    var isWidget = classTest(\"CodeMirror-linewidget\");\n    for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {\n      next = node.nextSibling;\n      if (isWidget.test(node.className)) { lineView.node.removeChild(node); }\n    }\n    insertLineWidgets(cm, lineView, dims);\n  }\n\n  // Build a line's DOM representation from scratch\n  function buildLineElement(cm, lineView, lineN, dims) {\n    var built = getLineContent(cm, lineView);\n    lineView.text = lineView.node = built.pre;\n    if (built.bgClass) { lineView.bgClass = built.bgClass; }\n    if (built.textClass) { lineView.textClass = built.textClass; }\n\n    updateLineClasses(cm, lineView);\n    updateLineGutter(cm, lineView, lineN, dims);\n    insertLineWidgets(cm, lineView, dims);\n    return lineView.node\n  }\n\n  // A lineView may contain multiple logical lines (when merged by\n  // collapsed spans). The widgets for all of them need to be drawn.\n  function insertLineWidgets(cm, lineView, dims) {\n    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n      { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false); } }\n  }\n\n  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n    if (!line.widgets) { return }\n    var wrap = ensureLineWrapped(lineView);\n    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n      var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\" + (widget.className ? \" \" + widget.className : \"\"));\n      if (!widget.handleMouseEvents) { node.setAttribute(\"cm-ignore-events\", \"true\"); }\n      positionLineWidget(widget, node, lineView, dims);\n      cm.display.input.setUneditable(node);\n      if (allowAbove && widget.above)\n        { wrap.insertBefore(node, lineView.gutter || lineView.text); }\n      else\n        { wrap.appendChild(node); }\n      signalLater(widget, \"redraw\");\n    }\n  }\n\n  function positionLineWidget(widget, node, lineView, dims) {\n    if (widget.noHScroll) {\n  (lineView.alignable || (lineView.alignable = [])).push(node);\n      var width = dims.wrapperWidth;\n      node.style.left = dims.fixedPos + \"px\";\n      if (!widget.coverGutter) {\n        width -= dims.gutterTotalWidth;\n        node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n      }\n      node.style.width = width + \"px\";\n    }\n    if (widget.coverGutter) {\n      node.style.zIndex = 5;\n      node.style.position = \"relative\";\n      if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + \"px\"; }\n    }\n  }\n\n  function widgetHeight(widget) {\n    if (widget.height != null) { return widget.height }\n    var cm = widget.doc.cm;\n    if (!cm) { return 0 }\n    if (!contains(document.body, widget.node)) {\n      var parentStyle = \"position: relative;\";\n      if (widget.coverGutter)\n        { parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\"; }\n      if (widget.noHScroll)\n        { parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\"; }\n      removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n    }\n    return widget.height = widget.node.parentNode.offsetHeight\n  }\n\n  // Return true when the given mouse event happened in a widget\n  function eventInWidget(display, e) {\n    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n      if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\n          (n.parentNode == display.sizer && n != display.mover))\n        { return true }\n    }\n  }\n\n  // POSITION MEASUREMENT\n\n  function paddingTop(display) {return display.lineSpace.offsetTop}\n  function paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}\n  function paddingH(display) {\n    if (display.cachedPaddingH) { return display.cachedPaddingH }\n    var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\", \"CodeMirror-line-like\"));\n    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n    var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};\n    if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data; }\n    return data\n  }\n\n  function scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }\n  function displayWidth(cm) {\n    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth\n  }\n  function displayHeight(cm) {\n    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight\n  }\n\n  // Ensure the lineView.wrapping.heights array is populated. This is\n  // an array of bottom offsets for the lines that make up a drawn\n  // line. When lineWrapping is on, there might be more than one\n  // height.\n  function ensureLineHeights(cm, lineView, rect) {\n    var wrapping = cm.options.lineWrapping;\n    var curWidth = wrapping && displayWidth(cm);\n    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n      var heights = lineView.measure.heights = [];\n      if (wrapping) {\n        lineView.measure.width = curWidth;\n        var rects = lineView.text.firstChild.getClientRects();\n        for (var i = 0; i < rects.length - 1; i++) {\n          var cur = rects[i], next = rects[i + 1];\n          if (Math.abs(cur.bottom - next.bottom) > 2)\n            { heights.push((cur.bottom + next.top) / 2 - rect.top); }\n        }\n      }\n      heights.push(rect.bottom - rect.top);\n    }\n  }\n\n  // Find a line map (mapping character offsets to text nodes) and a\n  // measurement cache for the given line number. (A line view might\n  // contain multiple lines when collapsed ranges are present.)\n  function mapFromLineView(lineView, line, lineN) {\n    if (lineView.line == line)\n      { return {map: lineView.measure.map, cache: lineView.measure.cache} }\n    for (var i = 0; i < lineView.rest.length; i++)\n      { if (lineView.rest[i] == line)\n        { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }\n    for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)\n      { if (lineNo(lineView.rest[i$1]) > lineN)\n        { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }\n  }\n\n  // Render a line into the hidden node display.externalMeasured. Used\n  // when measurement is needed for a line that's not in the viewport.\n  function updateExternalMeasurement(cm, line) {\n    line = visualLine(line);\n    var lineN = lineNo(line);\n    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n    view.lineN = lineN;\n    var built = view.built = buildLineContent(cm, view);\n    view.text = built.pre;\n    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n    return view\n  }\n\n  // Get a {top, bottom, left, right} box (in line-local coordinates)\n  // for a given character.\n  function measureChar(cm, line, ch, bias) {\n    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)\n  }\n\n  // Find a line view that corresponds to the given line number.\n  function findViewForLine(cm, lineN) {\n    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\n      { return cm.display.view[findViewIndex(cm, lineN)] }\n    var ext = cm.display.externalMeasured;\n    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\n      { return ext }\n  }\n\n  // Measurement can be split in two steps, the set-up work that\n  // applies to the whole line, and the measurement of the actual\n  // character. Functions like coordsChar, that need to do a lot of\n  // measurements in a row, can thus ensure that the set-up work is\n  // only done once.\n  function prepareMeasureForLine(cm, line) {\n    var lineN = lineNo(line);\n    var view = findViewForLine(cm, lineN);\n    if (view && !view.text) {\n      view = null;\n    } else if (view && view.changes) {\n      updateLineForChanges(cm, view, lineN, getDimensions(cm));\n      cm.curOp.forceUpdate = true;\n    }\n    if (!view)\n      { view = updateExternalMeasurement(cm, line); }\n\n    var info = mapFromLineView(view, line, lineN);\n    return {\n      line: line, view: view, rect: null,\n      map: info.map, cache: info.cache, before: info.before,\n      hasHeights: false\n    }\n  }\n\n  // Given a prepared measurement object, measures the position of an\n  // actual character (or fetches it from the cache).\n  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n    if (prepared.before) { ch = -1; }\n    var key = ch + (bias || \"\"), found;\n    if (prepared.cache.hasOwnProperty(key)) {\n      found = prepared.cache[key];\n    } else {\n      if (!prepared.rect)\n        { prepared.rect = prepared.view.text.getBoundingClientRect(); }\n      if (!prepared.hasHeights) {\n        ensureLineHeights(cm, prepared.view, prepared.rect);\n        prepared.hasHeights = true;\n      }\n      found = measureCharInner(cm, prepared, ch, bias);\n      if (!found.bogus) { prepared.cache[key] = found; }\n    }\n    return {left: found.left, right: found.right,\n            top: varHeight ? found.rtop : found.top,\n            bottom: varHeight ? found.rbottom : found.bottom}\n  }\n\n  var nullRect = {left: 0, right: 0, top: 0, bottom: 0};\n\n  function nodeAndOffsetInLineMap(map, ch, bias) {\n    var node, start, end, collapse, mStart, mEnd;\n    // First, search the line map for the text node corresponding to,\n    // or closest to, the target character.\n    for (var i = 0; i < map.length; i += 3) {\n      mStart = map[i];\n      mEnd = map[i + 1];\n      if (ch < mStart) {\n        start = 0; end = 1;\n        collapse = \"left\";\n      } else if (ch < mEnd) {\n        start = ch - mStart;\n        end = start + 1;\n      } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {\n        end = mEnd - mStart;\n        start = end - 1;\n        if (ch >= mEnd) { collapse = \"right\"; }\n      }\n      if (start != null) {\n        node = map[i + 2];\n        if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\n          { collapse = bias; }\n        if (bias == \"left\" && start == 0)\n          { while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {\n            node = map[(i -= 3) + 2];\n            collapse = \"left\";\n          } }\n        if (bias == \"right\" && start == mEnd - mStart)\n          { while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {\n            node = map[(i += 3) + 2];\n            collapse = \"right\";\n          } }\n        break\n      }\n    }\n    return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}\n  }\n\n  function getUsefulRect(rects, bias) {\n    var rect = nullRect;\n    if (bias == \"left\") { for (var i = 0; i < rects.length; i++) {\n      if ((rect = rects[i]).left != rect.right) { break }\n    } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n      if ((rect = rects[i$1]).left != rect.right) { break }\n    } }\n    return rect\n  }\n\n  function measureCharInner(cm, prepared, ch, bias) {\n    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n    var node = place.node, start = place.start, end = place.end, collapse = place.collapse;\n\n    var rect;\n    if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.\n      for (var i$1 = 0; i$1 < 4; i$1++) { // Retry a maximum of 4 times when nonsense rectangles are returned\n        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start; }\n        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end; }\n        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\n          { rect = node.parentNode.getBoundingClientRect(); }\n        else\n          { rect = getUsefulRect(range(node, start, end).getClientRects(), bias); }\n        if (rect.left || rect.right || start == 0) { break }\n        end = start;\n        start = start - 1;\n        collapse = \"right\";\n      }\n      if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect); }\n    } else { // If it is a widget, simply get the box for the whole widget.\n      if (start > 0) { collapse = bias = \"right\"; }\n      var rects;\n      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\n        { rect = rects[bias == \"right\" ? rects.length - 1 : 0]; }\n      else\n        { rect = node.getBoundingClientRect(); }\n    }\n    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n      var rSpan = node.parentNode.getClientRects()[0];\n      if (rSpan)\n        { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom}; }\n      else\n        { rect = nullRect; }\n    }\n\n    var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;\n    var mid = (rtop + rbot) / 2;\n    var heights = prepared.view.measure.heights;\n    var i = 0;\n    for (; i < heights.length - 1; i++)\n      { if (mid < heights[i]) { break } }\n    var top = i ? heights[i - 1] : 0, bot = heights[i];\n    var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n                  right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n                  top: top, bottom: bot};\n    if (!rect.left && !rect.right) { result.bogus = true; }\n    if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }\n\n    return result\n  }\n\n  // Work around problem with bounding client rects on ranges being\n  // returned incorrectly when zoomed on IE10 and below.\n  function maybeUpdateRectForZooming(measure, rect) {\n    if (!window.screen || screen.logicalXDPI == null ||\n        screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\n      { return rect }\n    var scaleX = screen.logicalXDPI / screen.deviceXDPI;\n    var scaleY = screen.logicalYDPI / screen.deviceYDPI;\n    return {left: rect.left * scaleX, right: rect.right * scaleX,\n            top: rect.top * scaleY, bottom: rect.bottom * scaleY}\n  }\n\n  function clearLineMeasurementCacheFor(lineView) {\n    if (lineView.measure) {\n      lineView.measure.cache = {};\n      lineView.measure.heights = null;\n      if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n        { lineView.measure.caches[i] = {}; } }\n    }\n  }\n\n  function clearLineMeasurementCache(cm) {\n    cm.display.externalMeasure = null;\n    removeChildren(cm.display.lineMeasure);\n    for (var i = 0; i < cm.display.view.length; i++)\n      { clearLineMeasurementCacheFor(cm.display.view[i]); }\n  }\n\n  function clearCaches(cm) {\n    clearLineMeasurementCache(cm);\n    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n    if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true; }\n    cm.display.lineNumChars = null;\n  }\n\n  function pageScrollX() {\n    // Work around https://bugs.chromium.org/p/chromium/issues/detail?id=489206\n    // which causes page_Offset and bounding client rects to use\n    // different reference viewports and invalidate our calculations.\n    if (chrome && android) { return -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft)) }\n    return window.pageXOffset || (document.documentElement || document.body).scrollLeft\n  }\n  function pageScrollY() {\n    if (chrome && android) { return -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop)) }\n    return window.pageYOffset || (document.documentElement || document.body).scrollTop\n  }\n\n  function widgetTopHeight(lineObj) {\n    var height = 0;\n    if (lineObj.widgets) { for (var i = 0; i < lineObj.widgets.length; ++i) { if (lineObj.widgets[i].above)\n      { height += widgetHeight(lineObj.widgets[i]); } } }\n    return height\n  }\n\n  // Converts a {top, bottom, left, right} box from line-local\n  // coordinates into another coordinate system. Context may be one of\n  // \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\n  // or \"page\".\n  function intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n    if (!includeWidgets) {\n      var height = widgetTopHeight(lineObj);\n      rect.top += height; rect.bottom += height;\n    }\n    if (context == \"line\") { return rect }\n    if (!context) { context = \"local\"; }\n    var yOff = heightAtLine(lineObj);\n    if (context == \"local\") { yOff += paddingTop(cm.display); }\n    else { yOff -= cm.display.viewOffset; }\n    if (context == \"page\" || context == \"window\") {\n      var lOff = cm.display.lineSpace.getBoundingClientRect();\n      yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY());\n      var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX());\n      rect.left += xOff; rect.right += xOff;\n    }\n    rect.top += yOff; rect.bottom += yOff;\n    return rect\n  }\n\n  // Coverts a box from \"div\" coords to another coordinate system.\n  // Context may be \"window\", \"page\", \"div\", or \"local\"./null.\n  function fromCoordSystem(cm, coords, context) {\n    if (context == \"div\") { return coords }\n    var left = coords.left, top = coords.top;\n    // First move into \"page\" coordinate system\n    if (context == \"page\") {\n      left -= pageScrollX();\n      top -= pageScrollY();\n    } else if (context == \"local\" || !context) {\n      var localBox = cm.display.sizer.getBoundingClientRect();\n      left += localBox.left;\n      top += localBox.top;\n    }\n\n    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n    return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}\n  }\n\n  function charCoords(cm, pos, context, lineObj, bias) {\n    if (!lineObj) { lineObj = getLine(cm.doc, pos.line); }\n    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)\n  }\n\n  // Returns a box for a given cursor position, which may have an\n  // 'other' property containing the position of the secondary cursor\n  // on a bidi boundary.\n  // A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\n  // and after `char - 1` in writing order of `char - 1`\n  // A cursor Pos(line, char, \"after\") is on the same visual line as `char`\n  // and before `char` in writing order of `char`\n  // Examples (upper-case letters are RTL, lower-case are LTR):\n  //     Pos(0, 1, ...)\n  //     before   after\n  // ab     a|b     a|b\n  // aB     a|B     aB|\n  // Ab     |Ab     A|b\n  // AB     B|A     B|A\n  // Every position after the last character on a line is considered to stick\n  // to the last character on the line.\n  function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n    lineObj = lineObj || getLine(cm.doc, pos.line);\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    function get(ch, right) {\n      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n      if (right) { m.left = m.right; } else { m.right = m.left; }\n      return intoCoordSystem(cm, lineObj, m, context)\n    }\n    var order = getOrder(lineObj, cm.doc.direction), ch = pos.ch, sticky = pos.sticky;\n    if (ch >= lineObj.text.length) {\n      ch = lineObj.text.length;\n      sticky = \"before\";\n    } else if (ch <= 0) {\n      ch = 0;\n      sticky = \"after\";\n    }\n    if (!order) { return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\") }\n\n    function getBidi(ch, partPos, invert) {\n      var part = order[partPos], right = part.level == 1;\n      return get(invert ? ch - 1 : ch, right != invert)\n    }\n    var partPos = getBidiPartAt(order, ch, sticky);\n    var other = bidiOther;\n    var val = getBidi(ch, partPos, sticky == \"before\");\n    if (other != null) { val.other = getBidi(ch, other, sticky != \"before\"); }\n    return val\n  }\n\n  // Used to cheaply estimate the coordinates for a position. Used for\n  // intermediate scroll updates.\n  function estimateCoords(cm, pos) {\n    var left = 0;\n    pos = clipPos(cm.doc, pos);\n    if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch; }\n    var lineObj = getLine(cm.doc, pos.line);\n    var top = heightAtLine(lineObj) + paddingTop(cm.display);\n    return {left: left, right: left, top: top, bottom: top + lineObj.height}\n  }\n\n  // Positions returned by coordsChar contain some extra information.\n  // xRel is the relative x position of the input coordinates compared\n  // to the found position (so xRel > 0 means the coordinates are to\n  // the right of the character position, for example). When outside\n  // is true, that means the coordinates lie outside the line's\n  // vertical range.\n  function PosWithInfo(line, ch, sticky, outside, xRel) {\n    var pos = Pos(line, ch, sticky);\n    pos.xRel = xRel;\n    if (outside) { pos.outside = outside; }\n    return pos\n  }\n\n  // Compute the character position closest to the given coordinates.\n  // Input must be lineSpace-local (\"div\" coordinate system).\n  function coordsChar(cm, x, y) {\n    var doc = cm.doc;\n    y += cm.display.viewOffset;\n    if (y < 0) { return PosWithInfo(doc.first, 0, null, -1, -1) }\n    var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;\n    if (lineN > last)\n      { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, 1, 1) }\n    if (x < 0) { x = 0; }\n\n    var lineObj = getLine(doc, lineN);\n    for (;;) {\n      var found = coordsCharInner(cm, lineObj, lineN, x, y);\n      var collapsed = collapsedSpanAround(lineObj, found.ch + (found.xRel > 0 || found.outside > 0 ? 1 : 0));\n      if (!collapsed) { return found }\n      var rangeEnd = collapsed.find(1);\n      if (rangeEnd.line == lineN) { return rangeEnd }\n      lineObj = getLine(doc, lineN = rangeEnd.line);\n    }\n  }\n\n  function wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n    y -= widgetTopHeight(lineObj);\n    var end = lineObj.text.length;\n    var begin = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y; }, end, 0);\n    end = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch).top > y; }, begin, end);\n    return {begin: begin, end: end}\n  }\n\n  function wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top;\n    return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop)\n  }\n\n  // Returns true if the given side of a box is after the given\n  // coordinates, in top-to-bottom, left-to-right order.\n  function boxIsAfter(box, x, y, left) {\n    return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x\n  }\n\n  function coordsCharInner(cm, lineObj, lineNo, x, y) {\n    // Move y into line-local coordinate space\n    y -= heightAtLine(lineObj);\n    var preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    // When directly calling `measureCharPrepared`, we have to adjust\n    // for the widgets at this line.\n    var widgetHeight = widgetTopHeight(lineObj);\n    var begin = 0, end = lineObj.text.length, ltr = true;\n\n    var order = getOrder(lineObj, cm.doc.direction);\n    // If the line isn't plain left-to-right text, first figure out\n    // which bidi section the coordinates fall into.\n    if (order) {\n      var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)\n                   (cm, lineObj, lineNo, preparedMeasure, order, x, y);\n      ltr = part.level != 1;\n      // The awkward -1 offsets are needed because findFirst (called\n      // on these below) will treat its first bound as inclusive,\n      // second as exclusive, but we want to actually address the\n      // characters in the part's range\n      begin = ltr ? part.from : part.to - 1;\n      end = ltr ? part.to : part.from - 1;\n    }\n\n    // A binary search to find the first character whose bounding box\n    // starts after the coordinates. If we run across any whose box wrap\n    // the coordinates, store that.\n    var chAround = null, boxAround = null;\n    var ch = findFirst(function (ch) {\n      var box = measureCharPrepared(cm, preparedMeasure, ch);\n      box.top += widgetHeight; box.bottom += widgetHeight;\n      if (!boxIsAfter(box, x, y, false)) { return false }\n      if (box.top <= y && box.left <= x) {\n        chAround = ch;\n        boxAround = box;\n      }\n      return true\n    }, begin, end);\n\n    var baseX, sticky, outside = false;\n    // If a box around the coordinates was found, use that\n    if (boxAround) {\n      // Distinguish coordinates nearer to the left or right side of the box\n      var atLeft = x - boxAround.left < boxAround.right - x, atStart = atLeft == ltr;\n      ch = chAround + (atStart ? 0 : 1);\n      sticky = atStart ? \"after\" : \"before\";\n      baseX = atLeft ? boxAround.left : boxAround.right;\n    } else {\n      // (Adjust for extended bound, if necessary.)\n      if (!ltr && (ch == end || ch == begin)) { ch++; }\n      // To determine which side to associate with, get the box to the\n      // left of the character and compare it's vertical position to the\n      // coordinates\n      sticky = ch == 0 ? \"after\" : ch == lineObj.text.length ? \"before\" :\n        (measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight <= y) == ltr ?\n        \"after\" : \"before\";\n      // Now get accurate coordinates for this place, in order to get a\n      // base X position\n      var coords = cursorCoords(cm, Pos(lineNo, ch, sticky), \"line\", lineObj, preparedMeasure);\n      baseX = coords.left;\n      outside = y < coords.top ? -1 : y >= coords.bottom ? 1 : 0;\n    }\n\n    ch = skipExtendingChars(lineObj.text, ch, 1);\n    return PosWithInfo(lineNo, ch, sticky, outside, x - baseX)\n  }\n\n  function coordsBidiPart(cm, lineObj, lineNo, preparedMeasure, order, x, y) {\n    // Bidi parts are sorted left-to-right, and in a non-line-wrapping\n    // situation, we can take this ordering to correspond to the visual\n    // ordering. This finds the first part whose end is after the given\n    // coordinates.\n    var index = findFirst(function (i) {\n      var part = order[i], ltr = part.level != 1;\n      return boxIsAfter(cursorCoords(cm, Pos(lineNo, ltr ? part.to : part.from, ltr ? \"before\" : \"after\"),\n                                     \"line\", lineObj, preparedMeasure), x, y, true)\n    }, 0, order.length - 1);\n    var part = order[index];\n    // If this isn't the first part, the part's start is also after\n    // the coordinates, and the coordinates aren't on the same line as\n    // that start, move one part back.\n    if (index > 0) {\n      var ltr = part.level != 1;\n      var start = cursorCoords(cm, Pos(lineNo, ltr ? part.from : part.to, ltr ? \"after\" : \"before\"),\n                               \"line\", lineObj, preparedMeasure);\n      if (boxIsAfter(start, x, y, true) && start.top > y)\n        { part = order[index - 1]; }\n    }\n    return part\n  }\n\n  function coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {\n    // In a wrapped line, rtl text on wrapping boundaries can do things\n    // that don't correspond to the ordering in our `order` array at\n    // all, so a binary search doesn't work, and we want to return a\n    // part that only spans one line so that the binary search in\n    // coordsCharInner is safe. As such, we first find the extent of the\n    // wrapped line, and then do a flat search in which we discard any\n    // spans that aren't on the line.\n    var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);\n    var begin = ref.begin;\n    var end = ref.end;\n    if (/\\s/.test(lineObj.text.charAt(end - 1))) { end--; }\n    var part = null, closestDist = null;\n    for (var i = 0; i < order.length; i++) {\n      var p = order[i];\n      if (p.from >= end || p.to <= begin) { continue }\n      var ltr = p.level != 1;\n      var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right;\n      // Weigh against spans ending before this, so that they are only\n      // picked if nothing ends after\n      var dist = endX < x ? x - endX + 1e9 : endX - x;\n      if (!part || closestDist > dist) {\n        part = p;\n        closestDist = dist;\n      }\n    }\n    if (!part) { part = order[order.length - 1]; }\n    // Clip the part to the wrapped line.\n    if (part.from < begin) { part = {from: begin, to: part.to, level: part.level}; }\n    if (part.to > end) { part = {from: part.from, to: end, level: part.level}; }\n    return part\n  }\n\n  var measureText;\n  // Compute the default text height.\n  function textHeight(display) {\n    if (display.cachedTextHeight != null) { return display.cachedTextHeight }\n    if (measureText == null) {\n      measureText = elt(\"pre\", null, \"CodeMirror-line-like\");\n      // Measure a bunch of lines, for browsers that compute\n      // fractional heights.\n      for (var i = 0; i < 49; ++i) {\n        measureText.appendChild(document.createTextNode(\"x\"));\n        measureText.appendChild(elt(\"br\"));\n      }\n      measureText.appendChild(document.createTextNode(\"x\"));\n    }\n    removeChildrenAndAdd(display.measure, measureText);\n    var height = measureText.offsetHeight / 50;\n    if (height > 3) { display.cachedTextHeight = height; }\n    removeChildren(display.measure);\n    return height || 1\n  }\n\n  // Compute the default character width.\n  function charWidth(display) {\n    if (display.cachedCharWidth != null) { return display.cachedCharWidth }\n    var anchor = elt(\"span\", \"xxxxxxxxxx\");\n    var pre = elt(\"pre\", [anchor], \"CodeMirror-line-like\");\n    removeChildrenAndAdd(display.measure, pre);\n    var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10;\n    if (width > 2) { display.cachedCharWidth = width; }\n    return width || 10\n  }\n\n  // Do a bulk-read of the DOM positions and sizes needed to draw the\n  // view, so that we don't interleave reading and writing to the DOM.\n  function getDimensions(cm) {\n    var d = cm.display, left = {}, width = {};\n    var gutterLeft = d.gutters.clientLeft;\n    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n      var id = cm.display.gutterSpecs[i].className;\n      left[id] = n.offsetLeft + n.clientLeft + gutterLeft;\n      width[id] = n.clientWidth;\n    }\n    return {fixedPos: compensateForHScroll(d),\n            gutterTotalWidth: d.gutters.offsetWidth,\n            gutterLeft: left,\n            gutterWidth: width,\n            wrapperWidth: d.wrapper.clientWidth}\n  }\n\n  // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n  // but using getBoundingClientRect to get a sub-pixel-accurate\n  // result.\n  function compensateForHScroll(display) {\n    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left\n  }\n\n  // Returns a function that estimates the height of a line, to use as\n  // first approximation until the line becomes visible (and is thus\n  // properly measurable).\n  function estimateHeight(cm) {\n    var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;\n    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);\n    return function (line) {\n      if (lineIsHidden(cm.doc, line)) { return 0 }\n\n      var widgetsHeight = 0;\n      if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {\n        if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height; }\n      } }\n\n      if (wrapping)\n        { return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th }\n      else\n        { return widgetsHeight + th }\n    }\n  }\n\n  function estimateLineHeights(cm) {\n    var doc = cm.doc, est = estimateHeight(cm);\n    doc.iter(function (line) {\n      var estHeight = est(line);\n      if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n    });\n  }\n\n  // Given a mouse event, find the corresponding position. If liberal\n  // is false, it checks whether a gutter or scrollbar was clicked,\n  // and returns null if it was. forRect is used by rectangular\n  // selections, and tries to estimate a character position even for\n  // coordinates beyond the right of the text.\n  function posFromMouse(cm, e, liberal, forRect) {\n    var display = cm.display;\n    if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") { return null }\n\n    var x, y, space = display.lineSpace.getBoundingClientRect();\n    // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n    try { x = e.clientX - space.left; y = e.clientY - space.top; }\n    catch (e$1) { return null }\n    var coords = coordsChar(cm, x, y), line;\n    if (forRect && coords.xRel > 0 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));\n    }\n    return coords\n  }\n\n  // Find the view element corresponding to a given line. Return null\n  // when the line isn't visible.\n  function findViewIndex(cm, n) {\n    if (n >= cm.display.viewTo) { return null }\n    n -= cm.display.viewFrom;\n    if (n < 0) { return null }\n    var view = cm.display.view;\n    for (var i = 0; i < view.length; i++) {\n      n -= view[i].size;\n      if (n < 0) { return i }\n    }\n  }\n\n  // Updates the display.view data structure for a given change to the\n  // document. From and to are in pre-change coordinates. Lendiff is\n  // the amount of lines added or subtracted by the change. This is\n  // used for changes that span multiple lines, or change the way\n  // lines are divided into visual lines. regLineChange (below)\n  // registers single-line changes.\n  function regChange(cm, from, to, lendiff) {\n    if (from == null) { from = cm.doc.first; }\n    if (to == null) { to = cm.doc.first + cm.doc.size; }\n    if (!lendiff) { lendiff = 0; }\n\n    var display = cm.display;\n    if (lendiff && to < display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers > from))\n      { display.updateLineNumbers = from; }\n\n    cm.curOp.viewChanged = true;\n\n    if (from >= display.viewTo) { // Change after\n      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\n        { resetView(cm); }\n    } else if (to <= display.viewFrom) { // Change before\n      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n        resetView(cm);\n      } else {\n        display.viewFrom += lendiff;\n        display.viewTo += lendiff;\n      }\n    } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap\n      resetView(cm);\n    } else if (from <= display.viewFrom) { // Top overlap\n      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cut) {\n        display.view = display.view.slice(cut.index);\n        display.viewFrom = cut.lineN;\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    } else if (to >= display.viewTo) { // Bottom overlap\n      var cut$1 = viewCuttingPoint(cm, from, from, -1);\n      if (cut$1) {\n        display.view = display.view.slice(0, cut$1.index);\n        display.viewTo = cut$1.lineN;\n      } else {\n        resetView(cm);\n      }\n    } else { // Gap in the middle\n      var cutTop = viewCuttingPoint(cm, from, from, -1);\n      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cutTop && cutBot) {\n        display.view = display.view.slice(0, cutTop.index)\n          .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\n          .concat(display.view.slice(cutBot.index));\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    }\n\n    var ext = display.externalMeasured;\n    if (ext) {\n      if (to < ext.lineN)\n        { ext.lineN += lendiff; }\n      else if (from < ext.lineN + ext.size)\n        { display.externalMeasured = null; }\n    }\n  }\n\n  // Register a change to a single line. Type must be one of \"text\",\n  // \"gutter\", \"class\", \"widget\"\n  function regLineChange(cm, line, type) {\n    cm.curOp.viewChanged = true;\n    var display = cm.display, ext = cm.display.externalMeasured;\n    if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\n      { display.externalMeasured = null; }\n\n    if (line < display.viewFrom || line >= display.viewTo) { return }\n    var lineView = display.view[findViewIndex(cm, line)];\n    if (lineView.node == null) { return }\n    var arr = lineView.changes || (lineView.changes = []);\n    if (indexOf(arr, type) == -1) { arr.push(type); }\n  }\n\n  // Clear the view.\n  function resetView(cm) {\n    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n    cm.display.view = [];\n    cm.display.viewOffset = 0;\n  }\n\n  function viewCuttingPoint(cm, oldN, newN, dir) {\n    var index = findViewIndex(cm, oldN), diff, view = cm.display.view;\n    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\n      { return {index: index, lineN: newN} }\n    var n = cm.display.viewFrom;\n    for (var i = 0; i < index; i++)\n      { n += view[i].size; }\n    if (n != oldN) {\n      if (dir > 0) {\n        if (index == view.length - 1) { return null }\n        diff = (n + view[index].size) - oldN;\n        index++;\n      } else {\n        diff = n - oldN;\n      }\n      oldN += diff; newN += diff;\n    }\n    while (visualLineNo(cm.doc, newN) != newN) {\n      if (index == (dir < 0 ? 0 : view.length - 1)) { return null }\n      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n      index += dir;\n    }\n    return {index: index, lineN: newN}\n  }\n\n  // Force the view to cover a given range, adding empty view element\n  // or clipping off existing ones as needed.\n  function adjustView(cm, from, to) {\n    var display = cm.display, view = display.view;\n    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n      display.view = buildViewArray(cm, from, to);\n      display.viewFrom = from;\n    } else {\n      if (display.viewFrom > from)\n        { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view); }\n      else if (display.viewFrom < from)\n        { display.view = display.view.slice(findViewIndex(cm, from)); }\n      display.viewFrom = from;\n      if (display.viewTo < to)\n        { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)); }\n      else if (display.viewTo > to)\n        { display.view = display.view.slice(0, findViewIndex(cm, to)); }\n    }\n    display.viewTo = to;\n  }\n\n  // Count the number of lines in the view whose DOM representation is\n  // out of date (or nonexistent).\n  function countDirtyView(cm) {\n    var view = cm.display.view, dirty = 0;\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty; }\n    }\n    return dirty\n  }\n\n  function updateSelection(cm) {\n    cm.display.input.showSelection(cm.display.input.prepareSelection());\n  }\n\n  function prepareSelection(cm, primary) {\n    if ( primary === void 0 ) primary = true;\n\n    var doc = cm.doc, result = {};\n    var curFragment = result.cursors = document.createDocumentFragment();\n    var selFragment = result.selection = document.createDocumentFragment();\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      if (!primary && i == doc.sel.primIndex) { continue }\n      var range = doc.sel.ranges[i];\n      if (range.from().line >= cm.display.viewTo || range.to().line < cm.display.viewFrom) { continue }\n      var collapsed = range.empty();\n      if (collapsed || cm.options.showCursorWhenSelecting)\n        { drawSelectionCursor(cm, range.head, curFragment); }\n      if (!collapsed)\n        { drawSelectionRange(cm, range, selFragment); }\n    }\n    return result\n  }\n\n  // Draws a cursor for the given range\n  function drawSelectionCursor(cm, head, output) {\n    var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n\n    var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"));\n    cursor.style.left = pos.left + \"px\";\n    cursor.style.top = pos.top + \"px\";\n    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n    if (pos.other) {\n      // Secondary cursor, shown when on a 'jump' in bi-directional text\n      var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n      otherCursor.style.display = \"\";\n      otherCursor.style.left = pos.other.left + \"px\";\n      otherCursor.style.top = pos.other.top + \"px\";\n      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n    }\n  }\n\n  function cmpCoords(a, b) { return a.top - b.top || a.left - b.left }\n\n  // Draws the given range as a highlighted selection\n  function drawSelectionRange(cm, range, output) {\n    var display = cm.display, doc = cm.doc;\n    var fragment = document.createDocumentFragment();\n    var padding = paddingH(cm.display), leftSide = padding.left;\n    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n    var docLTR = doc.direction == \"ltr\";\n\n    function add(left, top, width, bottom) {\n      if (top < 0) { top = 0; }\n      top = Math.round(top);\n      bottom = Math.round(bottom);\n      fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", (\"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\")));\n    }\n\n    function drawForLine(line, fromArg, toArg) {\n      var lineObj = getLine(doc, line);\n      var lineLen = lineObj.text.length;\n      var start, end;\n      function coords(ch, bias) {\n        return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias)\n      }\n\n      function wrapX(pos, dir, side) {\n        var extent = wrappedLineExtentChar(cm, lineObj, null, pos);\n        var prop = (dir == \"ltr\") == (side == \"after\") ? \"left\" : \"right\";\n        var ch = side == \"after\" ? extent.begin : extent.end - (/\\s/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);\n        return coords(ch, prop)[prop]\n      }\n\n      var order = getOrder(lineObj, doc.direction);\n      iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {\n        var ltr = dir == \"ltr\";\n        var fromPos = coords(from, ltr ? \"left\" : \"right\");\n        var toPos = coords(to - 1, ltr ? \"right\" : \"left\");\n\n        var openStart = fromArg == null && from == 0, openEnd = toArg == null && to == lineLen;\n        var first = i == 0, last = !order || i == order.length - 1;\n        if (toPos.top - fromPos.top <= 3) { // Single line\n          var openLeft = (docLTR ? openStart : openEnd) && first;\n          var openRight = (docLTR ? openEnd : openStart) && last;\n          var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;\n          var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;\n          add(left, fromPos.top, right - left, fromPos.bottom);\n        } else { // Multiple lines\n          var topLeft, topRight, botLeft, botRight;\n          if (ltr) {\n            topLeft = docLTR && openStart && first ? leftSide : fromPos.left;\n            topRight = docLTR ? rightSide : wrapX(from, dir, \"before\");\n            botLeft = docLTR ? leftSide : wrapX(to, dir, \"after\");\n            botRight = docLTR && openEnd && last ? rightSide : toPos.right;\n          } else {\n            topLeft = !docLTR ? leftSide : wrapX(from, dir, \"before\");\n            topRight = !docLTR && openStart && first ? rightSide : fromPos.right;\n            botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;\n            botRight = !docLTR ? rightSide : wrapX(to, dir, \"after\");\n          }\n          add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);\n          if (fromPos.bottom < toPos.top) { add(leftSide, fromPos.bottom, null, toPos.top); }\n          add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);\n        }\n\n        if (!start || cmpCoords(fromPos, start) < 0) { start = fromPos; }\n        if (cmpCoords(toPos, start) < 0) { start = toPos; }\n        if (!end || cmpCoords(fromPos, end) < 0) { end = fromPos; }\n        if (cmpCoords(toPos, end) < 0) { end = toPos; }\n      });\n      return {start: start, end: end}\n    }\n\n    var sFrom = range.from(), sTo = range.to();\n    if (sFrom.line == sTo.line) {\n      drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n    } else {\n      var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);\n      var singleVLine = visualLine(fromLine) == visualLine(toLine);\n      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n      if (singleVLine) {\n        if (leftEnd.top < rightStart.top - 2) {\n          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n        } else {\n          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n        }\n      }\n      if (leftEnd.bottom < rightStart.top)\n        { add(leftSide, leftEnd.bottom, null, rightStart.top); }\n    }\n\n    output.appendChild(fragment);\n  }\n\n  // Cursor-blinking\n  function restartBlink(cm) {\n    if (!cm.state.focused) { return }\n    var display = cm.display;\n    clearInterval(display.blinker);\n    var on = true;\n    display.cursorDiv.style.visibility = \"\";\n    if (cm.options.cursorBlinkRate > 0)\n      { display.blinker = setInterval(function () {\n        if (!cm.hasFocus()) { onBlur(cm); }\n        display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\";\n      }, cm.options.cursorBlinkRate); }\n    else if (cm.options.cursorBlinkRate < 0)\n      { display.cursorDiv.style.visibility = \"hidden\"; }\n  }\n\n  function ensureFocus(cm) {\n    if (!cm.hasFocus()) {\n      cm.display.input.focus();\n      if (!cm.state.focused) { onFocus(cm); }\n    }\n  }\n\n  function delayBlurEvent(cm) {\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { if (cm.state.delayingBlurEvent) {\n      cm.state.delayingBlurEvent = false;\n      if (cm.state.focused) { onBlur(cm); }\n    } }, 100);\n  }\n\n  function onFocus(cm, e) {\n    if (cm.state.delayingBlurEvent && !cm.state.draggingText) { cm.state.delayingBlurEvent = false; }\n\n    if (cm.options.readOnly == \"nocursor\") { return }\n    if (!cm.state.focused) {\n      signal(cm, \"focus\", cm, e);\n      cm.state.focused = true;\n      addClass(cm.display.wrapper, \"CodeMirror-focused\");\n      // This test prevents this from firing when a context\n      // menu is closed (since the input reset would kill the\n      // select-all detection hack)\n      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n        cm.display.input.reset();\n        if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20); } // Issue #1730\n      }\n      cm.display.input.receivedFocus();\n    }\n    restartBlink(cm);\n  }\n  function onBlur(cm, e) {\n    if (cm.state.delayingBlurEvent) { return }\n\n    if (cm.state.focused) {\n      signal(cm, \"blur\", cm, e);\n      cm.state.focused = false;\n      rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n    }\n    clearInterval(cm.display.blinker);\n    setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false; } }, 150);\n  }\n\n  // Read the actual heights of the rendered lines, and update their\n  // stored heights to match.\n  function updateHeightsInViewport(cm) {\n    var display = cm.display;\n    var prevBottom = display.lineDiv.offsetTop;\n    for (var i = 0; i < display.view.length; i++) {\n      var cur = display.view[i], wrapping = cm.options.lineWrapping;\n      var height = (void 0), width = 0;\n      if (cur.hidden) { continue }\n      if (ie && ie_version < 8) {\n        var bot = cur.node.offsetTop + cur.node.offsetHeight;\n        height = bot - prevBottom;\n        prevBottom = bot;\n      } else {\n        var box = cur.node.getBoundingClientRect();\n        height = box.bottom - box.top;\n        // Check that lines don't extend past the right of the current\n        // editor width\n        if (!wrapping && cur.text.firstChild)\n          { width = cur.text.firstChild.getBoundingClientRect().right - box.left - 1; }\n      }\n      var diff = cur.line.height - height;\n      if (diff > .005 || diff < -.005) {\n        updateLineHeight(cur.line, height);\n        updateWidgetHeight(cur.line);\n        if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)\n          { updateWidgetHeight(cur.rest[j]); } }\n      }\n      if (width > cm.display.sizerWidth) {\n        var chWidth = Math.ceil(width / charWidth(cm.display));\n        if (chWidth > cm.display.maxLineLength) {\n          cm.display.maxLineLength = chWidth;\n          cm.display.maxLine = cur.line;\n          cm.display.maxLineChanged = true;\n        }\n      }\n    }\n  }\n\n  // Read and store the height of line widgets associated with the\n  // given line.\n  function updateWidgetHeight(line) {\n    if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i) {\n      var w = line.widgets[i], parent = w.node.parentNode;\n      if (parent) { w.height = parent.offsetHeight; }\n    } }\n  }\n\n  // Compute the lines that are visible in a given viewport (defaults\n  // the the current scroll position). viewport may contain top,\n  // height, and ensure (see op.scrollToPos) properties.\n  function visibleLines(display, doc, viewport) {\n    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n    top = Math.floor(top - paddingTop(display));\n    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n\n    var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);\n    // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n    // forces those lines into the viewport (if possible).\n    if (viewport && viewport.ensure) {\n      var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;\n      if (ensureFrom < from) {\n        from = ensureFrom;\n        to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n        from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n        to = ensureTo;\n      }\n    }\n    return {from: from, to: Math.max(to, from + 1)}\n  }\n\n  // SCROLLING THINGS INTO VIEW\n\n  // If an editor sits on the top or bottom of the window, partially\n  // scrolled out of view, this ensures that the cursor is visible.\n  function maybeScrollWindow(cm, rect) {\n    if (signalDOMEvent(cm, \"scrollCursorIntoView\")) { return }\n\n    var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;\n    if (rect.top + box.top < 0) { doScroll = true; }\n    else if (rect.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) { doScroll = false; }\n    if (doScroll != null && !phantom) {\n      var scrollNode = elt(\"div\", \"\\u200b\", null, (\"position: absolute;\\n                         top: \" + (rect.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + (rect.left) + \"px; width: \" + (Math.max(2, rect.right - rect.left)) + \"px;\"));\n      cm.display.lineSpace.appendChild(scrollNode);\n      scrollNode.scrollIntoView(doScroll);\n      cm.display.lineSpace.removeChild(scrollNode);\n    }\n  }\n\n  // Scroll a given position into view (immediately), verifying that\n  // it actually became visible (as line heights are accurately\n  // measured, the position of something may 'drift' during drawing).\n  function scrollPosIntoView(cm, pos, end, margin) {\n    if (margin == null) { margin = 0; }\n    var rect;\n    if (!cm.options.lineWrapping && pos == end) {\n      // Set pos and end to the cursor positions around the character pos sticks to\n      // If pos.sticky == \"before\", that is around pos.ch - 1, otherwise around pos.ch\n      // If pos == Pos(_, 0, \"before\"), pos and end are unchanged\n      end = pos.sticky == \"before\" ? Pos(pos.line, pos.ch + 1, \"before\") : pos;\n      pos = pos.ch ? Pos(pos.line, pos.sticky == \"before\" ? pos.ch - 1 : pos.ch, \"after\") : pos;\n    }\n    for (var limit = 0; limit < 5; limit++) {\n      var changed = false;\n      var coords = cursorCoords(cm, pos);\n      var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);\n      rect = {left: Math.min(coords.left, endCoords.left),\n              top: Math.min(coords.top, endCoords.top) - margin,\n              right: Math.max(coords.left, endCoords.left),\n              bottom: Math.max(coords.bottom, endCoords.bottom) + margin};\n      var scrollPos = calculateScrollPos(cm, rect);\n      var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;\n      if (scrollPos.scrollTop != null) {\n        updateScrollTop(cm, scrollPos.scrollTop);\n        if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true; }\n      }\n      if (scrollPos.scrollLeft != null) {\n        setScrollLeft(cm, scrollPos.scrollLeft);\n        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true; }\n      }\n      if (!changed) { break }\n    }\n    return rect\n  }\n\n  // Scroll a given set of coordinates into view (immediately).\n  function scrollIntoView(cm, rect) {\n    var scrollPos = calculateScrollPos(cm, rect);\n    if (scrollPos.scrollTop != null) { updateScrollTop(cm, scrollPos.scrollTop); }\n    if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft); }\n  }\n\n  // Calculate a new scroll position needed to scroll the given\n  // rectangle into view. Returns an object with scrollTop and\n  // scrollLeft properties. When these are undefined, the\n  // vertical/horizontal position does not need to be adjusted.\n  function calculateScrollPos(cm, rect) {\n    var display = cm.display, snapMargin = textHeight(cm.display);\n    if (rect.top < 0) { rect.top = 0; }\n    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n    var screen = displayHeight(cm), result = {};\n    if (rect.bottom - rect.top > screen) { rect.bottom = rect.top + screen; }\n    var docBottom = cm.doc.height + paddingVert(display);\n    var atTop = rect.top < snapMargin, atBottom = rect.bottom > docBottom - snapMargin;\n    if (rect.top < screentop) {\n      result.scrollTop = atTop ? 0 : rect.top;\n    } else if (rect.bottom > screentop + screen) {\n      var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen);\n      if (newTop != screentop) { result.scrollTop = newTop; }\n    }\n\n    var gutterSpace = cm.options.fixedGutter ? 0 : display.gutters.offsetWidth;\n    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft - gutterSpace;\n    var screenw = displayWidth(cm) - display.gutters.offsetWidth;\n    var tooWide = rect.right - rect.left > screenw;\n    if (tooWide) { rect.right = rect.left + screenw; }\n    if (rect.left < 10)\n      { result.scrollLeft = 0; }\n    else if (rect.left < screenleft)\n      { result.scrollLeft = Math.max(0, rect.left + gutterSpace - (tooWide ? 0 : 10)); }\n    else if (rect.right > screenw + screenleft - 3)\n      { result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw; }\n    return result\n  }\n\n  // Store a relative adjustment to the scroll position in the current\n  // operation (to be applied when the operation finishes).\n  function addToScrollTop(cm, top) {\n    if (top == null) { return }\n    resolveScrollToPos(cm);\n    cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n  }\n\n  // Make sure that at the end of the operation the current cursor is\n  // shown.\n  function ensureCursorVisible(cm) {\n    resolveScrollToPos(cm);\n    var cur = cm.getCursor();\n    cm.curOp.scrollToPos = {from: cur, to: cur, margin: cm.options.cursorScrollMargin};\n  }\n\n  function scrollToCoords(cm, x, y) {\n    if (x != null || y != null) { resolveScrollToPos(cm); }\n    if (x != null) { cm.curOp.scrollLeft = x; }\n    if (y != null) { cm.curOp.scrollTop = y; }\n  }\n\n  function scrollToRange(cm, range) {\n    resolveScrollToPos(cm);\n    cm.curOp.scrollToPos = range;\n  }\n\n  // When an operation has its scrollToPos property set, and another\n  // scroll action is applied before the end of the operation, this\n  // 'simulates' scrolling that position into view in a cheap way, so\n  // that the effect of intermediate scroll commands is not ignored.\n  function resolveScrollToPos(cm) {\n    var range = cm.curOp.scrollToPos;\n    if (range) {\n      cm.curOp.scrollToPos = null;\n      var from = estimateCoords(cm, range.from), to = estimateCoords(cm, range.to);\n      scrollToCoordsRange(cm, from, to, range.margin);\n    }\n  }\n\n  function scrollToCoordsRange(cm, from, to, margin) {\n    var sPos = calculateScrollPos(cm, {\n      left: Math.min(from.left, to.left),\n      top: Math.min(from.top, to.top) - margin,\n      right: Math.max(from.right, to.right),\n      bottom: Math.max(from.bottom, to.bottom) + margin\n    });\n    scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);\n  }\n\n  // Sync the scrollable area and scrollbars, ensure the viewport\n  // covers the visible area.\n  function updateScrollTop(cm, val) {\n    if (Math.abs(cm.doc.scrollTop - val) < 2) { return }\n    if (!gecko) { updateDisplaySimple(cm, {top: val}); }\n    setScrollTop(cm, val, true);\n    if (gecko) { updateDisplaySimple(cm); }\n    startWorker(cm, 100);\n  }\n\n  function setScrollTop(cm, val, forceScroll) {\n    val = Math.max(0, Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val));\n    if (cm.display.scroller.scrollTop == val && !forceScroll) { return }\n    cm.doc.scrollTop = val;\n    cm.display.scrollbars.setScrollTop(val);\n    if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val; }\n  }\n\n  // Sync scroller and scrollbar, ensure the gutter elements are\n  // aligned.\n  function setScrollLeft(cm, val, isScroller, forceScroll) {\n    val = Math.max(0, Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth));\n    if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) { return }\n    cm.doc.scrollLeft = val;\n    alignHorizontally(cm);\n    if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val; }\n    cm.display.scrollbars.setScrollLeft(val);\n  }\n\n  // SCROLLBARS\n\n  // Prepare DOM reads needed to update the scrollbars. Done in one\n  // shot to minimize update/measure roundtrips.\n  function measureForScrollbars(cm) {\n    var d = cm.display, gutterW = d.gutters.offsetWidth;\n    var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n    return {\n      clientHeight: d.scroller.clientHeight,\n      viewHeight: d.wrapper.clientHeight,\n      scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\n      viewWidth: d.wrapper.clientWidth,\n      barLeft: cm.options.fixedGutter ? gutterW : 0,\n      docHeight: docH,\n      scrollHeight: docH + scrollGap(cm) + d.barHeight,\n      nativeBarWidth: d.nativeBarWidth,\n      gutterWidth: gutterW\n    }\n  }\n\n  var NativeScrollbars = function(place, scroll, cm) {\n    this.cm = cm;\n    var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n    var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n    vert.tabIndex = horiz.tabIndex = -1;\n    place(vert); place(horiz);\n\n    on(vert, \"scroll\", function () {\n      if (vert.clientHeight) { scroll(vert.scrollTop, \"vertical\"); }\n    });\n    on(horiz, \"scroll\", function () {\n      if (horiz.clientWidth) { scroll(horiz.scrollLeft, \"horizontal\"); }\n    });\n\n    this.checkedZeroWidth = false;\n    // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n    if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\"; }\n  };\n\n  NativeScrollbars.prototype.update = function (measure) {\n    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n    var sWidth = measure.nativeBarWidth;\n\n    if (needsV) {\n      this.vert.style.display = \"block\";\n      this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n      var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);\n      // A bug in IE8 can cause this value to be negative, so guard it.\n      this.vert.firstChild.style.height =\n        Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n    } else {\n      this.vert.style.display = \"\";\n      this.vert.firstChild.style.height = \"0\";\n    }\n\n    if (needsH) {\n      this.horiz.style.display = \"block\";\n      this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n      this.horiz.style.left = measure.barLeft + \"px\";\n      var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n      this.horiz.firstChild.style.width =\n        Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n    } else {\n      this.horiz.style.display = \"\";\n      this.horiz.firstChild.style.width = \"0\";\n    }\n\n    if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n      if (sWidth == 0) { this.zeroWidthHack(); }\n      this.checkedZeroWidth = true;\n    }\n\n    return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}\n  };\n\n  NativeScrollbars.prototype.setScrollLeft = function (pos) {\n    if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos; }\n    if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\"); }\n  };\n\n  NativeScrollbars.prototype.setScrollTop = function (pos) {\n    if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos; }\n    if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\"); }\n  };\n\n  NativeScrollbars.prototype.zeroWidthHack = function () {\n    var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n    this.horiz.style.height = this.vert.style.width = w;\n    this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\";\n    this.disableHoriz = new Delayed;\n    this.disableVert = new Delayed;\n  };\n\n  NativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {\n    bar.style.pointerEvents = \"auto\";\n    function maybeDisable() {\n      // To find out whether the scrollbar is still visible, we\n      // check whether the element under the pixel in the bottom\n      // right corner of the scrollbar box is the scrollbar box\n      // itself (when the bar is still visible) or its filler child\n      // (when the bar is hidden). If it is still visible, we keep\n      // it enabled, if it's hidden, we disable pointer events.\n      var box = bar.getBoundingClientRect();\n      var elt = type == \"vert\" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) / 2)\n          : document.elementFromPoint((box.right + box.left) / 2, box.bottom - 1);\n      if (elt != bar) { bar.style.pointerEvents = \"none\"; }\n      else { delay.set(1000, maybeDisable); }\n    }\n    delay.set(1000, maybeDisable);\n  };\n\n  NativeScrollbars.prototype.clear = function () {\n    var parent = this.horiz.parentNode;\n    parent.removeChild(this.horiz);\n    parent.removeChild(this.vert);\n  };\n\n  var NullScrollbars = function () {};\n\n  NullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };\n  NullScrollbars.prototype.setScrollLeft = function () {};\n  NullScrollbars.prototype.setScrollTop = function () {};\n  NullScrollbars.prototype.clear = function () {};\n\n  function updateScrollbars(cm, measure) {\n    if (!measure) { measure = measureForScrollbars(cm); }\n    var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;\n    updateScrollbarsInner(cm, measure);\n    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n      if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\n        { updateHeightsInViewport(cm); }\n      updateScrollbarsInner(cm, measureForScrollbars(cm));\n      startWidth = cm.display.barWidth; startHeight = cm.display.barHeight;\n    }\n  }\n\n  // Re-synchronize the fake scrollbars with the actual size of the\n  // content.\n  function updateScrollbarsInner(cm, measure) {\n    var d = cm.display;\n    var sizes = d.scrollbars.update(measure);\n\n    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n    d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\";\n\n    if (sizes.right && sizes.bottom) {\n      d.scrollbarFiller.style.display = \"block\";\n      d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n      d.scrollbarFiller.style.width = sizes.right + \"px\";\n    } else { d.scrollbarFiller.style.display = \"\"; }\n    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n      d.gutterFiller.style.display = \"block\";\n      d.gutterFiller.style.height = sizes.bottom + \"px\";\n      d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n    } else { d.gutterFiller.style.display = \"\"; }\n  }\n\n  var scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars};\n\n  function initScrollbars(cm) {\n    if (cm.display.scrollbars) {\n      cm.display.scrollbars.clear();\n      if (cm.display.scrollbars.addClass)\n        { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n    }\n\n    cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);\n      // Prevent clicks in the scrollbars from killing focus\n      on(node, \"mousedown\", function () {\n        if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0); }\n      });\n      node.setAttribute(\"cm-not-content\", \"true\");\n    }, function (pos, axis) {\n      if (axis == \"horizontal\") { setScrollLeft(cm, pos); }\n      else { updateScrollTop(cm, pos); }\n    }, cm);\n    if (cm.display.scrollbars.addClass)\n      { addClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n  }\n\n  // Operations are used to wrap a series of changes to the editor\n  // state in such a way that each change won't have to update the\n  // cursor and display (which would be awkward, slow, and\n  // error-prone). Instead, display updates are batched and then all\n  // combined and executed at once.\n\n  var nextOpId = 0;\n  // Start a new operation.\n  function startOperation(cm) {\n    cm.curOp = {\n      cm: cm,\n      viewChanged: false,      // Flag that indicates that lines might need to be redrawn\n      startHeight: cm.doc.height, // Used to detect need to update scrollbar\n      forceUpdate: false,      // Used to force a redraw\n      updateInput: 0,       // Whether to reset the input textarea\n      typing: false,           // Whether this reset should be careful to leave existing text (for compositing)\n      changeObjs: null,        // Accumulated changes, for firing change events\n      cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on\n      cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already\n      selectionChanged: false, // Whether the selection needs to be redrawn\n      updateMaxLine: false,    // Set when the widest line needs to be determined anew\n      scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet\n      scrollToPos: null,       // Used to scroll to a specific position\n      focus: false,\n      id: ++nextOpId,          // Unique ID\n      markArrays: null         // Used by addMarkedSpan\n    };\n    pushOperation(cm.curOp);\n  }\n\n  // Finish an operation, updating the display and signalling delayed events\n  function endOperation(cm) {\n    var op = cm.curOp;\n    if (op) { finishOperation(op, function (group) {\n      for (var i = 0; i < group.ops.length; i++)\n        { group.ops[i].cm.curOp = null; }\n      endOperations(group);\n    }); }\n  }\n\n  // The DOM updates done when an operation finishes are batched so\n  // that the minimum number of relayouts are required.\n  function endOperations(group) {\n    var ops = group.ops;\n    for (var i = 0; i < ops.length; i++) // Read DOM\n      { endOperation_R1(ops[i]); }\n    for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\n      { endOperation_W1(ops[i$1]); }\n    for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\n      { endOperation_R2(ops[i$2]); }\n    for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\n      { endOperation_W2(ops[i$3]); }\n    for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\n      { endOperation_finish(ops[i$4]); }\n  }\n\n  function endOperation_R1(op) {\n    var cm = op.cm, display = cm.display;\n    maybeClipScrollbars(cm);\n    if (op.updateMaxLine) { findMaxLine(cm); }\n\n    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\n      op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\n                         op.scrollToPos.to.line >= display.viewTo) ||\n      display.maxLineChanged && cm.options.lineWrapping;\n    op.update = op.mustUpdate &&\n      new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);\n  }\n\n  function endOperation_W1(op) {\n    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n  }\n\n  function endOperation_R2(op) {\n    var cm = op.cm, display = cm.display;\n    if (op.updatedDisplay) { updateHeightsInViewport(cm); }\n\n    op.barMeasure = measureForScrollbars(cm);\n\n    // If the max line changed since it was last measured, measure it,\n    // and ensure the document's width matches it.\n    // updateDisplay_W2 will use these properties to do the actual resizing\n    if (display.maxLineChanged && !cm.options.lineWrapping) {\n      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n      cm.display.sizerWidth = op.adjustWidthTo;\n      op.barMeasure.scrollWidth =\n        Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n    }\n\n    if (op.updatedDisplay || op.selectionChanged)\n      { op.preparedSelection = display.input.prepareSelection(); }\n  }\n\n  function endOperation_W2(op) {\n    var cm = op.cm;\n\n    if (op.adjustWidthTo != null) {\n      cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n      if (op.maxScrollLeft < cm.doc.scrollLeft)\n        { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true); }\n      cm.display.maxLineChanged = false;\n    }\n\n    var takeFocus = op.focus && op.focus == activeElt();\n    if (op.preparedSelection)\n      { cm.display.input.showSelection(op.preparedSelection, takeFocus); }\n    if (op.updatedDisplay || op.startHeight != cm.doc.height)\n      { updateScrollbars(cm, op.barMeasure); }\n    if (op.updatedDisplay)\n      { setDocumentHeight(cm, op.barMeasure); }\n\n    if (op.selectionChanged) { restartBlink(cm); }\n\n    if (cm.state.focused && op.updateInput)\n      { cm.display.input.reset(op.typing); }\n    if (takeFocus) { ensureFocus(op.cm); }\n  }\n\n  function endOperation_finish(op) {\n    var cm = op.cm, display = cm.display, doc = cm.doc;\n\n    if (op.updatedDisplay) { postUpdateDisplay(cm, op.update); }\n\n    // Abort mouse wheel delta measurement, when scrolling explicitly\n    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\n      { display.wheelStartX = display.wheelStartY = null; }\n\n    // Propagate the scroll position to the actual DOM scroller\n    if (op.scrollTop != null) { setScrollTop(cm, op.scrollTop, op.forceScroll); }\n\n    if (op.scrollLeft != null) { setScrollLeft(cm, op.scrollLeft, true, true); }\n    // If we need to scroll a specific position into view, do so.\n    if (op.scrollToPos) {\n      var rect = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\n                                   clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n      maybeScrollWindow(cm, rect);\n    }\n\n    // Fire events for markers that are hidden/unidden by editing or\n    // undoing\n    var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;\n    if (hidden) { for (var i = 0; i < hidden.length; ++i)\n      { if (!hidden[i].lines.length) { signal(hidden[i], \"hide\"); } } }\n    if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)\n      { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], \"unhide\"); } } }\n\n    if (display.wrapper.offsetHeight)\n      { doc.scrollTop = cm.display.scroller.scrollTop; }\n\n    // Fire change events, and delayed event handlers\n    if (op.changeObjs)\n      { signal(cm, \"changes\", cm, op.changeObjs); }\n    if (op.update)\n      { op.update.finish(); }\n  }\n\n  // Run the given function in an operation\n  function runInOp(cm, f) {\n    if (cm.curOp) { return f() }\n    startOperation(cm);\n    try { return f() }\n    finally { endOperation(cm); }\n  }\n  // Wraps a function in an operation. Returns the wrapped function.\n  function operation(cm, f) {\n    return function() {\n      if (cm.curOp) { return f.apply(cm, arguments) }\n      startOperation(cm);\n      try { return f.apply(cm, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n  // Used to add methods to editor and doc instances, wrapping them in\n  // operations.\n  function methodOp(f) {\n    return function() {\n      if (this.curOp) { return f.apply(this, arguments) }\n      startOperation(this);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(this); }\n    }\n  }\n  function docMethodOp(f) {\n    return function() {\n      var cm = this.cm;\n      if (!cm || cm.curOp) { return f.apply(this, arguments) }\n      startOperation(cm);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n\n  // HIGHLIGHT WORKER\n\n  function startWorker(cm, time) {\n    if (cm.doc.highlightFrontier < cm.display.viewTo)\n      { cm.state.highlight.set(time, bind(highlightWorker, cm)); }\n  }\n\n  function highlightWorker(cm) {\n    var doc = cm.doc;\n    if (doc.highlightFrontier >= cm.display.viewTo) { return }\n    var end = +new Date + cm.options.workTime;\n    var context = getContextBefore(cm, doc.highlightFrontier);\n    var changedLines = [];\n\n    doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n      if (context.line >= cm.display.viewFrom) { // Visible\n        var oldStyles = line.styles;\n        var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null;\n        var highlighted = highlightLine(cm, line, context, true);\n        if (resetState) { context.state = resetState; }\n        line.styles = highlighted.styles;\n        var oldCls = line.styleClasses, newCls = highlighted.classes;\n        if (newCls) { line.styleClasses = newCls; }\n        else if (oldCls) { line.styleClasses = null; }\n        var ischange = !oldStyles || oldStyles.length != line.styles.length ||\n          oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n        for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i]; }\n        if (ischange) { changedLines.push(context.line); }\n        line.stateAfter = context.save();\n        context.nextLine();\n      } else {\n        if (line.text.length <= cm.options.maxHighlightLength)\n          { processLine(cm, line.text, context); }\n        line.stateAfter = context.line % 5 == 0 ? context.save() : null;\n        context.nextLine();\n      }\n      if (+new Date > end) {\n        startWorker(cm, cm.options.workDelay);\n        return true\n      }\n    });\n    doc.highlightFrontier = context.line;\n    doc.modeFrontier = Math.max(doc.modeFrontier, context.line);\n    if (changedLines.length) { runInOp(cm, function () {\n      for (var i = 0; i < changedLines.length; i++)\n        { regLineChange(cm, changedLines[i], \"text\"); }\n    }); }\n  }\n\n  // DISPLAY DRAWING\n\n  var DisplayUpdate = function(cm, viewport, force) {\n    var display = cm.display;\n\n    this.viewport = viewport;\n    // Store some values that we'll need later (but don't want to force a relayout for)\n    this.visible = visibleLines(display, cm.doc, viewport);\n    this.editorIsHidden = !display.wrapper.offsetWidth;\n    this.wrapperHeight = display.wrapper.clientHeight;\n    this.wrapperWidth = display.wrapper.clientWidth;\n    this.oldDisplayWidth = displayWidth(cm);\n    this.force = force;\n    this.dims = getDimensions(cm);\n    this.events = [];\n  };\n\n  DisplayUpdate.prototype.signal = function (emitter, type) {\n    if (hasHandler(emitter, type))\n      { this.events.push(arguments); }\n  };\n  DisplayUpdate.prototype.finish = function () {\n    for (var i = 0; i < this.events.length; i++)\n      { signal.apply(null, this.events[i]); }\n  };\n\n  function maybeClipScrollbars(cm) {\n    var display = cm.display;\n    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n      display.heightForcer.style.height = scrollGap(cm) + \"px\";\n      display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n      display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n      display.scrollbarsClipped = true;\n    }\n  }\n\n  function selectionSnapshot(cm) {\n    if (cm.hasFocus()) { return null }\n    var active = activeElt();\n    if (!active || !contains(cm.display.lineDiv, active)) { return null }\n    var result = {activeElt: active};\n    if (window.getSelection) {\n      var sel = window.getSelection();\n      if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {\n        result.anchorNode = sel.anchorNode;\n        result.anchorOffset = sel.anchorOffset;\n        result.focusNode = sel.focusNode;\n        result.focusOffset = sel.focusOffset;\n      }\n    }\n    return result\n  }\n\n  function restoreSelection(snapshot) {\n    if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt()) { return }\n    snapshot.activeElt.focus();\n    if (!/^(INPUT|TEXTAREA)$/.test(snapshot.activeElt.nodeName) &&\n        snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {\n      var sel = window.getSelection(), range = document.createRange();\n      range.setEnd(snapshot.anchorNode, snapshot.anchorOffset);\n      range.collapse(false);\n      sel.removeAllRanges();\n      sel.addRange(range);\n      sel.extend(snapshot.focusNode, snapshot.focusOffset);\n    }\n  }\n\n  // Does the actual updating of the line display. Bails out\n  // (returning false) when there is nothing to be done and forced is\n  // false.\n  function updateDisplayIfNeeded(cm, update) {\n    var display = cm.display, doc = cm.doc;\n\n    if (update.editorIsHidden) {\n      resetView(cm);\n      return false\n    }\n\n    // Bail out if the visible area is already rendered and nothing changed.\n    if (!update.force &&\n        update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\n        display.renderedView == display.view && countDirtyView(cm) == 0)\n      { return false }\n\n    if (maybeUpdateLineNumberWidth(cm)) {\n      resetView(cm);\n      update.dims = getDimensions(cm);\n    }\n\n    // Compute a suitable new viewport (from & to)\n    var end = doc.first + doc.size;\n    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n    if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom); }\n    if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo); }\n    if (sawCollapsedSpans) {\n      from = visualLineNo(cm.doc, from);\n      to = visualLineEndNo(cm.doc, to);\n    }\n\n    var different = from != display.viewFrom || to != display.viewTo ||\n      display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n    adjustView(cm, from, to);\n\n    display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));\n    // Position the mover div to align with the current scroll position\n    cm.display.mover.style.top = display.viewOffset + \"px\";\n\n    var toUpdate = countDirtyView(cm);\n    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\n      { return false }\n\n    // For big changes, we hide the enclosing element during the\n    // update, since that speeds up the operations on most browsers.\n    var selSnapshot = selectionSnapshot(cm);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"none\"; }\n    patchDisplay(cm, display.updateLineNumbers, update.dims);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"\"; }\n    display.renderedView = display.view;\n    // There might have been a widget with a focused element that got\n    // hidden or updated, if so re-focus it.\n    restoreSelection(selSnapshot);\n\n    // Prevent selection and cursors from interfering with the scroll\n    // width and height.\n    removeChildren(display.cursorDiv);\n    removeChildren(display.selectionDiv);\n    display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n    if (different) {\n      display.lastWrapHeight = update.wrapperHeight;\n      display.lastWrapWidth = update.wrapperWidth;\n      startWorker(cm, 400);\n    }\n\n    display.updateLineNumbers = null;\n\n    return true\n  }\n\n  function postUpdateDisplay(cm, update) {\n    var viewport = update.viewport;\n\n    for (var first = true;; first = false) {\n      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n        // Clip forced viewport to actual scrollable area.\n        if (viewport && viewport.top != null)\n          { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)}; }\n        // Updated line heights might result in the drawn area not\n        // actually covering the viewport. Keep looping until it does.\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\n          { break }\n      } else if (first) {\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n      }\n      if (!updateDisplayIfNeeded(cm, update)) { break }\n      updateHeightsInViewport(cm);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.force = false;\n    }\n\n    update.signal(cm, \"update\", cm);\n    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n      update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n      cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo;\n    }\n  }\n\n  function updateDisplaySimple(cm, viewport) {\n    var update = new DisplayUpdate(cm, viewport);\n    if (updateDisplayIfNeeded(cm, update)) {\n      updateHeightsInViewport(cm);\n      postUpdateDisplay(cm, update);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.finish();\n    }\n  }\n\n  // Sync the actual display DOM structure with display.view, removing\n  // nodes for lines that are no longer in view, and creating the ones\n  // that are not there yet, and updating the ones that are out of\n  // date.\n  function patchDisplay(cm, updateNumbersFrom, dims) {\n    var display = cm.display, lineNumbers = cm.options.lineNumbers;\n    var container = display.lineDiv, cur = container.firstChild;\n\n    function rm(node) {\n      var next = node.nextSibling;\n      // Works around a throw-scroll bug in OS X Webkit\n      if (webkit && mac && cm.display.currentWheelTarget == node)\n        { node.style.display = \"none\"; }\n      else\n        { node.parentNode.removeChild(node); }\n      return next\n    }\n\n    var view = display.view, lineN = display.viewFrom;\n    // Loop over the elements in the view, syncing cur (the DOM nodes\n    // in display.lineDiv) with the view as we go.\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (lineView.hidden) ; else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet\n        var node = buildLineElement(cm, lineView, lineN, dims);\n        container.insertBefore(node, cur);\n      } else { // Already drawn\n        while (cur != lineView.node) { cur = rm(cur); }\n        var updateNumber = lineNumbers && updateNumbersFrom != null &&\n          updateNumbersFrom <= lineN && lineView.lineNumber;\n        if (lineView.changes) {\n          if (indexOf(lineView.changes, \"gutter\") > -1) { updateNumber = false; }\n          updateLineForChanges(cm, lineView, lineN, dims);\n        }\n        if (updateNumber) {\n          removeChildren(lineView.lineNumber);\n          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n        }\n        cur = lineView.node.nextSibling;\n      }\n      lineN += lineView.size;\n    }\n    while (cur) { cur = rm(cur); }\n  }\n\n  function updateGutterSpace(display) {\n    var width = display.gutters.offsetWidth;\n    display.sizer.style.marginLeft = width + \"px\";\n    // Send an event to consumers responding to changes in gutter width.\n    signalLater(display, \"gutterChanged\", display);\n  }\n\n  function setDocumentHeight(cm, measure) {\n    cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n    cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n    cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\";\n  }\n\n  // Re-align line numbers and gutter marks to compensate for\n  // horizontal scrolling.\n  function alignHorizontally(cm) {\n    var display = cm.display, view = display.view;\n    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }\n    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n    var gutterW = display.gutters.offsetWidth, left = comp + \"px\";\n    for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {\n      if (cm.options.fixedGutter) {\n        if (view[i].gutter)\n          { view[i].gutter.style.left = left; }\n        if (view[i].gutterBackground)\n          { view[i].gutterBackground.style.left = left; }\n      }\n      var align = view[i].alignable;\n      if (align) { for (var j = 0; j < align.length; j++)\n        { align[j].style.left = left; } }\n    } }\n    if (cm.options.fixedGutter)\n      { display.gutters.style.left = (comp + gutterW) + \"px\"; }\n  }\n\n  // Used to ensure that the line number gutter is still the right\n  // size for the current document size. Returns true when an update\n  // is needed.\n  function maybeUpdateLineNumberWidth(cm) {\n    if (!cm.options.lineNumbers) { return false }\n    var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;\n    if (last.length != display.lineNumChars) {\n      var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\n                                                 \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n      var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;\n      display.lineGutter.style.width = \"\";\n      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n      display.lineNumWidth = display.lineNumInnerWidth + padding;\n      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n      display.lineGutter.style.width = display.lineNumWidth + \"px\";\n      updateGutterSpace(cm.display);\n      return true\n    }\n    return false\n  }\n\n  function getGutters(gutters, lineNumbers) {\n    var result = [], sawLineNumbers = false;\n    for (var i = 0; i < gutters.length; i++) {\n      var name = gutters[i], style = null;\n      if (typeof name != \"string\") { style = name.style; name = name.className; }\n      if (name == \"CodeMirror-linenumbers\") {\n        if (!lineNumbers) { continue }\n        else { sawLineNumbers = true; }\n      }\n      result.push({className: name, style: style});\n    }\n    if (lineNumbers && !sawLineNumbers) { result.push({className: \"CodeMirror-linenumbers\", style: null}); }\n    return result\n  }\n\n  // Rebuild the gutter elements, ensure the margin to the left of the\n  // code matches their width.\n  function renderGutters(display) {\n    var gutters = display.gutters, specs = display.gutterSpecs;\n    removeChildren(gutters);\n    display.lineGutter = null;\n    for (var i = 0; i < specs.length; ++i) {\n      var ref = specs[i];\n      var className = ref.className;\n      var style = ref.style;\n      var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + className));\n      if (style) { gElt.style.cssText = style; }\n      if (className == \"CodeMirror-linenumbers\") {\n        display.lineGutter = gElt;\n        gElt.style.width = (display.lineNumWidth || 1) + \"px\";\n      }\n    }\n    gutters.style.display = specs.length ? \"\" : \"none\";\n    updateGutterSpace(display);\n  }\n\n  function updateGutters(cm) {\n    renderGutters(cm.display);\n    regChange(cm);\n    alignHorizontally(cm);\n  }\n\n  // The display handles the DOM integration, both for input reading\n  // and content drawing. It holds references to DOM nodes and\n  // display-related state.\n\n  function Display(place, doc, input, options) {\n    var d = this;\n    this.input = input;\n\n    // Covers bottom-right square when both scrollbars are present.\n    d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n    d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Covers bottom of gutter when coverGutterNextToScrollbar is on\n    // and h scrollbar is present.\n    d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n    d.gutterFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Will contain the actual code, positioned to cover the viewport.\n    d.lineDiv = eltP(\"div\", null, \"CodeMirror-code\");\n    // Elements are added to these to represent selection and cursors.\n    d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n    d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\");\n    // A visibility: hidden element used to find the size of things.\n    d.measure = elt(\"div\", null, \"CodeMirror-measure\");\n    // When lines outside of the viewport are measured, they are drawn in this.\n    d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\");\n    // Wraps everything that needs to exist inside the vertically-padded coordinate system\n    d.lineSpace = eltP(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\n                      null, \"position: relative; outline: none\");\n    var lines = eltP(\"div\", [d.lineSpace], \"CodeMirror-lines\");\n    // Moved around its parent to cover visible view.\n    d.mover = elt(\"div\", [lines], null, \"position: relative\");\n    // Set to the height of the document, allowing scrolling.\n    d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n    d.sizerWidth = null;\n    // Behavior of elts with overflow: auto and padding is\n    // inconsistent across browsers. This is used to ensure the\n    // scrollable area is big enough.\n    d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\");\n    // Will contain the gutters, if any.\n    d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n    d.lineGutter = null;\n    // Actual scrollable element.\n    d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n    d.scroller.setAttribute(\"tabIndex\", \"-1\");\n    // The element in which the editor lives.\n    d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\");\n\n    // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n    if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }\n    if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true; }\n\n    if (place) {\n      if (place.appendChild) { place.appendChild(d.wrapper); }\n      else { place(d.wrapper); }\n    }\n\n    // Current rendered range (may be bigger than the view window).\n    d.viewFrom = d.viewTo = doc.first;\n    d.reportedViewFrom = d.reportedViewTo = doc.first;\n    // Information about the rendered lines.\n    d.view = [];\n    d.renderedView = null;\n    // Holds info about a single rendered line when it was rendered\n    // for measurement, while not in view.\n    d.externalMeasured = null;\n    // Empty space (in pixels) above the view\n    d.viewOffset = 0;\n    d.lastWrapHeight = d.lastWrapWidth = 0;\n    d.updateLineNumbers = null;\n\n    d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n    d.scrollbarsClipped = false;\n\n    // Used to only resize the line number gutter when necessary (when\n    // the amount of lines crosses a boundary that makes its width change)\n    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;\n    // Set to true when a non-horizontal-scrolling line widget is\n    // added. As an optimization, line widget aligning is skipped when\n    // this is false.\n    d.alignWidgets = false;\n\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n\n    // Tracks the maximum line length so that the horizontal scrollbar\n    // can be kept static when scrolling.\n    d.maxLine = null;\n    d.maxLineLength = 0;\n    d.maxLineChanged = false;\n\n    // Used for measuring wheel scrolling granularity\n    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;\n\n    // True when shift is held down.\n    d.shift = false;\n\n    // Used to track whether anything happened since the context menu\n    // was opened.\n    d.selForContextMenu = null;\n\n    d.activeTouch = null;\n\n    d.gutterSpecs = getGutters(options.gutters, options.lineNumbers);\n    renderGutters(d);\n\n    input.init(d);\n  }\n\n  // Since the delta values reported on mouse wheel events are\n  // unstandardized between browsers and even browser versions, and\n  // generally horribly unpredictable, this code starts by measuring\n  // the scroll effect that the first few mouse wheel events have,\n  // and, from that, detects the way it can convert deltas to pixel\n  // offsets afterwards.\n  //\n  // The reason we want to know the amount a wheel event will scroll\n  // is that it gives us a chance to update the display before the\n  // actual scrolling happens, reducing flickering.\n\n  var wheelSamples = 0, wheelPixelsPerUnit = null;\n  // Fill in a browser-detected starting value on browsers where we\n  // know one. These don't have to be accurate -- the result of them\n  // being wrong would just be a slight flicker on the first wheel\n  // scroll (if it is large enough).\n  if (ie) { wheelPixelsPerUnit = -.53; }\n  else if (gecko) { wheelPixelsPerUnit = 15; }\n  else if (chrome) { wheelPixelsPerUnit = -.7; }\n  else if (safari) { wheelPixelsPerUnit = -1/3; }\n\n  function wheelEventDelta(e) {\n    var dx = e.wheelDeltaX, dy = e.wheelDeltaY;\n    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail; }\n    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail; }\n    else if (dy == null) { dy = e.wheelDelta; }\n    return {x: dx, y: dy}\n  }\n  function wheelEventPixels(e) {\n    var delta = wheelEventDelta(e);\n    delta.x *= wheelPixelsPerUnit;\n    delta.y *= wheelPixelsPerUnit;\n    return delta\n  }\n\n  function onScrollWheel(cm, e) {\n    var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;\n\n    var display = cm.display, scroll = display.scroller;\n    // Quit if there's nothing to scroll here\n    var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n    var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n    if (!(dx && canScrollX || dy && canScrollY)) { return }\n\n    // Webkit browsers on OS X abort momentum scrolls when the target\n    // of the scroll event is removed from the scrollable element.\n    // This hack (see related code in patchDisplay) makes sure the\n    // element is kept around.\n    if (dy && mac && webkit) {\n      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n        for (var i = 0; i < view.length; i++) {\n          if (view[i].node == cur) {\n            cm.display.currentWheelTarget = cur;\n            break outer\n          }\n        }\n      }\n    }\n\n    // On some browsers, horizontal scrolling will cause redraws to\n    // happen before the gutter has been realigned, causing it to\n    // wriggle around in a most unseemly way. When we have an\n    // estimated pixels/delta value, we just handle horizontal\n    // scrolling entirely here. It'll be slightly off from native, but\n    // better than glitching out.\n    if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\n      if (dy && canScrollY)\n        { updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * wheelPixelsPerUnit)); }\n      setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * wheelPixelsPerUnit));\n      // Only prevent default scrolling if vertical scrolling is\n      // actually possible. Otherwise, it causes vertical scroll\n      // jitter on OSX trackpads when deltaX is small and deltaY\n      // is large (issue #3579)\n      if (!dy || (dy && canScrollY))\n        { e_preventDefault(e); }\n      display.wheelStartX = null; // Abort measurement, if in progress\n      return\n    }\n\n    // 'Project' the visible viewport to cover the area that is being\n    // scrolled into view (if we know enough to estimate it).\n    if (dy && wheelPixelsPerUnit != null) {\n      var pixels = dy * wheelPixelsPerUnit;\n      var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;\n      if (pixels < 0) { top = Math.max(0, top + pixels - 50); }\n      else { bot = Math.min(cm.doc.height, bot + pixels + 50); }\n      updateDisplaySimple(cm, {top: top, bottom: bot});\n    }\n\n    if (wheelSamples < 20) {\n      if (display.wheelStartX == null) {\n        display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;\n        display.wheelDX = dx; display.wheelDY = dy;\n        setTimeout(function () {\n          if (display.wheelStartX == null) { return }\n          var movedX = scroll.scrollLeft - display.wheelStartX;\n          var movedY = scroll.scrollTop - display.wheelStartY;\n          var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\n            (movedX && display.wheelDX && movedX / display.wheelDX);\n          display.wheelStartX = display.wheelStartY = null;\n          if (!sample) { return }\n          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);\n          ++wheelSamples;\n        }, 200);\n      } else {\n        display.wheelDX += dx; display.wheelDY += dy;\n      }\n    }\n  }\n\n  // Selection objects are immutable. A new one is created every time\n  // the selection changes. A selection is one or more non-overlapping\n  // (and non-touching) ranges, sorted, and an integer that indicates\n  // which one is the primary selection (the one that's scrolled into\n  // view, that getCursor returns, etc).\n  var Selection = function(ranges, primIndex) {\n    this.ranges = ranges;\n    this.primIndex = primIndex;\n  };\n\n  Selection.prototype.primary = function () { return this.ranges[this.primIndex] };\n\n  Selection.prototype.equals = function (other) {\n    if (other == this) { return true }\n    if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var here = this.ranges[i], there = other.ranges[i];\n      if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) { return false }\n    }\n    return true\n  };\n\n  Selection.prototype.deepCopy = function () {\n    var out = [];\n    for (var i = 0; i < this.ranges.length; i++)\n      { out[i] = new Range(copyPos(this.ranges[i].anchor), copyPos(this.ranges[i].head)); }\n    return new Selection(out, this.primIndex)\n  };\n\n  Selection.prototype.somethingSelected = function () {\n    for (var i = 0; i < this.ranges.length; i++)\n      { if (!this.ranges[i].empty()) { return true } }\n    return false\n  };\n\n  Selection.prototype.contains = function (pos, end) {\n    if (!end) { end = pos; }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var range = this.ranges[i];\n      if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\n        { return i }\n    }\n    return -1\n  };\n\n  var Range = function(anchor, head) {\n    this.anchor = anchor; this.head = head;\n  };\n\n  Range.prototype.from = function () { return minPos(this.anchor, this.head) };\n  Range.prototype.to = function () { return maxPos(this.anchor, this.head) };\n  Range.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch };\n\n  // Take an unsorted, potentially overlapping set of ranges, and\n  // build a selection out of it. 'Consumes' ranges array (modifying\n  // it).\n  function normalizeSelection(cm, ranges, primIndex) {\n    var mayTouch = cm && cm.options.selectionsMayTouch;\n    var prim = ranges[primIndex];\n    ranges.sort(function (a, b) { return cmp(a.from(), b.from()); });\n    primIndex = indexOf(ranges, prim);\n    for (var i = 1; i < ranges.length; i++) {\n      var cur = ranges[i], prev = ranges[i - 1];\n      var diff = cmp(prev.to(), cur.from());\n      if (mayTouch && !cur.empty() ? diff > 0 : diff >= 0) {\n        var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());\n        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n        if (i <= primIndex) { --primIndex; }\n        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n      }\n    }\n    return new Selection(ranges, primIndex)\n  }\n\n  function simpleSelection(anchor, head) {\n    return new Selection([new Range(anchor, head || anchor)], 0)\n  }\n\n  // Compute the position of the end of a change (its 'to' property\n  // refers to the pre-change end).\n  function changeEnd(change) {\n    if (!change.text) { return change.to }\n    return Pos(change.from.line + change.text.length - 1,\n               lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))\n  }\n\n  // Adjust a position to refer to the post-change position of the\n  // same text, or the end of the change if the change covers it.\n  function adjustForChange(pos, change) {\n    if (cmp(pos, change.from) < 0) { return pos }\n    if (cmp(pos, change.to) <= 0) { return changeEnd(change) }\n\n    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;\n    if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch; }\n    return Pos(line, ch)\n  }\n\n  function computeSelAfterChange(doc, change) {\n    var out = [];\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      var range = doc.sel.ranges[i];\n      out.push(new Range(adjustForChange(range.anchor, change),\n                         adjustForChange(range.head, change)));\n    }\n    return normalizeSelection(doc.cm, out, doc.sel.primIndex)\n  }\n\n  function offsetPos(pos, old, nw) {\n    if (pos.line == old.line)\n      { return Pos(nw.line, pos.ch - old.ch + nw.ch) }\n    else\n      { return Pos(nw.line + (pos.line - old.line), pos.ch) }\n  }\n\n  // Used by replaceSelections to allow moving the selection to the\n  // start or around the replaced test. Hint may be \"start\" or \"around\".\n  function computeReplacedSel(doc, changes, hint) {\n    var out = [];\n    var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;\n    for (var i = 0; i < changes.length; i++) {\n      var change = changes[i];\n      var from = offsetPos(change.from, oldPrev, newPrev);\n      var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n      oldPrev = change.to;\n      newPrev = to;\n      if (hint == \"around\") {\n        var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;\n        out[i] = new Range(inv ? to : from, inv ? from : to);\n      } else {\n        out[i] = new Range(from, from);\n      }\n    }\n    return new Selection(out, doc.sel.primIndex)\n  }\n\n  // Used to get the editor into a consistent state again when options change.\n\n  function loadMode(cm) {\n    cm.doc.mode = getMode(cm.options, cm.doc.modeOption);\n    resetModeState(cm);\n  }\n\n  function resetModeState(cm) {\n    cm.doc.iter(function (line) {\n      if (line.stateAfter) { line.stateAfter = null; }\n      if (line.styles) { line.styles = null; }\n    });\n    cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;\n    startWorker(cm, 100);\n    cm.state.modeGen++;\n    if (cm.curOp) { regChange(cm); }\n  }\n\n  // DOCUMENT DATA STRUCTURE\n\n  // By default, updates that start and end at the beginning of a line\n  // are treated specially, in order to make the association of line\n  // widgets and marker elements with the text behave more intuitive.\n  function isWholeLineUpdate(doc, change) {\n    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\n      (!doc.cm || doc.cm.options.wholeLineUpdateBefore)\n  }\n\n  // Perform a change on the document data structure.\n  function updateDoc(doc, change, markedSpans, estimateHeight) {\n    function spansFor(n) {return markedSpans ? markedSpans[n] : null}\n    function update(line, text, spans) {\n      updateLine(line, text, spans, estimateHeight);\n      signalLater(line, \"change\", line, change);\n    }\n    function linesFor(start, end) {\n      var result = [];\n      for (var i = start; i < end; ++i)\n        { result.push(new Line(text[i], spansFor(i), estimateHeight)); }\n      return result\n    }\n\n    var from = change.from, to = change.to, text = change.text;\n    var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);\n    var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;\n\n    // Adjust the line structure\n    if (change.full) {\n      doc.insert(0, linesFor(0, text.length));\n      doc.remove(text.length, doc.size - text.length);\n    } else if (isWholeLineUpdate(doc, change)) {\n      // This is a whole-line replace. Treated specially to make\n      // sure line objects move the way they are supposed to.\n      var added = linesFor(0, text.length - 1);\n      update(lastLine, lastLine.text, lastSpans);\n      if (nlines) { doc.remove(from.line, nlines); }\n      if (added.length) { doc.insert(from.line, added); }\n    } else if (firstLine == lastLine) {\n      if (text.length == 1) {\n        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n      } else {\n        var added$1 = linesFor(1, text.length - 1);\n        added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight));\n        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n        doc.insert(from.line + 1, added$1);\n      }\n    } else if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n      doc.remove(from.line + 1, nlines);\n    } else {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n      var added$2 = linesFor(1, text.length - 1);\n      if (nlines > 1) { doc.remove(from.line + 1, nlines - 1); }\n      doc.insert(from.line + 1, added$2);\n    }\n\n    signalLater(doc, \"change\", doc, change);\n  }\n\n  // Call f for all linked documents.\n  function linkedDocs(doc, f, sharedHistOnly) {\n    function propagate(doc, skip, sharedHist) {\n      if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {\n        var rel = doc.linked[i];\n        if (rel.doc == skip) { continue }\n        var shared = sharedHist && rel.sharedHist;\n        if (sharedHistOnly && !shared) { continue }\n        f(rel.doc, shared);\n        propagate(rel.doc, doc, shared);\n      } }\n    }\n    propagate(doc, null, true);\n  }\n\n  // Attach a document to an editor.\n  function attachDoc(cm, doc) {\n    if (doc.cm) { throw new Error(\"This document is already in use.\") }\n    cm.doc = doc;\n    doc.cm = cm;\n    estimateLineHeights(cm);\n    loadMode(cm);\n    setDirectionClass(cm);\n    cm.options.direction = doc.direction;\n    if (!cm.options.lineWrapping) { findMaxLine(cm); }\n    cm.options.mode = doc.modeOption;\n    regChange(cm);\n  }\n\n  function setDirectionClass(cm) {\n  (cm.doc.direction == \"rtl\" ? addClass : rmClass)(cm.display.lineDiv, \"CodeMirror-rtl\");\n  }\n\n  function directionChanged(cm) {\n    runInOp(cm, function () {\n      setDirectionClass(cm);\n      regChange(cm);\n    });\n  }\n\n  function History(prev) {\n    // Arrays of change events and selections. Doing something adds an\n    // event to done and clears undo. Undoing moves events from done\n    // to undone, redoing moves them in the other direction.\n    this.done = []; this.undone = [];\n    this.undoDepth = prev ? prev.undoDepth : Infinity;\n    // Used to track when changes can be merged into a single undo\n    // event\n    this.lastModTime = this.lastSelTime = 0;\n    this.lastOp = this.lastSelOp = null;\n    this.lastOrigin = this.lastSelOrigin = null;\n    // Used by the isClean() method\n    this.generation = this.maxGeneration = prev ? prev.maxGeneration : 1;\n  }\n\n  // Create a history change event from an updateDoc-style change\n  // object.\n  function historyChangeFromChange(doc, change) {\n    var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};\n    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true);\n    return histChange\n  }\n\n  // Pop all selection events off the end of a history array. Stop at\n  // a change event.\n  function clearSelectionEvents(array) {\n    while (array.length) {\n      var last = lst(array);\n      if (last.ranges) { array.pop(); }\n      else { break }\n    }\n  }\n\n  // Find the top change event in the history. Pop off selection\n  // events that are in the way.\n  function lastChangeEvent(hist, force) {\n    if (force) {\n      clearSelectionEvents(hist.done);\n      return lst(hist.done)\n    } else if (hist.done.length && !lst(hist.done).ranges) {\n      return lst(hist.done)\n    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n      hist.done.pop();\n      return lst(hist.done)\n    }\n  }\n\n  // Register a change in the history. Merges changes that are within\n  // a single operation, or are close together with an origin that\n  // allows merging (starting with \"+\") into a single event.\n  function addChangeToHistory(doc, change, selAfter, opId) {\n    var hist = doc.history;\n    hist.undone.length = 0;\n    var time = +new Date, cur;\n    var last;\n\n    if ((hist.lastOp == opId ||\n         hist.lastOrigin == change.origin && change.origin &&\n         ((change.origin.charAt(0) == \"+\" && hist.lastModTime > time - (doc.cm ? doc.cm.options.historyEventDelay : 500)) ||\n          change.origin.charAt(0) == \"*\")) &&\n        (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n      // Merge this change into the last event\n      last = lst(cur.changes);\n      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n        // Optimized case for simple insertion -- don't want to add\n        // new changesets for every character typed\n        last.to = changeEnd(change);\n      } else {\n        // Add new sub-event\n        cur.changes.push(historyChangeFromChange(doc, change));\n      }\n    } else {\n      // Can not be merged, start a new event.\n      var before = lst(hist.done);\n      if (!before || !before.ranges)\n        { pushSelectionToHistory(doc.sel, hist.done); }\n      cur = {changes: [historyChangeFromChange(doc, change)],\n             generation: hist.generation};\n      hist.done.push(cur);\n      while (hist.done.length > hist.undoDepth) {\n        hist.done.shift();\n        if (!hist.done[0].ranges) { hist.done.shift(); }\n      }\n    }\n    hist.done.push(selAfter);\n    hist.generation = ++hist.maxGeneration;\n    hist.lastModTime = hist.lastSelTime = time;\n    hist.lastOp = hist.lastSelOp = opId;\n    hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n    if (!last) { signal(doc, \"historyAdded\"); }\n  }\n\n  function selectionEventCanBeMerged(doc, origin, prev, sel) {\n    var ch = origin.charAt(0);\n    return ch == \"*\" ||\n      ch == \"+\" &&\n      prev.ranges.length == sel.ranges.length &&\n      prev.somethingSelected() == sel.somethingSelected() &&\n      new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)\n  }\n\n  // Called whenever the selection changes, sets the new selection as\n  // the pending selection in the history, and pushes the old pending\n  // selection into the 'done' array when it was significantly\n  // different (in number of selected ranges, emptiness, or time).\n  function addSelectionToHistory(doc, sel, opId, options) {\n    var hist = doc.history, origin = options && options.origin;\n\n    // A new event is started when the previous origin does not match\n    // the current, or the origins don't allow matching. Origins\n    // starting with * are always merged, those starting with + are\n    // merged when similar and close together in time.\n    if (opId == hist.lastSelOp ||\n        (origin && hist.lastSelOrigin == origin &&\n         (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\n          selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\n      { hist.done[hist.done.length - 1] = sel; }\n    else\n      { pushSelectionToHistory(sel, hist.done); }\n\n    hist.lastSelTime = +new Date;\n    hist.lastSelOrigin = origin;\n    hist.lastSelOp = opId;\n    if (options && options.clearRedo !== false)\n      { clearSelectionEvents(hist.undone); }\n  }\n\n  function pushSelectionToHistory(sel, dest) {\n    var top = lst(dest);\n    if (!(top && top.ranges && top.equals(sel)))\n      { dest.push(sel); }\n  }\n\n  // Used to store marked span information in the history.\n  function attachLocalSpans(doc, change, from, to) {\n    var existing = change[\"spans_\" + doc.id], n = 0;\n    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n      if (line.markedSpans)\n        { (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans; }\n      ++n;\n    });\n  }\n\n  // When un/re-doing restores text containing marked spans, those\n  // that have been explicitly cleared should not be restored.\n  function removeClearedSpans(spans) {\n    if (!spans) { return null }\n    var out;\n    for (var i = 0; i < spans.length; ++i) {\n      if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i); } }\n      else if (out) { out.push(spans[i]); }\n    }\n    return !out ? spans : out.length ? out : null\n  }\n\n  // Retrieve and filter the old marked spans stored in a change event.\n  function getOldSpans(doc, change) {\n    var found = change[\"spans_\" + doc.id];\n    if (!found) { return null }\n    var nw = [];\n    for (var i = 0; i < change.text.length; ++i)\n      { nw.push(removeClearedSpans(found[i])); }\n    return nw\n  }\n\n  // Used for un/re-doing changes from the history. Combines the\n  // result of computing the existing spans with the set of spans that\n  // existed in the history (so that deleting around a span and then\n  // undoing brings back the span).\n  function mergeOldSpans(doc, change) {\n    var old = getOldSpans(doc, change);\n    var stretched = stretchSpansOverChange(doc, change);\n    if (!old) { return stretched }\n    if (!stretched) { return old }\n\n    for (var i = 0; i < old.length; ++i) {\n      var oldCur = old[i], stretchCur = stretched[i];\n      if (oldCur && stretchCur) {\n        spans: for (var j = 0; j < stretchCur.length; ++j) {\n          var span = stretchCur[j];\n          for (var k = 0; k < oldCur.length; ++k)\n            { if (oldCur[k].marker == span.marker) { continue spans } }\n          oldCur.push(span);\n        }\n      } else if (stretchCur) {\n        old[i] = stretchCur;\n      }\n    }\n    return old\n  }\n\n  // Used both to provide a JSON-safe object in .getHistory, and, when\n  // detaching a document, to split the history in two\n  function copyHistoryArray(events, newGroup, instantiateSel) {\n    var copy = [];\n    for (var i = 0; i < events.length; ++i) {\n      var event = events[i];\n      if (event.ranges) {\n        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n        continue\n      }\n      var changes = event.changes, newChanges = [];\n      copy.push({changes: newChanges});\n      for (var j = 0; j < changes.length; ++j) {\n        var change = changes[j], m = (void 0);\n        newChanges.push({from: change.from, to: change.to, text: change.text});\n        if (newGroup) { for (var prop in change) { if (m = prop.match(/^spans_(\\d+)$/)) {\n          if (indexOf(newGroup, Number(m[1])) > -1) {\n            lst(newChanges)[prop] = change[prop];\n            delete change[prop];\n          }\n        } } }\n      }\n    }\n    return copy\n  }\n\n  // The 'scroll' parameter given to many of these indicated whether\n  // the new cursor position should be scrolled into view after\n  // modifying the selection.\n\n  // If shift is held or the extend flag is set, extends a range to\n  // include a given position (and optionally a second position).\n  // Otherwise, simply returns the range between the given positions.\n  // Used for cursor motion and such.\n  function extendRange(range, head, other, extend) {\n    if (extend) {\n      var anchor = range.anchor;\n      if (other) {\n        var posBefore = cmp(head, anchor) < 0;\n        if (posBefore != (cmp(other, anchor) < 0)) {\n          anchor = head;\n          head = other;\n        } else if (posBefore != (cmp(head, other) < 0)) {\n          head = other;\n        }\n      }\n      return new Range(anchor, head)\n    } else {\n      return new Range(other || head, head)\n    }\n  }\n\n  // Extend the primary selection range, discard the rest.\n  function extendSelection(doc, head, other, options, extend) {\n    if (extend == null) { extend = doc.cm && (doc.cm.display.shift || doc.extend); }\n    setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options);\n  }\n\n  // Extend all selections (pos is an array of selections with length\n  // equal the number of selections)\n  function extendSelections(doc, heads, options) {\n    var out = [];\n    var extend = doc.cm && (doc.cm.display.shift || doc.extend);\n    for (var i = 0; i < doc.sel.ranges.length; i++)\n      { out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend); }\n    var newSel = normalizeSelection(doc.cm, out, doc.sel.primIndex);\n    setSelection(doc, newSel, options);\n  }\n\n  // Updates a single range in the selection.\n  function replaceOneSelection(doc, i, range, options) {\n    var ranges = doc.sel.ranges.slice(0);\n    ranges[i] = range;\n    setSelection(doc, normalizeSelection(doc.cm, ranges, doc.sel.primIndex), options);\n  }\n\n  // Reset the selection to a single range.\n  function setSimpleSelection(doc, anchor, head, options) {\n    setSelection(doc, simpleSelection(anchor, head), options);\n  }\n\n  // Give beforeSelectionChange handlers a change to influence a\n  // selection update.\n  function filterSelectionChange(doc, sel, options) {\n    var obj = {\n      ranges: sel.ranges,\n      update: function(ranges) {\n        this.ranges = [];\n        for (var i = 0; i < ranges.length; i++)\n          { this.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\n                                     clipPos(doc, ranges[i].head)); }\n      },\n      origin: options && options.origin\n    };\n    signal(doc, \"beforeSelectionChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj); }\n    if (obj.ranges != sel.ranges) { return normalizeSelection(doc.cm, obj.ranges, obj.ranges.length - 1) }\n    else { return sel }\n  }\n\n  function setSelectionReplaceHistory(doc, sel, options) {\n    var done = doc.history.done, last = lst(done);\n    if (last && last.ranges) {\n      done[done.length - 1] = sel;\n      setSelectionNoUndo(doc, sel, options);\n    } else {\n      setSelection(doc, sel, options);\n    }\n  }\n\n  // Set a new selection.\n  function setSelection(doc, sel, options) {\n    setSelectionNoUndo(doc, sel, options);\n    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n  }\n\n  function setSelectionNoUndo(doc, sel, options) {\n    if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\n      { sel = filterSelectionChange(doc, sel, options); }\n\n    var bias = options && options.bias ||\n      (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n    if (!(options && options.scroll === false) && doc.cm && doc.cm.getOption(\"readOnly\") != \"nocursor\")\n      { ensureCursorVisible(doc.cm); }\n  }\n\n  function setSelectionInner(doc, sel) {\n    if (sel.equals(doc.sel)) { return }\n\n    doc.sel = sel;\n\n    if (doc.cm) {\n      doc.cm.curOp.updateInput = 1;\n      doc.cm.curOp.selectionChanged = true;\n      signalCursorActivity(doc.cm);\n    }\n    signalLater(doc, \"cursorActivity\", doc);\n  }\n\n  // Verify that the selection does not partially select any atomic\n  // marked ranges.\n  function reCheckSelection(doc) {\n    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false));\n  }\n\n  // Return a selection that does not partially select any atomic\n  // ranges.\n  function skipAtomicInSelection(doc, sel, bias, mayClear) {\n    var out;\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i];\n      var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n      var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n      var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n      if (out || newAnchor != range.anchor || newHead != range.head) {\n        if (!out) { out = sel.ranges.slice(0, i); }\n        out[i] = new Range(newAnchor, newHead);\n      }\n    }\n    return out ? normalizeSelection(doc.cm, out, sel.primIndex) : sel\n  }\n\n  function skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n    var line = getLine(doc, pos.line);\n    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n      var sp = line.markedSpans[i], m = sp.marker;\n\n      // Determine if we should prevent the cursor being placed to the left/right of an atomic marker\n      // Historically this was determined using the inclusiveLeft/Right option, but the new way to control it\n      // is with selectLeft/Right\n      var preventCursorLeft = (\"selectLeft\" in m) ? !m.selectLeft : m.inclusiveLeft;\n      var preventCursorRight = (\"selectRight\" in m) ? !m.selectRight : m.inclusiveRight;\n\n      if ((sp.from == null || (preventCursorLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\n          (sp.to == null || (preventCursorRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n        if (mayClear) {\n          signal(m, \"beforeCursorEnter\");\n          if (m.explicitlyCleared) {\n            if (!line.markedSpans) { break }\n            else {--i; continue}\n          }\n        }\n        if (!m.atomic) { continue }\n\n        if (oldPos) {\n          var near = m.find(dir < 0 ? 1 : -1), diff = (void 0);\n          if (dir < 0 ? preventCursorRight : preventCursorLeft)\n            { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null); }\n          if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\n            { return skipAtomicInner(doc, near, pos, dir, mayClear) }\n        }\n\n        var far = m.find(dir < 0 ? -1 : 1);\n        if (dir < 0 ? preventCursorLeft : preventCursorRight)\n          { far = movePos(doc, far, dir, far.line == pos.line ? line : null); }\n        return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null\n      }\n    } }\n    return pos\n  }\n\n  // Ensure a given position is not inside an atomic range.\n  function skipAtomic(doc, pos, oldPos, bias, mayClear) {\n    var dir = bias || 1;\n    var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\n        skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true));\n    if (!found) {\n      doc.cantEdit = true;\n      return Pos(doc.first, 0)\n    }\n    return found\n  }\n\n  function movePos(doc, pos, dir, line) {\n    if (dir < 0 && pos.ch == 0) {\n      if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }\n      else { return null }\n    } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n      if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }\n      else { return null }\n    } else {\n      return new Pos(pos.line, pos.ch + dir)\n    }\n  }\n\n  function selectAll(cm) {\n    cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);\n  }\n\n  // UPDATING\n\n  // Allow \"beforeChange\" event handlers to influence a change\n  function filterChange(doc, change, update) {\n    var obj = {\n      canceled: false,\n      from: change.from,\n      to: change.to,\n      text: change.text,\n      origin: change.origin,\n      cancel: function () { return obj.canceled = true; }\n    };\n    if (update) { obj.update = function (from, to, text, origin) {\n      if (from) { obj.from = clipPos(doc, from); }\n      if (to) { obj.to = clipPos(doc, to); }\n      if (text) { obj.text = text; }\n      if (origin !== undefined) { obj.origin = origin; }\n    }; }\n    signal(doc, \"beforeChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeChange\", doc.cm, obj); }\n\n    if (obj.canceled) {\n      if (doc.cm) { doc.cm.curOp.updateInput = 2; }\n      return null\n    }\n    return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}\n  }\n\n  // Apply a change to a document, and add it to the document's\n  // history, and propagating it to all linked documents.\n  function makeChange(doc, change, ignoreReadOnly) {\n    if (doc.cm) {\n      if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }\n      if (doc.cm.state.suppressEdits) { return }\n    }\n\n    if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n      change = filterChange(doc, change, true);\n      if (!change) { return }\n    }\n\n    // Possibly split or suppress the update based on the presence\n    // of read-only spans in its range.\n    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n    if (split) {\n      for (var i = split.length - 1; i >= 0; --i)\n        { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text, origin: change.origin}); }\n    } else {\n      makeChangeInner(doc, change);\n    }\n  }\n\n  function makeChangeInner(doc, change) {\n    if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) { return }\n    var selAfter = computeSelAfterChange(doc, change);\n    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n\n    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n    var rebased = [];\n\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n    });\n  }\n\n  // Revert a change stored in a document's history.\n  function makeChangeFromHistory(doc, type, allowSelectionOnly) {\n    var suppress = doc.cm && doc.cm.state.suppressEdits;\n    if (suppress && !allowSelectionOnly) { return }\n\n    var hist = doc.history, event, selAfter = doc.sel;\n    var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done;\n\n    // Verify that there is a useable event (so that ctrl-z won't\n    // needlessly clear selection events)\n    var i = 0;\n    for (; i < source.length; i++) {\n      event = source[i];\n      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\n        { break }\n    }\n    if (i == source.length) { return }\n    hist.lastOrigin = hist.lastSelOrigin = null;\n\n    for (;;) {\n      event = source.pop();\n      if (event.ranges) {\n        pushSelectionToHistory(event, dest);\n        if (allowSelectionOnly && !event.equals(doc.sel)) {\n          setSelection(doc, event, {clearRedo: false});\n          return\n        }\n        selAfter = event;\n      } else if (suppress) {\n        source.push(event);\n        return\n      } else { break }\n    }\n\n    // Build up a reverse change object to add to the opposite history\n    // stack (redo when undoing, and vice versa).\n    var antiChanges = [];\n    pushSelectionToHistory(selAfter, dest);\n    dest.push({changes: antiChanges, generation: hist.generation});\n    hist.generation = event.generation || ++hist.maxGeneration;\n\n    var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n    var loop = function ( i ) {\n      var change = event.changes[i];\n      change.origin = type;\n      if (filter && !filterChange(doc, change, false)) {\n        source.length = 0;\n        return {}\n      }\n\n      antiChanges.push(historyChangeFromChange(doc, change));\n\n      var after = i ? computeSelAfterChange(doc, change) : lst(source);\n      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n      if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}); }\n      var rebased = [];\n\n      // Propagate to the linked documents\n      linkedDocs(doc, function (doc, sharedHist) {\n        if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n          rebaseHist(doc.history, change);\n          rebased.push(doc.history);\n        }\n        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n      });\n    };\n\n    for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n      var returned = loop( i$1 );\n\n      if ( returned ) return returned.v;\n    }\n  }\n\n  // Sub-views need their line numbers shifted when text is added\n  // above or below them in the parent document.\n  function shiftDoc(doc, distance) {\n    if (distance == 0) { return }\n    doc.first += distance;\n    doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(\n      Pos(range.anchor.line + distance, range.anchor.ch),\n      Pos(range.head.line + distance, range.head.ch)\n    ); }), doc.sel.primIndex);\n    if (doc.cm) {\n      regChange(doc.cm, doc.first, doc.first - distance, distance);\n      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\n        { regLineChange(doc.cm, l, \"gutter\"); }\n    }\n  }\n\n  // More lower-level change function, handling only a single document\n  // (not linked ones).\n  function makeChangeSingleDoc(doc, change, selAfter, spans) {\n    if (doc.cm && !doc.cm.curOp)\n      { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }\n\n    if (change.to.line < doc.first) {\n      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n      return\n    }\n    if (change.from.line > doc.lastLine()) { return }\n\n    // Clip the change to the size of this doc\n    if (change.from.line < doc.first) {\n      var shift = change.text.length - 1 - (doc.first - change.from.line);\n      shiftDoc(doc, shift);\n      change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\n                text: [lst(change.text)], origin: change.origin};\n    }\n    var last = doc.lastLine();\n    if (change.to.line > last) {\n      change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\n                text: [change.text[0]], origin: change.origin};\n    }\n\n    change.removed = getBetween(doc, change.from, change.to);\n\n    if (!selAfter) { selAfter = computeSelAfterChange(doc, change); }\n    if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans); }\n    else { updateDoc(doc, change, spans); }\n    setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n\n    if (doc.cantEdit && skipAtomic(doc, Pos(doc.firstLine(), 0)))\n      { doc.cantEdit = false; }\n  }\n\n  // Handle the interaction of a change to a document with the editor\n  // that this document is part of.\n  function makeChangeSingleDocInEditor(cm, change, spans) {\n    var doc = cm.doc, display = cm.display, from = change.from, to = change.to;\n\n    var recomputeMaxLength = false, checkWidthStart = from.line;\n    if (!cm.options.lineWrapping) {\n      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n      doc.iter(checkWidthStart, to.line + 1, function (line) {\n        if (line == display.maxLine) {\n          recomputeMaxLength = true;\n          return true\n        }\n      });\n    }\n\n    if (doc.sel.contains(change.from, change.to) > -1)\n      { signalCursorActivity(cm); }\n\n    updateDoc(doc, change, spans, estimateHeight(cm));\n\n    if (!cm.options.lineWrapping) {\n      doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n        var len = lineLength(line);\n        if (len > display.maxLineLength) {\n          display.maxLine = line;\n          display.maxLineLength = len;\n          display.maxLineChanged = true;\n          recomputeMaxLength = false;\n        }\n      });\n      if (recomputeMaxLength) { cm.curOp.updateMaxLine = true; }\n    }\n\n    retreatFrontier(doc, from.line);\n    startWorker(cm, 400);\n\n    var lendiff = change.text.length - (to.line - from.line) - 1;\n    // Remember that these lines changed, for updating the display\n    if (change.full)\n      { regChange(cm); }\n    else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\n      { regLineChange(cm, from.line, \"text\"); }\n    else\n      { regChange(cm, from.line, to.line + 1, lendiff); }\n\n    var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\");\n    if (changeHandler || changesHandler) {\n      var obj = {\n        from: from, to: to,\n        text: change.text,\n        removed: change.removed,\n        origin: change.origin\n      };\n      if (changeHandler) { signalLater(cm, \"change\", cm, obj); }\n      if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj); }\n    }\n    cm.display.selForContextMenu = null;\n  }\n\n  function replaceRange(doc, code, from, to, origin) {\n    var assign;\n\n    if (!to) { to = from; }\n    if (cmp(to, from) < 0) { (assign = [to, from], from = assign[0], to = assign[1]); }\n    if (typeof code == \"string\") { code = doc.splitLines(code); }\n    makeChange(doc, {from: from, to: to, text: code, origin: origin});\n  }\n\n  // Rebasing/resetting history to deal with externally-sourced changes\n\n  function rebaseHistSelSingle(pos, from, to, diff) {\n    if (to < pos.line) {\n      pos.line += diff;\n    } else if (from < pos.line) {\n      pos.line = from;\n      pos.ch = 0;\n    }\n  }\n\n  // Tries to rebase an array of history events given a change in the\n  // document. If the change touches the same lines as the event, the\n  // event, and everything 'behind' it, is discarded. If the change is\n  // before the event, the event's positions are updated. Uses a\n  // copy-on-write scheme for the positions, to avoid having to\n  // reallocate them all on every rebase, but also avoid problems with\n  // shared position objects being unsafely updated.\n  function rebaseHistArray(array, from, to, diff) {\n    for (var i = 0; i < array.length; ++i) {\n      var sub = array[i], ok = true;\n      if (sub.ranges) {\n        if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }\n        for (var j = 0; j < sub.ranges.length; j++) {\n          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n        }\n        continue\n      }\n      for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n        var cur = sub.changes[j$1];\n        if (to < cur.from.line) {\n          cur.from = Pos(cur.from.line + diff, cur.from.ch);\n          cur.to = Pos(cur.to.line + diff, cur.to.ch);\n        } else if (from <= cur.to.line) {\n          ok = false;\n          break\n        }\n      }\n      if (!ok) {\n        array.splice(0, i + 1);\n        i = 0;\n      }\n    }\n  }\n\n  function rebaseHist(hist, change) {\n    var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;\n    rebaseHistArray(hist.done, from, to, diff);\n    rebaseHistArray(hist.undone, from, to, diff);\n  }\n\n  // Utility for applying a change to a line by handle or number,\n  // returning the number and optionally registering the line as\n  // changed.\n  function changeLine(doc, handle, changeType, op) {\n    var no = handle, line = handle;\n    if (typeof handle == \"number\") { line = getLine(doc, clipLine(doc, handle)); }\n    else { no = lineNo(handle); }\n    if (no == null) { return null }\n    if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType); }\n    return line\n  }\n\n  // The document is represented as a BTree consisting of leaves, with\n  // chunk of lines in them, and branches, with up to ten leaves or\n  // other branch nodes below them. The top node is always a branch\n  // node, and is the document object itself (meaning it has\n  // additional methods and properties).\n  //\n  // All nodes have parent links. The tree is used both to go from\n  // line numbers to line objects, and to go from objects to numbers.\n  // It also indexes by height, and is used to convert between height\n  // and line object, and to find the total height of the document.\n  //\n  // See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\n  function LeafChunk(lines) {\n    this.lines = lines;\n    this.parent = null;\n    var height = 0;\n    for (var i = 0; i < lines.length; ++i) {\n      lines[i].parent = this;\n      height += lines[i].height;\n    }\n    this.height = height;\n  }\n\n  LeafChunk.prototype = {\n    chunkSize: function() { return this.lines.length },\n\n    // Remove the n lines at offset 'at'.\n    removeInner: function(at, n) {\n      for (var i = at, e = at + n; i < e; ++i) {\n        var line = this.lines[i];\n        this.height -= line.height;\n        cleanUpLine(line);\n        signalLater(line, \"delete\");\n      }\n      this.lines.splice(at, n);\n    },\n\n    // Helper used to collapse a small branch into a single leaf.\n    collapse: function(lines) {\n      lines.push.apply(lines, this.lines);\n    },\n\n    // Insert the given array of lines at offset 'at', count them as\n    // having the given height.\n    insertInner: function(at, lines, height) {\n      this.height += height;\n      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n      for (var i = 0; i < lines.length; ++i) { lines[i].parent = this; }\n    },\n\n    // Used to iterate over a part of the tree.\n    iterN: function(at, n, op) {\n      for (var e = at + n; at < e; ++at)\n        { if (op(this.lines[at])) { return true } }\n    }\n  };\n\n  function BranchChunk(children) {\n    this.children = children;\n    var size = 0, height = 0;\n    for (var i = 0; i < children.length; ++i) {\n      var ch = children[i];\n      size += ch.chunkSize(); height += ch.height;\n      ch.parent = this;\n    }\n    this.size = size;\n    this.height = height;\n    this.parent = null;\n  }\n\n  BranchChunk.prototype = {\n    chunkSize: function() { return this.size },\n\n    removeInner: function(at, n) {\n      this.size -= n;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var rm = Math.min(n, sz - at), oldHeight = child.height;\n          child.removeInner(at, rm);\n          this.height -= oldHeight - child.height;\n          if (sz == rm) { this.children.splice(i--, 1); child.parent = null; }\n          if ((n -= rm) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n      // If the result is smaller than 25 lines, ensure that it is a\n      // single leaf node.\n      if (this.size - n < 25 &&\n          (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n        var lines = [];\n        this.collapse(lines);\n        this.children = [new LeafChunk(lines)];\n        this.children[0].parent = this;\n      }\n    },\n\n    collapse: function(lines) {\n      for (var i = 0; i < this.children.length; ++i) { this.children[i].collapse(lines); }\n    },\n\n    insertInner: function(at, lines, height) {\n      this.size += lines.length;\n      this.height += height;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at <= sz) {\n          child.insertInner(at, lines, height);\n          if (child.lines && child.lines.length > 50) {\n            // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n            // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n            var remaining = child.lines.length % 25 + 25;\n            for (var pos = remaining; pos < child.lines.length;) {\n              var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n              child.height -= leaf.height;\n              this.children.splice(++i, 0, leaf);\n              leaf.parent = this;\n            }\n            child.lines = child.lines.slice(0, remaining);\n            this.maybeSpill();\n          }\n          break\n        }\n        at -= sz;\n      }\n    },\n\n    // When a node has grown, check whether it should be split.\n    maybeSpill: function() {\n      if (this.children.length <= 10) { return }\n      var me = this;\n      do {\n        var spilled = me.children.splice(me.children.length - 5, 5);\n        var sibling = new BranchChunk(spilled);\n        if (!me.parent) { // Become the parent node\n          var copy = new BranchChunk(me.children);\n          copy.parent = me;\n          me.children = [copy, sibling];\n          me = copy;\n       } else {\n          me.size -= sibling.size;\n          me.height -= sibling.height;\n          var myIndex = indexOf(me.parent.children, me);\n          me.parent.children.splice(myIndex + 1, 0, sibling);\n        }\n        sibling.parent = me.parent;\n      } while (me.children.length > 10)\n      me.parent.maybeSpill();\n    },\n\n    iterN: function(at, n, op) {\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var used = Math.min(n, sz - at);\n          if (child.iterN(at, used, op)) { return true }\n          if ((n -= used) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n    }\n  };\n\n  // Line widgets are block elements displayed above or below a line.\n\n  var LineWidget = function(doc, node, options) {\n    if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))\n      { this[opt] = options[opt]; } } }\n    this.doc = doc;\n    this.node = node;\n  };\n\n  LineWidget.prototype.clear = function () {\n    var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);\n    if (no == null || !ws) { return }\n    for (var i = 0; i < ws.length; ++i) { if (ws[i] == this) { ws.splice(i--, 1); } }\n    if (!ws.length) { line.widgets = null; }\n    var height = widgetHeight(this);\n    updateLineHeight(line, Math.max(0, line.height - height));\n    if (cm) {\n      runInOp(cm, function () {\n        adjustScrollWhenAboveVisible(cm, line, -height);\n        regLineChange(cm, no, \"widget\");\n      });\n      signalLater(cm, \"lineWidgetCleared\", cm, this, no);\n    }\n  };\n\n  LineWidget.prototype.changed = function () {\n      var this$1 = this;\n\n    var oldH = this.height, cm = this.doc.cm, line = this.line;\n    this.height = null;\n    var diff = widgetHeight(this) - oldH;\n    if (!diff) { return }\n    if (!lineIsHidden(this.doc, line)) { updateLineHeight(line, line.height + diff); }\n    if (cm) {\n      runInOp(cm, function () {\n        cm.curOp.forceUpdate = true;\n        adjustScrollWhenAboveVisible(cm, line, diff);\n        signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line));\n      });\n    }\n  };\n  eventMixin(LineWidget);\n\n  function adjustScrollWhenAboveVisible(cm, line, diff) {\n    if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\n      { addToScrollTop(cm, diff); }\n  }\n\n  function addLineWidget(doc, handle, node, options) {\n    var widget = new LineWidget(doc, node, options);\n    var cm = doc.cm;\n    if (cm && widget.noHScroll) { cm.display.alignWidgets = true; }\n    changeLine(doc, handle, \"widget\", function (line) {\n      var widgets = line.widgets || (line.widgets = []);\n      if (widget.insertAt == null) { widgets.push(widget); }\n      else { widgets.splice(Math.min(widgets.length, Math.max(0, widget.insertAt)), 0, widget); }\n      widget.line = line;\n      if (cm && !lineIsHidden(doc, line)) {\n        var aboveVisible = heightAtLine(line) < doc.scrollTop;\n        updateLineHeight(line, line.height + widgetHeight(widget));\n        if (aboveVisible) { addToScrollTop(cm, widget.height); }\n        cm.curOp.forceUpdate = true;\n      }\n      return true\n    });\n    if (cm) { signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle)); }\n    return widget\n  }\n\n  // TEXTMARKERS\n\n  // Created with markText and setBookmark methods. A TextMarker is a\n  // handle that can be used to clear or find a marked position in the\n  // document. Line objects hold arrays (markedSpans) containing\n  // {from, to, marker} object pointing to such marker objects, and\n  // indicating that such a marker is present on that line. Multiple\n  // lines may point to the same marker when it spans across lines.\n  // The spans will have null for their from/to properties when the\n  // marker continues beyond the start/end of the line. Markers have\n  // links back to the lines they currently touch.\n\n  // Collapsed markers have unique ids, in order to be able to order\n  // them, which is needed for uniquely determining an outer marker\n  // when they overlap (they may nest, but not partially overlap).\n  var nextMarkerId = 0;\n\n  var TextMarker = function(doc, type) {\n    this.lines = [];\n    this.type = type;\n    this.doc = doc;\n    this.id = ++nextMarkerId;\n  };\n\n  // Clear the marker.\n  TextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    var cm = this.doc.cm, withOp = cm && !cm.curOp;\n    if (withOp) { startOperation(cm); }\n    if (hasHandler(this, \"clear\")) {\n      var found = this.find();\n      if (found) { signalLater(this, \"clear\", found.from, found.to); }\n    }\n    var min = null, max = null;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (cm && !this.collapsed) { regLineChange(cm, lineNo(line), \"text\"); }\n      else if (cm) {\n        if (span.to != null) { max = lineNo(line); }\n        if (span.from != null) { min = lineNo(line); }\n      }\n      line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n      if (span.from == null && this.collapsed && !lineIsHidden(this.doc, line) && cm)\n        { updateLineHeight(line, textHeight(cm.display)); }\n    }\n    if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n      var visual = visualLine(this.lines[i$1]), len = lineLength(visual);\n      if (len > cm.display.maxLineLength) {\n        cm.display.maxLine = visual;\n        cm.display.maxLineLength = len;\n        cm.display.maxLineChanged = true;\n      }\n    } }\n\n    if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1); }\n    this.lines.length = 0;\n    this.explicitlyCleared = true;\n    if (this.atomic && this.doc.cantEdit) {\n      this.doc.cantEdit = false;\n      if (cm) { reCheckSelection(cm.doc); }\n    }\n    if (cm) { signalLater(cm, \"markerCleared\", cm, this, min, max); }\n    if (withOp) { endOperation(cm); }\n    if (this.parent) { this.parent.clear(); }\n  };\n\n  // Find the position of the marker in the document. Returns a {from,\n  // to} object by default. Side can be passed to get a specific side\n  // -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n  // Pos objects returned contain a line object, rather than a line\n  // number (used to prevent looking up the same line twice).\n  TextMarker.prototype.find = function (side, lineObj) {\n    if (side == null && this.type == \"bookmark\") { side = 1; }\n    var from, to;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (span.from != null) {\n        from = Pos(lineObj ? line : lineNo(line), span.from);\n        if (side == -1) { return from }\n      }\n      if (span.to != null) {\n        to = Pos(lineObj ? line : lineNo(line), span.to);\n        if (side == 1) { return to }\n      }\n    }\n    return from && {from: from, to: to}\n  };\n\n  // Signals that the marker's widget changed, and surrounding layout\n  // should be recomputed.\n  TextMarker.prototype.changed = function () {\n      var this$1 = this;\n\n    var pos = this.find(-1, true), widget = this, cm = this.doc.cm;\n    if (!pos || !cm) { return }\n    runInOp(cm, function () {\n      var line = pos.line, lineN = lineNo(pos.line);\n      var view = findViewForLine(cm, lineN);\n      if (view) {\n        clearLineMeasurementCacheFor(view);\n        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n      }\n      cm.curOp.updateMaxLine = true;\n      if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n        var oldHeight = widget.height;\n        widget.height = null;\n        var dHeight = widgetHeight(widget) - oldHeight;\n        if (dHeight)\n          { updateLineHeight(line, line.height + dHeight); }\n      }\n      signalLater(cm, \"markerChanged\", cm, this$1);\n    });\n  };\n\n  TextMarker.prototype.attachLine = function (line) {\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\n        { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this); }\n    }\n    this.lines.push(line);\n  };\n\n  TextMarker.prototype.detachLine = function (line) {\n    this.lines.splice(indexOf(this.lines, line), 1);\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp\n      ;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n    }\n  };\n  eventMixin(TextMarker);\n\n  // Create a marker, wire it up to the right lines, and\n  function markText(doc, from, to, options, type) {\n    // Shared markers (across linked documents) are handled separately\n    // (markTextShared will call out to this again, once per\n    // document).\n    if (options && options.shared) { return markTextShared(doc, from, to, options, type) }\n    // Ensure we are in an operation.\n    if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }\n\n    var marker = new TextMarker(doc, type), diff = cmp(from, to);\n    if (options) { copyObj(options, marker, false); }\n    // Don't connect empty markers unless clearWhenEmpty is false\n    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\n      { return marker }\n    if (marker.replacedWith) {\n      // Showing up as a widget implies collapsed (widget replaces text)\n      marker.collapsed = true;\n      marker.widgetNode = eltP(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n      if (!options.handleMouseEvents) { marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\"); }\n      if (options.insertLeft) { marker.widgetNode.insertLeft = true; }\n    }\n    if (marker.collapsed) {\n      if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\n          from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\n        { throw new Error(\"Inserting collapsed marker partially overlapping an existing one\") }\n      seeCollapsedSpans();\n    }\n\n    if (marker.addToHistory)\n      { addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN); }\n\n    var curLine = from.line, cm = doc.cm, updateMaxLine;\n    doc.iter(curLine, to.line + 1, function (line) {\n      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\n        { updateMaxLine = true; }\n      if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0); }\n      addMarkedSpan(line, new MarkedSpan(marker,\n                                         curLine == from.line ? from.ch : null,\n                                         curLine == to.line ? to.ch : null), doc.cm && doc.cm.curOp);\n      ++curLine;\n    });\n    // lineIsHidden depends on the presence of the spans, so needs a second pass\n    if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {\n      if (lineIsHidden(doc, line)) { updateLineHeight(line, 0); }\n    }); }\n\n    if (marker.clearOnEnter) { on(marker, \"beforeCursorEnter\", function () { return marker.clear(); }); }\n\n    if (marker.readOnly) {\n      seeReadOnlySpans();\n      if (doc.history.done.length || doc.history.undone.length)\n        { doc.clearHistory(); }\n    }\n    if (marker.collapsed) {\n      marker.id = ++nextMarkerId;\n      marker.atomic = true;\n    }\n    if (cm) {\n      // Sync editor state\n      if (updateMaxLine) { cm.curOp.updateMaxLine = true; }\n      if (marker.collapsed)\n        { regChange(cm, from.line, to.line + 1); }\n      else if (marker.className || marker.startStyle || marker.endStyle || marker.css ||\n               marker.attributes || marker.title)\n        { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, \"text\"); } }\n      if (marker.atomic) { reCheckSelection(cm.doc); }\n      signalLater(cm, \"markerAdded\", cm, marker);\n    }\n    return marker\n  }\n\n  // SHARED TEXTMARKERS\n\n  // A shared marker spans multiple linked documents. It is\n  // implemented as a meta-marker-object controlling multiple normal\n  // markers.\n  var SharedTextMarker = function(markers, primary) {\n    this.markers = markers;\n    this.primary = primary;\n    for (var i = 0; i < markers.length; ++i)\n      { markers[i].parent = this; }\n  };\n\n  SharedTextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    this.explicitlyCleared = true;\n    for (var i = 0; i < this.markers.length; ++i)\n      { this.markers[i].clear(); }\n    signalLater(this, \"clear\");\n  };\n\n  SharedTextMarker.prototype.find = function (side, lineObj) {\n    return this.primary.find(side, lineObj)\n  };\n  eventMixin(SharedTextMarker);\n\n  function markTextShared(doc, from, to, options, type) {\n    options = copyObj(options);\n    options.shared = false;\n    var markers = [markText(doc, from, to, options, type)], primary = markers[0];\n    var widget = options.widgetNode;\n    linkedDocs(doc, function (doc) {\n      if (widget) { options.widgetNode = widget.cloneNode(true); }\n      markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));\n      for (var i = 0; i < doc.linked.length; ++i)\n        { if (doc.linked[i].isParent) { return } }\n      primary = lst(markers);\n    });\n    return new SharedTextMarker(markers, primary)\n  }\n\n  function findSharedMarkers(doc) {\n    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })\n  }\n\n  function copySharedMarkers(doc, markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i], pos = marker.find();\n      var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);\n      if (cmp(mFrom, mTo)) {\n        var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n        marker.markers.push(subMark);\n        subMark.parent = marker;\n      }\n    }\n  }\n\n  function detachSharedMarkers(markers) {\n    var loop = function ( i ) {\n      var marker = markers[i], linked = [marker.primary.doc];\n      linkedDocs(marker.primary.doc, function (d) { return linked.push(d); });\n      for (var j = 0; j < marker.markers.length; j++) {\n        var subMarker = marker.markers[j];\n        if (indexOf(linked, subMarker.doc) == -1) {\n          subMarker.parent = null;\n          marker.markers.splice(j--, 1);\n        }\n      }\n    };\n\n    for (var i = 0; i < markers.length; i++) loop( i );\n  }\n\n  var nextDocId = 0;\n  var Doc = function(text, mode, firstLine, lineSep, direction) {\n    if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep, direction) }\n    if (firstLine == null) { firstLine = 0; }\n\n    BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n    this.first = firstLine;\n    this.scrollTop = this.scrollLeft = 0;\n    this.cantEdit = false;\n    this.cleanGeneration = 1;\n    this.modeFrontier = this.highlightFrontier = firstLine;\n    var start = Pos(firstLine, 0);\n    this.sel = simpleSelection(start);\n    this.history = new History(null);\n    this.id = ++nextDocId;\n    this.modeOption = mode;\n    this.lineSep = lineSep;\n    this.direction = (direction == \"rtl\") ? \"rtl\" : \"ltr\";\n    this.extend = false;\n\n    if (typeof text == \"string\") { text = this.splitLines(text); }\n    updateDoc(this, {from: start, to: start, text: text});\n    setSelection(this, simpleSelection(start), sel_dontScroll);\n  };\n\n  Doc.prototype = createObj(BranchChunk.prototype, {\n    constructor: Doc,\n    // Iterate over the document. Supports two forms -- with only one\n    // argument, it calls that for each line in the document. With\n    // three, it iterates over the range given by the first two (with\n    // the second being non-inclusive).\n    iter: function(from, to, op) {\n      if (op) { this.iterN(from - this.first, to - from, op); }\n      else { this.iterN(this.first, this.first + this.size, from); }\n    },\n\n    // Non-public interface for adding and removing lines.\n    insert: function(at, lines) {\n      var height = 0;\n      for (var i = 0; i < lines.length; ++i) { height += lines[i].height; }\n      this.insertInner(at - this.first, lines, height);\n    },\n    remove: function(at, n) { this.removeInner(at - this.first, n); },\n\n    // From here, the methods are part of the public interface. Most\n    // are also available from CodeMirror (editor) instances.\n\n    getValue: function(lineSep) {\n      var lines = getLines(this, this.first, this.first + this.size);\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n    setValue: docMethodOp(function(code) {\n      var top = Pos(this.first, 0), last = this.first + this.size - 1;\n      makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\n                        text: this.splitLines(code), origin: \"setValue\", full: true}, true);\n      if (this.cm) { scrollToCoords(this.cm, 0, 0); }\n      setSelection(this, simpleSelection(top), sel_dontScroll);\n    }),\n    replaceRange: function(code, from, to, origin) {\n      from = clipPos(this, from);\n      to = to ? clipPos(this, to) : from;\n      replaceRange(this, code, from, to, origin);\n    },\n    getRange: function(from, to, lineSep) {\n      var lines = getBetween(this, clipPos(this, from), clipPos(this, to));\n      if (lineSep === false) { return lines }\n      if (lineSep === '') { return lines.join('') }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n\n    getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},\n\n    getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},\n    getLineNumber: function(line) {return lineNo(line)},\n\n    getLineHandleVisualStart: function(line) {\n      if (typeof line == \"number\") { line = getLine(this, line); }\n      return visualLine(line)\n    },\n\n    lineCount: function() {return this.size},\n    firstLine: function() {return this.first},\n    lastLine: function() {return this.first + this.size - 1},\n\n    clipPos: function(pos) {return clipPos(this, pos)},\n\n    getCursor: function(start) {\n      var range = this.sel.primary(), pos;\n      if (start == null || start == \"head\") { pos = range.head; }\n      else if (start == \"anchor\") { pos = range.anchor; }\n      else if (start == \"end\" || start == \"to\" || start === false) { pos = range.to(); }\n      else { pos = range.from(); }\n      return pos\n    },\n    listSelections: function() { return this.sel.ranges },\n    somethingSelected: function() {return this.sel.somethingSelected()},\n\n    setCursor: docMethodOp(function(line, ch, options) {\n      setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n    }),\n    setSelection: docMethodOp(function(anchor, head, options) {\n      setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);\n    }),\n    extendSelection: docMethodOp(function(head, other, options) {\n      extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);\n    }),\n    extendSelections: docMethodOp(function(heads, options) {\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    extendSelectionsBy: docMethodOp(function(f, options) {\n      var heads = map(this.sel.ranges, f);\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    setSelections: docMethodOp(function(ranges, primary, options) {\n      if (!ranges.length) { return }\n      var out = [];\n      for (var i = 0; i < ranges.length; i++)\n        { out[i] = new Range(clipPos(this, ranges[i].anchor),\n                           clipPos(this, ranges[i].head || ranges[i].anchor)); }\n      if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex); }\n      setSelection(this, normalizeSelection(this.cm, out, primary), options);\n    }),\n    addSelection: docMethodOp(function(anchor, head, options) {\n      var ranges = this.sel.ranges.slice(0);\n      ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));\n      setSelection(this, normalizeSelection(this.cm, ranges, ranges.length - 1), options);\n    }),\n\n    getSelection: function(lineSep) {\n      var ranges = this.sel.ranges, lines;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        lines = lines ? lines.concat(sel) : sel;\n      }\n      if (lineSep === false) { return lines }\n      else { return lines.join(lineSep || this.lineSeparator()) }\n    },\n    getSelections: function(lineSep) {\n      var parts = [], ranges = this.sel.ranges;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        if (lineSep !== false) { sel = sel.join(lineSep || this.lineSeparator()); }\n        parts[i] = sel;\n      }\n      return parts\n    },\n    replaceSelection: function(code, collapse, origin) {\n      var dup = [];\n      for (var i = 0; i < this.sel.ranges.length; i++)\n        { dup[i] = code; }\n      this.replaceSelections(dup, collapse, origin || \"+input\");\n    },\n    replaceSelections: docMethodOp(function(code, collapse, origin) {\n      var changes = [], sel = this.sel;\n      for (var i = 0; i < sel.ranges.length; i++) {\n        var range = sel.ranges[i];\n        changes[i] = {from: range.from(), to: range.to(), text: this.splitLines(code[i]), origin: origin};\n      }\n      var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n      for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)\n        { makeChange(this, changes[i$1]); }\n      if (newSel) { setSelectionReplaceHistory(this, newSel); }\n      else if (this.cm) { ensureCursorVisible(this.cm); }\n    }),\n    undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\");}),\n    redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\");}),\n    undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true);}),\n    redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true);}),\n\n    setExtending: function(val) {this.extend = val;},\n    getExtending: function() {return this.extend},\n\n    historySize: function() {\n      var hist = this.history, done = 0, undone = 0;\n      for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done; } }\n      for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone; } }\n      return {undo: done, redo: undone}\n    },\n    clearHistory: function() {\n      var this$1 = this;\n\n      this.history = new History(this.history);\n      linkedDocs(this, function (doc) { return doc.history = this$1.history; }, true);\n    },\n\n    markClean: function() {\n      this.cleanGeneration = this.changeGeneration(true);\n    },\n    changeGeneration: function(forceSplit) {\n      if (forceSplit)\n        { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null; }\n      return this.history.generation\n    },\n    isClean: function (gen) {\n      return this.history.generation == (gen || this.cleanGeneration)\n    },\n\n    getHistory: function() {\n      return {done: copyHistoryArray(this.history.done),\n              undone: copyHistoryArray(this.history.undone)}\n    },\n    setHistory: function(histData) {\n      var hist = this.history = new History(this.history);\n      hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n    },\n\n    setGutterMarker: docMethodOp(function(line, gutterID, value) {\n      return changeLine(this, line, \"gutter\", function (line) {\n        var markers = line.gutterMarkers || (line.gutterMarkers = {});\n        markers[gutterID] = value;\n        if (!value && isEmpty(markers)) { line.gutterMarkers = null; }\n        return true\n      })\n    }),\n\n    clearGutter: docMethodOp(function(gutterID) {\n      var this$1 = this;\n\n      this.iter(function (line) {\n        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n          changeLine(this$1, line, \"gutter\", function () {\n            line.gutterMarkers[gutterID] = null;\n            if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null; }\n            return true\n          });\n        }\n      });\n    }),\n\n    lineInfo: function(line) {\n      var n;\n      if (typeof line == \"number\") {\n        if (!isLine(this, line)) { return null }\n        n = line;\n        line = getLine(this, line);\n        if (!line) { return null }\n      } else {\n        n = lineNo(line);\n        if (n == null) { return null }\n      }\n      return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\n              textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\n              widgets: line.widgets}\n    },\n\n    addLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        if (!line[prop]) { line[prop] = cls; }\n        else if (classTest(cls).test(line[prop])) { return false }\n        else { line[prop] += \" \" + cls; }\n        return true\n      })\n    }),\n    removeLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        var cur = line[prop];\n        if (!cur) { return false }\n        else if (cls == null) { line[prop] = null; }\n        else {\n          var found = cur.match(classTest(cls));\n          if (!found) { return false }\n          var end = found.index + found[0].length;\n          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n        }\n        return true\n      })\n    }),\n\n    addLineWidget: docMethodOp(function(handle, node, options) {\n      return addLineWidget(this, handle, node, options)\n    }),\n    removeLineWidget: function(widget) { widget.clear(); },\n\n    markText: function(from, to, options) {\n      return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\")\n    },\n    setBookmark: function(pos, options) {\n      var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\n                      insertLeft: options && options.insertLeft,\n                      clearWhenEmpty: false, shared: options && options.shared,\n                      handleMouseEvents: options && options.handleMouseEvents};\n      pos = clipPos(this, pos);\n      return markText(this, pos, pos, realOpts, \"bookmark\")\n    },\n    findMarksAt: function(pos) {\n      pos = clipPos(this, pos);\n      var markers = [], spans = getLine(this, pos.line).markedSpans;\n      if (spans) { for (var i = 0; i < spans.length; ++i) {\n        var span = spans[i];\n        if ((span.from == null || span.from <= pos.ch) &&\n            (span.to == null || span.to >= pos.ch))\n          { markers.push(span.marker.parent || span.marker); }\n      } }\n      return markers\n    },\n    findMarks: function(from, to, filter) {\n      from = clipPos(this, from); to = clipPos(this, to);\n      var found = [], lineNo = from.line;\n      this.iter(from.line, to.line + 1, function (line) {\n        var spans = line.markedSpans;\n        if (spans) { for (var i = 0; i < spans.length; i++) {\n          var span = spans[i];\n          if (!(span.to != null && lineNo == from.line && from.ch >= span.to ||\n                span.from == null && lineNo != from.line ||\n                span.from != null && lineNo == to.line && span.from >= to.ch) &&\n              (!filter || filter(span.marker)))\n            { found.push(span.marker.parent || span.marker); }\n        } }\n        ++lineNo;\n      });\n      return found\n    },\n    getAllMarks: function() {\n      var markers = [];\n      this.iter(function (line) {\n        var sps = line.markedSpans;\n        if (sps) { for (var i = 0; i < sps.length; ++i)\n          { if (sps[i].from != null) { markers.push(sps[i].marker); } } }\n      });\n      return markers\n    },\n\n    posFromIndex: function(off) {\n      var ch, lineNo = this.first, sepSize = this.lineSeparator().length;\n      this.iter(function (line) {\n        var sz = line.text.length + sepSize;\n        if (sz > off) { ch = off; return true }\n        off -= sz;\n        ++lineNo;\n      });\n      return clipPos(this, Pos(lineNo, ch))\n    },\n    indexFromPos: function (coords) {\n      coords = clipPos(this, coords);\n      var index = coords.ch;\n      if (coords.line < this.first || coords.ch < 0) { return 0 }\n      var sepSize = this.lineSeparator().length;\n      this.iter(this.first, coords.line, function (line) { // iter aborts when callback returns a truthy value\n        index += line.text.length + sepSize;\n      });\n      return index\n    },\n\n    copy: function(copyHistory) {\n      var doc = new Doc(getLines(this, this.first, this.first + this.size),\n                        this.modeOption, this.first, this.lineSep, this.direction);\n      doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;\n      doc.sel = this.sel;\n      doc.extend = false;\n      if (copyHistory) {\n        doc.history.undoDepth = this.history.undoDepth;\n        doc.setHistory(this.getHistory());\n      }\n      return doc\n    },\n\n    linkedDoc: function(options) {\n      if (!options) { options = {}; }\n      var from = this.first, to = this.first + this.size;\n      if (options.from != null && options.from > from) { from = options.from; }\n      if (options.to != null && options.to < to) { to = options.to; }\n      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);\n      if (options.sharedHist) { copy.history = this.history\n      ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});\n      copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];\n      copySharedMarkers(copy, findSharedMarkers(this));\n      return copy\n    },\n    unlinkDoc: function(other) {\n      if (other instanceof CodeMirror) { other = other.doc; }\n      if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {\n        var link = this.linked[i];\n        if (link.doc != other) { continue }\n        this.linked.splice(i, 1);\n        other.unlinkDoc(this);\n        detachSharedMarkers(findSharedMarkers(this));\n        break\n      } }\n      // If the histories were shared, split them again\n      if (other.history == this.history) {\n        var splitIds = [other.id];\n        linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true);\n        other.history = new History(null);\n        other.history.done = copyHistoryArray(this.history.done, splitIds);\n        other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n      }\n    },\n    iterLinkedDocs: function(f) {linkedDocs(this, f);},\n\n    getMode: function() {return this.mode},\n    getEditor: function() {return this.cm},\n\n    splitLines: function(str) {\n      if (this.lineSep) { return str.split(this.lineSep) }\n      return splitLinesAuto(str)\n    },\n    lineSeparator: function() { return this.lineSep || \"\\n\" },\n\n    setDirection: docMethodOp(function (dir) {\n      if (dir != \"rtl\") { dir = \"ltr\"; }\n      if (dir == this.direction) { return }\n      this.direction = dir;\n      this.iter(function (line) { return line.order = null; });\n      if (this.cm) { directionChanged(this.cm); }\n    })\n  });\n\n  // Public alias.\n  Doc.prototype.eachLine = Doc.prototype.iter;\n\n  // Kludge to work around strange IE behavior where it'll sometimes\n  // re-fire a series of drag-related events right after the drop (#1551)\n  var lastDrop = 0;\n\n  function onDrop(e) {\n    var cm = this;\n    clearDragCursor(cm);\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\n      { return }\n    e_preventDefault(e);\n    if (ie) { lastDrop = +new Date; }\n    var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;\n    if (!pos || cm.isReadOnly()) { return }\n    // Might be a file drop, in which case we simply extract the text\n    // and insert it.\n    if (files && files.length && window.FileReader && window.File) {\n      var n = files.length, text = Array(n), read = 0;\n      var markAsReadAndPasteIfAllFilesAreRead = function () {\n        if (++read == n) {\n          operation(cm, function () {\n            pos = clipPos(cm.doc, pos);\n            var change = {from: pos, to: pos,\n                          text: cm.doc.splitLines(\n                              text.filter(function (t) { return t != null; }).join(cm.doc.lineSeparator())),\n                          origin: \"paste\"};\n            makeChange(cm.doc, change);\n            setSelectionReplaceHistory(cm.doc, simpleSelection(clipPos(cm.doc, pos), clipPos(cm.doc, changeEnd(change))));\n          })();\n        }\n      };\n      var readTextFromFile = function (file, i) {\n        if (cm.options.allowDropFileTypes &&\n            indexOf(cm.options.allowDropFileTypes, file.type) == -1) {\n          markAsReadAndPasteIfAllFilesAreRead();\n          return\n        }\n        var reader = new FileReader;\n        reader.onerror = function () { return markAsReadAndPasteIfAllFilesAreRead(); };\n        reader.onload = function () {\n          var content = reader.result;\n          if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) {\n            markAsReadAndPasteIfAllFilesAreRead();\n            return\n          }\n          text[i] = content;\n          markAsReadAndPasteIfAllFilesAreRead();\n        };\n        reader.readAsText(file);\n      };\n      for (var i = 0; i < files.length; i++) { readTextFromFile(files[i], i); }\n    } else { // Normal drop\n      // Don't do a replace if the drop happened inside of the selected text.\n      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n        cm.state.draggingText(e);\n        // Ensure the editor is re-focused\n        setTimeout(function () { return cm.display.input.focus(); }, 20);\n        return\n      }\n      try {\n        var text$1 = e.dataTransfer.getData(\"Text\");\n        if (text$1) {\n          var selected;\n          if (cm.state.draggingText && !cm.state.draggingText.copy)\n            { selected = cm.listSelections(); }\n          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n          if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)\n            { replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\"); } }\n          cm.replaceSelection(text$1, \"around\", \"paste\");\n          cm.display.input.focus();\n        }\n      }\n      catch(e$1){}\n    }\n  }\n\n  function onDragStart(cm, e) {\n    if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }\n\n    e.dataTransfer.setData(\"Text\", cm.getSelection());\n    e.dataTransfer.effectAllowed = \"copyMove\";\n\n    // Use dummy image instead of default browsers image.\n    // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n    if (e.dataTransfer.setDragImage && !safari) {\n      var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n      img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n      if (presto) {\n        img.width = img.height = 1;\n        cm.display.wrapper.appendChild(img);\n        // Force a relayout, or Opera won't use our image for some obscure reason\n        img._top = img.offsetTop;\n      }\n      e.dataTransfer.setDragImage(img, 0, 0);\n      if (presto) { img.parentNode.removeChild(img); }\n    }\n  }\n\n  function onDragOver(cm, e) {\n    var pos = posFromMouse(cm, e);\n    if (!pos) { return }\n    var frag = document.createDocumentFragment();\n    drawSelectionCursor(cm, pos, frag);\n    if (!cm.display.dragCursor) {\n      cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n    }\n    removeChildrenAndAdd(cm.display.dragCursor, frag);\n  }\n\n  function clearDragCursor(cm) {\n    if (cm.display.dragCursor) {\n      cm.display.lineSpace.removeChild(cm.display.dragCursor);\n      cm.display.dragCursor = null;\n    }\n  }\n\n  // These must be handled carefully, because naively registering a\n  // handler for each editor will cause the editors to never be\n  // garbage collected.\n\n  function forEachCodeMirror(f) {\n    if (!document.getElementsByClassName) { return }\n    var byClass = document.getElementsByClassName(\"CodeMirror\"), editors = [];\n    for (var i = 0; i < byClass.length; i++) {\n      var cm = byClass[i].CodeMirror;\n      if (cm) { editors.push(cm); }\n    }\n    if (editors.length) { editors[0].operation(function () {\n      for (var i = 0; i < editors.length; i++) { f(editors[i]); }\n    }); }\n  }\n\n  var globalsRegistered = false;\n  function ensureGlobalHandlers() {\n    if (globalsRegistered) { return }\n    registerGlobalHandlers();\n    globalsRegistered = true;\n  }\n  function registerGlobalHandlers() {\n    // When the window resizes, we need to refresh active editors.\n    var resizeTimer;\n    on(window, \"resize\", function () {\n      if (resizeTimer == null) { resizeTimer = setTimeout(function () {\n        resizeTimer = null;\n        forEachCodeMirror(onResize);\n      }, 100); }\n    });\n    // When the window loses focus, we want to show the editor as blurred\n    on(window, \"blur\", function () { return forEachCodeMirror(onBlur); });\n  }\n  // Called when the window resizes\n  function onResize(cm) {\n    var d = cm.display;\n    // Might be a text scaling operation, clear size caches.\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n    d.scrollbarsClipped = false;\n    cm.setSize();\n  }\n\n  var keyNames = {\n    3: \"Pause\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\n    19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\n    36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\n    46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\n    106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 145: \"ScrollLock\",\n    173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\n    221: \"]\", 222: \"'\", 224: \"Mod\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\n    63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\n  };\n\n  // Number keys\n  for (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i); }\n  // Alphabetic keys\n  for (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1); }\n  // Function keys\n  for (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2; }\n\n  var keyMap = {};\n\n  keyMap.basic = {\n    \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\n    \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\n    \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\n    \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\n    \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\n    \"Esc\": \"singleSelection\"\n  };\n  // Note that the save and find-related commands aren't defined by\n  // default. User code or addons can define them. Unknown commands\n  // are simply ignored.\n  keyMap.pcDefault = {\n    \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\n    \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\n    \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\n    \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\n    \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\n    \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\n    \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\n    \"fallthrough\": \"basic\"\n  };\n  // Very basic readline/emacs-style bindings, which are standard on Mac.\n  keyMap.emacsy = {\n    \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\n    \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\", \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\",\n    \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\",\n    \"Ctrl-T\": \"transposeChars\", \"Ctrl-O\": \"openLine\"\n  };\n  keyMap.macDefault = {\n    \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\n    \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\n    \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\n    \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\n    \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\n    \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\n    \"fallthrough\": [\"basic\", \"emacsy\"]\n  };\n  keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault;\n\n  // KEYMAP DISPATCH\n\n  function normalizeKeyName(name) {\n    var parts = name.split(/-(?!$)/);\n    name = parts[parts.length - 1];\n    var alt, ctrl, shift, cmd;\n    for (var i = 0; i < parts.length - 1; i++) {\n      var mod = parts[i];\n      if (/^(cmd|meta|m)$/i.test(mod)) { cmd = true; }\n      else if (/^a(lt)?$/i.test(mod)) { alt = true; }\n      else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true; }\n      else if (/^s(hift)?$/i.test(mod)) { shift = true; }\n      else { throw new Error(\"Unrecognized modifier name: \" + mod) }\n    }\n    if (alt) { name = \"Alt-\" + name; }\n    if (ctrl) { name = \"Ctrl-\" + name; }\n    if (cmd) { name = \"Cmd-\" + name; }\n    if (shift) { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // This is a kludge to keep keymaps mostly working as raw objects\n  // (backwards compatibility) while at the same time support features\n  // like normalization and multi-stroke key bindings. It compiles a\n  // new normalized keymap, and then updates the old object to reflect\n  // this.\n  function normalizeKeyMap(keymap) {\n    var copy = {};\n    for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {\n      var value = keymap[keyname];\n      if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) { continue }\n      if (value == \"...\") { delete keymap[keyname]; continue }\n\n      var keys = map(keyname.split(\" \"), normalizeKeyName);\n      for (var i = 0; i < keys.length; i++) {\n        var val = (void 0), name = (void 0);\n        if (i == keys.length - 1) {\n          name = keys.join(\" \");\n          val = value;\n        } else {\n          name = keys.slice(0, i + 1).join(\" \");\n          val = \"...\";\n        }\n        var prev = copy[name];\n        if (!prev) { copy[name] = val; }\n        else if (prev != val) { throw new Error(\"Inconsistent bindings for \" + name) }\n      }\n      delete keymap[keyname];\n    } }\n    for (var prop in copy) { keymap[prop] = copy[prop]; }\n    return keymap\n  }\n\n  function lookupKey(key, map, handle, context) {\n    map = getKeyMap(map);\n    var found = map.call ? map.call(key, context) : map[key];\n    if (found === false) { return \"nothing\" }\n    if (found === \"...\") { return \"multi\" }\n    if (found != null && handle(found)) { return \"handled\" }\n\n    if (map.fallthrough) {\n      if (Object.prototype.toString.call(map.fallthrough) != \"[object Array]\")\n        { return lookupKey(key, map.fallthrough, handle, context) }\n      for (var i = 0; i < map.fallthrough.length; i++) {\n        var result = lookupKey(key, map.fallthrough[i], handle, context);\n        if (result) { return result }\n      }\n    }\n  }\n\n  // Modifier key presses don't count as 'real' key presses for the\n  // purpose of keymap fallthrough.\n  function isModifierKey(value) {\n    var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n    return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\"\n  }\n\n  function addModifierNames(name, event, noShift) {\n    var base = name;\n    if (event.altKey && base != \"Alt\") { name = \"Alt-\" + name; }\n    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") { name = \"Ctrl-\" + name; }\n    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Mod\") { name = \"Cmd-\" + name; }\n    if (!noShift && event.shiftKey && base != \"Shift\") { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // Look up the name of a key as indicated by an event object.\n  function keyName(event, noShift) {\n    if (presto && event.keyCode == 34 && event[\"char\"]) { return false }\n    var name = keyNames[event.keyCode];\n    if (name == null || event.altGraphKey) { return false }\n    // Ctrl-ScrollLock has keyCode 3, same as Ctrl-Pause,\n    // so we'll use event.code when available (Chrome 48+, FF 38+, Safari 10.1+)\n    if (event.keyCode == 3 && event.code) { name = event.code; }\n    return addModifierNames(name, event, noShift)\n  }\n\n  function getKeyMap(val) {\n    return typeof val == \"string\" ? keyMap[val] : val\n  }\n\n  // Helper for deleting text near the selection(s), used to implement\n  // backspace, delete, and similar functionality.\n  function deleteNearSelection(cm, compute) {\n    var ranges = cm.doc.sel.ranges, kill = [];\n    // Build up a set of ranges to kill first, merging overlapping\n    // ranges.\n    for (var i = 0; i < ranges.length; i++) {\n      var toKill = compute(ranges[i]);\n      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n        var replaced = kill.pop();\n        if (cmp(replaced.from, toKill.from) < 0) {\n          toKill.from = replaced.from;\n          break\n        }\n      }\n      kill.push(toKill);\n    }\n    // Next, remove those actual ranges.\n    runInOp(cm, function () {\n      for (var i = kill.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\"); }\n      ensureCursorVisible(cm);\n    });\n  }\n\n  function moveCharLogically(line, ch, dir) {\n    var target = skipExtendingChars(line.text, ch + dir, dir);\n    return target < 0 || target > line.text.length ? null : target\n  }\n\n  function moveLogically(line, start, dir) {\n    var ch = moveCharLogically(line, start.ch, dir);\n    return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\")\n  }\n\n  function endOfLine(visually, cm, lineObj, lineNo, dir) {\n    if (visually) {\n      if (cm.doc.direction == \"rtl\") { dir = -dir; }\n      var order = getOrder(lineObj, cm.doc.direction);\n      if (order) {\n        var part = dir < 0 ? lst(order) : order[0];\n        var moveInStorageOrder = (dir < 0) == (part.level == 1);\n        var sticky = moveInStorageOrder ? \"after\" : \"before\";\n        var ch;\n        // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\n        // it could be that the last bidi part is not on the last visual line,\n        // since visual lines contain content order-consecutive chunks.\n        // Thus, in rtl, we are looking for the first (content-order) character\n        // in the rtl chunk that is on the last line (that is, the same line\n        // as the last (content-order) character).\n        if (part.level > 0 || cm.doc.direction == \"rtl\") {\n          var prep = prepareMeasureForLine(cm, lineObj);\n          ch = dir < 0 ? lineObj.text.length - 1 : 0;\n          var targetTop = measureCharPrepared(cm, prep, ch).top;\n          ch = findFirst(function (ch) { return measureCharPrepared(cm, prep, ch).top == targetTop; }, (dir < 0) == (part.level == 1) ? part.from : part.to - 1, ch);\n          if (sticky == \"before\") { ch = moveCharLogically(lineObj, ch, 1); }\n        } else { ch = dir < 0 ? part.to : part.from; }\n        return new Pos(lineNo, ch, sticky)\n      }\n    }\n    return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\")\n  }\n\n  function moveVisually(cm, line, start, dir) {\n    var bidi = getOrder(line, cm.doc.direction);\n    if (!bidi) { return moveLogically(line, start, dir) }\n    if (start.ch >= line.text.length) {\n      start.ch = line.text.length;\n      start.sticky = \"before\";\n    } else if (start.ch <= 0) {\n      start.ch = 0;\n      start.sticky = \"after\";\n    }\n    var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos];\n    if (cm.doc.direction == \"ltr\" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n      // Case 1: We move within an ltr part in an ltr editor. Even with wrapped lines,\n      // nothing interesting happens.\n      return moveLogically(line, start, dir)\n    }\n\n    var mv = function (pos, dir) { return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir); };\n    var prep;\n    var getWrappedLineExtent = function (ch) {\n      if (!cm.options.lineWrapping) { return {begin: 0, end: line.text.length} }\n      prep = prep || prepareMeasureForLine(cm, line);\n      return wrappedLineExtentChar(cm, line, prep, ch)\n    };\n    var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch);\n\n    if (cm.doc.direction == \"rtl\" || part.level == 1) {\n      var moveInStorageOrder = (part.level == 1) == (dir < 0);\n      var ch = mv(start, moveInStorageOrder ? 1 : -1);\n      if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n        // Case 2: We move within an rtl part or in an rtl editor on the same visual line\n        var sticky = moveInStorageOrder ? \"before\" : \"after\";\n        return new Pos(start.line, ch, sticky)\n      }\n    }\n\n    // Case 3: Could not move within this bidi part in this visual line, so leave\n    // the current bidi part\n\n    var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\n      var getRes = function (ch, moveInStorageOrder) { return moveInStorageOrder\n        ? new Pos(start.line, mv(ch, 1), \"before\")\n        : new Pos(start.line, ch, \"after\"); };\n\n      for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n        var part = bidi[partPos];\n        var moveInStorageOrder = (dir > 0) == (part.level != 1);\n        var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1);\n        if (part.from <= ch && ch < part.to) { return getRes(ch, moveInStorageOrder) }\n        ch = moveInStorageOrder ? part.from : mv(part.to, -1);\n        if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) { return getRes(ch, moveInStorageOrder) }\n      }\n    };\n\n    // Case 3a: Look for other bidi parts on the same visual line\n    var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent);\n    if (res) { return res }\n\n    // Case 3b: Look for other bidi parts on the next visual line\n    var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1);\n    if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n      res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));\n      if (res) { return res }\n    }\n\n    // Case 4: Nowhere to move\n    return null\n  }\n\n  // Commands are parameter-less actions that can be performed on an\n  // editor, mostly used for keybindings.\n  var commands = {\n    selectAll: selectAll,\n    singleSelection: function (cm) { return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll); },\n    killLine: function (cm) { return deleteNearSelection(cm, function (range) {\n      if (range.empty()) {\n        var len = getLine(cm.doc, range.head.line).text.length;\n        if (range.head.ch == len && range.head.line < cm.lastLine())\n          { return {from: range.head, to: Pos(range.head.line + 1, 0)} }\n        else\n          { return {from: range.head, to: Pos(range.head.line, len)} }\n      } else {\n        return {from: range.from(), to: range.to()}\n      }\n    }); },\n    deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0),\n      to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\n    }); }); },\n    delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0), to: range.from()\n    }); }); },\n    delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var leftPos = cm.coordsChar({left: 0, top: top}, \"div\");\n      return {from: leftPos, to: range.from()}\n    }); },\n    delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\");\n      return {from: range.from(), to: rightPos }\n    }); },\n    undo: function (cm) { return cm.undo(); },\n    redo: function (cm) { return cm.redo(); },\n    undoSelection: function (cm) { return cm.undoSelection(); },\n    redoSelection: function (cm) { return cm.redoSelection(); },\n    goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },\n    goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },\n    goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },\n      {origin: \"+move\", bias: -1}\n    ); },\n    goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: 0, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      var pos = cm.coordsChar({left: 0, top: top}, \"div\");\n      if (pos.ch < cm.getLine(pos.line).search(/\\S/)) { return lineStartSmart(cm, range.head) }\n      return pos\n    }, sel_move); },\n    goLineUp: function (cm) { return cm.moveV(-1, \"line\"); },\n    goLineDown: function (cm) { return cm.moveV(1, \"line\"); },\n    goPageUp: function (cm) { return cm.moveV(-1, \"page\"); },\n    goPageDown: function (cm) { return cm.moveV(1, \"page\"); },\n    goCharLeft: function (cm) { return cm.moveH(-1, \"char\"); },\n    goCharRight: function (cm) { return cm.moveH(1, \"char\"); },\n    goColumnLeft: function (cm) { return cm.moveH(-1, \"column\"); },\n    goColumnRight: function (cm) { return cm.moveH(1, \"column\"); },\n    goWordLeft: function (cm) { return cm.moveH(-1, \"word\"); },\n    goGroupRight: function (cm) { return cm.moveH(1, \"group\"); },\n    goGroupLeft: function (cm) { return cm.moveH(-1, \"group\"); },\n    goWordRight: function (cm) { return cm.moveH(1, \"word\"); },\n    delCharBefore: function (cm) { return cm.deleteH(-1, \"codepoint\"); },\n    delCharAfter: function (cm) { return cm.deleteH(1, \"char\"); },\n    delWordBefore: function (cm) { return cm.deleteH(-1, \"word\"); },\n    delWordAfter: function (cm) { return cm.deleteH(1, \"word\"); },\n    delGroupBefore: function (cm) { return cm.deleteH(-1, \"group\"); },\n    delGroupAfter: function (cm) { return cm.deleteH(1, \"group\"); },\n    indentAuto: function (cm) { return cm.indentSelection(\"smart\"); },\n    indentMore: function (cm) { return cm.indentSelection(\"add\"); },\n    indentLess: function (cm) { return cm.indentSelection(\"subtract\"); },\n    insertTab: function (cm) { return cm.replaceSelection(\"\\t\"); },\n    insertSoftTab: function (cm) {\n      var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;\n      for (var i = 0; i < ranges.length; i++) {\n        var pos = ranges[i].from();\n        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n        spaces.push(spaceStr(tabSize - col % tabSize));\n      }\n      cm.replaceSelections(spaces);\n    },\n    defaultTab: function (cm) {\n      if (cm.somethingSelected()) { cm.indentSelection(\"add\"); }\n      else { cm.execCommand(\"insertTab\"); }\n    },\n    // Swap the two chars left and right of each selection's head.\n    // Move cursor behind the two swapped characters afterwards.\n    //\n    // Doesn't consider line feeds a character.\n    // Doesn't scan more than one line above to find a character.\n    // Doesn't do anything on an empty line.\n    // Doesn't do anything with non-empty selections.\n    transposeChars: function (cm) { return runInOp(cm, function () {\n      var ranges = cm.listSelections(), newSel = [];\n      for (var i = 0; i < ranges.length; i++) {\n        if (!ranges[i].empty()) { continue }\n        var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;\n        if (line) {\n          if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1); }\n          if (cur.ch > 0) {\n            cur = new Pos(cur.line, cur.ch + 1);\n            cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\n                            Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n          } else if (cur.line > cm.doc.first) {\n            var prev = getLine(cm.doc, cur.line - 1).text;\n            if (prev) {\n              cur = new Pos(cur.line, 1);\n              cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\n                              prev.charAt(prev.length - 1),\n                              Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\");\n            }\n          }\n        }\n        newSel.push(new Range(cur, cur));\n      }\n      cm.setSelections(newSel);\n    }); },\n    newlineAndIndent: function (cm) { return runInOp(cm, function () {\n      var sels = cm.listSelections();\n      for (var i = sels.length - 1; i >= 0; i--)\n        { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\"); }\n      sels = cm.listSelections();\n      for (var i$1 = 0; i$1 < sels.length; i$1++)\n        { cm.indentLine(sels[i$1].from().line, null, true); }\n      ensureCursorVisible(cm);\n    }); },\n    openLine: function (cm) { return cm.replaceSelection(\"\\n\", \"start\"); },\n    toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }\n  };\n\n\n  function lineStart(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLine(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, visual, lineN, 1)\n  }\n  function lineEnd(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLineEnd(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, line, lineN, -1)\n  }\n  function lineStartSmart(cm, pos) {\n    var start = lineStart(cm, pos.line);\n    var line = getLine(cm.doc, start.line);\n    var order = getOrder(line, cm.doc.direction);\n    if (!order || order[0].level == 0) {\n      var firstNonWS = Math.max(start.ch, line.text.search(/\\S/));\n      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n      return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky)\n    }\n    return start\n  }\n\n  // Run a handler that was bound to a key.\n  function doHandleBinding(cm, bound, dropShift) {\n    if (typeof bound == \"string\") {\n      bound = commands[bound];\n      if (!bound) { return false }\n    }\n    // Ensure previous input has been read, so that the handler sees a\n    // consistent view of the document\n    cm.display.input.ensurePolled();\n    var prevShift = cm.display.shift, done = false;\n    try {\n      if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n      if (dropShift) { cm.display.shift = false; }\n      done = bound(cm) != Pass;\n    } finally {\n      cm.display.shift = prevShift;\n      cm.state.suppressEdits = false;\n    }\n    return done\n  }\n\n  function lookupKeyForEditor(cm, name, handle) {\n    for (var i = 0; i < cm.state.keyMaps.length; i++) {\n      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n      if (result) { return result }\n    }\n    return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\n      || lookupKey(name, cm.options.keyMap, handle, cm)\n  }\n\n  // Note that, despite the name, this function is also used to check\n  // for bound mouse clicks.\n\n  var stopSeq = new Delayed;\n\n  function dispatchKey(cm, name, e, handle) {\n    var seq = cm.state.keySeq;\n    if (seq) {\n      if (isModifierKey(name)) { return \"handled\" }\n      if (/\\'$/.test(name))\n        { cm.state.keySeq = null; }\n      else\n        { stopSeq.set(50, function () {\n          if (cm.state.keySeq == seq) {\n            cm.state.keySeq = null;\n            cm.display.input.reset();\n          }\n        }); }\n      if (dispatchKeyInner(cm, seq + \" \" + name, e, handle)) { return true }\n    }\n    return dispatchKeyInner(cm, name, e, handle)\n  }\n\n  function dispatchKeyInner(cm, name, e, handle) {\n    var result = lookupKeyForEditor(cm, name, handle);\n\n    if (result == \"multi\")\n      { cm.state.keySeq = name; }\n    if (result == \"handled\")\n      { signalLater(cm, \"keyHandled\", cm, name, e); }\n\n    if (result == \"handled\" || result == \"multi\") {\n      e_preventDefault(e);\n      restartBlink(cm);\n    }\n\n    return !!result\n  }\n\n  // Handle a key from the keydown event.\n  function handleKeyBinding(cm, e) {\n    var name = keyName(e, true);\n    if (!name) { return false }\n\n    if (e.shiftKey && !cm.state.keySeq) {\n      // First try to resolve full name (including 'Shift-'). Failing\n      // that, see if there is a cursor-motion command (starting with\n      // 'go') bound to the keyname without 'Shift-'.\n      return dispatchKey(cm, \"Shift-\" + name, e, function (b) { return doHandleBinding(cm, b, true); })\n          || dispatchKey(cm, name, e, function (b) {\n               if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\n                 { return doHandleBinding(cm, b) }\n             })\n    } else {\n      return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })\n    }\n  }\n\n  // Handle a key from the keypress event\n  function handleCharBinding(cm, e, ch) {\n    return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) { return doHandleBinding(cm, b, true); })\n  }\n\n  var lastStoppedKey = null;\n  function onKeyDown(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    cm.curOp.focus = activeElt();\n    if (signalDOMEvent(cm, e)) { return }\n    // IE does strange things with escape.\n    if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false; }\n    var code = e.keyCode;\n    cm.display.shift = code == 16 || e.shiftKey;\n    var handled = handleKeyBinding(cm, e);\n    if (presto) {\n      lastStoppedKey = handled ? code : null;\n      // Opera has no cut event... we try to at least catch the key combo\n      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\n        { cm.replaceSelection(\"\", null, \"cut\"); }\n    }\n    if (gecko && !mac && !handled && code == 46 && e.shiftKey && !e.ctrlKey && document.execCommand)\n      { document.execCommand(\"cut\"); }\n\n    // Turn mouse into crosshair when Alt is held on Mac.\n    if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\n      { showCrossHair(cm); }\n  }\n\n  function showCrossHair(cm) {\n    var lineDiv = cm.display.lineDiv;\n    addClass(lineDiv, \"CodeMirror-crosshair\");\n\n    function up(e) {\n      if (e.keyCode == 18 || !e.altKey) {\n        rmClass(lineDiv, \"CodeMirror-crosshair\");\n        off(document, \"keyup\", up);\n        off(document, \"mouseover\", up);\n      }\n    }\n    on(document, \"keyup\", up);\n    on(document, \"mouseover\", up);\n  }\n\n  function onKeyUp(e) {\n    if (e.keyCode == 16) { this.doc.sel.shift = false; }\n    signalDOMEvent(this, e);\n  }\n\n  function onKeyPress(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }\n    var keyCode = e.keyCode, charCode = e.charCode;\n    if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}\n    if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }\n    var ch = String.fromCharCode(charCode == null ? keyCode : charCode);\n    // Some browsers fire keypress events for backspace\n    if (ch == \"\\x08\") { return }\n    if (handleCharBinding(cm, e, ch)) { return }\n    cm.display.input.onKeyPress(e);\n  }\n\n  var DOUBLECLICK_DELAY = 400;\n\n  var PastClick = function(time, pos, button) {\n    this.time = time;\n    this.pos = pos;\n    this.button = button;\n  };\n\n  PastClick.prototype.compare = function (time, pos, button) {\n    return this.time + DOUBLECLICK_DELAY > time &&\n      cmp(pos, this.pos) == 0 && button == this.button\n  };\n\n  var lastClick, lastDoubleClick;\n  function clickRepeat(pos, button) {\n    var now = +new Date;\n    if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {\n      lastClick = lastDoubleClick = null;\n      return \"triple\"\n    } else if (lastClick && lastClick.compare(now, pos, button)) {\n      lastDoubleClick = new PastClick(now, pos, button);\n      lastClick = null;\n      return \"double\"\n    } else {\n      lastClick = new PastClick(now, pos, button);\n      lastDoubleClick = null;\n      return \"single\"\n    }\n  }\n\n  // A mouse down can be a single click, double click, triple click,\n  // start of selection drag, start of text drag, new cursor\n  // (ctrl-click), rectangle drag (alt-drag), or xwin\n  // middle-click-paste. Or it might be a click on something we should\n  // not interfere with, such as a scrollbar or widget.\n  function onMouseDown(e) {\n    var cm = this, display = cm.display;\n    if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }\n    display.input.ensurePolled();\n    display.shift = e.shiftKey;\n\n    if (eventInWidget(display, e)) {\n      if (!webkit) {\n        // Briefly turn off draggability, to allow widgets to do\n        // normal dragging things.\n        display.scroller.draggable = false;\n        setTimeout(function () { return display.scroller.draggable = true; }, 100);\n      }\n      return\n    }\n    if (clickInGutter(cm, e)) { return }\n    var pos = posFromMouse(cm, e), button = e_button(e), repeat = pos ? clickRepeat(pos, button) : \"single\";\n    window.focus();\n\n    // #3261: make sure, that we're not starting a second selection\n    if (button == 1 && cm.state.selectingText)\n      { cm.state.selectingText(e); }\n\n    if (pos && handleMappedButton(cm, button, pos, repeat, e)) { return }\n\n    if (button == 1) {\n      if (pos) { leftButtonDown(cm, pos, repeat, e); }\n      else if (e_target(e) == display.scroller) { e_preventDefault(e); }\n    } else if (button == 2) {\n      if (pos) { extendSelection(cm.doc, pos); }\n      setTimeout(function () { return display.input.focus(); }, 20);\n    } else if (button == 3) {\n      if (captureRightClick) { cm.display.input.onContextMenu(e); }\n      else { delayBlurEvent(cm); }\n    }\n  }\n\n  function handleMappedButton(cm, button, pos, repeat, event) {\n    var name = \"Click\";\n    if (repeat == \"double\") { name = \"Double\" + name; }\n    else if (repeat == \"triple\") { name = \"Triple\" + name; }\n    name = (button == 1 ? \"Left\" : button == 2 ? \"Middle\" : \"Right\") + name;\n\n    return dispatchKey(cm,  addModifierNames(name, event), event, function (bound) {\n      if (typeof bound == \"string\") { bound = commands[bound]; }\n      if (!bound) { return false }\n      var done = false;\n      try {\n        if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n        done = bound(cm, pos) != Pass;\n      } finally {\n        cm.state.suppressEdits = false;\n      }\n      return done\n    })\n  }\n\n  function configureMouse(cm, repeat, event) {\n    var option = cm.getOption(\"configureMouse\");\n    var value = option ? option(cm, repeat, event) : {};\n    if (value.unit == null) {\n      var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;\n      value.unit = rect ? \"rectangle\" : repeat == \"single\" ? \"char\" : repeat == \"double\" ? \"word\" : \"line\";\n    }\n    if (value.extend == null || cm.doc.extend) { value.extend = cm.doc.extend || event.shiftKey; }\n    if (value.addNew == null) { value.addNew = mac ? event.metaKey : event.ctrlKey; }\n    if (value.moveOnDrag == null) { value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey); }\n    return value\n  }\n\n  function leftButtonDown(cm, pos, repeat, event) {\n    if (ie) { setTimeout(bind(ensureFocus, cm), 0); }\n    else { cm.curOp.focus = activeElt(); }\n\n    var behavior = configureMouse(cm, repeat, event);\n\n    var sel = cm.doc.sel, contained;\n    if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\n        repeat == \"single\" && (contained = sel.contains(pos)) > -1 &&\n        (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) &&\n        (cmp(contained.to(), pos) > 0 || pos.xRel < 0))\n      { leftButtonStartDrag(cm, event, pos, behavior); }\n    else\n      { leftButtonSelect(cm, event, pos, behavior); }\n  }\n\n  // Start a text drag. When it ends, see if any dragging actually\n  // happen, and treat as a click if it didn't.\n  function leftButtonStartDrag(cm, event, pos, behavior) {\n    var display = cm.display, moved = false;\n    var dragEnd = operation(cm, function (e) {\n      if (webkit) { display.scroller.draggable = false; }\n      cm.state.draggingText = false;\n      if (cm.state.delayingBlurEvent) {\n        if (cm.hasFocus()) { cm.state.delayingBlurEvent = false; }\n        else { delayBlurEvent(cm); }\n      }\n      off(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n      off(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n      off(display.scroller, \"dragstart\", dragStart);\n      off(display.scroller, \"drop\", dragEnd);\n      if (!moved) {\n        e_preventDefault(e);\n        if (!behavior.addNew)\n          { extendSelection(cm.doc, pos, null, null, behavior.extend); }\n        // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n        if ((webkit && !safari) || ie && ie_version == 9)\n          { setTimeout(function () {display.wrapper.ownerDocument.body.focus({preventScroll: true}); display.input.focus();}, 20); }\n        else\n          { display.input.focus(); }\n      }\n    });\n    var mouseMove = function(e2) {\n      moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;\n    };\n    var dragStart = function () { return moved = true; };\n    // Let the drag handler handle this.\n    if (webkit) { display.scroller.draggable = true; }\n    cm.state.draggingText = dragEnd;\n    dragEnd.copy = !behavior.moveOnDrag;\n    on(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n    on(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n    on(display.scroller, \"dragstart\", dragStart);\n    on(display.scroller, \"drop\", dragEnd);\n\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { return display.input.focus(); }, 20);\n    // IE's approach to draggable\n    if (display.scroller.dragDrop) { display.scroller.dragDrop(); }\n  }\n\n  function rangeForUnit(cm, pos, unit) {\n    if (unit == \"char\") { return new Range(pos, pos) }\n    if (unit == \"word\") { return cm.findWordAt(pos) }\n    if (unit == \"line\") { return new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\n    var result = unit(cm, pos);\n    return new Range(result.from, result.to)\n  }\n\n  // Normal selection, as opposed to text dragging.\n  function leftButtonSelect(cm, event, start, behavior) {\n    if (ie) { delayBlurEvent(cm); }\n    var display = cm.display, doc = cm.doc;\n    e_preventDefault(event);\n\n    var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges;\n    if (behavior.addNew && !behavior.extend) {\n      ourIndex = doc.sel.contains(start);\n      if (ourIndex > -1)\n        { ourRange = ranges[ourIndex]; }\n      else\n        { ourRange = new Range(start, start); }\n    } else {\n      ourRange = doc.sel.primary();\n      ourIndex = doc.sel.primIndex;\n    }\n\n    if (behavior.unit == \"rectangle\") {\n      if (!behavior.addNew) { ourRange = new Range(start, start); }\n      start = posFromMouse(cm, event, true, true);\n      ourIndex = -1;\n    } else {\n      var range = rangeForUnit(cm, start, behavior.unit);\n      if (behavior.extend)\n        { ourRange = extendRange(ourRange, range.anchor, range.head, behavior.extend); }\n      else\n        { ourRange = range; }\n    }\n\n    if (!behavior.addNew) {\n      ourIndex = 0;\n      setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n      startSel = doc.sel;\n    } else if (ourIndex == -1) {\n      ourIndex = ranges.length;\n      setSelection(doc, normalizeSelection(cm, ranges.concat([ourRange]), ourIndex),\n                   {scroll: false, origin: \"*mouse\"});\n    } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == \"char\" && !behavior.extend) {\n      setSelection(doc, normalizeSelection(cm, ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\n                   {scroll: false, origin: \"*mouse\"});\n      startSel = doc.sel;\n    } else {\n      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n    }\n\n    var lastPos = start;\n    function extendTo(pos) {\n      if (cmp(lastPos, pos) == 0) { return }\n      lastPos = pos;\n\n      if (behavior.unit == \"rectangle\") {\n        var ranges = [], tabSize = cm.options.tabSize;\n        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n        var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);\n        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\n             line <= end; line++) {\n          var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize);\n          if (left == right)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))); }\n          else if (text.length > leftPos)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))); }\n        }\n        if (!ranges.length) { ranges.push(new Range(start, start)); }\n        setSelection(doc, normalizeSelection(cm, startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\n                     {origin: \"*mouse\", scroll: false});\n        cm.scrollIntoView(pos);\n      } else {\n        var oldRange = ourRange;\n        var range = rangeForUnit(cm, pos, behavior.unit);\n        var anchor = oldRange.anchor, head;\n        if (cmp(range.anchor, anchor) > 0) {\n          head = range.head;\n          anchor = minPos(oldRange.from(), range.anchor);\n        } else {\n          head = range.anchor;\n          anchor = maxPos(oldRange.to(), range.head);\n        }\n        var ranges$1 = startSel.ranges.slice(0);\n        ranges$1[ourIndex] = bidiSimplify(cm, new Range(clipPos(doc, anchor), head));\n        setSelection(doc, normalizeSelection(cm, ranges$1, ourIndex), sel_mouse);\n      }\n    }\n\n    var editorSize = display.wrapper.getBoundingClientRect();\n    // Used to ensure timeout re-tries don't fire when another extend\n    // happened in the meantime (clearTimeout isn't reliable -- at\n    // least on Chrome, the timeouts still happen even when cleared,\n    // if the clear happens after their scheduled firing time).\n    var counter = 0;\n\n    function extend(e) {\n      var curCount = ++counter;\n      var cur = posFromMouse(cm, e, true, behavior.unit == \"rectangle\");\n      if (!cur) { return }\n      if (cmp(cur, lastPos) != 0) {\n        cm.curOp.focus = activeElt();\n        extendTo(cur);\n        var visible = visibleLines(display, doc);\n        if (cur.line >= visible.to || cur.line < visible.from)\n          { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e); }}), 150); }\n      } else {\n        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n        if (outside) { setTimeout(operation(cm, function () {\n          if (counter != curCount) { return }\n          display.scroller.scrollTop += outside;\n          extend(e);\n        }), 50); }\n      }\n    }\n\n    function done(e) {\n      cm.state.selectingText = false;\n      counter = Infinity;\n      // If e is null or undefined we interpret this as someone trying\n      // to explicitly cancel the selection rather than the user\n      // letting go of the mouse button.\n      if (e) {\n        e_preventDefault(e);\n        display.input.focus();\n      }\n      off(display.wrapper.ownerDocument, \"mousemove\", move);\n      off(display.wrapper.ownerDocument, \"mouseup\", up);\n      doc.history.lastSelOrigin = null;\n    }\n\n    var move = operation(cm, function (e) {\n      if (e.buttons === 0 || !e_button(e)) { done(e); }\n      else { extend(e); }\n    });\n    var up = operation(cm, done);\n    cm.state.selectingText = up;\n    on(display.wrapper.ownerDocument, \"mousemove\", move);\n    on(display.wrapper.ownerDocument, \"mouseup\", up);\n  }\n\n  // Used when mouse-selecting to adjust the anchor to the proper side\n  // of a bidi jump depending on the visual position of the head.\n  function bidiSimplify(cm, range) {\n    var anchor = range.anchor;\n    var head = range.head;\n    var anchorLine = getLine(cm.doc, anchor.line);\n    if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) { return range }\n    var order = getOrder(anchorLine);\n    if (!order) { return range }\n    var index = getBidiPartAt(order, anchor.ch, anchor.sticky), part = order[index];\n    if (part.from != anchor.ch && part.to != anchor.ch) { return range }\n    var boundary = index + ((part.from == anchor.ch) == (part.level != 1) ? 0 : 1);\n    if (boundary == 0 || boundary == order.length) { return range }\n\n    // Compute the relative visual position of the head compared to the\n    // anchor (<0 is to the left, >0 to the right)\n    var leftSide;\n    if (head.line != anchor.line) {\n      leftSide = (head.line - anchor.line) * (cm.doc.direction == \"ltr\" ? 1 : -1) > 0;\n    } else {\n      var headIndex = getBidiPartAt(order, head.ch, head.sticky);\n      var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);\n      if (headIndex == boundary - 1 || headIndex == boundary)\n        { leftSide = dir < 0; }\n      else\n        { leftSide = dir > 0; }\n    }\n\n    var usePart = order[boundary + (leftSide ? -1 : 0)];\n    var from = leftSide == (usePart.level == 1);\n    var ch = from ? usePart.from : usePart.to, sticky = from ? \"after\" : \"before\";\n    return anchor.ch == ch && anchor.sticky == sticky ? range : new Range(new Pos(anchor.line, ch, sticky), head)\n  }\n\n\n  // Determines whether an event happened in the gutter, and fires the\n  // handlers for the corresponding event.\n  function gutterEvent(cm, e, type, prevent) {\n    var mX, mY;\n    if (e.touches) {\n      mX = e.touches[0].clientX;\n      mY = e.touches[0].clientY;\n    } else {\n      try { mX = e.clientX; mY = e.clientY; }\n      catch(e$1) { return false }\n    }\n    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }\n    if (prevent) { e_preventDefault(e); }\n\n    var display = cm.display;\n    var lineBox = display.lineDiv.getBoundingClientRect();\n\n    if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }\n    mY -= lineBox.top - display.viewOffset;\n\n    for (var i = 0; i < cm.display.gutterSpecs.length; ++i) {\n      var g = display.gutters.childNodes[i];\n      if (g && g.getBoundingClientRect().right >= mX) {\n        var line = lineAtHeight(cm.doc, mY);\n        var gutter = cm.display.gutterSpecs[i];\n        signal(cm, type, cm, line, gutter.className, e);\n        return e_defaultPrevented(e)\n      }\n    }\n  }\n\n  function clickInGutter(cm, e) {\n    return gutterEvent(cm, e, \"gutterClick\", true)\n  }\n\n  // CONTEXT MENU HANDLING\n\n  // To make the context menu work, we need to briefly unhide the\n  // textarea (making it as unobtrusive as possible) to let the\n  // right-click take effect on it.\n  function onContextMenu(cm, e) {\n    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }\n    if (signalDOMEvent(cm, e, \"contextmenu\")) { return }\n    if (!captureRightClick) { cm.display.input.onContextMenu(e); }\n  }\n\n  function contextMenuInGutter(cm, e) {\n    if (!hasHandler(cm, \"gutterContextMenu\")) { return false }\n    return gutterEvent(cm, e, \"gutterContextMenu\", false)\n  }\n\n  function themeChanged(cm) {\n    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\n      cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\n    clearCaches(cm);\n  }\n\n  var Init = {toString: function(){return \"CodeMirror.Init\"}};\n\n  var defaults = {};\n  var optionHandlers = {};\n\n  function defineOptions(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    function option(name, deflt, handle, notOnInit) {\n      CodeMirror.defaults[name] = deflt;\n      if (handle) { optionHandlers[name] =\n        notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old); }} : handle; }\n    }\n\n    CodeMirror.defineOption = option;\n\n    // Passed to option handlers when there is no old value.\n    CodeMirror.Init = Init;\n\n    // These two are, on init, called from the constructor because they\n    // have to be initialized before the editor can start at all.\n    option(\"value\", \"\", function (cm, val) { return cm.setValue(val); }, true);\n    option(\"mode\", null, function (cm, val) {\n      cm.doc.modeOption = val;\n      loadMode(cm);\n    }, true);\n\n    option(\"indentUnit\", 2, loadMode, true);\n    option(\"indentWithTabs\", false);\n    option(\"smartIndent\", true);\n    option(\"tabSize\", 4, function (cm) {\n      resetModeState(cm);\n      clearCaches(cm);\n      regChange(cm);\n    }, true);\n\n    option(\"lineSeparator\", null, function (cm, val) {\n      cm.doc.lineSep = val;\n      if (!val) { return }\n      var newBreaks = [], lineNo = cm.doc.first;\n      cm.doc.iter(function (line) {\n        for (var pos = 0;;) {\n          var found = line.text.indexOf(val, pos);\n          if (found == -1) { break }\n          pos = found + val.length;\n          newBreaks.push(Pos(lineNo, found));\n        }\n        lineNo++;\n      });\n      for (var i = newBreaks.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)); }\n    });\n    option(\"specialChars\", /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\ufeff\\ufff9-\\ufffc]/g, function (cm, val, old) {\n      cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n      if (old != Init) { cm.refresh(); }\n    });\n    option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true);\n    option(\"electricChars\", true);\n    option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n      throw new Error(\"inputStyle can not (yet) be changed in a running editor\") // FIXME\n    }, true);\n    option(\"spellcheck\", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true);\n    option(\"autocorrect\", false, function (cm, val) { return cm.getInputField().autocorrect = val; }, true);\n    option(\"autocapitalize\", false, function (cm, val) { return cm.getInputField().autocapitalize = val; }, true);\n    option(\"rtlMoveVisually\", !windows);\n    option(\"wholeLineUpdateBefore\", true);\n\n    option(\"theme\", \"default\", function (cm) {\n      themeChanged(cm);\n      updateGutters(cm);\n    }, true);\n    option(\"keyMap\", \"default\", function (cm, val, old) {\n      var next = getKeyMap(val);\n      var prev = old != Init && getKeyMap(old);\n      if (prev && prev.detach) { prev.detach(cm, next); }\n      if (next.attach) { next.attach(cm, prev || null); }\n    });\n    option(\"extraKeys\", null);\n    option(\"configureMouse\", null);\n\n    option(\"lineWrapping\", false, wrappingChanged, true);\n    option(\"gutters\", [], function (cm, val) {\n      cm.display.gutterSpecs = getGutters(val, cm.options.lineNumbers);\n      updateGutters(cm);\n    }, true);\n    option(\"fixedGutter\", true, function (cm, val) {\n      cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n      cm.refresh();\n    }, true);\n    option(\"coverGutterNextToScrollbar\", false, function (cm) { return updateScrollbars(cm); }, true);\n    option(\"scrollbarStyle\", \"native\", function (cm) {\n      initScrollbars(cm);\n      updateScrollbars(cm);\n      cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n      cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n    }, true);\n    option(\"lineNumbers\", false, function (cm, val) {\n      cm.display.gutterSpecs = getGutters(cm.options.gutters, val);\n      updateGutters(cm);\n    }, true);\n    option(\"firstLineNumber\", 1, updateGutters, true);\n    option(\"lineNumberFormatter\", function (integer) { return integer; }, updateGutters, true);\n    option(\"showCursorWhenSelecting\", false, updateSelection, true);\n\n    option(\"resetSelectionOnContextMenu\", true);\n    option(\"lineWiseCopyCut\", true);\n    option(\"pasteLinesPerSelection\", true);\n    option(\"selectionsMayTouch\", false);\n\n    option(\"readOnly\", false, function (cm, val) {\n      if (val == \"nocursor\") {\n        onBlur(cm);\n        cm.display.input.blur();\n      }\n      cm.display.input.readOnlyChanged(val);\n    });\n\n    option(\"screenReaderLabel\", null, function (cm, val) {\n      val = (val === '') ? null : val;\n      cm.display.input.screenReaderLabelChanged(val);\n    });\n\n    option(\"disableInput\", false, function (cm, val) {if (!val) { cm.display.input.reset(); }}, true);\n    option(\"dragDrop\", true, dragDropChanged);\n    option(\"allowDropFileTypes\", null);\n\n    option(\"cursorBlinkRate\", 530);\n    option(\"cursorScrollMargin\", 0);\n    option(\"cursorHeight\", 1, updateSelection, true);\n    option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n    option(\"workTime\", 100);\n    option(\"workDelay\", 100);\n    option(\"flattenSpans\", true, resetModeState, true);\n    option(\"addModeClass\", false, resetModeState, true);\n    option(\"pollInterval\", 100);\n    option(\"undoDepth\", 200, function (cm, val) { return cm.doc.history.undoDepth = val; });\n    option(\"historyEventDelay\", 1250);\n    option(\"viewportMargin\", 10, function (cm) { return cm.refresh(); }, true);\n    option(\"maxHighlightLength\", 10000, resetModeState, true);\n    option(\"moveInputWithCursor\", true, function (cm, val) {\n      if (!val) { cm.display.input.resetPosition(); }\n    });\n\n    option(\"tabindex\", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || \"\"; });\n    option(\"autofocus\", null);\n    option(\"direction\", \"ltr\", function (cm, val) { return cm.doc.setDirection(val); }, true);\n    option(\"phrases\", null);\n  }\n\n  function dragDropChanged(cm, value, old) {\n    var wasOn = old && old != Init;\n    if (!value != !wasOn) {\n      var funcs = cm.display.dragFunctions;\n      var toggle = value ? on : off;\n      toggle(cm.display.scroller, \"dragstart\", funcs.start);\n      toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n      toggle(cm.display.scroller, \"dragover\", funcs.over);\n      toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n      toggle(cm.display.scroller, \"drop\", funcs.drop);\n    }\n  }\n\n  function wrappingChanged(cm) {\n    if (cm.options.lineWrapping) {\n      addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      cm.display.sizer.style.minWidth = \"\";\n      cm.display.sizerWidth = null;\n    } else {\n      rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      findMaxLine(cm);\n    }\n    estimateLineHeights(cm);\n    regChange(cm);\n    clearCaches(cm);\n    setTimeout(function () { return updateScrollbars(cm); }, 100);\n  }\n\n  // A CodeMirror instance represents an editor. This is the object\n  // that user code is usually dealing with.\n\n  function CodeMirror(place, options) {\n    var this$1 = this;\n\n    if (!(this instanceof CodeMirror)) { return new CodeMirror(place, options) }\n\n    this.options = options = options ? copyObj(options) : {};\n    // Determine effective options based on given values and defaults.\n    copyObj(defaults, options, false);\n\n    var doc = options.value;\n    if (typeof doc == \"string\") { doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction); }\n    else if (options.mode) { doc.modeOption = options.mode; }\n    this.doc = doc;\n\n    var input = new CodeMirror.inputStyles[options.inputStyle](this);\n    var display = this.display = new Display(place, doc, input, options);\n    display.wrapper.CodeMirror = this;\n    themeChanged(this);\n    if (options.lineWrapping)\n      { this.display.wrapper.className += \" CodeMirror-wrap\"; }\n    initScrollbars(this);\n\n    this.state = {\n      keyMaps: [],  // stores maps added by addKeyMap\n      overlays: [], // highlighting overlays, as added by addOverlay\n      modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info\n      overwrite: false,\n      delayingBlurEvent: false,\n      focused: false,\n      suppressEdits: false, // used to disable editing during key handlers when in readOnly mode\n      pasteIncoming: -1, cutIncoming: -1, // help recognize paste/cut edits in input.poll\n      selectingText: false,\n      draggingText: false,\n      highlight: new Delayed(), // stores highlight worker timeout\n      keySeq: null,  // Unfinished key sequence\n      specialChars: null\n    };\n\n    if (options.autofocus && !mobile) { display.input.focus(); }\n\n    // Override magic textarea content restore that IE sometimes does\n    // on our hidden textarea on reload\n    if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20); }\n\n    registerEventHandlers(this);\n    ensureGlobalHandlers();\n\n    startOperation(this);\n    this.curOp.forceUpdate = true;\n    attachDoc(this, doc);\n\n    if ((options.autofocus && !mobile) || this.hasFocus())\n      { setTimeout(function () {\n        if (this$1.hasFocus() && !this$1.state.focused) { onFocus(this$1); }\n      }, 20); }\n    else\n      { onBlur(this); }\n\n    for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))\n      { optionHandlers[opt](this, options[opt], Init); } }\n    maybeUpdateLineNumberWidth(this);\n    if (options.finishInit) { options.finishInit(this); }\n    for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this); }\n    endOperation(this);\n    // Suppress optimizelegibility in Webkit, since it breaks text\n    // measuring on line wrapping boundaries.\n    if (webkit && options.lineWrapping &&\n        getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\n      { display.lineDiv.style.textRendering = \"auto\"; }\n  }\n\n  // The default configuration options.\n  CodeMirror.defaults = defaults;\n  // Functions to run when options are changed.\n  CodeMirror.optionHandlers = optionHandlers;\n\n  // Attach the necessary event handlers when initializing the editor\n  function registerEventHandlers(cm) {\n    var d = cm.display;\n    on(d.scroller, \"mousedown\", operation(cm, onMouseDown));\n    // Older IE's will not fire a second mousedown for a double click\n    if (ie && ie_version < 11)\n      { on(d.scroller, \"dblclick\", operation(cm, function (e) {\n        if (signalDOMEvent(cm, e)) { return }\n        var pos = posFromMouse(cm, e);\n        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }\n        e_preventDefault(e);\n        var word = cm.findWordAt(pos);\n        extendSelection(cm.doc, word.anchor, word.head);\n      })); }\n    else\n      { on(d.scroller, \"dblclick\", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }); }\n    // Some browsers fire contextmenu *after* opening the menu, at\n    // which point we can't mess with it anymore. Context menu is\n    // handled in onMouseDown for these browsers.\n    on(d.scroller, \"contextmenu\", function (e) { return onContextMenu(cm, e); });\n    on(d.input.getField(), \"contextmenu\", function (e) {\n      if (!d.scroller.contains(e.target)) { onContextMenu(cm, e); }\n    });\n\n    // Used to suppress mouse event handling when a touch happens\n    var touchFinished, prevTouch = {end: 0};\n    function finishTouch() {\n      if (d.activeTouch) {\n        touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000);\n        prevTouch = d.activeTouch;\n        prevTouch.end = +new Date;\n      }\n    }\n    function isMouseLikeTouchEvent(e) {\n      if (e.touches.length != 1) { return false }\n      var touch = e.touches[0];\n      return touch.radiusX <= 1 && touch.radiusY <= 1\n    }\n    function farAway(touch, other) {\n      if (other.left == null) { return true }\n      var dx = other.left - touch.left, dy = other.top - touch.top;\n      return dx * dx + dy * dy > 20 * 20\n    }\n    on(d.scroller, \"touchstart\", function (e) {\n      if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {\n        d.input.ensurePolled();\n        clearTimeout(touchFinished);\n        var now = +new Date;\n        d.activeTouch = {start: now, moved: false,\n                         prev: now - prevTouch.end <= 300 ? prevTouch : null};\n        if (e.touches.length == 1) {\n          d.activeTouch.left = e.touches[0].pageX;\n          d.activeTouch.top = e.touches[0].pageY;\n        }\n      }\n    });\n    on(d.scroller, \"touchmove\", function () {\n      if (d.activeTouch) { d.activeTouch.moved = true; }\n    });\n    on(d.scroller, \"touchend\", function (e) {\n      var touch = d.activeTouch;\n      if (touch && !eventInWidget(d, e) && touch.left != null &&\n          !touch.moved && new Date - touch.start < 300) {\n        var pos = cm.coordsChar(d.activeTouch, \"page\"), range;\n        if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n          { range = new Range(pos, pos); }\n        else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n          { range = cm.findWordAt(pos); }\n        else // Triple tap\n          { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))); }\n        cm.setSelection(range.anchor, range.head);\n        cm.focus();\n        e_preventDefault(e);\n      }\n      finishTouch();\n    });\n    on(d.scroller, \"touchcancel\", finishTouch);\n\n    // Sync scrolling between fake scrollbars and real scrollable\n    // area, ensure viewport is updated when scrolling.\n    on(d.scroller, \"scroll\", function () {\n      if (d.scroller.clientHeight) {\n        updateScrollTop(cm, d.scroller.scrollTop);\n        setScrollLeft(cm, d.scroller.scrollLeft, true);\n        signal(cm, \"scroll\", cm);\n      }\n    });\n\n    // Listen to wheel events in order to try and update the viewport on time.\n    on(d.scroller, \"mousewheel\", function (e) { return onScrollWheel(cm, e); });\n    on(d.scroller, \"DOMMouseScroll\", function (e) { return onScrollWheel(cm, e); });\n\n    // Prevent wrapper from ever scrolling\n    on(d.wrapper, \"scroll\", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });\n\n    d.dragFunctions = {\n      enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e); }},\n      over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e); }},\n      start: function (e) { return onDragStart(cm, e); },\n      drop: operation(cm, onDrop),\n      leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm); }}\n    };\n\n    var inp = d.input.getField();\n    on(inp, \"keyup\", function (e) { return onKeyUp.call(cm, e); });\n    on(inp, \"keydown\", operation(cm, onKeyDown));\n    on(inp, \"keypress\", operation(cm, onKeyPress));\n    on(inp, \"focus\", function (e) { return onFocus(cm, e); });\n    on(inp, \"blur\", function (e) { return onBlur(cm, e); });\n  }\n\n  var initHooks = [];\n  CodeMirror.defineInitHook = function (f) { return initHooks.push(f); };\n\n  // Indent the given line. The how parameter can be \"smart\",\n  // \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n  // (typically set to true for forced single-line indents), empty\n  // lines are not indented, and places where the mode returns Pass\n  // are left alone.\n  function indentLine(cm, n, how, aggressive) {\n    var doc = cm.doc, state;\n    if (how == null) { how = \"add\"; }\n    if (how == \"smart\") {\n      // Fall back to \"prev\" when the mode doesn't have an indentation\n      // method.\n      if (!doc.mode.indent) { how = \"prev\"; }\n      else { state = getContextBefore(cm, n).state; }\n    }\n\n    var tabSize = cm.options.tabSize;\n    var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);\n    if (line.stateAfter) { line.stateAfter = null; }\n    var curSpaceString = line.text.match(/^\\s*/)[0], indentation;\n    if (!aggressive && !/\\S/.test(line.text)) {\n      indentation = 0;\n      how = \"not\";\n    } else if (how == \"smart\") {\n      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n      if (indentation == Pass || indentation > 150) {\n        if (!aggressive) { return }\n        how = \"prev\";\n      }\n    }\n    if (how == \"prev\") {\n      if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize); }\n      else { indentation = 0; }\n    } else if (how == \"add\") {\n      indentation = curSpace + cm.options.indentUnit;\n    } else if (how == \"subtract\") {\n      indentation = curSpace - cm.options.indentUnit;\n    } else if (typeof how == \"number\") {\n      indentation = curSpace + how;\n    }\n    indentation = Math.max(0, indentation);\n\n    var indentString = \"\", pos = 0;\n    if (cm.options.indentWithTabs)\n      { for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\";} }\n    if (pos < indentation) { indentString += spaceStr(indentation - pos); }\n\n    if (indentString != curSpaceString) {\n      replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n      line.stateAfter = null;\n      return true\n    } else {\n      // Ensure that, if the cursor was in the whitespace at the start\n      // of the line, it is moved to the end of that space.\n      for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n        var range = doc.sel.ranges[i$1];\n        if (range.head.line == n && range.head.ch < curSpaceString.length) {\n          var pos$1 = Pos(n, curSpaceString.length);\n          replaceOneSelection(doc, i$1, new Range(pos$1, pos$1));\n          break\n        }\n      }\n    }\n  }\n\n  // This will be set to a {lineWise: bool, text: [string]} object, so\n  // that, when pasting, we know what kind of selections the copied\n  // text was made out of.\n  var lastCopied = null;\n\n  function setLastCopied(newLastCopied) {\n    lastCopied = newLastCopied;\n  }\n\n  function applyTextInput(cm, inserted, deleted, sel, origin) {\n    var doc = cm.doc;\n    cm.display.shift = false;\n    if (!sel) { sel = doc.sel; }\n\n    var recent = +new Date - 200;\n    var paste = origin == \"paste\" || cm.state.pasteIncoming > recent;\n    var textLines = splitLinesAuto(inserted), multiPaste = null;\n    // When pasting N lines into N selections, insert one line per selection\n    if (paste && sel.ranges.length > 1) {\n      if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n        if (sel.ranges.length % lastCopied.text.length == 0) {\n          multiPaste = [];\n          for (var i = 0; i < lastCopied.text.length; i++)\n            { multiPaste.push(doc.splitLines(lastCopied.text[i])); }\n        }\n      } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {\n        multiPaste = map(textLines, function (l) { return [l]; });\n      }\n    }\n\n    var updateInput = cm.curOp.updateInput;\n    // Normal behavior is to insert the new text into every selection\n    for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n      var range = sel.ranges[i$1];\n      var from = range.from(), to = range.to();\n      if (range.empty()) {\n        if (deleted && deleted > 0) // Handle deletion\n          { from = Pos(from.line, from.ch - deleted); }\n        else if (cm.state.overwrite && !paste) // Handle overwrite\n          { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)); }\n        else if (paste && lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == textLines.join(\"\\n\"))\n          { from = to = Pos(from.line, 0); }\n      }\n      var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n                         origin: origin || (paste ? \"paste\" : cm.state.cutIncoming > recent ? \"cut\" : \"+input\")};\n      makeChange(cm.doc, changeEvent);\n      signalLater(cm, \"inputRead\", cm, changeEvent);\n    }\n    if (inserted && !paste)\n      { triggerElectric(cm, inserted); }\n\n    ensureCursorVisible(cm);\n    if (cm.curOp.updateInput < 2) { cm.curOp.updateInput = updateInput; }\n    cm.curOp.typing = true;\n    cm.state.pasteIncoming = cm.state.cutIncoming = -1;\n  }\n\n  function handlePaste(e, cm) {\n    var pasted = e.clipboardData && e.clipboardData.getData(\"Text\");\n    if (pasted) {\n      e.preventDefault();\n      if (!cm.isReadOnly() && !cm.options.disableInput)\n        { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, \"paste\"); }); }\n      return true\n    }\n  }\n\n  function triggerElectric(cm, inserted) {\n    // When an 'electric' character is inserted, immediately trigger a reindent\n    if (!cm.options.electricChars || !cm.options.smartIndent) { return }\n    var sel = cm.doc.sel;\n\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range = sel.ranges[i];\n      if (range.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range.head.line)) { continue }\n      var mode = cm.getModeAt(range.head);\n      var indented = false;\n      if (mode.electricChars) {\n        for (var j = 0; j < mode.electricChars.length; j++)\n          { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n            indented = indentLine(cm, range.head.line, \"smart\");\n            break\n          } }\n      } else if (mode.electricInput) {\n        if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch)))\n          { indented = indentLine(cm, range.head.line, \"smart\"); }\n      }\n      if (indented) { signalLater(cm, \"electricInput\", cm, range.head.line); }\n    }\n  }\n\n  function copyableRanges(cm) {\n    var text = [], ranges = [];\n    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n      var line = cm.doc.sel.ranges[i].head.line;\n      var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};\n      ranges.push(lineRange);\n      text.push(cm.getRange(lineRange.anchor, lineRange.head));\n    }\n    return {text: text, ranges: ranges}\n  }\n\n  function disableBrowserMagic(field, spellcheck, autocorrect, autocapitalize) {\n    field.setAttribute(\"autocorrect\", autocorrect ? \"\" : \"off\");\n    field.setAttribute(\"autocapitalize\", autocapitalize ? \"\" : \"off\");\n    field.setAttribute(\"spellcheck\", !!spellcheck);\n  }\n\n  function hiddenTextarea() {\n    var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\");\n    var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");\n    // The textarea is kept positioned near the cursor to prevent the\n    // fact that it'll be scrolled into view on input from scrolling\n    // our fake cursor out of view. On webkit, when wrap=off, paste is\n    // very slow. So make the area wide instead.\n    if (webkit) { te.style.width = \"1000px\"; }\n    else { te.setAttribute(\"wrap\", \"off\"); }\n    // If border: 0; -- iOS fails to open keyboard (issue #1287)\n    if (ios) { te.style.border = \"1px solid black\"; }\n    disableBrowserMagic(te);\n    return div\n  }\n\n  // The publicly visible API. Note that methodOp(f) means\n  // 'wrap f in an operation, performed on its `this` parameter'.\n\n  // This is not the complete set of editor methods. Most of the\n  // methods defined on the Doc type are also injected into\n  // CodeMirror.prototype, for backwards compatibility and\n  // convenience.\n\n  function addEditorMethods(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    var helpers = CodeMirror.helpers = {};\n\n    CodeMirror.prototype = {\n      constructor: CodeMirror,\n      focus: function(){window.focus(); this.display.input.focus();},\n\n      setOption: function(option, value) {\n        var options = this.options, old = options[option];\n        if (options[option] == value && option != \"mode\") { return }\n        options[option] = value;\n        if (optionHandlers.hasOwnProperty(option))\n          { operation(this, optionHandlers[option])(this, value, old); }\n        signal(this, \"optionChange\", this, option);\n      },\n\n      getOption: function(option) {return this.options[option]},\n      getDoc: function() {return this.doc},\n\n      addKeyMap: function(map, bottom) {\n        this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map));\n      },\n      removeKeyMap: function(map) {\n        var maps = this.state.keyMaps;\n        for (var i = 0; i < maps.length; ++i)\n          { if (maps[i] == map || maps[i].name == map) {\n            maps.splice(i, 1);\n            return true\n          } }\n      },\n\n      addOverlay: methodOp(function(spec, options) {\n        var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n        if (mode.startState) { throw new Error(\"Overlays may not be stateful.\") }\n        insertSorted(this.state.overlays,\n                     {mode: mode, modeSpec: spec, opaque: options && options.opaque,\n                      priority: (options && options.priority) || 0},\n                     function (overlay) { return overlay.priority; });\n        this.state.modeGen++;\n        regChange(this);\n      }),\n      removeOverlay: methodOp(function(spec) {\n        var overlays = this.state.overlays;\n        for (var i = 0; i < overlays.length; ++i) {\n          var cur = overlays[i].modeSpec;\n          if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n            overlays.splice(i, 1);\n            this.state.modeGen++;\n            regChange(this);\n            return\n          }\n        }\n      }),\n\n      indentLine: methodOp(function(n, dir, aggressive) {\n        if (typeof dir != \"string\" && typeof dir != \"number\") {\n          if (dir == null) { dir = this.options.smartIndent ? \"smart\" : \"prev\"; }\n          else { dir = dir ? \"add\" : \"subtract\"; }\n        }\n        if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive); }\n      }),\n      indentSelection: methodOp(function(how) {\n        var ranges = this.doc.sel.ranges, end = -1;\n        for (var i = 0; i < ranges.length; i++) {\n          var range = ranges[i];\n          if (!range.empty()) {\n            var from = range.from(), to = range.to();\n            var start = Math.max(end, from.line);\n            end = Math.min(this.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n            for (var j = start; j < end; ++j)\n              { indentLine(this, j, how); }\n            var newRanges = this.doc.sel.ranges;\n            if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\n              { replaceOneSelection(this.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll); }\n          } else if (range.head.line > end) {\n            indentLine(this, range.head.line, how, true);\n            end = range.head.line;\n            if (i == this.doc.sel.primIndex) { ensureCursorVisible(this); }\n          }\n        }\n      }),\n\n      // Fetch the parser token for a given character. Useful for hacks\n      // that want to inspect the mode state (say, for completion).\n      getTokenAt: function(pos, precise) {\n        return takeToken(this, pos, precise)\n      },\n\n      getLineTokens: function(line, precise) {\n        return takeToken(this, Pos(line), precise, true)\n      },\n\n      getTokenTypeAt: function(pos) {\n        pos = clipPos(this.doc, pos);\n        var styles = getLineStyles(this, getLine(this.doc, pos.line));\n        var before = 0, after = (styles.length - 1) / 2, ch = pos.ch;\n        var type;\n        if (ch == 0) { type = styles[2]; }\n        else { for (;;) {\n          var mid = (before + after) >> 1;\n          if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid; }\n          else if (styles[mid * 2 + 1] < ch) { before = mid + 1; }\n          else { type = styles[mid * 2 + 2]; break }\n        } }\n        var cut = type ? type.indexOf(\"overlay \") : -1;\n        return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)\n      },\n\n      getModeAt: function(pos) {\n        var mode = this.doc.mode;\n        if (!mode.innerMode) { return mode }\n        return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode\n      },\n\n      getHelper: function(pos, type) {\n        return this.getHelpers(pos, type)[0]\n      },\n\n      getHelpers: function(pos, type) {\n        var found = [];\n        if (!helpers.hasOwnProperty(type)) { return found }\n        var help = helpers[type], mode = this.getModeAt(pos);\n        if (typeof mode[type] == \"string\") {\n          if (help[mode[type]]) { found.push(help[mode[type]]); }\n        } else if (mode[type]) {\n          for (var i = 0; i < mode[type].length; i++) {\n            var val = help[mode[type][i]];\n            if (val) { found.push(val); }\n          }\n        } else if (mode.helperType && help[mode.helperType]) {\n          found.push(help[mode.helperType]);\n        } else if (help[mode.name]) {\n          found.push(help[mode.name]);\n        }\n        for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n          var cur = help._global[i$1];\n          if (cur.pred(mode, this) && indexOf(found, cur.val) == -1)\n            { found.push(cur.val); }\n        }\n        return found\n      },\n\n      getStateAfter: function(line, precise) {\n        var doc = this.doc;\n        line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);\n        return getContextBefore(this, line + 1, precise).state\n      },\n\n      cursorCoords: function(start, mode) {\n        var pos, range = this.doc.sel.primary();\n        if (start == null) { pos = range.head; }\n        else if (typeof start == \"object\") { pos = clipPos(this.doc, start); }\n        else { pos = start ? range.from() : range.to(); }\n        return cursorCoords(this, pos, mode || \"page\")\n      },\n\n      charCoords: function(pos, mode) {\n        return charCoords(this, clipPos(this.doc, pos), mode || \"page\")\n      },\n\n      coordsChar: function(coords, mode) {\n        coords = fromCoordSystem(this, coords, mode || \"page\");\n        return coordsChar(this, coords.left, coords.top)\n      },\n\n      lineAtHeight: function(height, mode) {\n        height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top;\n        return lineAtHeight(this.doc, height + this.display.viewOffset)\n      },\n      heightAtLine: function(line, mode, includeWidgets) {\n        var end = false, lineObj;\n        if (typeof line == \"number\") {\n          var last = this.doc.first + this.doc.size - 1;\n          if (line < this.doc.first) { line = this.doc.first; }\n          else if (line > last) { line = last; end = true; }\n          lineObj = getLine(this.doc, line);\n        } else {\n          lineObj = line;\n        }\n        return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\", includeWidgets || end).top +\n          (end ? this.doc.height - heightAtLine(lineObj) : 0)\n      },\n\n      defaultTextHeight: function() { return textHeight(this.display) },\n      defaultCharWidth: function() { return charWidth(this.display) },\n\n      getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},\n\n      addWidget: function(pos, node, scroll, vert, horiz) {\n        var display = this.display;\n        pos = cursorCoords(this, clipPos(this.doc, pos));\n        var top = pos.bottom, left = pos.left;\n        node.style.position = \"absolute\";\n        node.setAttribute(\"cm-ignore-events\", \"true\");\n        this.display.input.setUneditable(node);\n        display.sizer.appendChild(node);\n        if (vert == \"over\") {\n          top = pos.top;\n        } else if (vert == \"above\" || vert == \"near\") {\n          var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n          hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);\n          // Default to positioning above (if specified and possible); otherwise default to positioning below\n          if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\n            { top = pos.top - node.offsetHeight; }\n          else if (pos.bottom + node.offsetHeight <= vspace)\n            { top = pos.bottom; }\n          if (left + node.offsetWidth > hspace)\n            { left = hspace - node.offsetWidth; }\n        }\n        node.style.top = top + \"px\";\n        node.style.left = node.style.right = \"\";\n        if (horiz == \"right\") {\n          left = display.sizer.clientWidth - node.offsetWidth;\n          node.style.right = \"0px\";\n        } else {\n          if (horiz == \"left\") { left = 0; }\n          else if (horiz == \"middle\") { left = (display.sizer.clientWidth - node.offsetWidth) / 2; }\n          node.style.left = left + \"px\";\n        }\n        if (scroll)\n          { scrollIntoView(this, {left: left, top: top, right: left + node.offsetWidth, bottom: top + node.offsetHeight}); }\n      },\n\n      triggerOnKeyDown: methodOp(onKeyDown),\n      triggerOnKeyPress: methodOp(onKeyPress),\n      triggerOnKeyUp: onKeyUp,\n      triggerOnMouseDown: methodOp(onMouseDown),\n\n      execCommand: function(cmd) {\n        if (commands.hasOwnProperty(cmd))\n          { return commands[cmd].call(null, this) }\n      },\n\n      triggerElectric: methodOp(function(text) { triggerElectric(this, text); }),\n\n      findPosH: function(from, amount, unit, visually) {\n        var dir = 1;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          cur = findPosH(this.doc, cur, dir, unit, visually);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveH: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        this.extendSelectionsBy(function (range) {\n          if (this$1.display.shift || this$1.doc.extend || range.empty())\n            { return findPosH(this$1.doc, range.head, dir, unit, this$1.options.rtlMoveVisually) }\n          else\n            { return dir < 0 ? range.from() : range.to() }\n        }, sel_move);\n      }),\n\n      deleteH: methodOp(function(dir, unit) {\n        var sel = this.doc.sel, doc = this.doc;\n        if (sel.somethingSelected())\n          { doc.replaceSelection(\"\", null, \"+delete\"); }\n        else\n          { deleteNearSelection(this, function (range) {\n            var other = findPosH(doc, range.head, dir, unit, false);\n            return dir < 0 ? {from: other, to: range.head} : {from: range.head, to: other}\n          }); }\n      }),\n\n      findPosV: function(from, amount, unit, goalColumn) {\n        var dir = 1, x = goalColumn;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          var coords = cursorCoords(this, cur, \"div\");\n          if (x == null) { x = coords.left; }\n          else { coords.left = x; }\n          cur = findPosV(this, coords, dir, unit);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveV: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        var doc = this.doc, goals = [];\n        var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected();\n        doc.extendSelectionsBy(function (range) {\n          if (collapse)\n            { return dir < 0 ? range.from() : range.to() }\n          var headPos = cursorCoords(this$1, range.head, \"div\");\n          if (range.goalColumn != null) { headPos.left = range.goalColumn; }\n          goals.push(headPos.left);\n          var pos = findPosV(this$1, headPos, dir, unit);\n          if (unit == \"page\" && range == doc.sel.primary())\n            { addToScrollTop(this$1, charCoords(this$1, pos, \"div\").top - headPos.top); }\n          return pos\n        }, sel_move);\n        if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)\n          { doc.sel.ranges[i].goalColumn = goals[i]; } }\n      }),\n\n      // Find the word at the given position (as returned by coordsChar).\n      findWordAt: function(pos) {\n        var doc = this.doc, line = getLine(doc, pos.line).text;\n        var start = pos.ch, end = pos.ch;\n        if (line) {\n          var helper = this.getHelper(pos, \"wordChars\");\n          if ((pos.sticky == \"before\" || end == line.length) && start) { --start; } else { ++end; }\n          var startChar = line.charAt(start);\n          var check = isWordChar(startChar, helper)\n            ? function (ch) { return isWordChar(ch, helper); }\n            : /\\s/.test(startChar) ? function (ch) { return /\\s/.test(ch); }\n            : function (ch) { return (!/\\s/.test(ch) && !isWordChar(ch)); };\n          while (start > 0 && check(line.charAt(start - 1))) { --start; }\n          while (end < line.length && check(line.charAt(end))) { ++end; }\n        }\n        return new Range(Pos(pos.line, start), Pos(pos.line, end))\n      },\n\n      toggleOverwrite: function(value) {\n        if (value != null && value == this.state.overwrite) { return }\n        if (this.state.overwrite = !this.state.overwrite)\n          { addClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n        else\n          { rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n\n        signal(this, \"overwriteToggle\", this, this.state.overwrite);\n      },\n      hasFocus: function() { return this.display.input.getField() == activeElt() },\n      isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },\n\n      scrollTo: methodOp(function (x, y) { scrollToCoords(this, x, y); }),\n      getScrollInfo: function() {\n        var scroller = this.display.scroller;\n        return {left: scroller.scrollLeft, top: scroller.scrollTop,\n                height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n                width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n                clientHeight: displayHeight(this), clientWidth: displayWidth(this)}\n      },\n\n      scrollIntoView: methodOp(function(range, margin) {\n        if (range == null) {\n          range = {from: this.doc.sel.primary().head, to: null};\n          if (margin == null) { margin = this.options.cursorScrollMargin; }\n        } else if (typeof range == \"number\") {\n          range = {from: Pos(range, 0), to: null};\n        } else if (range.from == null) {\n          range = {from: range, to: null};\n        }\n        if (!range.to) { range.to = range.from; }\n        range.margin = margin || 0;\n\n        if (range.from.line != null) {\n          scrollToRange(this, range);\n        } else {\n          scrollToCoordsRange(this, range.from, range.to, range.margin);\n        }\n      }),\n\n      setSize: methodOp(function(width, height) {\n        var this$1 = this;\n\n        var interpret = function (val) { return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val; };\n        if (width != null) { this.display.wrapper.style.width = interpret(width); }\n        if (height != null) { this.display.wrapper.style.height = interpret(height); }\n        if (this.options.lineWrapping) { clearLineMeasurementCache(this); }\n        var lineNo = this.display.viewFrom;\n        this.doc.iter(lineNo, this.display.viewTo, function (line) {\n          if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)\n            { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo, \"widget\"); break } } }\n          ++lineNo;\n        });\n        this.curOp.forceUpdate = true;\n        signal(this, \"refresh\", this);\n      }),\n\n      operation: function(f){return runInOp(this, f)},\n      startOperation: function(){return startOperation(this)},\n      endOperation: function(){return endOperation(this)},\n\n      refresh: methodOp(function() {\n        var oldHeight = this.display.cachedTextHeight;\n        regChange(this);\n        this.curOp.forceUpdate = true;\n        clearCaches(this);\n        scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);\n        updateGutterSpace(this.display);\n        if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5 || this.options.lineWrapping)\n          { estimateLineHeights(this); }\n        signal(this, \"refresh\", this);\n      }),\n\n      swapDoc: methodOp(function(doc) {\n        var old = this.doc;\n        old.cm = null;\n        // Cancel the current text selection if any (#5821)\n        if (this.state.selectingText) { this.state.selectingText(); }\n        attachDoc(this, doc);\n        clearCaches(this);\n        this.display.input.reset();\n        scrollToCoords(this, doc.scrollLeft, doc.scrollTop);\n        this.curOp.forceScroll = true;\n        signalLater(this, \"swapDoc\", this, old);\n        return old\n      }),\n\n      phrase: function(phraseText) {\n        var phrases = this.options.phrases;\n        return phrases && Object.prototype.hasOwnProperty.call(phrases, phraseText) ? phrases[phraseText] : phraseText\n      },\n\n      getInputField: function(){return this.display.input.getField()},\n      getWrapperElement: function(){return this.display.wrapper},\n      getScrollerElement: function(){return this.display.scroller},\n      getGutterElement: function(){return this.display.gutters}\n    };\n    eventMixin(CodeMirror);\n\n    CodeMirror.registerHelper = function(type, name, value) {\n      if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []}; }\n      helpers[type][name] = value;\n    };\n    CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\n      CodeMirror.registerHelper(type, name, value);\n      helpers[type]._global.push({pred: predicate, val: value});\n    };\n  }\n\n  // Used for horizontal relative motion. Dir is -1 or 1 (left or\n  // right), unit can be \"codepoint\", \"char\", \"column\" (like char, but\n  // doesn't cross line boundaries), \"word\" (across next word), or\n  // \"group\" (to the start of next group of word or\n  // non-word-non-whitespace chars). The visually param controls\n  // whether, in right-to-left text, direction 1 means to move towards\n  // the next index in the string, or towards the character to the right\n  // of the current position. The resulting position will have a\n  // hitSide=true property if it reached the end of the document.\n  function findPosH(doc, pos, dir, unit, visually) {\n    var oldPos = pos;\n    var origDir = dir;\n    var lineObj = getLine(doc, pos.line);\n    var lineDir = visually && doc.direction == \"rtl\" ? -dir : dir;\n    function findNextLine() {\n      var l = pos.line + lineDir;\n      if (l < doc.first || l >= doc.first + doc.size) { return false }\n      pos = new Pos(l, pos.ch, pos.sticky);\n      return lineObj = getLine(doc, l)\n    }\n    function moveOnce(boundToLine) {\n      var next;\n      if (unit == \"codepoint\") {\n        var ch = lineObj.text.charCodeAt(pos.ch + (dir > 0 ? 0 : -1));\n        if (isNaN(ch)) {\n          next = null;\n        } else {\n          var astral = dir > 0 ? ch >= 0xD800 && ch < 0xDC00 : ch >= 0xDC00 && ch < 0xDFFF;\n          next = new Pos(pos.line, Math.max(0, Math.min(lineObj.text.length, pos.ch + dir * (astral ? 2 : 1))), -dir);\n        }\n      } else if (visually) {\n        next = moveVisually(doc.cm, lineObj, pos, dir);\n      } else {\n        next = moveLogically(lineObj, pos, dir);\n      }\n      if (next == null) {\n        if (!boundToLine && findNextLine())\n          { pos = endOfLine(visually, doc.cm, lineObj, pos.line, lineDir); }\n        else\n          { return false }\n      } else {\n        pos = next;\n      }\n      return true\n    }\n\n    if (unit == \"char\" || unit == \"codepoint\") {\n      moveOnce();\n    } else if (unit == \"column\") {\n      moveOnce(true);\n    } else if (unit == \"word\" || unit == \"group\") {\n      var sawType = null, group = unit == \"group\";\n      var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n      for (var first = true;; first = false) {\n        if (dir < 0 && !moveOnce(!first)) { break }\n        var cur = lineObj.text.charAt(pos.ch) || \"\\n\";\n        var type = isWordChar(cur, helper) ? \"w\"\n          : group && cur == \"\\n\" ? \"n\"\n          : !group || /\\s/.test(cur) ? null\n          : \"p\";\n        if (group && !first && !type) { type = \"s\"; }\n        if (sawType && sawType != type) {\n          if (dir < 0) {dir = 1; moveOnce(); pos.sticky = \"after\";}\n          break\n        }\n\n        if (type) { sawType = type; }\n        if (dir > 0 && !moveOnce(!first)) { break }\n      }\n    }\n    var result = skipAtomic(doc, pos, oldPos, origDir, true);\n    if (equalCursorPos(oldPos, result)) { result.hitSide = true; }\n    return result\n  }\n\n  // For relative vertical movement. Dir may be -1 or 1. Unit can be\n  // \"page\" or \"line\". The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosV(cm, pos, dir, unit) {\n    var doc = cm.doc, x = pos.left, y;\n    if (unit == \"page\") {\n      var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n      var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3);\n      y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;\n\n    } else if (unit == \"line\") {\n      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n    }\n    var target;\n    for (;;) {\n      target = coordsChar(cm, x, y);\n      if (!target.outside) { break }\n      if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }\n      y += dir * 5;\n    }\n    return target\n  }\n\n  // CONTENTEDITABLE INPUT STYLE\n\n  var ContentEditableInput = function(cm) {\n    this.cm = cm;\n    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n    this.polling = new Delayed();\n    this.composing = null;\n    this.gracePeriod = false;\n    this.readDOMTimeout = null;\n  };\n\n  ContentEditableInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = input.cm;\n    var div = input.div = display.lineDiv;\n    div.contentEditable = true;\n    disableBrowserMagic(div, cm.options.spellcheck, cm.options.autocorrect, cm.options.autocapitalize);\n\n    function belongsToInput(e) {\n      for (var t = e.target; t; t = t.parentNode) {\n        if (t == div) { return true }\n        if (/\\bCodeMirror-(?:line)?widget\\b/.test(t.className)) { break }\n      }\n      return false\n    }\n\n    on(div, \"paste\", function (e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n      // IE doesn't fire input events, so we schedule a read for the pasted content in this way\n      if (ie_version <= 11) { setTimeout(operation(cm, function () { return this$1.updateFromDOM(); }), 20); }\n    });\n\n    on(div, \"compositionstart\", function (e) {\n      this$1.composing = {data: e.data, done: false};\n    });\n    on(div, \"compositionupdate\", function (e) {\n      if (!this$1.composing) { this$1.composing = {data: e.data, done: false}; }\n    });\n    on(div, \"compositionend\", function (e) {\n      if (this$1.composing) {\n        if (e.data != this$1.composing.data) { this$1.readFromDOMSoon(); }\n        this$1.composing.done = true;\n      }\n    });\n\n    on(div, \"touchstart\", function () { return input.forceCompositionEnd(); });\n\n    on(div, \"input\", function () {\n      if (!this$1.composing) { this$1.readFromDOMSoon(); }\n    });\n\n    function onCopyCut(e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n        if (e.type == \"cut\") { cm.replaceSelection(\"\", null, \"cut\"); }\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.operation(function () {\n            cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n            cm.replaceSelection(\"\", null, \"cut\");\n          });\n        }\n      }\n      if (e.clipboardData) {\n        e.clipboardData.clearData();\n        var content = lastCopied.text.join(\"\\n\");\n        // iOS exposes the clipboard API, but seems to discard content inserted into it\n        e.clipboardData.setData(\"Text\", content);\n        if (e.clipboardData.getData(\"Text\") == content) {\n          e.preventDefault();\n          return\n        }\n      }\n      // Old-fashioned briefly-focus-a-textarea hack\n      var kludge = hiddenTextarea(), te = kludge.firstChild;\n      cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n      te.value = lastCopied.text.join(\"\\n\");\n      var hadFocus = activeElt();\n      selectInput(te);\n      setTimeout(function () {\n        cm.display.lineSpace.removeChild(kludge);\n        hadFocus.focus();\n        if (hadFocus == div) { input.showPrimarySelection(); }\n      }, 50);\n    }\n    on(div, \"copy\", onCopyCut);\n    on(div, \"cut\", onCopyCut);\n  };\n\n  ContentEditableInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if(label) {\n      this.div.setAttribute('aria-label', label);\n    } else {\n      this.div.removeAttribute('aria-label');\n    }\n  };\n\n  ContentEditableInput.prototype.prepareSelection = function () {\n    var result = prepareSelection(this.cm, false);\n    result.focus = activeElt() == this.div;\n    return result\n  };\n\n  ContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n    if (!info || !this.cm.display.view.length) { return }\n    if (info.focus || takeFocus) { this.showPrimarySelection(); }\n    this.showMultipleSelections(info);\n  };\n\n  ContentEditableInput.prototype.getSelection = function () {\n    return this.cm.display.wrapper.ownerDocument.getSelection()\n  };\n\n  ContentEditableInput.prototype.showPrimarySelection = function () {\n    var sel = this.getSelection(), cm = this.cm, prim = cm.doc.sel.primary();\n    var from = prim.from(), to = prim.to();\n\n    if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\n        cmp(minPos(curAnchor, curFocus), from) == 0 &&\n        cmp(maxPos(curAnchor, curFocus), to) == 0)\n      { return }\n\n    var view = cm.display.view;\n    var start = (from.line >= cm.display.viewFrom && posToDOM(cm, from)) ||\n        {node: view[0].measure.map[2], offset: 0};\n    var end = to.line < cm.display.viewTo && posToDOM(cm, to);\n    if (!end) {\n      var measure = view[view.length - 1].measure;\n      var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n      end = {node: map[map.length - 1], offset: map[map.length - 2] - map[map.length - 3]};\n    }\n\n    if (!start || !end) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var old = sel.rangeCount && sel.getRangeAt(0), rng;\n    try { rng = range(start.node, start.offset, end.offset, end.node); }\n    catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n    if (rng) {\n      if (!gecko && cm.state.focused) {\n        sel.collapse(start.node, start.offset);\n        if (!rng.collapsed) {\n          sel.removeAllRanges();\n          sel.addRange(rng);\n        }\n      } else {\n        sel.removeAllRanges();\n        sel.addRange(rng);\n      }\n      if (old && sel.anchorNode == null) { sel.addRange(old); }\n      else if (gecko) { this.startGracePeriod(); }\n    }\n    this.rememberSelection();\n  };\n\n  ContentEditableInput.prototype.startGracePeriod = function () {\n      var this$1 = this;\n\n    clearTimeout(this.gracePeriod);\n    this.gracePeriod = setTimeout(function () {\n      this$1.gracePeriod = false;\n      if (this$1.selectionChanged())\n        { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }); }\n    }, 20);\n  };\n\n  ContentEditableInput.prototype.showMultipleSelections = function (info) {\n    removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n    removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n  };\n\n  ContentEditableInput.prototype.rememberSelection = function () {\n    var sel = this.getSelection();\n    this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;\n    this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset;\n  };\n\n  ContentEditableInput.prototype.selectionInEditor = function () {\n    var sel = this.getSelection();\n    if (!sel.rangeCount) { return false }\n    var node = sel.getRangeAt(0).commonAncestorContainer;\n    return contains(this.div, node)\n  };\n\n  ContentEditableInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\") {\n      if (!this.selectionInEditor() || activeElt() != this.div)\n        { this.showSelection(this.prepareSelection(), true); }\n      this.div.focus();\n    }\n  };\n  ContentEditableInput.prototype.blur = function () { this.div.blur(); };\n  ContentEditableInput.prototype.getField = function () { return this.div };\n\n  ContentEditableInput.prototype.supportsTouch = function () { return true };\n\n  ContentEditableInput.prototype.receivedFocus = function () {\n    var input = this;\n    if (this.selectionInEditor())\n      { this.pollSelection(); }\n    else\n      { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }); }\n\n    function poll() {\n      if (input.cm.state.focused) {\n        input.pollSelection();\n        input.polling.set(input.cm.options.pollInterval, poll);\n      }\n    }\n    this.polling.set(this.cm.options.pollInterval, poll);\n  };\n\n  ContentEditableInput.prototype.selectionChanged = function () {\n    var sel = this.getSelection();\n    return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\n      sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset\n  };\n\n  ContentEditableInput.prototype.pollSelection = function () {\n    if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) { return }\n    var sel = this.getSelection(), cm = this.cm;\n    // On Android Chrome (version 56, at least), backspacing into an\n    // uneditable block element will put the cursor in that element,\n    // and then, because it's not editable, hide the virtual keyboard.\n    // Because Android doesn't allow us to actually detect backspace\n    // presses in a sane way, this code checks for when that happens\n    // and simulates a backspace press in this case.\n    if (android && chrome && this.cm.display.gutterSpecs.length && isInGutter(sel.anchorNode)) {\n      this.cm.triggerOnKeyDown({type: \"keydown\", keyCode: 8, preventDefault: Math.abs});\n      this.blur();\n      this.focus();\n      return\n    }\n    if (this.composing) { return }\n    this.rememberSelection();\n    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (anchor && head) { runInOp(cm, function () {\n      setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n      if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true; }\n    }); }\n  };\n\n  ContentEditableInput.prototype.pollContent = function () {\n    if (this.readDOMTimeout != null) {\n      clearTimeout(this.readDOMTimeout);\n      this.readDOMTimeout = null;\n    }\n\n    var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();\n    var from = sel.from(), to = sel.to();\n    if (from.ch == 0 && from.line > cm.firstLine())\n      { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length); }\n    if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())\n      { to = Pos(to.line + 1, 0); }\n    if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }\n\n    var fromIndex, fromLine, fromNode;\n    if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n      fromLine = lineNo(display.view[0].line);\n      fromNode = display.view[0].node;\n    } else {\n      fromLine = lineNo(display.view[fromIndex].line);\n      fromNode = display.view[fromIndex - 1].node.nextSibling;\n    }\n    var toIndex = findViewIndex(cm, to.line);\n    var toLine, toNode;\n    if (toIndex == display.view.length - 1) {\n      toLine = display.viewTo - 1;\n      toNode = display.lineDiv.lastChild;\n    } else {\n      toLine = lineNo(display.view[toIndex + 1].line) - 1;\n      toNode = display.view[toIndex + 1].node.previousSibling;\n    }\n\n    if (!fromNode) { return false }\n    var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n    var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n    while (newText.length > 1 && oldText.length > 1) {\n      if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine--; }\n      else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++; }\n      else { break }\n    }\n\n    var cutFront = 0, cutEnd = 0;\n    var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);\n    while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\n      { ++cutFront; }\n    var newBot = lst(newText), oldBot = lst(oldText);\n    var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\n                             oldBot.length - (oldText.length == 1 ? cutFront : 0));\n    while (cutEnd < maxCutEnd &&\n           newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\n      { ++cutEnd; }\n    // Try to move start of change to start of selection if ambiguous\n    if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {\n      while (cutFront && cutFront > from.ch &&\n             newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n        cutFront--;\n        cutEnd++;\n      }\n    }\n\n    newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\");\n    newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\");\n\n    var chFrom = Pos(fromLine, cutFront);\n    var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n    if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n      replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n      return true\n    }\n  };\n\n  ContentEditableInput.prototype.ensurePolled = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.reset = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.forceCompositionEnd = function () {\n    if (!this.composing) { return }\n    clearTimeout(this.readDOMTimeout);\n    this.composing = null;\n    this.updateFromDOM();\n    this.div.blur();\n    this.div.focus();\n  };\n  ContentEditableInput.prototype.readFromDOMSoon = function () {\n      var this$1 = this;\n\n    if (this.readDOMTimeout != null) { return }\n    this.readDOMTimeout = setTimeout(function () {\n      this$1.readDOMTimeout = null;\n      if (this$1.composing) {\n        if (this$1.composing.done) { this$1.composing = null; }\n        else { return }\n      }\n      this$1.updateFromDOM();\n    }, 80);\n  };\n\n  ContentEditableInput.prototype.updateFromDOM = function () {\n      var this$1 = this;\n\n    if (this.cm.isReadOnly() || !this.pollContent())\n      { runInOp(this.cm, function () { return regChange(this$1.cm); }); }\n  };\n\n  ContentEditableInput.prototype.setUneditable = function (node) {\n    node.contentEditable = \"false\";\n  };\n\n  ContentEditableInput.prototype.onKeyPress = function (e) {\n    if (e.charCode == 0 || this.composing) { return }\n    e.preventDefault();\n    if (!this.cm.isReadOnly())\n      { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0); }\n  };\n\n  ContentEditableInput.prototype.readOnlyChanged = function (val) {\n    this.div.contentEditable = String(val != \"nocursor\");\n  };\n\n  ContentEditableInput.prototype.onContextMenu = function () {};\n  ContentEditableInput.prototype.resetPosition = function () {};\n\n  ContentEditableInput.prototype.needsContentAttribute = true;\n\n  function posToDOM(cm, pos) {\n    var view = findViewForLine(cm, pos.line);\n    if (!view || view.hidden) { return null }\n    var line = getLine(cm.doc, pos.line);\n    var info = mapFromLineView(view, line, pos.line);\n\n    var order = getOrder(line, cm.doc.direction), side = \"left\";\n    if (order) {\n      var partPos = getBidiPartAt(order, pos.ch);\n      side = partPos % 2 ? \"right\" : \"left\";\n    }\n    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n    result.offset = result.collapse == \"right\" ? result.end : result.start;\n    return result\n  }\n\n  function isInGutter(node) {\n    for (var scan = node; scan; scan = scan.parentNode)\n      { if (/CodeMirror-gutter-wrapper/.test(scan.className)) { return true } }\n    return false\n  }\n\n  function badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }\n\n  function domTextBetween(cm, from, to, fromLine, toLine) {\n    var text = \"\", closing = false, lineSep = cm.doc.lineSeparator(), extraLinebreak = false;\n    function recognizeMarker(id) { return function (marker) { return marker.id == id; } }\n    function close() {\n      if (closing) {\n        text += lineSep;\n        if (extraLinebreak) { text += lineSep; }\n        closing = extraLinebreak = false;\n      }\n    }\n    function addText(str) {\n      if (str) {\n        close();\n        text += str;\n      }\n    }\n    function walk(node) {\n      if (node.nodeType == 1) {\n        var cmText = node.getAttribute(\"cm-text\");\n        if (cmText) {\n          addText(cmText);\n          return\n        }\n        var markerID = node.getAttribute(\"cm-marker\"), range;\n        if (markerID) {\n          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n          if (found.length && (range = found[0].find(0)))\n            { addText(getBetween(cm.doc, range.from, range.to).join(lineSep)); }\n          return\n        }\n        if (node.getAttribute(\"contenteditable\") == \"false\") { return }\n        var isBlock = /^(pre|div|p|li|table|br)$/i.test(node.nodeName);\n        if (!/^br$/i.test(node.nodeName) && node.textContent.length == 0) { return }\n\n        if (isBlock) { close(); }\n        for (var i = 0; i < node.childNodes.length; i++)\n          { walk(node.childNodes[i]); }\n\n        if (/^(pre|p)$/i.test(node.nodeName)) { extraLinebreak = true; }\n        if (isBlock) { closing = true; }\n      } else if (node.nodeType == 3) {\n        addText(node.nodeValue.replace(/\\u200b/g, \"\").replace(/\\u00a0/g, \" \"));\n      }\n    }\n    for (;;) {\n      walk(from);\n      if (from == to) { break }\n      from = from.nextSibling;\n      extraLinebreak = false;\n    }\n    return text\n  }\n\n  function domToPos(cm, node, offset) {\n    var lineNode;\n    if (node == cm.display.lineDiv) {\n      lineNode = cm.display.lineDiv.childNodes[offset];\n      if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }\n      node = null; offset = 0;\n    } else {\n      for (lineNode = node;; lineNode = lineNode.parentNode) {\n        if (!lineNode || lineNode == cm.display.lineDiv) { return null }\n        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }\n      }\n    }\n    for (var i = 0; i < cm.display.view.length; i++) {\n      var lineView = cm.display.view[i];\n      if (lineView.node == lineNode)\n        { return locateNodeInLineView(lineView, node, offset) }\n    }\n  }\n\n  function locateNodeInLineView(lineView, node, offset) {\n    var wrapper = lineView.text.firstChild, bad = false;\n    if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }\n    if (node == wrapper) {\n      bad = true;\n      node = wrapper.childNodes[offset];\n      offset = 0;\n      if (!node) {\n        var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n        return badPos(Pos(lineNo(line), line.text.length), bad)\n      }\n    }\n\n    var textNode = node.nodeType == 3 ? node : null, topNode = node;\n    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n      textNode = node.firstChild;\n      if (offset) { offset = textNode.nodeValue.length; }\n    }\n    while (topNode.parentNode != wrapper) { topNode = topNode.parentNode; }\n    var measure = lineView.measure, maps = measure.maps;\n\n    function find(textNode, topNode, offset) {\n      for (var i = -1; i < (maps ? maps.length : 0); i++) {\n        var map = i < 0 ? measure.map : maps[i];\n        for (var j = 0; j < map.length; j += 3) {\n          var curNode = map[j + 2];\n          if (curNode == textNode || curNode == topNode) {\n            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n            var ch = map[j] + offset;\n            if (offset < 0 || curNode != textNode) { ch = map[j + (offset ? 1 : 0)]; }\n            return Pos(line, ch)\n          }\n        }\n      }\n    }\n    var found = find(textNode, topNode, offset);\n    if (found) { return badPos(found, bad) }\n\n    // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n      found = find(after, after.firstChild, 0);\n      if (found)\n        { return badPos(Pos(found.line, found.ch - dist), bad) }\n      else\n        { dist += after.textContent.length; }\n    }\n    for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n      found = find(before, before.firstChild, -1);\n      if (found)\n        { return badPos(Pos(found.line, found.ch + dist$1), bad) }\n      else\n        { dist$1 += before.textContent.length; }\n    }\n  }\n\n  // TEXTAREA INPUT STYLE\n\n  var TextareaInput = function(cm) {\n    this.cm = cm;\n    // See input.poll and input.reset\n    this.prevInput = \"\";\n\n    // Flag that indicates whether we expect input to appear real soon\n    // now (after some event like 'keypress' or 'input') and are\n    // polling intensively.\n    this.pollingFast = false;\n    // Self-resetting timeout for the poller\n    this.polling = new Delayed();\n    // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n    this.hasSelection = false;\n    this.composing = null;\n  };\n\n  TextareaInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = this.cm;\n    this.createField(display);\n    var te = this.textarea;\n\n    display.wrapper.insertBefore(this.wrapper, display.wrapper.firstChild);\n\n    // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n    if (ios) { te.style.width = \"0px\"; }\n\n    on(te, \"input\", function () {\n      if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null; }\n      input.poll();\n    });\n\n    on(te, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n\n      cm.state.pasteIncoming = +new Date;\n      input.fastPoll();\n    });\n\n    function prepareCopyCut(e) {\n      if (signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.setSelections(ranges.ranges, null, sel_dontScroll);\n        } else {\n          input.prevInput = \"\";\n          te.value = ranges.text.join(\"\\n\");\n          selectInput(te);\n        }\n      }\n      if (e.type == \"cut\") { cm.state.cutIncoming = +new Date; }\n    }\n    on(te, \"cut\", prepareCopyCut);\n    on(te, \"copy\", prepareCopyCut);\n\n    on(display.scroller, \"paste\", function (e) {\n      if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }\n      if (!te.dispatchEvent) {\n        cm.state.pasteIncoming = +new Date;\n        input.focus();\n        return\n      }\n\n      // Pass the `paste` event to the textarea so it's handled by its event listener.\n      var event = new Event(\"paste\");\n      event.clipboardData = e.clipboardData;\n      te.dispatchEvent(event);\n    });\n\n    // Prevent normal selection in the editor (we handle our own)\n    on(display.lineSpace, \"selectstart\", function (e) {\n      if (!eventInWidget(display, e)) { e_preventDefault(e); }\n    });\n\n    on(te, \"compositionstart\", function () {\n      var start = cm.getCursor(\"from\");\n      if (input.composing) { input.composing.range.clear(); }\n      input.composing = {\n        start: start,\n        range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\n      };\n    });\n    on(te, \"compositionend\", function () {\n      if (input.composing) {\n        input.poll();\n        input.composing.range.clear();\n        input.composing = null;\n      }\n    });\n  };\n\n  TextareaInput.prototype.createField = function (_display) {\n    // Wraps and hides input textarea\n    this.wrapper = hiddenTextarea();\n    // The semihidden textarea that is focused when the editor is\n    // focused, and receives input.\n    this.textarea = this.wrapper.firstChild;\n  };\n\n  TextareaInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if(label) {\n      this.textarea.setAttribute('aria-label', label);\n    } else {\n      this.textarea.removeAttribute('aria-label');\n    }\n  };\n\n  TextareaInput.prototype.prepareSelection = function () {\n    // Redraw the selection and/or cursor\n    var cm = this.cm, display = cm.display, doc = cm.doc;\n    var result = prepareSelection(cm);\n\n    // Move the hidden textarea near the cursor to prevent scrolling artifacts\n    if (cm.options.moveInputWithCursor) {\n      var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\");\n      var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();\n      result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\n                                          headPos.top + lineOff.top - wrapOff.top));\n      result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\n                                           headPos.left + lineOff.left - wrapOff.left));\n    }\n\n    return result\n  };\n\n  TextareaInput.prototype.showSelection = function (drawn) {\n    var cm = this.cm, display = cm.display;\n    removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n    removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n    if (drawn.teTop != null) {\n      this.wrapper.style.top = drawn.teTop + \"px\";\n      this.wrapper.style.left = drawn.teLeft + \"px\";\n    }\n  };\n\n  // Reset the input to correspond to the selection (or to be empty,\n  // when not typing and nothing is selected)\n  TextareaInput.prototype.reset = function (typing) {\n    if (this.contextMenuPending || this.composing) { return }\n    var cm = this.cm;\n    if (cm.somethingSelected()) {\n      this.prevInput = \"\";\n      var content = cm.getSelection();\n      this.textarea.value = content;\n      if (cm.state.focused) { selectInput(this.textarea); }\n      if (ie && ie_version >= 9) { this.hasSelection = content; }\n    } else if (!typing) {\n      this.prevInput = this.textarea.value = \"\";\n      if (ie && ie_version >= 9) { this.hasSelection = null; }\n    }\n  };\n\n  TextareaInput.prototype.getField = function () { return this.textarea };\n\n  TextareaInput.prototype.supportsTouch = function () { return false };\n\n  TextareaInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n      try { this.textarea.focus(); }\n      catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n    }\n  };\n\n  TextareaInput.prototype.blur = function () { this.textarea.blur(); };\n\n  TextareaInput.prototype.resetPosition = function () {\n    this.wrapper.style.top = this.wrapper.style.left = 0;\n  };\n\n  TextareaInput.prototype.receivedFocus = function () { this.slowPoll(); };\n\n  // Poll for input changes, using the normal rate of polling. This\n  // runs as long as the editor is focused.\n  TextareaInput.prototype.slowPoll = function () {\n      var this$1 = this;\n\n    if (this.pollingFast) { return }\n    this.polling.set(this.cm.options.pollInterval, function () {\n      this$1.poll();\n      if (this$1.cm.state.focused) { this$1.slowPoll(); }\n    });\n  };\n\n  // When an event has just come in that is likely to add or change\n  // something in the input textarea, we poll faster, to ensure that\n  // the change appears on the screen quickly.\n  TextareaInput.prototype.fastPoll = function () {\n    var missed = false, input = this;\n    input.pollingFast = true;\n    function p() {\n      var changed = input.poll();\n      if (!changed && !missed) {missed = true; input.polling.set(60, p);}\n      else {input.pollingFast = false; input.slowPoll();}\n    }\n    input.polling.set(20, p);\n  };\n\n  // Read input from the textarea, and update the document to match.\n  // When something is selected, it is present in the textarea, and\n  // selected (unless it is huge, in which case a placeholder is\n  // used). When nothing is selected, the cursor sits after previously\n  // seen text (can be empty), which is stored in prevInput (we must\n  // not reset the textarea when typing, because that breaks IME).\n  TextareaInput.prototype.poll = function () {\n      var this$1 = this;\n\n    var cm = this.cm, input = this.textarea, prevInput = this.prevInput;\n    // Since this is called a *lot*, try to bail out as cheaply as\n    // possible when it is clear that nothing happened. hasSelection\n    // will be the case when there is a lot of text in the textarea,\n    // in which case reading its value would be expensive.\n    if (this.contextMenuPending || !cm.state.focused ||\n        (hasSelection(input) && !prevInput && !this.composing) ||\n        cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\n      { return false }\n\n    var text = input.value;\n    // If nothing changed, bail.\n    if (text == prevInput && !cm.somethingSelected()) { return false }\n    // Work around nonsensical selection resetting in IE9/10, and\n    // inexplicable appearance of private area unicode characters on\n    // some key combos in Mac (#2689).\n    if (ie && ie_version >= 9 && this.hasSelection === text ||\n        mac && /[\\uf700-\\uf7ff]/.test(text)) {\n      cm.display.input.reset();\n      return false\n    }\n\n    if (cm.doc.sel == cm.display.selForContextMenu) {\n      var first = text.charCodeAt(0);\n      if (first == 0x200b && !prevInput) { prevInput = \"\\u200b\"; }\n      if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\") }\n    }\n    // Find the part of the input that is actually new\n    var same = 0, l = Math.min(prevInput.length, text.length);\n    while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same; }\n\n    runInOp(cm, function () {\n      applyTextInput(cm, text.slice(same), prevInput.length - same,\n                     null, this$1.composing ? \"*compose\" : null);\n\n      // Don't leave long text in the textarea, since it makes further polling slow\n      if (text.length > 1000 || text.indexOf(\"\\n\") > -1) { input.value = this$1.prevInput = \"\"; }\n      else { this$1.prevInput = text; }\n\n      if (this$1.composing) {\n        this$1.composing.range.clear();\n        this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"),\n                                           {className: \"CodeMirror-composing\"});\n      }\n    });\n    return true\n  };\n\n  TextareaInput.prototype.ensurePolled = function () {\n    if (this.pollingFast && this.poll()) { this.pollingFast = false; }\n  };\n\n  TextareaInput.prototype.onKeyPress = function () {\n    if (ie && ie_version >= 9) { this.hasSelection = null; }\n    this.fastPoll();\n  };\n\n  TextareaInput.prototype.onContextMenu = function (e) {\n    var input = this, cm = input.cm, display = cm.display, te = input.textarea;\n    if (input.contextMenuPending) { input.contextMenuPending(); }\n    var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;\n    if (!pos || presto) { return } // Opera is difficult.\n\n    // Reset the current text selection only if the click is done outside of the selection\n    // and 'resetSelectionOnContextMenu' option is true.\n    var reset = cm.options.resetSelectionOnContextMenu;\n    if (reset && cm.doc.sel.contains(pos) == -1)\n      { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll); }\n\n    var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText;\n    var wrapperBox = input.wrapper.offsetParent.getBoundingClientRect();\n    input.wrapper.style.cssText = \"position: static\";\n    te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n    var oldScrollY;\n    if (webkit) { oldScrollY = window.scrollY; } // Work around Chrome issue (#2712)\n    display.input.focus();\n    if (webkit) { window.scrollTo(null, oldScrollY); }\n    display.input.reset();\n    // Adds \"Select all\" to context menu in FF\n    if (!cm.somethingSelected()) { te.value = input.prevInput = \" \"; }\n    input.contextMenuPending = rehide;\n    display.selForContextMenu = cm.doc.sel;\n    clearTimeout(display.detectingSelectAll);\n\n    // Select-all will be greyed out if there's nothing to select, so\n    // this adds a zero-width space so that we can later check whether\n    // it got selected.\n    function prepareSelectAllHack() {\n      if (te.selectionStart != null) {\n        var selected = cm.somethingSelected();\n        var extval = \"\\u200b\" + (selected ? te.value : \"\");\n        te.value = \"\\u21da\"; // Used to catch context-menu undo\n        te.value = extval;\n        input.prevInput = selected ? \"\" : \"\\u200b\";\n        te.selectionStart = 1; te.selectionEnd = extval.length;\n        // Re-set this, in case some other handler touched the\n        // selection in the meantime.\n        display.selForContextMenu = cm.doc.sel;\n      }\n    }\n    function rehide() {\n      if (input.contextMenuPending != rehide) { return }\n      input.contextMenuPending = false;\n      input.wrapper.style.cssText = oldWrapperCSS;\n      te.style.cssText = oldCSS;\n      if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos); }\n\n      // Try to detect the user choosing select-all\n      if (te.selectionStart != null) {\n        if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack(); }\n        var i = 0, poll = function () {\n          if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\n              te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\n            operation(cm, selectAll)(cm);\n          } else if (i++ < 10) {\n            display.detectingSelectAll = setTimeout(poll, 500);\n          } else {\n            display.selForContextMenu = null;\n            display.input.reset();\n          }\n        };\n        display.detectingSelectAll = setTimeout(poll, 200);\n      }\n    }\n\n    if (ie && ie_version >= 9) { prepareSelectAllHack(); }\n    if (captureRightClick) {\n      e_stop(e);\n      var mouseup = function () {\n        off(window, \"mouseup\", mouseup);\n        setTimeout(rehide, 20);\n      };\n      on(window, \"mouseup\", mouseup);\n    } else {\n      setTimeout(rehide, 50);\n    }\n  };\n\n  TextareaInput.prototype.readOnlyChanged = function (val) {\n    if (!val) { this.reset(); }\n    this.textarea.disabled = val == \"nocursor\";\n    this.textarea.readOnly = !!val;\n  };\n\n  TextareaInput.prototype.setUneditable = function () {};\n\n  TextareaInput.prototype.needsContentAttribute = false;\n\n  function fromTextArea(textarea, options) {\n    options = options ? copyObj(options) : {};\n    options.value = textarea.value;\n    if (!options.tabindex && textarea.tabIndex)\n      { options.tabindex = textarea.tabIndex; }\n    if (!options.placeholder && textarea.placeholder)\n      { options.placeholder = textarea.placeholder; }\n    // Set autofocus to true if this textarea is focused, or if it has\n    // autofocus and no other element is focused.\n    if (options.autofocus == null) {\n      var hasFocus = activeElt();\n      options.autofocus = hasFocus == textarea ||\n        textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n    }\n\n    function save() {textarea.value = cm.getValue();}\n\n    var realSubmit;\n    if (textarea.form) {\n      on(textarea.form, \"submit\", save);\n      // Deplorable hack to make the submit method do the right thing.\n      if (!options.leaveSubmitMethodAlone) {\n        var form = textarea.form;\n        realSubmit = form.submit;\n        try {\n          var wrappedSubmit = form.submit = function () {\n            save();\n            form.submit = realSubmit;\n            form.submit();\n            form.submit = wrappedSubmit;\n          };\n        } catch(e) {}\n      }\n    }\n\n    options.finishInit = function (cm) {\n      cm.save = save;\n      cm.getTextArea = function () { return textarea; };\n      cm.toTextArea = function () {\n        cm.toTextArea = isNaN; // Prevent this from being ran twice\n        save();\n        textarea.parentNode.removeChild(cm.getWrapperElement());\n        textarea.style.display = \"\";\n        if (textarea.form) {\n          off(textarea.form, \"submit\", save);\n          if (!options.leaveSubmitMethodAlone && typeof textarea.form.submit == \"function\")\n            { textarea.form.submit = realSubmit; }\n        }\n      };\n    };\n\n    textarea.style.display = \"none\";\n    var cm = CodeMirror(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },\n      options);\n    return cm\n  }\n\n  function addLegacyProps(CodeMirror) {\n    CodeMirror.off = off;\n    CodeMirror.on = on;\n    CodeMirror.wheelEventPixels = wheelEventPixels;\n    CodeMirror.Doc = Doc;\n    CodeMirror.splitLines = splitLinesAuto;\n    CodeMirror.countColumn = countColumn;\n    CodeMirror.findColumn = findColumn;\n    CodeMirror.isWordChar = isWordCharBasic;\n    CodeMirror.Pass = Pass;\n    CodeMirror.signal = signal;\n    CodeMirror.Line = Line;\n    CodeMirror.changeEnd = changeEnd;\n    CodeMirror.scrollbarModel = scrollbarModel;\n    CodeMirror.Pos = Pos;\n    CodeMirror.cmpPos = cmp;\n    CodeMirror.modes = modes;\n    CodeMirror.mimeModes = mimeModes;\n    CodeMirror.resolveMode = resolveMode;\n    CodeMirror.getMode = getMode;\n    CodeMirror.modeExtensions = modeExtensions;\n    CodeMirror.extendMode = extendMode;\n    CodeMirror.copyState = copyState;\n    CodeMirror.startState = startState;\n    CodeMirror.innerMode = innerMode;\n    CodeMirror.commands = commands;\n    CodeMirror.keyMap = keyMap;\n    CodeMirror.keyName = keyName;\n    CodeMirror.isModifierKey = isModifierKey;\n    CodeMirror.lookupKey = lookupKey;\n    CodeMirror.normalizeKeyMap = normalizeKeyMap;\n    CodeMirror.StringStream = StringStream;\n    CodeMirror.SharedTextMarker = SharedTextMarker;\n    CodeMirror.TextMarker = TextMarker;\n    CodeMirror.LineWidget = LineWidget;\n    CodeMirror.e_preventDefault = e_preventDefault;\n    CodeMirror.e_stopPropagation = e_stopPropagation;\n    CodeMirror.e_stop = e_stop;\n    CodeMirror.addClass = addClass;\n    CodeMirror.contains = contains;\n    CodeMirror.rmClass = rmClass;\n    CodeMirror.keyNames = keyNames;\n  }\n\n  // EDITOR CONSTRUCTOR\n\n  defineOptions(CodeMirror);\n\n  addEditorMethods(CodeMirror);\n\n  // Set up methods on CodeMirror's prototype to redirect to the editor's document.\n  var dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\n  for (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\n    { CodeMirror.prototype[prop] = (function(method) {\n      return function() {return method.apply(this.doc, arguments)}\n    })(Doc.prototype[prop]); } }\n\n  eventMixin(Doc);\n  CodeMirror.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  CodeMirror.defineMode = function(name/*, mode, */) {\n    if (!CodeMirror.defaults.mode && name != \"null\") { CodeMirror.defaults.mode = name; }\n    defineMode.apply(this, arguments);\n  };\n\n  CodeMirror.defineMIME = defineMIME;\n\n  // Minimal default mode.\n  CodeMirror.defineMode(\"null\", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); });\n  CodeMirror.defineMIME(\"text/plain\", \"null\");\n\n  // EXTENSIONS\n\n  CodeMirror.defineExtension = function (name, func) {\n    CodeMirror.prototype[name] = func;\n  };\n  CodeMirror.defineDocExtension = function (name, func) {\n    Doc.prototype[name] = func;\n  };\n\n  CodeMirror.fromTextArea = fromTextArea;\n\n  addLegacyProps(CodeMirror);\n\n  CodeMirror.version = \"5.62.2\";\n\n  return CodeMirror;\n\n})));\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../xml/xml\"), require(\"../meta\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../xml/xml\", \"../meta\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"markdown\", function(cmCfg, modeCfg) {\n\n  var htmlMode = CodeMirror.getMode(cmCfg, \"text/html\");\n  var htmlModeMissing = htmlMode.name == \"null\"\n\n  function getMode(name) {\n    if (CodeMirror.findModeByName) {\n      var found = CodeMirror.findModeByName(name);\n      if (found) name = found.mime || found.mimes[0];\n    }\n    var mode = CodeMirror.getMode(cmCfg, name);\n    return mode.name == \"null\" ? null : mode;\n  }\n\n  // Should characters that affect highlighting be highlighted separate?\n  // Does not include characters that will be output (such as `1.` and `-` for lists)\n  if (modeCfg.highlightFormatting === undefined)\n    modeCfg.highlightFormatting = false;\n\n  // Maximum number of nested blockquotes. Set to 0 for infinite nesting.\n  // Excess `>` will emit `error` token.\n  if (modeCfg.maxBlockquoteDepth === undefined)\n    modeCfg.maxBlockquoteDepth = 0;\n\n  // Turn on task lists? (\"- [ ] \" and \"- [x] \")\n  if (modeCfg.taskLists === undefined) modeCfg.taskLists = false;\n\n  // Turn on strikethrough syntax\n  if (modeCfg.strikethrough === undefined)\n    modeCfg.strikethrough = false;\n\n  if (modeCfg.emoji === undefined)\n    modeCfg.emoji = false;\n\n  if (modeCfg.fencedCodeBlockHighlighting === undefined)\n    modeCfg.fencedCodeBlockHighlighting = true;\n\n  if (modeCfg.fencedCodeBlockDefaultMode === undefined)\n    modeCfg.fencedCodeBlockDefaultMode = 'text/plain';\n\n  if (modeCfg.xml === undefined)\n    modeCfg.xml = true;\n\n  // Allow token types to be overridden by user-provided token types.\n  if (modeCfg.tokenTypeOverrides === undefined)\n    modeCfg.tokenTypeOverrides = {};\n\n  var tokenTypes = {\n    header: \"header\",\n    code: \"comment\",\n    quote: \"quote\",\n    list1: \"variable-2\",\n    list2: \"variable-3\",\n    list3: \"keyword\",\n    hr: \"hr\",\n    image: \"image\",\n    imageAltText: \"image-alt-text\",\n    imageMarker: \"image-marker\",\n    formatting: \"formatting\",\n    linkInline: \"link\",\n    linkEmail: \"link\",\n    linkText: \"link\",\n    linkHref: \"string\",\n    em: \"em\",\n    strong: \"strong\",\n    strikethrough: \"strikethrough\",\n    emoji: \"builtin\"\n  };\n\n  for (var tokenType in tokenTypes) {\n    if (tokenTypes.hasOwnProperty(tokenType) && modeCfg.tokenTypeOverrides[tokenType]) {\n      tokenTypes[tokenType] = modeCfg.tokenTypeOverrides[tokenType];\n    }\n  }\n\n  var hrRE = /^([*\\-_])(?:\\s*\\1){2,}\\s*$/\n  ,   listRE = /^(?:[*\\-+]|^[0-9]+([.)]))\\s+/\n  ,   taskListRE = /^\\[(x| )\\](?=\\s)/i // Must follow listRE\n  ,   atxHeaderRE = modeCfg.allowAtxHeaderWithoutSpace ? /^(#+)/ : /^(#+)(?: |$)/\n  ,   setextHeaderRE = /^ {0,3}(?:\\={1,}|-{2,})\\s*$/\n  ,   textRE = /^[^#!\\[\\]*_\\\\<>` \"'(~:]+/\n  ,   fencedCodeRE = /^(~~~+|```+)[ \\t]*([\\w\\/+#-]*)[^\\n`]*$/\n  ,   linkDefRE = /^\\s*\\[[^\\]]+?\\]:.*$/ // naive link-definition\n  ,   punctuation = /[!\"#$%&'()*+,\\-.\\/:;<=>?@\\[\\\\\\]^_`{|}~\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E42\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC9\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDF3C-\\uDF3E]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]/\n  ,   expandedTab = \"    \" // CommonMark specifies tab as 4 spaces\n\n  function switchInline(stream, state, f) {\n    state.f = state.inline = f;\n    return f(stream, state);\n  }\n\n  function switchBlock(stream, state, f) {\n    state.f = state.block = f;\n    return f(stream, state);\n  }\n\n  function lineIsEmpty(line) {\n    return !line || !/\\S/.test(line.string)\n  }\n\n  // Blocks\n\n  function blankLine(state) {\n    // Reset linkTitle state\n    state.linkTitle = false;\n    state.linkHref = false;\n    state.linkText = false;\n    // Reset EM state\n    state.em = false;\n    // Reset STRONG state\n    state.strong = false;\n    // Reset strikethrough state\n    state.strikethrough = false;\n    // Reset state.quote\n    state.quote = 0;\n    // Reset state.indentedCode\n    state.indentedCode = false;\n    if (state.f == htmlBlock) {\n      var exit = htmlModeMissing\n      if (!exit) {\n        var inner = CodeMirror.innerMode(htmlMode, state.htmlState)\n        exit = inner.mode.name == \"xml\" && inner.state.tagStart === null &&\n          (!inner.state.context && inner.state.tokenize.isInText)\n      }\n      if (exit) {\n        state.f = inlineNormal;\n        state.block = blockNormal;\n        state.htmlState = null;\n      }\n    }\n    // Reset state.trailingSpace\n    state.trailingSpace = 0;\n    state.trailingSpaceNewLine = false;\n    // Mark this line as blank\n    state.prevLine = state.thisLine\n    state.thisLine = {stream: null}\n    return null;\n  }\n\n  function blockNormal(stream, state) {\n    var firstTokenOnLine = stream.column() === state.indentation;\n    var prevLineLineIsEmpty = lineIsEmpty(state.prevLine.stream);\n    var prevLineIsIndentedCode = state.indentedCode;\n    var prevLineIsHr = state.prevLine.hr;\n    var prevLineIsList = state.list !== false;\n    var maxNonCodeIndentation = (state.listStack[state.listStack.length - 1] || 0) + 3;\n\n    state.indentedCode = false;\n\n    var lineIndentation = state.indentation;\n    // compute once per line (on first token)\n    if (state.indentationDiff === null) {\n      state.indentationDiff = state.indentation;\n      if (prevLineIsList) {\n        state.list = null;\n        // While this list item's marker's indentation is less than the deepest\n        //  list item's content's indentation,pop the deepest list item\n        //  indentation off the stack, and update block indentation state\n        while (lineIndentation < state.listStack[state.listStack.length - 1]) {\n          state.listStack.pop();\n          if (state.listStack.length) {\n            state.indentation = state.listStack[state.listStack.length - 1];\n          // less than the first list's indent -> the line is no longer a list\n          } else {\n            state.list = false;\n          }\n        }\n        if (state.list !== false) {\n          state.indentationDiff = lineIndentation - state.listStack[state.listStack.length - 1]\n        }\n      }\n    }\n\n    // not comprehensive (currently only for setext detection purposes)\n    var allowsInlineContinuation = (\n        !prevLineLineIsEmpty && !prevLineIsHr && !state.prevLine.header &&\n        (!prevLineIsList || !prevLineIsIndentedCode) &&\n        !state.prevLine.fencedCodeEnd\n    );\n\n    var isHr = (state.list === false || prevLineIsHr || prevLineLineIsEmpty) &&\n      state.indentation <= maxNonCodeIndentation && stream.match(hrRE);\n\n    var match = null;\n    if (state.indentationDiff >= 4 && (prevLineIsIndentedCode || state.prevLine.fencedCodeEnd ||\n         state.prevLine.header || prevLineLineIsEmpty)) {\n      stream.skipToEnd();\n      state.indentedCode = true;\n      return tokenTypes.code;\n    } else if (stream.eatSpace()) {\n      return null;\n    } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(atxHeaderRE)) && match[1].length <= 6) {\n      state.quote = 0;\n      state.header = match[1].length;\n      state.thisLine.header = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      state.f = state.inline;\n      return getType(state);\n    } else if (state.indentation <= maxNonCodeIndentation && stream.eat('>')) {\n      state.quote = firstTokenOnLine ? 1 : state.quote + 1;\n      if (modeCfg.highlightFormatting) state.formatting = \"quote\";\n      stream.eatSpace();\n      return getType(state);\n    } else if (!isHr && !state.setext && firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(listRE))) {\n      var listType = match[1] ? \"ol\" : \"ul\";\n\n      state.indentation = lineIndentation + stream.current().length;\n      state.list = true;\n      state.quote = 0;\n\n      // Add this list item's content's indentation to the stack\n      state.listStack.push(state.indentation);\n      // Reset inline styles which shouldn't propagate across list items\n      state.em = false;\n      state.strong = false;\n      state.code = false;\n      state.strikethrough = false;\n\n      if (modeCfg.taskLists && stream.match(taskListRE, false)) {\n        state.taskList = true;\n      }\n      state.f = state.inline;\n      if (modeCfg.highlightFormatting) state.formatting = [\"list\", \"list-\" + listType];\n      return getType(state);\n    } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(fencedCodeRE, true))) {\n      state.quote = 0;\n      state.fencedEndRE = new RegExp(match[1] + \"+ *$\");\n      // try switching mode\n      state.localMode = modeCfg.fencedCodeBlockHighlighting && getMode(match[2] || modeCfg.fencedCodeBlockDefaultMode );\n      if (state.localMode) state.localState = CodeMirror.startState(state.localMode);\n      state.f = state.block = local;\n      if (modeCfg.highlightFormatting) state.formatting = \"code-block\";\n      state.code = -1\n      return getType(state);\n    // SETEXT has lowest block-scope precedence after HR, so check it after\n    //  the others (code, blockquote, list...)\n    } else if (\n      // if setext set, indicates line after ---/===\n      state.setext || (\n        // line before ---/===\n        (!allowsInlineContinuation || !prevLineIsList) && !state.quote && state.list === false &&\n        !state.code && !isHr && !linkDefRE.test(stream.string) &&\n        (match = stream.lookAhead(1)) && (match = match.match(setextHeaderRE))\n      )\n    ) {\n      if ( !state.setext ) {\n        state.header = match[0].charAt(0) == '=' ? 1 : 2;\n        state.setext = state.header;\n      } else {\n        state.header = state.setext;\n        // has no effect on type so we can reset it now\n        state.setext = 0;\n        stream.skipToEnd();\n        if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      }\n      state.thisLine.header = true;\n      state.f = state.inline;\n      return getType(state);\n    } else if (isHr) {\n      stream.skipToEnd();\n      state.hr = true;\n      state.thisLine.hr = true;\n      return tokenTypes.hr;\n    } else if (stream.peek() === '[') {\n      return switchInline(stream, state, footnoteLink);\n    }\n\n    return switchInline(stream, state, state.inline);\n  }\n\n  function htmlBlock(stream, state) {\n    var style = htmlMode.token(stream, state.htmlState);\n    if (!htmlModeMissing) {\n      var inner = CodeMirror.innerMode(htmlMode, state.htmlState)\n      if ((inner.mode.name == \"xml\" && inner.state.tagStart === null &&\n           (!inner.state.context && inner.state.tokenize.isInText)) ||\n          (state.md_inside && stream.current().indexOf(\">\") > -1)) {\n        state.f = inlineNormal;\n        state.block = blockNormal;\n        state.htmlState = null;\n      }\n    }\n    return style;\n  }\n\n  function local(stream, state) {\n    var currListInd = state.listStack[state.listStack.length - 1] || 0;\n    var hasExitedList = state.indentation < currListInd;\n    var maxFencedEndInd = currListInd + 3;\n    if (state.fencedEndRE && state.indentation <= maxFencedEndInd && (hasExitedList || stream.match(state.fencedEndRE))) {\n      if (modeCfg.highlightFormatting) state.formatting = \"code-block\";\n      var returnType;\n      if (!hasExitedList) returnType = getType(state)\n      state.localMode = state.localState = null;\n      state.block = blockNormal;\n      state.f = inlineNormal;\n      state.fencedEndRE = null;\n      state.code = 0\n      state.thisLine.fencedCodeEnd = true;\n      if (hasExitedList) return switchBlock(stream, state, state.block);\n      return returnType;\n    } else if (state.localMode) {\n      return state.localMode.token(stream, state.localState);\n    } else {\n      stream.skipToEnd();\n      return tokenTypes.code;\n    }\n  }\n\n  // Inline\n  function getType(state) {\n    var styles = [];\n\n    if (state.formatting) {\n      styles.push(tokenTypes.formatting);\n\n      if (typeof state.formatting === \"string\") state.formatting = [state.formatting];\n\n      for (var i = 0; i < state.formatting.length; i++) {\n        styles.push(tokenTypes.formatting + \"-\" + state.formatting[i]);\n\n        if (state.formatting[i] === \"header\") {\n          styles.push(tokenTypes.formatting + \"-\" + state.formatting[i] + \"-\" + state.header);\n        }\n\n        // Add `formatting-quote` and `formatting-quote-#` for blockquotes\n        // Add `error` instead if the maximum blockquote nesting depth is passed\n        if (state.formatting[i] === \"quote\") {\n          if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {\n            styles.push(tokenTypes.formatting + \"-\" + state.formatting[i] + \"-\" + state.quote);\n          } else {\n            styles.push(\"error\");\n          }\n        }\n      }\n    }\n\n    if (state.taskOpen) {\n      styles.push(\"meta\");\n      return styles.length ? styles.join(' ') : null;\n    }\n    if (state.taskClosed) {\n      styles.push(\"property\");\n      return styles.length ? styles.join(' ') : null;\n    }\n\n    if (state.linkHref) {\n      styles.push(tokenTypes.linkHref, \"url\");\n    } else { // Only apply inline styles to non-url text\n      if (state.strong) { styles.push(tokenTypes.strong); }\n      if (state.em) { styles.push(tokenTypes.em); }\n      if (state.strikethrough) { styles.push(tokenTypes.strikethrough); }\n      if (state.emoji) { styles.push(tokenTypes.emoji); }\n      if (state.linkText) { styles.push(tokenTypes.linkText); }\n      if (state.code) { styles.push(tokenTypes.code); }\n      if (state.image) { styles.push(tokenTypes.image); }\n      if (state.imageAltText) { styles.push(tokenTypes.imageAltText, \"link\"); }\n      if (state.imageMarker) { styles.push(tokenTypes.imageMarker); }\n    }\n\n    if (state.header) { styles.push(tokenTypes.header, tokenTypes.header + \"-\" + state.header); }\n\n    if (state.quote) {\n      styles.push(tokenTypes.quote);\n\n      // Add `quote-#` where the maximum for `#` is modeCfg.maxBlockquoteDepth\n      if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {\n        styles.push(tokenTypes.quote + \"-\" + state.quote);\n      } else {\n        styles.push(tokenTypes.quote + \"-\" + modeCfg.maxBlockquoteDepth);\n      }\n    }\n\n    if (state.list !== false) {\n      var listMod = (state.listStack.length - 1) % 3;\n      if (!listMod) {\n        styles.push(tokenTypes.list1);\n      } else if (listMod === 1) {\n        styles.push(tokenTypes.list2);\n      } else {\n        styles.push(tokenTypes.list3);\n      }\n    }\n\n    if (state.trailingSpaceNewLine) {\n      styles.push(\"trailing-space-new-line\");\n    } else if (state.trailingSpace) {\n      styles.push(\"trailing-space-\" + (state.trailingSpace % 2 ? \"a\" : \"b\"));\n    }\n\n    return styles.length ? styles.join(' ') : null;\n  }\n\n  function handleText(stream, state) {\n    if (stream.match(textRE, true)) {\n      return getType(state);\n    }\n    return undefined;\n  }\n\n  function inlineNormal(stream, state) {\n    var style = state.text(stream, state);\n    if (typeof style !== 'undefined')\n      return style;\n\n    if (state.list) { // List marker (*, +, -, 1., etc)\n      state.list = null;\n      return getType(state);\n    }\n\n    if (state.taskList) {\n      var taskOpen = stream.match(taskListRE, true)[1] === \" \";\n      if (taskOpen) state.taskOpen = true;\n      else state.taskClosed = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"task\";\n      state.taskList = false;\n      return getType(state);\n    }\n\n    state.taskOpen = false;\n    state.taskClosed = false;\n\n    if (state.header && stream.match(/^#+$/, true)) {\n      if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      return getType(state);\n    }\n\n    var ch = stream.next();\n\n    // Matches link titles present on next line\n    if (state.linkTitle) {\n      state.linkTitle = false;\n      var matchCh = ch;\n      if (ch === '(') {\n        matchCh = ')';\n      }\n      matchCh = (matchCh+'').replace(/([.?*+^\\[\\]\\\\(){}|-])/g, \"\\\\$1\");\n      var regex = '^\\\\s*(?:[^' + matchCh + '\\\\\\\\]+|\\\\\\\\\\\\\\\\|\\\\\\\\.)' + matchCh;\n      if (stream.match(new RegExp(regex), true)) {\n        return tokenTypes.linkHref;\n      }\n    }\n\n    // If this block is changed, it may need to be updated in GFM mode\n    if (ch === '`') {\n      var previousFormatting = state.formatting;\n      if (modeCfg.highlightFormatting) state.formatting = \"code\";\n      stream.eatWhile('`');\n      var count = stream.current().length\n      if (state.code == 0 && (!state.quote || count == 1)) {\n        state.code = count\n        return getType(state)\n      } else if (count == state.code) { // Must be exact\n        var t = getType(state)\n        state.code = 0\n        return t\n      } else {\n        state.formatting = previousFormatting\n        return getType(state)\n      }\n    } else if (state.code) {\n      return getType(state);\n    }\n\n    if (ch === '\\\\') {\n      stream.next();\n      if (modeCfg.highlightFormatting) {\n        var type = getType(state);\n        var formattingEscape = tokenTypes.formatting + \"-escape\";\n        return type ? type + \" \" + formattingEscape : formattingEscape;\n      }\n    }\n\n    if (ch === '!' && stream.match(/\\[[^\\]]*\\] ?(?:\\(|\\[)/, false)) {\n      state.imageMarker = true;\n      state.image = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      return getType(state);\n    }\n\n    if (ch === '[' && state.imageMarker && stream.match(/[^\\]]*\\](\\(.*?\\)| ?\\[.*?\\])/, false)) {\n      state.imageMarker = false;\n      state.imageAltText = true\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      return getType(state);\n    }\n\n    if (ch === ']' && state.imageAltText) {\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      var type = getType(state);\n      state.imageAltText = false;\n      state.image = false;\n      state.inline = state.f = linkHref;\n      return type;\n    }\n\n    if (ch === '[' && !state.image) {\n      if (state.linkText && stream.match(/^.*?\\]/)) return getType(state)\n      state.linkText = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      return getType(state);\n    }\n\n    if (ch === ']' && state.linkText) {\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      state.linkText = false;\n      state.inline = state.f = stream.match(/\\(.*?\\)| ?\\[.*?\\]/, false) ? linkHref : inlineNormal\n      return type;\n    }\n\n    if (ch === '<' && stream.match(/^(https?|ftps?):\\/\\/(?:[^\\\\>]|\\\\.)+>/, false)) {\n      state.f = state.inline = linkInline;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkInline;\n    }\n\n    if (ch === '<' && stream.match(/^[^> \\\\]+@(?:[^\\\\>]|\\\\.)+>/, false)) {\n      state.f = state.inline = linkInline;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkEmail;\n    }\n\n    if (modeCfg.xml && ch === '<' && stream.match(/^(!--|\\?|!\\[CDATA\\[|[a-z][a-z0-9-]*(?:\\s+[a-z_:.\\-]+(?:\\s*=\\s*[^>]+)?)*\\s*(?:>|$))/i, false)) {\n      var end = stream.string.indexOf(\">\", stream.pos);\n      if (end != -1) {\n        var atts = stream.string.substring(stream.start, end);\n        if (/markdown\\s*=\\s*('|\"){0,1}1('|\"){0,1}/.test(atts)) state.md_inside = true;\n      }\n      stream.backUp(1);\n      state.htmlState = CodeMirror.startState(htmlMode);\n      return switchBlock(stream, state, htmlBlock);\n    }\n\n    if (modeCfg.xml && ch === '<' && stream.match(/^\\/\\w*?>/)) {\n      state.md_inside = false;\n      return \"tag\";\n    } else if (ch === \"*\" || ch === \"_\") {\n      var len = 1, before = stream.pos == 1 ? \" \" : stream.string.charAt(stream.pos - 2)\n      while (len < 3 && stream.eat(ch)) len++\n      var after = stream.peek() || \" \"\n      // See http://spec.commonmark.org/0.27/#emphasis-and-strong-emphasis\n      var leftFlanking = !/\\s/.test(after) && (!punctuation.test(after) || /\\s/.test(before) || punctuation.test(before))\n      var rightFlanking = !/\\s/.test(before) && (!punctuation.test(before) || /\\s/.test(after) || punctuation.test(after))\n      var setEm = null, setStrong = null\n      if (len % 2) { // Em\n        if (!state.em && leftFlanking && (ch === \"*\" || !rightFlanking || punctuation.test(before)))\n          setEm = true\n        else if (state.em == ch && rightFlanking && (ch === \"*\" || !leftFlanking || punctuation.test(after)))\n          setEm = false\n      }\n      if (len > 1) { // Strong\n        if (!state.strong && leftFlanking && (ch === \"*\" || !rightFlanking || punctuation.test(before)))\n          setStrong = true\n        else if (state.strong == ch && rightFlanking && (ch === \"*\" || !leftFlanking || punctuation.test(after)))\n          setStrong = false\n      }\n      if (setStrong != null || setEm != null) {\n        if (modeCfg.highlightFormatting) state.formatting = setEm == null ? \"strong\" : setStrong == null ? \"em\" : \"strong em\"\n        if (setEm === true) state.em = ch\n        if (setStrong === true) state.strong = ch\n        var t = getType(state)\n        if (setEm === false) state.em = false\n        if (setStrong === false) state.strong = false\n        return t\n      }\n    } else if (ch === ' ') {\n      if (stream.eat('*') || stream.eat('_')) { // Probably surrounded by spaces\n        if (stream.peek() === ' ') { // Surrounded by spaces, ignore\n          return getType(state);\n        } else { // Not surrounded by spaces, back up pointer\n          stream.backUp(1);\n        }\n      }\n    }\n\n    if (modeCfg.strikethrough) {\n      if (ch === '~' && stream.eatWhile(ch)) {\n        if (state.strikethrough) {// Remove strikethrough\n          if (modeCfg.highlightFormatting) state.formatting = \"strikethrough\";\n          var t = getType(state);\n          state.strikethrough = false;\n          return t;\n        } else if (stream.match(/^[^\\s]/, false)) {// Add strikethrough\n          state.strikethrough = true;\n          if (modeCfg.highlightFormatting) state.formatting = \"strikethrough\";\n          return getType(state);\n        }\n      } else if (ch === ' ') {\n        if (stream.match('~~', true)) { // Probably surrounded by space\n          if (stream.peek() === ' ') { // Surrounded by spaces, ignore\n            return getType(state);\n          } else { // Not surrounded by spaces, back up pointer\n            stream.backUp(2);\n          }\n        }\n      }\n    }\n\n    if (modeCfg.emoji && ch === \":\" && stream.match(/^(?:[a-z_\\d+][a-z_\\d+-]*|\\-[a-z_\\d+][a-z_\\d+-]*):/)) {\n      state.emoji = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"emoji\";\n      var retType = getType(state);\n      state.emoji = false;\n      return retType;\n    }\n\n    if (ch === ' ') {\n      if (stream.match(/^ +$/, false)) {\n        state.trailingSpace++;\n      } else if (state.trailingSpace) {\n        state.trailingSpaceNewLine = true;\n      }\n    }\n\n    return getType(state);\n  }\n\n  function linkInline(stream, state) {\n    var ch = stream.next();\n\n    if (ch === \">\") {\n      state.f = state.inline = inlineNormal;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkInline;\n    }\n\n    stream.match(/^[^>]+/, true);\n\n    return tokenTypes.linkInline;\n  }\n\n  function linkHref(stream, state) {\n    // Check if space, and return NULL if so (to avoid marking the space)\n    if(stream.eatSpace()){\n      return null;\n    }\n    var ch = stream.next();\n    if (ch === '(' || ch === '[') {\n      state.f = state.inline = getLinkHrefInside(ch === \"(\" ? \")\" : \"]\");\n      if (modeCfg.highlightFormatting) state.formatting = \"link-string\";\n      state.linkHref = true;\n      return getType(state);\n    }\n    return 'error';\n  }\n\n  var linkRE = {\n    \")\": /^(?:[^\\\\\\(\\)]|\\\\.|\\((?:[^\\\\\\(\\)]|\\\\.)*\\))*?(?=\\))/,\n    \"]\": /^(?:[^\\\\\\[\\]]|\\\\.|\\[(?:[^\\\\\\[\\]]|\\\\.)*\\])*?(?=\\])/\n  }\n\n  function getLinkHrefInside(endChar) {\n    return function(stream, state) {\n      var ch = stream.next();\n\n      if (ch === endChar) {\n        state.f = state.inline = inlineNormal;\n        if (modeCfg.highlightFormatting) state.formatting = \"link-string\";\n        var returnState = getType(state);\n        state.linkHref = false;\n        return returnState;\n      }\n\n      stream.match(linkRE[endChar])\n      state.linkHref = true;\n      return getType(state);\n    };\n  }\n\n  function footnoteLink(stream, state) {\n    if (stream.match(/^([^\\]\\\\]|\\\\.)*\\]:/, false)) {\n      state.f = footnoteLinkInside;\n      stream.next(); // Consume [\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      state.linkText = true;\n      return getType(state);\n    }\n    return switchInline(stream, state, inlineNormal);\n  }\n\n  function footnoteLinkInside(stream, state) {\n    if (stream.match(']:', true)) {\n      state.f = state.inline = footnoteUrl;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var returnType = getType(state);\n      state.linkText = false;\n      return returnType;\n    }\n\n    stream.match(/^([^\\]\\\\]|\\\\.)+/, true);\n\n    return tokenTypes.linkText;\n  }\n\n  function footnoteUrl(stream, state) {\n    // Check if space, and return NULL if so (to avoid marking the space)\n    if(stream.eatSpace()){\n      return null;\n    }\n    // Match URL\n    stream.match(/^[^\\s]+/, true);\n    // Check for link title\n    if (stream.peek() === undefined) { // End of line, set flag to check next line\n      state.linkTitle = true;\n    } else { // More content on line, check if link title\n      stream.match(/^(?:\\s+(?:\"(?:[^\"\\\\]|\\\\.)+\"|'(?:[^'\\\\]|\\\\.)+'|\\((?:[^)\\\\]|\\\\.)+\\)))?/, true);\n    }\n    state.f = state.inline = inlineNormal;\n    return tokenTypes.linkHref + \" url\";\n  }\n\n  var mode = {\n    startState: function() {\n      return {\n        f: blockNormal,\n\n        prevLine: {stream: null},\n        thisLine: {stream: null},\n\n        block: blockNormal,\n        htmlState: null,\n        indentation: 0,\n\n        inline: inlineNormal,\n        text: handleText,\n\n        formatting: false,\n        linkText: false,\n        linkHref: false,\n        linkTitle: false,\n        code: 0,\n        em: false,\n        strong: false,\n        header: 0,\n        setext: 0,\n        hr: false,\n        taskList: false,\n        list: false,\n        listStack: [],\n        quote: 0,\n        trailingSpace: 0,\n        trailingSpaceNewLine: false,\n        strikethrough: false,\n        emoji: false,\n        fencedEndRE: null\n      };\n    },\n\n    copyState: function(s) {\n      return {\n        f: s.f,\n\n        prevLine: s.prevLine,\n        thisLine: s.thisLine,\n\n        block: s.block,\n        htmlState: s.htmlState && CodeMirror.copyState(htmlMode, s.htmlState),\n        indentation: s.indentation,\n\n        localMode: s.localMode,\n        localState: s.localMode ? CodeMirror.copyState(s.localMode, s.localState) : null,\n\n        inline: s.inline,\n        text: s.text,\n        formatting: false,\n        linkText: s.linkText,\n        linkTitle: s.linkTitle,\n        linkHref: s.linkHref,\n        code: s.code,\n        em: s.em,\n        strong: s.strong,\n        strikethrough: s.strikethrough,\n        emoji: s.emoji,\n        header: s.header,\n        setext: s.setext,\n        hr: s.hr,\n        taskList: s.taskList,\n        list: s.list,\n        listStack: s.listStack.slice(0),\n        quote: s.quote,\n        indentedCode: s.indentedCode,\n        trailingSpace: s.trailingSpace,\n        trailingSpaceNewLine: s.trailingSpaceNewLine,\n        md_inside: s.md_inside,\n        fencedEndRE: s.fencedEndRE\n      };\n    },\n\n    token: function(stream, state) {\n\n      // Reset state.formatting\n      state.formatting = false;\n\n      if (stream != state.thisLine.stream) {\n        state.header = 0;\n        state.hr = false;\n\n        if (stream.match(/^\\s*$/, true)) {\n          blankLine(state);\n          return null;\n        }\n\n        state.prevLine = state.thisLine\n        state.thisLine = {stream: stream}\n\n        // Reset state.taskList\n        state.taskList = false;\n\n        // Reset state.trailingSpace\n        state.trailingSpace = 0;\n        state.trailingSpaceNewLine = false;\n\n        if (!state.localState) {\n          state.f = state.block;\n          if (state.f != htmlBlock) {\n            var indentation = stream.match(/^\\s*/, true)[0].replace(/\\t/g, expandedTab).length;\n            state.indentation = indentation;\n            state.indentationDiff = null;\n            if (indentation > 0) return null;\n          }\n        }\n      }\n      return state.f(stream, state);\n    },\n\n    innerMode: function(state) {\n      if (state.block == htmlBlock) return {state: state.htmlState, mode: htmlMode};\n      if (state.localState) return {state: state.localState, mode: state.localMode};\n      return {state: state, mode: mode};\n    },\n\n    indent: function(state, textAfter, line) {\n      if (state.block == htmlBlock && htmlMode.indent) return htmlMode.indent(state.htmlState, textAfter, line)\n      if (state.localState && state.localMode.indent) return state.localMode.indent(state.localState, textAfter, line)\n      return CodeMirror.Pass\n    },\n\n    blankLine: blankLine,\n\n    getType: getType,\n\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n    fold: \"markdown\"\n  };\n  return mode;\n}, \"xml\");\n\nCodeMirror.defineMIME(\"text/markdown\", \"markdown\");\n\nCodeMirror.defineMIME(\"text/x-markdown\", \"markdown\");\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nvar htmlConfig = {\n  autoSelfClosers: {'area': true, 'base': true, 'br': true, 'col': true, 'command': true,\n                    'embed': true, 'frame': true, 'hr': true, 'img': true, 'input': true,\n                    'keygen': true, 'link': true, 'meta': true, 'param': true, 'source': true,\n                    'track': true, 'wbr': true, 'menuitem': true},\n  implicitlyClosed: {'dd': true, 'li': true, 'optgroup': true, 'option': true, 'p': true,\n                     'rp': true, 'rt': true, 'tbody': true, 'td': true, 'tfoot': true,\n                     'th': true, 'tr': true},\n  contextGrabbers: {\n    'dd': {'dd': true, 'dt': true},\n    'dt': {'dd': true, 'dt': true},\n    'li': {'li': true},\n    'option': {'option': true, 'optgroup': true},\n    'optgroup': {'optgroup': true},\n    'p': {'address': true, 'article': true, 'aside': true, 'blockquote': true, 'dir': true,\n          'div': true, 'dl': true, 'fieldset': true, 'footer': true, 'form': true,\n          'h1': true, 'h2': true, 'h3': true, 'h4': true, 'h5': true, 'h6': true,\n          'header': true, 'hgroup': true, 'hr': true, 'menu': true, 'nav': true, 'ol': true,\n          'p': true, 'pre': true, 'section': true, 'table': true, 'ul': true},\n    'rp': {'rp': true, 'rt': true},\n    'rt': {'rp': true, 'rt': true},\n    'tbody': {'tbody': true, 'tfoot': true},\n    'td': {'td': true, 'th': true},\n    'tfoot': {'tbody': true},\n    'th': {'td': true, 'th': true},\n    'thead': {'tbody': true, 'tfoot': true},\n    'tr': {'tr': true}\n  },\n  doNotIndent: {\"pre\": true},\n  allowUnquoted: true,\n  allowMissing: true,\n  caseFold: true\n}\n\nvar xmlConfig = {\n  autoSelfClosers: {},\n  implicitlyClosed: {},\n  contextGrabbers: {},\n  doNotIndent: {},\n  allowUnquoted: false,\n  allowMissing: false,\n  allowMissingTagName: false,\n  caseFold: false\n}\n\nCodeMirror.defineMode(\"xml\", function(editorConf, config_) {\n  var indentUnit = editorConf.indentUnit\n  var config = {}\n  var defaults = config_.htmlMode ? htmlConfig : xmlConfig\n  for (var prop in defaults) config[prop] = defaults[prop]\n  for (var prop in config_) config[prop] = config_[prop]\n\n  // Return variables for tokenizers\n  var type, setStyle;\n\n  function inText(stream, state) {\n    function chain(parser) {\n      state.tokenize = parser;\n      return parser(stream, state);\n    }\n\n    var ch = stream.next();\n    if (ch == \"<\") {\n      if (stream.eat(\"!\")) {\n        if (stream.eat(\"[\")) {\n          if (stream.match(\"CDATA[\")) return chain(inBlock(\"atom\", \"]]>\"));\n          else return null;\n        } else if (stream.match(\"--\")) {\n          return chain(inBlock(\"comment\", \"-->\"));\n        } else if (stream.match(\"DOCTYPE\", true, true)) {\n          stream.eatWhile(/[\\w\\._\\-]/);\n          return chain(doctype(1));\n        } else {\n          return null;\n        }\n      } else if (stream.eat(\"?\")) {\n        stream.eatWhile(/[\\w\\._\\-]/);\n        state.tokenize = inBlock(\"meta\", \"?>\");\n        return \"meta\";\n      } else {\n        type = stream.eat(\"/\") ? \"closeTag\" : \"openTag\";\n        state.tokenize = inTag;\n        return \"tag bracket\";\n      }\n    } else if (ch == \"&\") {\n      var ok;\n      if (stream.eat(\"#\")) {\n        if (stream.eat(\"x\")) {\n          ok = stream.eatWhile(/[a-fA-F\\d]/) && stream.eat(\";\");\n        } else {\n          ok = stream.eatWhile(/[\\d]/) && stream.eat(\";\");\n        }\n      } else {\n        ok = stream.eatWhile(/[\\w\\.\\-:]/) && stream.eat(\";\");\n      }\n      return ok ? \"atom\" : \"error\";\n    } else {\n      stream.eatWhile(/[^&<]/);\n      return null;\n    }\n  }\n  inText.isInText = true;\n\n  function inTag(stream, state) {\n    var ch = stream.next();\n    if (ch == \">\" || (ch == \"/\" && stream.eat(\">\"))) {\n      state.tokenize = inText;\n      type = ch == \">\" ? \"endTag\" : \"selfcloseTag\";\n      return \"tag bracket\";\n    } else if (ch == \"=\") {\n      type = \"equals\";\n      return null;\n    } else if (ch == \"<\") {\n      state.tokenize = inText;\n      state.state = baseState;\n      state.tagName = state.tagStart = null;\n      var next = state.tokenize(stream, state);\n      return next ? next + \" tag error\" : \"tag error\";\n    } else if (/[\\'\\\"]/.test(ch)) {\n      state.tokenize = inAttribute(ch);\n      state.stringStartCol = stream.column();\n      return state.tokenize(stream, state);\n    } else {\n      stream.match(/^[^\\s\\u00a0=<>\\\"\\']*[^\\s\\u00a0=<>\\\"\\'\\/]/);\n      return \"word\";\n    }\n  }\n\n  function inAttribute(quote) {\n    var closure = function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.next() == quote) {\n          state.tokenize = inTag;\n          break;\n        }\n      }\n      return \"string\";\n    };\n    closure.isInAttribute = true;\n    return closure;\n  }\n\n  function inBlock(style, terminator) {\n    return function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.match(terminator)) {\n          state.tokenize = inText;\n          break;\n        }\n        stream.next();\n      }\n      return style;\n    }\n  }\n\n  function doctype(depth) {\n    return function(stream, state) {\n      var ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == \"<\") {\n          state.tokenize = doctype(depth + 1);\n          return state.tokenize(stream, state);\n        } else if (ch == \">\") {\n          if (depth == 1) {\n            state.tokenize = inText;\n            break;\n          } else {\n            state.tokenize = doctype(depth - 1);\n            return state.tokenize(stream, state);\n          }\n        }\n      }\n      return \"meta\";\n    };\n  }\n\n  function Context(state, tagName, startOfLine) {\n    this.prev = state.context;\n    this.tagName = tagName || \"\";\n    this.indent = state.indented;\n    this.startOfLine = startOfLine;\n    if (config.doNotIndent.hasOwnProperty(tagName) || (state.context && state.context.noIndent))\n      this.noIndent = true;\n  }\n  function popContext(state) {\n    if (state.context) state.context = state.context.prev;\n  }\n  function maybePopContext(state, nextTagName) {\n    var parentTagName;\n    while (true) {\n      if (!state.context) {\n        return;\n      }\n      parentTagName = state.context.tagName;\n      if (!config.contextGrabbers.hasOwnProperty(parentTagName) ||\n          !config.contextGrabbers[parentTagName].hasOwnProperty(nextTagName)) {\n        return;\n      }\n      popContext(state);\n    }\n  }\n\n  function baseState(type, stream, state) {\n    if (type == \"openTag\") {\n      state.tagStart = stream.column();\n      return tagNameState;\n    } else if (type == \"closeTag\") {\n      return closeTagNameState;\n    } else {\n      return baseState;\n    }\n  }\n  function tagNameState(type, stream, state) {\n    if (type == \"word\") {\n      state.tagName = stream.current();\n      setStyle = \"tag\";\n      return attrState;\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return attrState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return tagNameState;\n    }\n  }\n  function closeTagNameState(type, stream, state) {\n    if (type == \"word\") {\n      var tagName = stream.current();\n      if (state.context && state.context.tagName != tagName &&\n          config.implicitlyClosed.hasOwnProperty(state.context.tagName))\n        popContext(state);\n      if ((state.context && state.context.tagName == tagName) || config.matchClosing === false) {\n        setStyle = \"tag\";\n        return closeState;\n      } else {\n        setStyle = \"tag error\";\n        return closeStateErr;\n      }\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return closeState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return closeStateErr;\n    }\n  }\n\n  function closeState(type, _stream, state) {\n    if (type != \"endTag\") {\n      setStyle = \"error\";\n      return closeState;\n    }\n    popContext(state);\n    return baseState;\n  }\n  function closeStateErr(type, stream, state) {\n    setStyle = \"error\";\n    return closeState(type, stream, state);\n  }\n\n  function attrState(type, _stream, state) {\n    if (type == \"word\") {\n      setStyle = \"attribute\";\n      return attrEqState;\n    } else if (type == \"endTag\" || type == \"selfcloseTag\") {\n      var tagName = state.tagName, tagStart = state.tagStart;\n      state.tagName = state.tagStart = null;\n      if (type == \"selfcloseTag\" ||\n          config.autoSelfClosers.hasOwnProperty(tagName)) {\n        maybePopContext(state, tagName);\n      } else {\n        maybePopContext(state, tagName);\n        state.context = new Context(state, tagName, tagStart == state.indented);\n      }\n      return baseState;\n    }\n    setStyle = \"error\";\n    return attrState;\n  }\n  function attrEqState(type, stream, state) {\n    if (type == \"equals\") return attrValueState;\n    if (!config.allowMissing) setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrValueState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    if (type == \"word\" && config.allowUnquoted) {setStyle = \"string\"; return attrState;}\n    setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrContinuedState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    return attrState(type, stream, state);\n  }\n\n  return {\n    startState: function(baseIndent) {\n      var state = {tokenize: inText,\n                   state: baseState,\n                   indented: baseIndent || 0,\n                   tagName: null, tagStart: null,\n                   context: null}\n      if (baseIndent != null) state.baseIndent = baseIndent\n      return state\n    },\n\n    token: function(stream, state) {\n      if (!state.tagName && stream.sol())\n        state.indented = stream.indentation();\n\n      if (stream.eatSpace()) return null;\n      type = null;\n      var style = state.tokenize(stream, state);\n      if ((style || type) && style != \"comment\") {\n        setStyle = null;\n        state.state = state.state(type || style, stream, state);\n        if (setStyle)\n          style = setStyle == \"error\" ? style + \" error\" : setStyle;\n      }\n      return style;\n    },\n\n    indent: function(state, textAfter, fullLine) {\n      var context = state.context;\n      // Indent multi-line strings (e.g. css).\n      if (state.tokenize.isInAttribute) {\n        if (state.tagStart == state.indented)\n          return state.stringStartCol + 1;\n        else\n          return state.indented + indentUnit;\n      }\n      if (context && context.noIndent) return CodeMirror.Pass;\n      if (state.tokenize != inTag && state.tokenize != inText)\n        return fullLine ? fullLine.match(/^(\\s*)/)[0].length : 0;\n      // Indent the starts of attribute names.\n      if (state.tagName) {\n        if (config.multilineTagIndentPastTag !== false)\n          return state.tagStart + state.tagName.length + 2;\n        else\n          return state.tagStart + indentUnit * (config.multilineTagIndentFactor || 1);\n      }\n      if (config.alignCDATA && /<!\\[CDATA\\[/.test(textAfter)) return 0;\n      var tagAfter = textAfter && /^<(\\/)?([\\w_:\\.-]*)/.exec(textAfter);\n      if (tagAfter && tagAfter[1]) { // Closing tag spotted\n        while (context) {\n          if (context.tagName == tagAfter[2]) {\n            context = context.prev;\n            break;\n          } else if (config.implicitlyClosed.hasOwnProperty(context.tagName)) {\n            context = context.prev;\n          } else {\n            break;\n          }\n        }\n      } else if (tagAfter) { // Opening tag spotted\n        while (context) {\n          var grabbers = config.contextGrabbers[context.tagName];\n          if (grabbers && grabbers.hasOwnProperty(tagAfter[2]))\n            context = context.prev;\n          else\n            break;\n        }\n      }\n      while (context && context.prev && !context.startOfLine)\n        context = context.prev;\n      if (context) return context.indent + indentUnit;\n      else return state.baseIndent || 0;\n    },\n\n    electricInput: /<\\/[\\s\\w:]+>$/,\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n\n    configuration: config.htmlMode ? \"html\" : \"xml\",\n    helperType: config.htmlMode ? \"html\" : \"xml\",\n\n    skipAttribute: function(state) {\n      if (state.state == attrValueState)\n        state.state = attrState\n    },\n\n    xmlCurrentTag: function(state) {\n      return state.tagName ? {name: state.tagName, close: state.type == \"closeTag\"} : null\n    },\n\n    xmlCurrentContext: function(state) {\n      var context = []\n      for (var cx = state.context; cx; cx = cx.prev)\n        context.push(cx.tagName)\n      return context.reverse()\n    }\n  };\n});\n\nCodeMirror.defineMIME(\"text/xml\", \"xml\");\nCodeMirror.defineMIME(\"application/xml\", \"xml\");\nif (!CodeMirror.mimeModes.hasOwnProperty(\"text/html\"))\n  CodeMirror.defineMIME(\"text/html\", {name: \"xml\", htmlMode: true});\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// Utility function that allows modes to be combined. The mode given\n// as the base argument takes care of most of the normal mode\n// functionality, but a second (typically simple) mode is used, which\n// can override the style of text. Both modes get to parse all of the\n// text, but when both assign a non-null style to a piece of code, the\n// overlay wins, unless the combine argument was true and not overridden,\n// or state.overlay.combineTokens was true, in which case the styles are\n// combined.\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.overlayMode = function(base, overlay, combine) {\n  return {\n    startState: function() {\n      return {\n        base: CodeMirror.startState(base),\n        overlay: CodeMirror.startState(overlay),\n        basePos: 0, baseCur: null,\n        overlayPos: 0, overlayCur: null,\n        streamSeen: null\n      };\n    },\n    copyState: function(state) {\n      return {\n        base: CodeMirror.copyState(base, state.base),\n        overlay: CodeMirror.copyState(overlay, state.overlay),\n        basePos: state.basePos, baseCur: null,\n        overlayPos: state.overlayPos, overlayCur: null\n      };\n    },\n\n    token: function(stream, state) {\n      if (stream != state.streamSeen ||\n          Math.min(state.basePos, state.overlayPos) < stream.start) {\n        state.streamSeen = stream;\n        state.basePos = state.overlayPos = stream.start;\n      }\n\n      if (stream.start == state.basePos) {\n        state.baseCur = base.token(stream, state.base);\n        state.basePos = stream.pos;\n      }\n      if (stream.start == state.overlayPos) {\n        stream.pos = stream.start;\n        state.overlayCur = overlay.token(stream, state.overlay);\n        state.overlayPos = stream.pos;\n      }\n      stream.pos = Math.min(state.basePos, state.overlayPos);\n\n      // state.overlay.combineTokens always takes precedence over combine,\n      // unless set to null\n      if (state.overlayCur == null) return state.baseCur;\n      else if (state.baseCur != null &&\n               state.overlay.combineTokens ||\n               combine && state.overlay.combineTokens == null)\n        return state.baseCur + \" \" + state.overlayCur;\n      else return state.overlayCur;\n    },\n\n    indent: base.indent && function(state, textAfter, line) {\n      return base.indent(state.base, textAfter, line);\n    },\n    electricChars: base.electricChars,\n\n    innerMode: function(state) { return {state: state.base, mode: base}; },\n\n    blankLine: function(state) {\n      var baseToken, overlayToken;\n      if (base.blankLine) baseToken = base.blankLine(state.base);\n      if (overlay.blankLine) overlayToken = overlay.blankLine(state.overlay);\n\n      return overlayToken == null ?\n        baseToken :\n        (combine && baseToken != null ? baseToken + \" \" + overlayToken : overlayToken);\n    }\n  };\n};\n\n});\n","import React, {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport SimpleMDE, { Options } from \"easymde\";\n\nimport type {\n  Doc,\n  Editor,\n  EditorChange,\n  EditorChangeCancellable,\n  EditorChangeLinkedList,\n  EditorSelectionChange,\n  KeyMap,\n  LineHandle,\n  Position,\n} from \"codemirror\";\n\nlet _id = 0;\n\nconst generateId = () => `simplemde-editor-${++_id}`;\n\nexport type DOMEvent =\n  | \"mousedown\"\n  | \"dblclick\"\n  | \"touchstart\"\n  | \"contextmenu\"\n  | \"keydown\"\n  | \"keypress\"\n  | \"keyup\"\n  | \"cut\"\n  | \"copy\"\n  | \"paste\"\n  | \"dragstart\"\n  | \"dragenter\"\n  | \"dragover\"\n  | \"dragleave\"\n  | \"drop\";\n\nexport type CopyEvents = {\n  [TKey in string &\n    DOMEvent &\n    keyof DocumentAndElementEventHandlersEventMap as `${TKey}`]?: (\n    instance: Editor,\n    event: DocumentAndElementEventHandlersEventMap[TKey]\n  ) => void;\n};\n\nexport type GlobalEvents = {\n  [TKey in string &\n    DOMEvent &\n    keyof GlobalEventHandlersEventMap as `${TKey}`]?: (\n    instance: Editor,\n    event: GlobalEventHandlersEventMap[TKey]\n  ) => void;\n};\n\nexport type DefaultEvent = (instance: Editor, ...args: any[]) => void;\n\nexport type IndexEventsSignature = {\n  [key: string]: DefaultEvent | undefined;\n};\n\nexport interface SimpleMdeToCodemirrorEvents\n  extends CopyEvents,\n    GlobalEvents,\n    IndexEventsSignature {\n  change?: (instance: Editor, changeObj: EditorChangeLinkedList) => void;\n  changes?: (instance: Editor, changes: EditorChangeLinkedList[]) => void;\n  beforeChange?: (instance: Editor, changeObj: EditorChangeCancellable) => void;\n  cursorActivity?: (instance: Editor) => void;\n  keyHandled?: (instance: Editor, name: string, event: KeyboardEvent) => void;\n  inputRead?: (instance: Editor, changeObj: EditorChange) => void;\n  electricInput?: (instance: Editor, line: number) => void;\n  beforeSelectionChange?: (\n    instance: Editor,\n    obj: EditorSelectionChange\n  ) => void;\n  viewportChange?: (instance: Editor, from: number, to: number) => void;\n  swapDoc?: (instance: Editor, oldDoc: Doc) => void;\n  gutterClick?: (\n    instance: Editor,\n    line: number,\n    gutter: string,\n    clickEvent: MouseEvent\n  ) => void;\n  gutterContextMenu?: (\n    instance: Editor,\n    line: number,\n    gutter: string,\n    contextMenu: MouseEvent\n  ) => void;\n  focus?: (instance: Editor, event: FocusEvent) => void;\n  blur?: (instance: Editor, event: FocusEvent) => void;\n  scroll?: (instance: Editor) => void;\n  refresh?: (instance: Editor) => void;\n  optionChange?: (instance: Editor, option: string) => void;\n  scrollCursorIntoView?: (instance: Editor, event: Event) => void;\n  update?: (instance: Editor) => void;\n  renderLine?: (\n    instance: Editor,\n    line: LineHandle,\n    element: HTMLElement\n  ) => void;\n  overwriteToggle?: (instance: Editor, overwrite: boolean) => void;\n}\n\nexport type GetMdeInstance = (instance: SimpleMDE) => void;\nexport type GetCodemirrorInstance = (instance: Editor) => void;\nexport type GetLineAndCursor = (instance: Position) => void;\n\nexport interface SimpleMDEReactProps\n  extends Omit<React.HTMLAttributes<HTMLDivElement>, \"onChange\"> {\n  id?: string;\n  onChange?: (value: string) => void;\n  value?: string;\n  extraKeys?: KeyMap;\n  options?: SimpleMDE.Options;\n  events?: SimpleMdeToCodemirrorEvents;\n  getMdeInstance?: GetMdeInstance;\n  getCodemirrorInstance?: GetCodemirrorInstance;\n  getLineAndCursor?: GetLineAndCursor;\n}\n\nconst useHandleEditorInstanceLifecycle = ({\n  options,\n  id,\n  currentValueRef,\n  textRef,\n}: {\n  options?: Options;\n  id: string;\n  currentValueRef: React.MutableRefObject<string | undefined>;\n  textRef: HTMLTextAreaElement | null;\n}) => {\n  const [editor, setEditor] = useState<SimpleMDE | null>(null);\n\n  const imageUploadCallback = useCallback(\n    (\n      file: File,\n      onSuccess: (url: string) => void,\n      onError: (error: string) => void\n    ) => {\n      const imageUpload = options?.imageUploadFunction;\n      if (imageUpload) {\n        const _onSuccess = (url: string) => {\n          onSuccess(url);\n        };\n        imageUpload(file, _onSuccess, onError);\n      }\n    },\n    [options?.imageUploadFunction]\n  );\n\n  const editorRef = useRef(editor);\n  editorRef.current = editor;\n\n  useEffect(() => {\n    let editor: SimpleMDE\n    if (textRef) {\n      const initialOptions = {\n        element: textRef,\n        initialValue: currentValueRef.current,\n      }\n      const imageUploadFunction = options?.imageUploadFunction\n        ? imageUploadCallback\n        : undefined\n      editor = new SimpleMDE(\n        Object.assign({}, initialOptions, options, {\n          imageUploadFunction,\n        })\n      )\n      setEditor(editor)\n    }\n    return () => {\n      editor?.toTextArea()\n      // @ts-expect-error\n      editor?.cleanup()\n    }\n  }, [textRef, currentValueRef, id, imageUploadCallback, options]);\n\n  const codemirror = useMemo(() => {\n    return editor?.codemirror;\n  }, [editor?.codemirror]) as Editor | undefined;\n  return { editor, codemirror };\n};\n\nexport const SimpleMdeReact = React.forwardRef<\n  HTMLDivElement,\n  SimpleMDEReactProps\n>((props, ref) => {\n  const {\n    events,\n    value,\n    options,\n    children,\n    extraKeys,\n    getLineAndCursor,\n    getMdeInstance,\n    getCodemirrorInstance,\n    onChange,\n    id: anId,\n    ...rest\n  } = props;\n\n  const id = useMemo(() => anId ?? generateId(), [anId]);\n\n  const elementWrapperRef = useRef<HTMLDivElement | null>(null);\n  const nonEventChangeRef = useRef<boolean>(true);\n\n  // This is to not pass value as a dependency e.g. to keep event handlers referentially\n  // stable and do not `off` and `on` on each value change\n  // plus to avoid unnecessary EasyEde editor recreation on each value change while still, if it has to be remounted\n  // due to options and other deps change, to preserve that last value and not the default one from the first render.\n  const currentValueRef = useRef(value);\n  currentValueRef.current = value;\n\n  const [textRef, setTextRef] = useState<HTMLTextAreaElement | null>(null)\n  const { editor, codemirror } = useHandleEditorInstanceLifecycle({\n    options,\n    id,\n    currentValueRef,\n    textRef,\n  });\n\n  useEffect(() => {\n    // If change comes from the event we don't need to update `SimpleMDE` value as it already has it\n    // Otherwise we shall set it as it comes from `props` set from the outside. E.g. by some reset button and whatnot\n    if (nonEventChangeRef.current) {\n      editor?.value(value ?? \"\");\n    }\n    nonEventChangeRef.current = true;\n  }, [editor, value]);\n\n  const onCodemirrorChangeHandler = useCallback(() => {\n    if (editor?.value() !== currentValueRef.current) {\n      nonEventChangeRef.current = false;\n      onChange?.(editor?.value() ?? \"\");\n    }\n  }, [editor, onChange]);\n\n  useEffect(() => {\n    // For some reason it doesn't work out of the box, this makes sure it's working correctly\n    if (options?.autofocus) {\n      codemirror?.focus();\n      codemirror?.setCursor(codemirror?.lineCount(), 0);\n    }\n  }, [codemirror, options?.autofocus]);\n\n  const getCursorCallback = useCallback(() => {\n    // https://codemirror.net/doc/manual.html#api_selection\n    codemirror && getLineAndCursor?.(codemirror.getDoc().getCursor());\n  }, [codemirror, getLineAndCursor]);\n\n  useEffect(() => {\n    getCursorCallback();\n  }, [getCursorCallback]);\n\n  useEffect(() => {\n    editor && getMdeInstance?.(editor);\n  }, [editor, getMdeInstance]);\n\n  useEffect(() => {\n    codemirror && getCodemirrorInstance?.(codemirror);\n  }, [codemirror, getCodemirrorInstance, getMdeInstance]);\n\n  useEffect(() => {\n    // https://codemirror.net/doc/manual.html#option_extraKeys\n    if (extraKeys && codemirror) {\n      codemirror.setOption(\n        \"extraKeys\",\n        Object.assign({}, extraKeys, codemirror.getOption(\"extraKeys\"))\n      );\n    }\n  }, [codemirror, extraKeys]);\n\n  useEffect(() => {\n    const toolbarNode = elementWrapperRef.current?.getElementsByClassName(\n      \"editor-toolbarNode\"\n    )[0];\n    const handler = () => codemirror && onCodemirrorChangeHandler();\n    toolbarNode?.addEventListener(\"click\", handler);\n\n    return () => {\n      toolbarNode?.removeEventListener(\"click\", handler);\n    };\n  }, [codemirror, onCodemirrorChangeHandler]);\n\n  useEffect(() => {\n    codemirror?.on(\"change\", onCodemirrorChangeHandler);\n    codemirror?.on(\"cursorActivity\", getCursorCallback);\n    return () => {\n      codemirror?.off(\"change\", onCodemirrorChangeHandler);\n      codemirror?.off(\"cursorActivity\", getCursorCallback);\n    };\n  }, [codemirror, getCursorCallback, onCodemirrorChangeHandler]);\n\n  const prevEvents = useRef(events);\n\n  useEffect(() => {\n    const isNotFirstEffectRun = events !== prevEvents.current;\n    isNotFirstEffectRun &&\n      prevEvents.current &&\n      Object.entries(prevEvents.current).forEach(([event, handler]) => {\n        handler && codemirror?.off(event, handler);\n      });\n\n    events &&\n      Object.entries(events).forEach(([event, handler]) => {\n        handler && codemirror?.on(event, handler);\n      });\n    prevEvents.current = events;\n    return () => {\n      events &&\n        Object.entries(events).forEach(([event, handler]) => {\n          handler && codemirror?.off(event, handler);\n        });\n    };\n  }, [codemirror, events]);\n\n  return (\n    <div\n      id={`${id}-wrapper`}\n      {...rest}\n      ref={(aRef) => {\n        if (typeof ref === \"function\") {\n          ref(aRef);\n        } else if (ref) {\n          ref.current = aRef;\n        }\n        elementWrapperRef.current = aRef;\n      }}\n    >\n      <textarea id={id} ref={setTextRef} style={{ display: \"none\" }} />\n    </div>\n  );\n});\n\nSimpleMdeReact.displayName = \"SimpleMdeReact\";\n\nexport default SimpleMdeReact;\n","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","'use strict';\nvar CodeMirror = require('codemirror');\nrequire('codemirror/addon/edit/continuelist.js');\nrequire('./codemirror/tablist');\nrequire('codemirror/addon/display/fullscreen.js');\nrequire('codemirror/mode/markdown/markdown.js');\nrequire('codemirror/addon/mode/overlay.js');\nrequire('codemirror/addon/display/placeholder.js');\nrequire('codemirror/addon/display/autorefresh.js');\nrequire('codemirror/addon/selection/mark-selection.js');\nrequire('codemirror/addon/search/searchcursor.js');\nrequire('codemirror/mode/gfm/gfm.js');\nrequire('codemirror/mode/xml/xml.js');\nvar CodeMirrorSpellChecker = require('codemirror-spell-checker');\nvar marked = require('marked/lib/marked');\n\n\n// Some variables\nvar isMac = /Mac/.test(navigator.platform);\nvar anchorToExternalRegex = new RegExp(/(<a.*?https?:\\/\\/.*?[^a]>)+?/g);\n\n// Mapping of actions that can be bound to keyboard shortcuts or toolbar buttons\nvar bindings = {\n    'toggleBold': toggleBold,\n    'toggleItalic': toggleItalic,\n    'drawLink': drawLink,\n    'toggleHeadingSmaller': toggleHeadingSmaller,\n    'toggleHeadingBigger': toggleHeadingBigger,\n    'drawImage': drawImage,\n    'toggleBlockquote': toggleBlockquote,\n    'toggleOrderedList': toggleOrderedList,\n    'toggleUnorderedList': toggleUnorderedList,\n    'toggleCodeBlock': toggleCodeBlock,\n    'togglePreview': togglePreview,\n    'toggleStrikethrough': toggleStrikethrough,\n    'toggleHeading1': toggleHeading1,\n    'toggleHeading2': toggleHeading2,\n    'toggleHeading3': toggleHeading3,\n    'cleanBlock': cleanBlock,\n    'drawTable': drawTable,\n    'drawHorizontalRule': drawHorizontalRule,\n    'undo': undo,\n    'redo': redo,\n    'toggleSideBySide': toggleSideBySide,\n    'toggleFullScreen': toggleFullScreen,\n};\n\nvar shortcuts = {\n    'toggleBold': 'Cmd-B',\n    'toggleItalic': 'Cmd-I',\n    'drawLink': 'Cmd-K',\n    'toggleHeadingSmaller': 'Cmd-H',\n    'toggleHeadingBigger': 'Shift-Cmd-H',\n    'cleanBlock': 'Cmd-E',\n    'drawImage': 'Cmd-Alt-I',\n    'toggleBlockquote': 'Cmd-\\'',\n    'toggleOrderedList': 'Cmd-Alt-L',\n    'toggleUnorderedList': 'Cmd-L',\n    'toggleCodeBlock': 'Cmd-Alt-C',\n    'togglePreview': 'Cmd-P',\n    'toggleSideBySide': 'F9',\n    'toggleFullScreen': 'F11',\n};\n\nvar getBindingName = function (f) {\n    for (var key in bindings) {\n        if (bindings[key] === f) {\n            return key;\n        }\n    }\n    return null;\n};\n\nvar isMobile = function () {\n    var check = false;\n    (function (a) {\n        if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(a.substr(0, 4))) check = true;\n    })(navigator.userAgent || navigator.vendor || window.opera);\n    return check;\n};\n\n/**\n * Modify HTML to add 'target=\"_blank\"' to links so they open in new tabs by default.\n * @param {string} htmlText - HTML to be modified.\n * @return {string} The modified HTML text.\n */\nfunction addAnchorTargetBlank(htmlText) {\n    var match;\n    while ((match = anchorToExternalRegex.exec(htmlText)) !== null) {\n        // With only one capture group in the RegExp, we can safely take the first index from the match.\n        var linkString = match[0];\n\n        if (linkString.indexOf('target=') === -1) {\n            var fixedLinkString = linkString.replace(/>$/, ' target=\"_blank\">');\n            htmlText = htmlText.replace(linkString, fixedLinkString);\n        }\n    }\n    return htmlText;\n}\n\n/**\n * Modify HTML to remove the list-style when rendering checkboxes.\n * @param {string} htmlText - HTML to be modified.\n * @return {string} The modified HTML text.\n */\nfunction removeListStyleWhenCheckbox(htmlText) {\n\n    var parser = new DOMParser();\n    var htmlDoc = parser.parseFromString(htmlText, 'text/html');\n    var listItems = htmlDoc.getElementsByTagName('li');\n\n    for (var i = 0; i < listItems.length; i++) {\n        var listItem = listItems[i];\n\n        for (var j = 0; j < listItem.children.length; j++) {\n            var listItemChild = listItem.children[j];\n\n            if (listItemChild instanceof HTMLInputElement && listItemChild.type === 'checkbox') {\n                // From Github: margin: 0 .2em .25em -1.6em;\n                listItem.style.marginLeft = '-1.5em';\n                listItem.style.listStyleType = 'none';\n            }\n        }\n    }\n\n    return htmlDoc.documentElement.innerHTML;\n}\n\n/**\n * Fix shortcut. Mac use Command, others use Ctrl.\n */\nfunction fixShortcut(name) {\n    if (isMac) {\n        name = name.replace('Ctrl', 'Cmd');\n    } else {\n        name = name.replace('Cmd', 'Ctrl');\n    }\n    return name;\n}\n\n/**\n * Class handling utility methods.\n */\nvar CLASS_REGEX = {};\n\n/**\n * Convert a className string into a regex for matching (and cache).\n * Note that the RegExp includes trailing spaces for replacement\n * (to ensure that removing a class from the middle of the string will retain\n *  spacing between other classes.)\n * @param {String} className Class name to convert to regex for matching.\n * @returns {RegExp} Regular expression option that will match className.\n */\nfunction getClassRegex (className) {\n    return CLASS_REGEX[className] || (CLASS_REGEX[className] = new RegExp('\\\\s*' + className + '(\\\\s*)', 'g'));\n}\n\n/**\n * Add a class string to an element.\n * @param {Element} el DOM element on which to add className.\n * @param {String} className Class string to apply\n * @returns {void}\n */\nfunction addClass (el, className) {\n    if (!el || !className) return;\n    var classRegex = getClassRegex(className);\n    if (el.className.match(classRegex)) return; // already applied\n    el.className += ' ' + className;\n}\n\n/**\n * Remove a class string from an element.\n * @param {Element} el DOM element from which to remove className.\n * @param {String} className Class string to remove\n * @returns {void}\n */\n function removeClass (el, className) {\n    if (!el || !className) return;\n    var classRegex = getClassRegex(className);\n    if (!el.className.match(classRegex)) return; // not available to remove\n    el.className = el.className.replace(classRegex, '$1');\n}\n\n\n/**\n * Create dropdown block\n */\nfunction createToolbarDropdown(options, enableTooltips, shortcuts, parent) {\n    var el = createToolbarButton(options, false, enableTooltips, shortcuts, 'button', parent);\n    el.className += ' easymde-dropdown';\n    var content = document.createElement('div');\n    content.className = 'easymde-dropdown-content';\n    for (var childrenIndex = 0; childrenIndex < options.children.length; childrenIndex++) {\n\n        var child = options.children[childrenIndex];\n        var childElement;\n\n        if (typeof child === 'string' && child in toolbarBuiltInButtons) {\n            childElement = createToolbarButton(toolbarBuiltInButtons[child], true, enableTooltips, shortcuts, 'button', parent);\n        } else {\n            childElement = createToolbarButton(child, true, enableTooltips, shortcuts, 'button', parent);\n        }\n\n        content.appendChild(childElement);\n    }\n    el.appendChild(content);\n    return el;\n}\n\n/**\n * Create button element for toolbar.\n */\nfunction createToolbarButton(options, enableActions, enableTooltips, shortcuts, markup, parent) {\n    options = options || {};\n    var el = document.createElement(markup);\n    el.className = options.name;\n    el.setAttribute('type', markup);\n    enableTooltips = (enableTooltips == undefined) ? true : enableTooltips;\n\n    // Properly hande custom shortcuts\n    if (options.name && options.name in shortcuts) {\n        bindings[options.name] = options.action;\n    }\n\n    if (options.title && enableTooltips) {\n        el.title = createTooltip(options.title, options.action, shortcuts);\n\n        if (isMac) {\n            el.title = el.title.replace('Ctrl', '');\n            el.title = el.title.replace('Alt', '');\n        }\n    }\n\n    if (options.noDisable) {\n        el.classList.add('no-disable');\n    }\n\n    if (options.noMobile) {\n        el.classList.add('no-mobile');\n    }\n\n    // Prevent errors if there is no class name in custom options\n    var classNameParts = [];\n    if(typeof options.className !== 'undefined') {\n        classNameParts = options.className.split(' ');\n    }\n\n    // Provide backwards compatibility with simple-markdown-editor by adding custom classes to the button.\n    var iconClasses = [];\n    for (var classNameIndex = 0; classNameIndex < classNameParts.length; classNameIndex++) {\n        var classNamePart = classNameParts[classNameIndex];\n        // Split icon classes from the button.\n        // Regex will detect \"fa\", \"fas\", \"fa-something\" and \"fa-some-icon-1\", but not \"fanfare\".\n        if (classNamePart.match(/^fa([srlb]|(-[\\w-]*)|$)/)) {\n            iconClasses.push(classNamePart);\n        } else {\n            el.classList.add(classNamePart);\n        }\n    }\n\n    el.tabIndex = -1;\n\n    // Create icon element and append as a child to the button\n    var icon = document.createElement('i');\n    for (var iconClassIndex = 0; iconClassIndex < iconClasses.length; iconClassIndex++) {\n        var iconClass = iconClasses[iconClassIndex];\n        icon.classList.add(iconClass);\n    }\n    el.appendChild(icon);\n\n    // If there is a custom icon markup set, use that\n    if (typeof options.icon !== 'undefined') {\n        el.innerHTML = options.icon;\n    }\n\n    if (options.action && enableActions) {\n        if (typeof options.action === 'function') {\n            el.onclick = function (e) {\n                e.preventDefault();\n                options.action(parent);\n            };\n        } else if (typeof options.action === 'string') {\n            el.onclick = function (e) {\n                e.preventDefault();\n                window.open(options.action, '_blank');\n            };\n        }\n    }\n\n    return el;\n}\n\nfunction createSep() {\n    var el = document.createElement('i');\n    el.className = 'separator';\n    el.innerHTML = '|';\n    return el;\n}\n\nfunction createTooltip(title, action, shortcuts) {\n    var actionName;\n    var tooltip = title;\n\n    if (action) {\n        actionName = getBindingName(action);\n        if (shortcuts[actionName]) {\n            tooltip += ' (' + fixShortcut(shortcuts[actionName]) + ')';\n        }\n    }\n\n    return tooltip;\n}\n\n/**\n * The state of CodeMirror at the given position.\n */\nfunction getState(cm, pos) {\n    pos = pos || cm.getCursor('start');\n    var stat = cm.getTokenAt(pos);\n    if (!stat.type) return {};\n\n    var types = stat.type.split(' ');\n\n    var ret = {},\n        data, text;\n    for (var i = 0; i < types.length; i++) {\n        data = types[i];\n        if (data === 'strong') {\n            ret.bold = true;\n        } else if (data === 'variable-2') {\n            text = cm.getLine(pos.line);\n            if (/^\\s*\\d+\\.\\s/.test(text)) {\n                ret['ordered-list'] = true;\n            } else {\n                ret['unordered-list'] = true;\n            }\n        } else if (data === 'atom') {\n            ret.quote = true;\n        } else if (data === 'em') {\n            ret.italic = true;\n        } else if (data === 'quote') {\n            ret.quote = true;\n        } else if (data === 'strikethrough') {\n            ret.strikethrough = true;\n        } else if (data === 'comment') {\n            ret.code = true;\n        } else if (data === 'link') {\n            ret.link = true;\n        } else if (data === 'tag') {\n            ret.image = true;\n        } else if (data.match(/^header(-[1-6])?$/)) {\n            ret[data.replace('header', 'heading')] = true;\n        }\n    }\n    return ret;\n}\n\n\n// Saved overflow setting\nvar saved_overflow = '';\n\n/**\n * Toggle full screen of the editor.\n */\nfunction toggleFullScreen(editor) {\n    // Set fullscreen\n    var cm = editor.codemirror;\n    cm.setOption('fullScreen', !cm.getOption('fullScreen'));\n\n\n    // Prevent scrolling on body during fullscreen active\n    if (cm.getOption('fullScreen')) {\n        saved_overflow = document.body.style.overflow;\n        document.body.style.overflow = 'hidden';\n    } else {\n        document.body.style.overflow = saved_overflow;\n    }\n\n    var wrapper = cm.getWrapperElement();\n    var sidebyside = wrapper.nextSibling;\n\n    if (/editor-preview-active-side/.test(sidebyside.className)) {\n        if (editor.options.sideBySideFullscreen === false) {\n            // if side-by-side not-fullscreen ok, apply classes as needed\n            var easyMDEContainer = wrapper.parentNode;\n            if (cm.getOption('fullScreen')) {\n                removeClass(easyMDEContainer, 'sided--no-fullscreen');\n            } else {\n                addClass(easyMDEContainer, 'sided--no-fullscreen');\n            }\n        } else {\n            toggleSideBySide(editor);\n        }\n    }\n\n    if (editor.options.onToggleFullScreen) {\n        editor.options.onToggleFullScreen(cm.getOption('fullScreen') || false);\n    }\n\n    // Remove or set maxHeight\n    if (typeof editor.options.maxHeight !== 'undefined') {\n        if (cm.getOption('fullScreen')) {\n            cm.getScrollerElement().style.removeProperty('height');\n            sidebyside.style.removeProperty('height');\n        } else {\n            cm.getScrollerElement().style.height = editor.options.maxHeight;\n            editor.setPreviewMaxHeight();\n        }\n    }\n\n\n    // Update toolbar class\n    if (!/fullscreen/.test(editor.toolbar_div.className)) {\n        editor.toolbar_div.className += ' fullscreen';\n    } else {\n        editor.toolbar_div.className = editor.toolbar_div.className.replace(/\\s*fullscreen\\b/, '');\n    }\n\n\n    // Update toolbar button\n    if (editor.toolbarElements && editor.toolbarElements.fullscreen) {\n        var toolbarButton = editor.toolbarElements.fullscreen;\n\n        if (!/active/.test(toolbarButton.className)) {\n            toolbarButton.className += ' active';\n        } else {\n            toolbarButton.className = toolbarButton.className.replace(/\\s*active\\s*/g, '');\n        }\n    }\n}\n\n\n/**\n * Action for toggling bold.\n */\nfunction toggleBold(editor) {\n    _toggleBlock(editor, 'bold', editor.options.blockStyles.bold);\n}\n\n\n/**\n * Action for toggling italic.\n */\nfunction toggleItalic(editor) {\n    _toggleBlock(editor, 'italic', editor.options.blockStyles.italic);\n}\n\n\n/**\n * Action for toggling strikethrough.\n */\nfunction toggleStrikethrough(editor) {\n    _toggleBlock(editor, 'strikethrough', '~~');\n}\n\n/**\n * Action for toggling code block.\n */\nfunction toggleCodeBlock(editor) {\n    var fenceCharsToInsert = editor.options.blockStyles.code;\n\n    function fencing_line(line) {\n        /* return true, if this is a ``` or ~~~ line */\n        if (typeof line !== 'object') {\n            throw 'fencing_line() takes a \\'line\\' object (not a line number, or line text).  Got: ' + typeof line + ': ' + line;\n        }\n        return line.styles && line.styles[2] && line.styles[2].indexOf('formatting-code-block') !== -1;\n    }\n\n    function token_state(token) {\n        // base goes an extra level deep when mode backdrops are used, e.g. spellchecker on\n        return token.state.base.base || token.state.base;\n    }\n\n    function code_type(cm, line_num, line, firstTok, lastTok) {\n        /*\n         * Return \"single\", \"indented\", \"fenced\" or false\n         *\n         * cm and line_num are required.  Others are optional for efficiency\n         *   To check in the middle of a line, pass in firstTok yourself.\n         */\n        line = line || cm.getLineHandle(line_num);\n        firstTok = firstTok || cm.getTokenAt({\n            line: line_num,\n            ch: 1,\n        });\n        lastTok = lastTok || (!!line.text && cm.getTokenAt({\n            line: line_num,\n            ch: line.text.length - 1,\n        }));\n        var types = firstTok.type ? firstTok.type.split(' ') : [];\n        if (lastTok && token_state(lastTok).indentedCode) {\n            // have to check last char, since first chars of first line aren\"t marked as indented\n            return 'indented';\n        } else if (types.indexOf('comment') === -1) {\n            // has to be after \"indented\" check, since first chars of first indented line aren\"t marked as such\n            return false;\n        } else if (token_state(firstTok).fencedChars || token_state(lastTok).fencedChars || fencing_line(line)) {\n            return 'fenced';\n        } else {\n            return 'single';\n        }\n    }\n\n    function insertFencingAtSelection(cm, cur_start, cur_end, fenceCharsToInsert) {\n        var start_line_sel = cur_start.line + 1,\n            end_line_sel = cur_end.line + 1,\n            sel_multi = cur_start.line !== cur_end.line,\n            repl_start = fenceCharsToInsert + '\\n',\n            repl_end = '\\n' + fenceCharsToInsert;\n        if (sel_multi) {\n            end_line_sel++;\n        }\n        // handle last char including \\n or not\n        if (sel_multi && cur_end.ch === 0) {\n            repl_end = fenceCharsToInsert + '\\n';\n            end_line_sel--;\n        }\n        _replaceSelection(cm, false, [repl_start, repl_end]);\n        cm.setSelection({\n            line: start_line_sel,\n            ch: 0,\n        }, {\n            line: end_line_sel,\n            ch: 0,\n        });\n    }\n\n    var cm = editor.codemirror,\n        cur_start = cm.getCursor('start'),\n        cur_end = cm.getCursor('end'),\n        tok = cm.getTokenAt({\n            line: cur_start.line,\n            ch: cur_start.ch || 1,\n        }), // avoid ch 0 which is a cursor pos but not token\n        line = cm.getLineHandle(cur_start.line),\n        is_code = code_type(cm, cur_start.line, line, tok);\n    var block_start, block_end, lineCount;\n\n    if (is_code === 'single') {\n        // similar to some EasyMDE _toggleBlock logic\n        var start = line.text.slice(0, cur_start.ch).replace('`', ''),\n            end = line.text.slice(cur_start.ch).replace('`', '');\n        cm.replaceRange(start + end, {\n            line: cur_start.line,\n            ch: 0,\n        }, {\n            line: cur_start.line,\n            ch: 99999999999999,\n        });\n        cur_start.ch--;\n        if (cur_start !== cur_end) {\n            cur_end.ch--;\n        }\n        cm.setSelection(cur_start, cur_end);\n        cm.focus();\n    } else if (is_code === 'fenced') {\n        if (cur_start.line !== cur_end.line || cur_start.ch !== cur_end.ch) {\n            // use selection\n\n            // find the fenced line so we know what type it is (tilde, backticks, number of them)\n            for (block_start = cur_start.line; block_start >= 0; block_start--) {\n                line = cm.getLineHandle(block_start);\n                if (fencing_line(line)) {\n                    break;\n                }\n            }\n            var fencedTok = cm.getTokenAt({\n                line: block_start,\n                ch: 1,\n            });\n            var fence_chars = token_state(fencedTok).fencedChars;\n            var start_text, start_line;\n            var end_text, end_line;\n            // check for selection going up against fenced lines, in which case we don't want to add more fencing\n            if (fencing_line(cm.getLineHandle(cur_start.line))) {\n                start_text = '';\n                start_line = cur_start.line;\n            } else if (fencing_line(cm.getLineHandle(cur_start.line - 1))) {\n                start_text = '';\n                start_line = cur_start.line - 1;\n            } else {\n                start_text = fence_chars + '\\n';\n                start_line = cur_start.line;\n            }\n            if (fencing_line(cm.getLineHandle(cur_end.line))) {\n                end_text = '';\n                end_line = cur_end.line;\n                if (cur_end.ch === 0) {\n                    end_line += 1;\n                }\n            } else if (cur_end.ch !== 0 && fencing_line(cm.getLineHandle(cur_end.line + 1))) {\n                end_text = '';\n                end_line = cur_end.line + 1;\n            } else {\n                end_text = fence_chars + '\\n';\n                end_line = cur_end.line + 1;\n            }\n            if (cur_end.ch === 0) {\n                // full last line selected, putting cursor at beginning of next\n                end_line -= 1;\n            }\n            cm.operation(function () {\n                // end line first, so that line numbers don't change\n                cm.replaceRange(end_text, {\n                    line: end_line,\n                    ch: 0,\n                }, {\n                    line: end_line + (end_text ? 0 : 1),\n                    ch: 0,\n                });\n                cm.replaceRange(start_text, {\n                    line: start_line,\n                    ch: 0,\n                }, {\n                    line: start_line + (start_text ? 0 : 1),\n                    ch: 0,\n                });\n            });\n            cm.setSelection({\n                line: start_line + (start_text ? 1 : 0),\n                ch: 0,\n            }, {\n                line: end_line + (start_text ? 1 : -1),\n                ch: 0,\n            });\n            cm.focus();\n        } else {\n            // no selection, search for ends of this fenced block\n            var search_from = cur_start.line;\n            if (fencing_line(cm.getLineHandle(cur_start.line))) { // gets a little tricky if cursor is right on a fenced line\n                if (code_type(cm, cur_start.line + 1) === 'fenced') {\n                    block_start = cur_start.line;\n                    search_from = cur_start.line + 1; // for searching for \"end\"\n                } else {\n                    block_end = cur_start.line;\n                    search_from = cur_start.line - 1; // for searching for \"start\"\n                }\n            }\n            if (block_start === undefined) {\n                for (block_start = search_from; block_start >= 0; block_start--) {\n                    line = cm.getLineHandle(block_start);\n                    if (fencing_line(line)) {\n                        break;\n                    }\n                }\n            }\n            if (block_end === undefined) {\n                lineCount = cm.lineCount();\n                for (block_end = search_from; block_end < lineCount; block_end++) {\n                    line = cm.getLineHandle(block_end);\n                    if (fencing_line(line)) {\n                        break;\n                    }\n                }\n            }\n            cm.operation(function () {\n                cm.replaceRange('', {\n                    line: block_start,\n                    ch: 0,\n                }, {\n                    line: block_start + 1,\n                    ch: 0,\n                });\n                cm.replaceRange('', {\n                    line: block_end - 1,\n                    ch: 0,\n                }, {\n                    line: block_end,\n                    ch: 0,\n                });\n            });\n            cm.focus();\n        }\n    } else if (is_code === 'indented') {\n        if (cur_start.line !== cur_end.line || cur_start.ch !== cur_end.ch) {\n            // use selection\n            block_start = cur_start.line;\n            block_end = cur_end.line;\n            if (cur_end.ch === 0) {\n                block_end--;\n            }\n        } else {\n            // no selection, search for ends of this indented block\n            for (block_start = cur_start.line; block_start >= 0; block_start--) {\n                line = cm.getLineHandle(block_start);\n                if (line.text.match(/^\\s*$/)) {\n                    // empty or all whitespace - keep going\n                    continue;\n                } else {\n                    if (code_type(cm, block_start, line) !== 'indented') {\n                        block_start += 1;\n                        break;\n                    }\n                }\n            }\n            lineCount = cm.lineCount();\n            for (block_end = cur_start.line; block_end < lineCount; block_end++) {\n                line = cm.getLineHandle(block_end);\n                if (line.text.match(/^\\s*$/)) {\n                    // empty or all whitespace - keep going\n                    continue;\n                } else {\n                    if (code_type(cm, block_end, line) !== 'indented') {\n                        block_end -= 1;\n                        break;\n                    }\n                }\n            }\n        }\n        // if we are going to un-indent based on a selected set of lines, and the next line is indented too, we need to\n        // insert a blank line so that the next line(s) continue to be indented code\n        var next_line = cm.getLineHandle(block_end + 1),\n            next_line_last_tok = next_line && cm.getTokenAt({\n                line: block_end + 1,\n                ch: next_line.text.length - 1,\n            }),\n            next_line_indented = next_line_last_tok && token_state(next_line_last_tok).indentedCode;\n        if (next_line_indented) {\n            cm.replaceRange('\\n', {\n                line: block_end + 1,\n                ch: 0,\n            });\n        }\n\n        for (var i = block_start; i <= block_end; i++) {\n            cm.indentLine(i, 'subtract'); // TODO: this doesn't get tracked in the history, so can't be undone :(\n        }\n        cm.focus();\n    } else {\n        // insert code formatting\n        var no_sel_and_starting_of_line = (cur_start.line === cur_end.line && cur_start.ch === cur_end.ch && cur_start.ch === 0);\n        var sel_multi = cur_start.line !== cur_end.line;\n        if (no_sel_and_starting_of_line || sel_multi) {\n            insertFencingAtSelection(cm, cur_start, cur_end, fenceCharsToInsert);\n        } else {\n            _replaceSelection(cm, false, ['`', '`']);\n        }\n    }\n}\n\n/**\n * Action for toggling blockquote.\n */\nfunction toggleBlockquote(editor) {\n    var cm = editor.codemirror;\n    _toggleLine(cm, 'quote');\n}\n\n/**\n * Action for toggling heading size: normal -> h1 -> h2 -> h3 -> h4 -> h5 -> h6 -> normal\n */\nfunction toggleHeadingSmaller(editor) {\n    var cm = editor.codemirror;\n    _toggleHeading(cm, 'smaller');\n}\n\n/**\n * Action for toggling heading size: normal -> h6 -> h5 -> h4 -> h3 -> h2 -> h1 -> normal\n */\nfunction toggleHeadingBigger(editor) {\n    var cm = editor.codemirror;\n    _toggleHeading(cm, 'bigger');\n}\n\n/**\n * Action for toggling heading size 1\n */\nfunction toggleHeading1(editor) {\n    var cm = editor.codemirror;\n    _toggleHeading(cm, undefined, 1);\n}\n\n/**\n * Action for toggling heading size 2\n */\nfunction toggleHeading2(editor) {\n    var cm = editor.codemirror;\n    _toggleHeading(cm, undefined, 2);\n}\n\n/**\n * Action for toggling heading size 3\n */\nfunction toggleHeading3(editor) {\n    var cm = editor.codemirror;\n    _toggleHeading(cm, undefined, 3);\n}\n\n\n/**\n * Action for toggling ul.\n */\nfunction toggleUnorderedList(editor) {\n    var cm = editor.codemirror;\n    _toggleLine(cm, 'unordered-list');\n}\n\n\n/**\n * Action for toggling ol.\n */\nfunction toggleOrderedList(editor) {\n    var cm = editor.codemirror;\n    _toggleLine(cm, 'ordered-list');\n}\n\n/**\n * Action for clean block (remove headline, list, blockquote code, markers)\n */\nfunction cleanBlock(editor) {\n    var cm = editor.codemirror;\n    _cleanBlock(cm);\n}\n\n/**\n * Action for drawing a link.\n */\nfunction drawLink(editor) {\n    var cm = editor.codemirror;\n    var stat = getState(cm);\n    var options = editor.options;\n    var url = 'https://';\n    if (options.promptURLs) {\n        url = prompt(options.promptTexts.link, 'https://');\n        if (!url) {\n            return false;\n        }\n    }\n    _replaceSelection(cm, stat.link, options.insertTexts.link, url);\n}\n\n/**\n * Action for drawing an img.\n */\nfunction drawImage(editor) {\n    var cm = editor.codemirror;\n    var stat = getState(cm);\n    var options = editor.options;\n    var url = 'https://';\n    if (options.promptURLs) {\n        url = prompt(options.promptTexts.image, 'https://');\n        if (!url) {\n            return false;\n        }\n    }\n    _replaceSelection(cm, stat.image, options.insertTexts.image, url);\n}\n\n/**\n * Action for opening the browse-file window to upload an image to a server.\n * @param editor {EasyMDE} The EasyMDE object\n */\nfunction drawUploadedImage(editor) {\n    // TODO: Draw the image template with a fake url? ie: '![](importing foo.png...)'\n    editor.openBrowseFileWindow();\n}\n\n/**\n * Action executed after an image have been successfully imported on the server.\n * @param editor {EasyMDE} The EasyMDE object\n * @param url {string} The url of the uploaded image\n */\nfunction afterImageUploaded(editor, url) {\n    var cm = editor.codemirror;\n    var stat = getState(cm);\n    var options = editor.options;\n    var imageName = url.substr(url.lastIndexOf('/') + 1);\n    var ext = imageName.substring(imageName.lastIndexOf('.') + 1).replace(/\\?.*$/, '');\n\n    // Check if media is an image\n    if (['png', 'jpg', 'jpeg', 'gif', 'svg'].includes(ext)) {\n      _replaceSelection(cm, stat.image, options.insertTexts.uploadedImage, url);\n    } else {\n      var text_link = options.insertTexts.link;\n      text_link[0] = '[' + imageName;\n      _replaceSelection(cm, stat.link, text_link, url);\n    }\n\n    // show uploaded image filename for 1000ms\n    editor.updateStatusBar('upload-image', editor.options.imageTexts.sbOnUploaded.replace('#image_name#', imageName));\n    setTimeout(function () {\n        editor.updateStatusBar('upload-image', editor.options.imageTexts.sbInit);\n    }, 1000);\n}\n\n/**\n * Action for drawing a table.\n */\nfunction drawTable(editor) {\n    var cm = editor.codemirror;\n    var stat = getState(cm);\n    var options = editor.options;\n    _replaceSelection(cm, stat.table, options.insertTexts.table);\n}\n\n/**\n * Action for drawing a horizontal rule.\n */\nfunction drawHorizontalRule(editor) {\n    var cm = editor.codemirror;\n    var stat = getState(cm);\n    var options = editor.options;\n    _replaceSelection(cm, stat.image, options.insertTexts.horizontalRule);\n}\n\n\n/**\n * Undo action.\n */\nfunction undo(editor) {\n    var cm = editor.codemirror;\n    cm.undo();\n    cm.focus();\n}\n\n\n/**\n * Redo action.\n */\nfunction redo(editor) {\n    var cm = editor.codemirror;\n    cm.redo();\n    cm.focus();\n}\n\n\n/**\n * Toggle side by side preview\n */\nfunction toggleSideBySide(editor) {\n    var cm = editor.codemirror;\n    var wrapper = cm.getWrapperElement();\n    var preview = wrapper.nextSibling;\n    var toolbarButton = editor.toolbarElements && editor.toolbarElements['side-by-side'];\n    var useSideBySideListener = false;\n\n    var easyMDEContainer = wrapper.parentNode;\n\n    if (/editor-preview-active-side/.test(preview.className)) {\n        if (editor.options.sideBySideFullscreen === false) {\n            // if side-by-side not-fullscreen ok, remove classes when hiding side\n            removeClass(easyMDEContainer, 'sided--no-fullscreen');\n        }\n        preview.className = preview.className.replace(\n            /\\s*editor-preview-active-side\\s*/g, ''\n        );\n        if (toolbarButton) toolbarButton.className = toolbarButton.className.replace(/\\s*active\\s*/g, '');\n        wrapper.className = wrapper.className.replace(/\\s*CodeMirror-sided\\s*/g, ' ');\n    } else {\n        // When the preview button is clicked for the first time,\n        // give some time for the transition from editor.css to fire and the view to slide from right to left,\n        // instead of just appearing.\n        setTimeout(function () {\n            if (!cm.getOption('fullScreen')) {\n                if (editor.options.sideBySideFullscreen === false) {\n                    // if side-by-side not-fullscreen ok, add classes when not fullscreen and showing side\n                    addClass(easyMDEContainer, 'sided--no-fullscreen');\n                } else {\n                    toggleFullScreen(editor);\n                }\n            }\n            preview.className += ' editor-preview-active-side';\n        }, 1);\n        if (toolbarButton) toolbarButton.className += ' active';\n        wrapper.className += ' CodeMirror-sided';\n        useSideBySideListener = true;\n    }\n\n    // Hide normal preview if active\n    var previewNormal = wrapper.lastChild;\n    if (/editor-preview-active/.test(previewNormal.className)) {\n        previewNormal.className = previewNormal.className.replace(\n            /\\s*editor-preview-active\\s*/g, ''\n        );\n        var toolbar = editor.toolbarElements.preview;\n        var toolbar_div = editor.toolbar_div;\n        toolbar.className = toolbar.className.replace(/\\s*active\\s*/g, '');\n        toolbar_div.className = toolbar_div.className.replace(/\\s*disabled-for-preview*/g, '');\n    }\n\n    var sideBySideRenderingFunction = function () {\n        var newValue = editor.options.previewRender(editor.value(), preview);\n        if (newValue != null) {\n            preview.innerHTML = newValue;\n        }\n    };\n\n    if (!cm.sideBySideRenderingFunction) {\n        cm.sideBySideRenderingFunction = sideBySideRenderingFunction;\n    }\n\n    if (useSideBySideListener) {\n        var newValue = editor.options.previewRender(editor.value(), preview);\n        if (newValue != null) {\n            preview.innerHTML = newValue;\n        }\n        cm.on('update', cm.sideBySideRenderingFunction);\n    } else {\n        cm.off('update', cm.sideBySideRenderingFunction);\n    }\n\n    // Refresh to fix selection being off (#309)\n    cm.refresh();\n}\n\n\n/**\n * Preview action.\n */\nfunction togglePreview(editor) {\n    var cm = editor.codemirror;\n    var wrapper = cm.getWrapperElement();\n    var toolbar_div = editor.toolbar_div;\n    var toolbar = editor.options.toolbar ? editor.toolbarElements.preview : false;\n    var preview = wrapper.lastChild;\n\n    // Turn off side by side if needed\n    var sidebyside = cm.getWrapperElement().nextSibling;\n    if (/editor-preview-active-side/.test(sidebyside.className))\n        toggleSideBySide(editor);\n\n    if (!preview || !/editor-preview-full/.test(preview.className)) {\n\n        preview = document.createElement('div');\n        preview.className = 'editor-preview-full';\n\n        if (editor.options.previewClass) {\n\n            if (Array.isArray(editor.options.previewClass)) {\n                for (var i = 0; i < editor.options.previewClass.length; i++) {\n                    preview.className += (' ' + editor.options.previewClass[i]);\n                }\n\n            } else if (typeof editor.options.previewClass === 'string') {\n                preview.className += (' ' + editor.options.previewClass);\n            }\n        }\n\n        wrapper.appendChild(preview);\n    }\n\n    if (/editor-preview-active/.test(preview.className)) {\n        preview.className = preview.className.replace(\n            /\\s*editor-preview-active\\s*/g, ''\n        );\n        if (toolbar) {\n            toolbar.className = toolbar.className.replace(/\\s*active\\s*/g, '');\n            toolbar_div.className = toolbar_div.className.replace(/\\s*disabled-for-preview*/g, '');\n        }\n    } else {\n        // When the preview button is clicked for the first time,\n        // give some time for the transition from editor.css to fire and the view to slide from right to left,\n        // instead of just appearing.\n        setTimeout(function () {\n            preview.className += ' editor-preview-active';\n        }, 1);\n        if (toolbar) {\n            toolbar.className += ' active';\n            toolbar_div.className += ' disabled-for-preview';\n        }\n    }\n    preview.innerHTML = editor.options.previewRender(editor.value(), preview);\n\n}\n\nfunction _replaceSelection(cm, active, startEnd, url) {\n    if (/editor-preview-active/.test(cm.getWrapperElement().lastChild.className))\n        return;\n\n    var text;\n    var start = startEnd[0];\n    var end = startEnd[1];\n    var startPoint = {},\n        endPoint = {};\n    Object.assign(startPoint, cm.getCursor('start'));\n    Object.assign(endPoint, cm.getCursor('end'));\n    if (url) {\n        start = start.replace('#url#', url);  // url is in start for upload-image\n        end = end.replace('#url#', url);\n    }\n    if (active) {\n        text = cm.getLine(startPoint.line);\n        start = text.slice(0, startPoint.ch);\n        end = text.slice(startPoint.ch);\n        cm.replaceRange(start + end, {\n            line: startPoint.line,\n            ch: 0,\n        });\n    } else {\n        text = cm.getSelection();\n        cm.replaceSelection(start + text + end);\n\n        startPoint.ch += start.length;\n        if (startPoint !== endPoint) {\n            endPoint.ch += start.length;\n        }\n    }\n    cm.setSelection(startPoint, endPoint);\n    cm.focus();\n}\n\n\nfunction _toggleHeading(cm, direction, size) {\n    if (/editor-preview-active/.test(cm.getWrapperElement().lastChild.className))\n        return;\n\n    var startPoint = cm.getCursor('start');\n    var endPoint = cm.getCursor('end');\n    for (var i = startPoint.line; i <= endPoint.line; i++) {\n        (function (i) {\n            var text = cm.getLine(i);\n            var currHeadingLevel = text.search(/[^#]/);\n\n            if (direction !== undefined) {\n                if (currHeadingLevel <= 0) {\n                    if (direction == 'bigger') {\n                        text = '###### ' + text;\n                    } else {\n                        text = '# ' + text;\n                    }\n                } else if (currHeadingLevel == 6 && direction == 'smaller') {\n                    text = text.substr(7);\n                } else if (currHeadingLevel == 1 && direction == 'bigger') {\n                    text = text.substr(2);\n                } else {\n                    if (direction == 'bigger') {\n                        text = text.substr(1);\n                    } else {\n                        text = '#' + text;\n                    }\n                }\n            } else {\n                if (size == 1) {\n                    if (currHeadingLevel <= 0) {\n                        text = '# ' + text;\n                    } else if (currHeadingLevel == size) {\n                        text = text.substr(currHeadingLevel + 1);\n                    } else {\n                        text = '# ' + text.substr(currHeadingLevel + 1);\n                    }\n                } else if (size == 2) {\n                    if (currHeadingLevel <= 0) {\n                        text = '## ' + text;\n                    } else if (currHeadingLevel == size) {\n                        text = text.substr(currHeadingLevel + 1);\n                    } else {\n                        text = '## ' + text.substr(currHeadingLevel + 1);\n                    }\n                } else {\n                    if (currHeadingLevel <= 0) {\n                        text = '### ' + text;\n                    } else if (currHeadingLevel == size) {\n                        text = text.substr(currHeadingLevel + 1);\n                    } else {\n                        text = '### ' + text.substr(currHeadingLevel + 1);\n                    }\n                }\n            }\n\n            cm.replaceRange(text, {\n                line: i,\n                ch: 0,\n            }, {\n                line: i,\n                ch: 99999999999999,\n            });\n        })(i);\n    }\n    cm.focus();\n}\n\n\nfunction _toggleLine(cm, name) {\n    if (/editor-preview-active/.test(cm.getWrapperElement().lastChild.className))\n        return;\n\n    var listRegexp = /^(\\s*)(\\*|-|\\+|\\d*\\.)(\\s+)/;\n    var whitespacesRegexp = /^\\s*/;\n\n    var stat = getState(cm);\n    var startPoint = cm.getCursor('start');\n    var endPoint = cm.getCursor('end');\n    var repl = {\n        'quote': /^(\\s*)>\\s+/,\n        'unordered-list': listRegexp,\n        'ordered-list': listRegexp,\n    };\n\n    var _getChar = function (name, i) {\n        var map = {\n            'quote': '>',\n            'unordered-list': '*',\n            'ordered-list': '%%i.',\n        };\n\n        return map[name].replace('%%i', i);\n    };\n\n    var _checkChar = function (name, char) {\n        var map = {\n            'quote': '>',\n            'unordered-list': '*',\n            'ordered-list': '\\\\d+.',\n        };\n        var rt = new RegExp(map[name]);\n\n        return char && rt.test(char);\n    };\n\n    var _toggle = function (name, text, untoggleOnly) {\n        var arr = listRegexp.exec(text);\n        var char = _getChar(name, line);\n        if (arr !== null) {\n            if (_checkChar(name, arr[2])) {\n                char = '';\n            }\n            text = arr[1] + char + arr[3] + text.replace(whitespacesRegexp, '').replace(repl[name], '$1');\n        } else if (untoggleOnly == false) {\n            text = char + ' ' + text;\n        }\n        return text;\n    };\n\n    var line = 1;\n    for (var i = startPoint.line; i <= endPoint.line; i++) {\n        (function (i) {\n            var text = cm.getLine(i);\n            if (stat[name]) {\n                text = text.replace(repl[name], '$1');\n            } else {\n                // If we're toggling unordered-list formatting, check if the current line\n                // is part of an ordered-list, and if so, untoggle that first.\n                // Workaround for https://github.com/Ionaru/easy-markdown-editor/issues/92\n                if (name == 'unordered-list') {\n                    text = _toggle('ordered-list', text, true);\n                }\n                text = _toggle(name, text, false);\n                line += 1;\n            }\n            cm.replaceRange(text, {\n                line: i,\n                ch: 0,\n            }, {\n                line: i,\n                ch: 99999999999999,\n            });\n        })(i);\n    }\n    cm.focus();\n}\n\nfunction _toggleBlock(editor, type, start_chars, end_chars) {\n    if (/editor-preview-active/.test(editor.codemirror.getWrapperElement().lastChild.className))\n        return;\n\n    end_chars = (typeof end_chars === 'undefined') ? start_chars : end_chars;\n    var cm = editor.codemirror;\n    var stat = getState(cm);\n\n    var text;\n    var start = start_chars;\n    var end = end_chars;\n\n    var startPoint = cm.getCursor('start');\n    var endPoint = cm.getCursor('end');\n\n    if (stat[type]) {\n        text = cm.getLine(startPoint.line);\n        start = text.slice(0, startPoint.ch);\n        end = text.slice(startPoint.ch);\n        if (type == 'bold') {\n            start = start.replace(/(\\*\\*|__)(?![\\s\\S]*(\\*\\*|__))/, '');\n            end = end.replace(/(\\*\\*|__)/, '');\n        } else if (type == 'italic') {\n            start = start.replace(/(\\*|_)(?![\\s\\S]*(\\*|_))/, '');\n            end = end.replace(/(\\*|_)/, '');\n        } else if (type == 'strikethrough') {\n            start = start.replace(/(\\*\\*|~~)(?![\\s\\S]*(\\*\\*|~~))/, '');\n            end = end.replace(/(\\*\\*|~~)/, '');\n        }\n        cm.replaceRange(start + end, {\n            line: startPoint.line,\n            ch: 0,\n        }, {\n            line: startPoint.line,\n            ch: 99999999999999,\n        });\n\n        if (type == 'bold' || type == 'strikethrough') {\n            startPoint.ch -= 2;\n            if (startPoint !== endPoint) {\n                endPoint.ch -= 2;\n            }\n        } else if (type == 'italic') {\n            startPoint.ch -= 1;\n            if (startPoint !== endPoint) {\n                endPoint.ch -= 1;\n            }\n        }\n    } else {\n        text = cm.getSelection();\n        if (type == 'bold') {\n            text = text.split('**').join('');\n            text = text.split('__').join('');\n        } else if (type == 'italic') {\n            text = text.split('*').join('');\n            text = text.split('_').join('');\n        } else if (type == 'strikethrough') {\n            text = text.split('~~').join('');\n        }\n        cm.replaceSelection(start + text + end);\n\n        startPoint.ch += start_chars.length;\n        endPoint.ch = startPoint.ch + text.length;\n    }\n\n    cm.setSelection(startPoint, endPoint);\n    cm.focus();\n}\n\nfunction _cleanBlock(cm) {\n    if (/editor-preview-active/.test(cm.getWrapperElement().lastChild.className))\n        return;\n\n    var startPoint = cm.getCursor('start');\n    var endPoint = cm.getCursor('end');\n    var text;\n\n    for (var line = startPoint.line; line <= endPoint.line; line++) {\n        text = cm.getLine(line);\n        text = text.replace(/^[ ]*([# ]+|\\*|-|[> ]+|[0-9]+(.|\\)))[ ]*/, '');\n\n        cm.replaceRange(text, {\n            line: line,\n            ch: 0,\n        }, {\n            line: line,\n            ch: 99999999999999,\n        });\n    }\n}\n\n/**\n * Convert a number of bytes to a human-readable file size. If you desire\n * to add a space between the value and the unit, you need to add this space\n * to the given units.\n * @param bytes {integer} A number of bytes, as integer. Ex: 421137\n * @param units {number[]} An array of human-readable units, ie. [' B', ' K', ' MB']\n * @returns string A human-readable file size. Ex: '412 KB'\n */\nfunction humanFileSize(bytes, units) {\n    if (Math.abs(bytes) < 1024) {\n        return '' + bytes + units[0];\n    }\n    var u = 0;\n    do {\n        bytes /= 1024;\n        ++u;\n    } while (Math.abs(bytes) >= 1024 && u < units.length);\n    return '' + bytes.toFixed(1) + units[u];\n}\n\n// Merge the properties of one object into another.\nfunction _mergeProperties(target, source) {\n    for (var property in source) {\n        if (Object.prototype.hasOwnProperty.call(source, property)) {\n            if (source[property] instanceof Array) {\n                target[property] = source[property].concat(target[property] instanceof Array ? target[property] : []);\n            } else if (\n                source[property] !== null &&\n                typeof source[property] === 'object' &&\n                source[property].constructor === Object\n            ) {\n                target[property] = _mergeProperties(target[property] || {}, source[property]);\n            } else {\n                target[property] = source[property];\n            }\n        }\n    }\n\n    return target;\n}\n\n// Merge an arbitrary number of objects into one.\nfunction extend(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        target = _mergeProperties(target, arguments[i]);\n    }\n\n    return target;\n}\n\n/* The right word count in respect for CJK. */\nfunction wordCount(data) {\n    var pattern = /[a-zA-Z0-9_\\u00A0-\\u02AF\\u0392-\\u03c9\\u0410-\\u04F9]+|[\\u4E00-\\u9FFF\\u3400-\\u4dbf\\uf900-\\ufaff\\u3040-\\u309f\\uac00-\\ud7af]+/g;\n    var m = data.match(pattern);\n    var count = 0;\n    if (m === null) return count;\n    for (var i = 0; i < m.length; i++) {\n        if (m[i].charCodeAt(0) >= 0x4E00) {\n            count += m[i].length;\n        } else {\n            count += 1;\n        }\n    }\n    return count;\n}\n\nvar toolbarBuiltInButtons = {\n    'bold': {\n        name: 'bold',\n        action: toggleBold,\n        className: 'fa fa-bold',\n        title: 'Bold',\n        default: true,\n    },\n    'italic': {\n        name: 'italic',\n        action: toggleItalic,\n        className: 'fa fa-italic',\n        title: 'Italic',\n        default: true,\n    },\n    'strikethrough': {\n        name: 'strikethrough',\n        action: toggleStrikethrough,\n        className: 'fa fa-strikethrough',\n        title: 'Strikethrough',\n    },\n    'heading': {\n        name: 'heading',\n        action: toggleHeadingSmaller,\n        className: 'fa fa-header fa-heading',\n        title: 'Heading',\n        default: true,\n    },\n    'heading-smaller': {\n        name: 'heading-smaller',\n        action: toggleHeadingSmaller,\n        className: 'fa fa-header fa-heading header-smaller',\n        title: 'Smaller Heading',\n    },\n    'heading-bigger': {\n        name: 'heading-bigger',\n        action: toggleHeadingBigger,\n        className: 'fa fa-header fa-heading header-bigger',\n        title: 'Bigger Heading',\n    },\n    'heading-1': {\n        name: 'heading-1',\n        action: toggleHeading1,\n        className: 'fa fa-header fa-heading header-1',\n        title: 'Big Heading',\n    },\n    'heading-2': {\n        name: 'heading-2',\n        action: toggleHeading2,\n        className: 'fa fa-header fa-heading header-2',\n        title: 'Medium Heading',\n    },\n    'heading-3': {\n        name: 'heading-3',\n        action: toggleHeading3,\n        className: 'fa fa-header fa-heading header-3',\n        title: 'Small Heading',\n    },\n    'separator-1': {\n        name: 'separator-1',\n    },\n    'code': {\n        name: 'code',\n        action: toggleCodeBlock,\n        className: 'fa fa-code',\n        title: 'Code',\n    },\n    'quote': {\n        name: 'quote',\n        action: toggleBlockquote,\n        className: 'fa fa-quote-left',\n        title: 'Quote',\n        default: true,\n    },\n    'unordered-list': {\n        name: 'unordered-list',\n        action: toggleUnorderedList,\n        className: 'fa fa-list-ul',\n        title: 'Generic List',\n        default: true,\n    },\n    'ordered-list': {\n        name: 'ordered-list',\n        action: toggleOrderedList,\n        className: 'fa fa-list-ol',\n        title: 'Numbered List',\n        default: true,\n    },\n    'clean-block': {\n        name: 'clean-block',\n        action: cleanBlock,\n        className: 'fa fa-eraser',\n        title: 'Clean block',\n    },\n    'separator-2': {\n        name: 'separator-2',\n    },\n    'link': {\n        name: 'link',\n        action: drawLink,\n        className: 'fa fa-link',\n        title: 'Create Link',\n        default: true,\n    },\n    'image': {\n        name: 'image',\n        action: drawImage,\n        className: 'fa fa-image',\n        title: 'Insert Image',\n        default: true,\n    },\n    'upload-image': {\n        name: 'upload-image',\n        action: drawUploadedImage,\n        className: 'fa fa-image',\n        title: 'Import an image',\n    },\n    'table': {\n        name: 'table',\n        action: drawTable,\n        className: 'fa fa-table',\n        title: 'Insert Table',\n    },\n    'horizontal-rule': {\n        name: 'horizontal-rule',\n        action: drawHorizontalRule,\n        className: 'fa fa-minus',\n        title: 'Insert Horizontal Line',\n    },\n    'separator-3': {\n        name: 'separator-3',\n    },\n    'preview': {\n        name: 'preview',\n        action: togglePreview,\n        className: 'fa fa-eye',\n        noDisable: true,\n        title: 'Toggle Preview',\n        default: true,\n    },\n    'side-by-side': {\n        name: 'side-by-side',\n        action: toggleSideBySide,\n        className: 'fa fa-columns',\n        noDisable: true,\n        noMobile: true,\n        title: 'Toggle Side by Side',\n        default: true,\n    },\n    'fullscreen': {\n        name: 'fullscreen',\n        action: toggleFullScreen,\n        className: 'fa fa-arrows-alt',\n        noDisable: true,\n        noMobile: true,\n        title: 'Toggle Fullscreen',\n        default: true,\n    },\n    'separator-4': {\n        name: 'separator-4',\n    },\n    'guide': {\n        name: 'guide',\n        action: 'https://www.markdownguide.org/basic-syntax/',\n        className: 'fa fa-question-circle',\n        noDisable: true,\n        title: 'Markdown Guide',\n        default: true,\n    },\n    'separator-5': {\n        name: 'separator-5',\n    },\n    'undo': {\n        name: 'undo',\n        action: undo,\n        className: 'fa fa-undo',\n        noDisable: true,\n        title: 'Undo',\n    },\n    'redo': {\n        name: 'redo',\n        action: redo,\n        className: 'fa fa-repeat fa-redo',\n        noDisable: true,\n        title: 'Redo',\n    },\n};\n\nvar insertTexts = {\n    link: ['[', '](#url#)'],\n    image: ['![](', '#url#)'],\n    uploadedImage: ['![](#url#)', ''],\n    // uploadedImage: ['![](#url#)\\n', ''], // TODO: New line insertion doesn't work here.\n    table: ['', '\\n\\n| Column 1 | Column 2 | Column 3 |\\n| -------- | -------- | -------- |\\n| Text     | Text     | Text     |\\n\\n'],\n    horizontalRule: ['', '\\n\\n-----\\n\\n'],\n};\n\nvar promptTexts = {\n    link: 'URL for the link:',\n    image: 'URL of the image:',\n};\n\nvar timeFormat = {\n    locale: 'en-US',\n    format: {\n        hour: '2-digit',\n        minute: '2-digit',\n    },\n};\n\nvar blockStyles = {\n    'bold': '**',\n    'code': '```',\n    'italic': '*',\n};\n\n/**\n * Texts displayed to the user (mainly on the status bar) for the import image\n * feature. Can be used for customization or internationalization.\n */\nvar imageTexts = {\n    sbInit: 'Attach files by drag and dropping or pasting from clipboard.',\n    sbOnDragEnter: 'Drop image to upload it.',\n    sbOnDrop: 'Uploading image #images_names#...',\n    sbProgress: 'Uploading #file_name#: #progress#%',\n    sbOnUploaded: 'Uploaded #image_name#',\n    sizeUnits: ' B, KB, MB',\n};\n\n/**\n * Errors displayed to the user, using the `errorCallback` option. Can be used for\n * customization or internationalization.\n */\nvar errorMessages = {\n    noFileGiven: 'You must select a file.',\n    typeNotAllowed: 'This image type is not allowed.',\n    fileTooLarge: 'Image #image_name# is too big (#image_size#).\\n' +\n        'Maximum file size is #image_max_size#.',\n    importError: 'Something went wrong when uploading the image #image_name#.',\n};\n\n/**\n * Interface of EasyMDE.\n */\nfunction EasyMDE(options) {\n    // Handle options parameter\n    options = options || {};\n\n    // Used later to refer to it\"s parent\n    options.parent = this;\n\n    // Check if Font Awesome needs to be auto downloaded\n    var autoDownloadFA = true;\n\n    if (options.autoDownloadFontAwesome === false) {\n        autoDownloadFA = false;\n    }\n\n    if (options.autoDownloadFontAwesome !== true) {\n        var styleSheets = document.styleSheets;\n        for (var i = 0; i < styleSheets.length; i++) {\n            if (!styleSheets[i].href)\n                continue;\n\n            if (styleSheets[i].href.indexOf('//maxcdn.bootstrapcdn.com/font-awesome/') > -1) {\n                autoDownloadFA = false;\n            }\n        }\n    }\n\n    if (autoDownloadFA) {\n        var link = document.createElement('link');\n        link.rel = 'stylesheet';\n        link.href = 'https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css';\n        document.getElementsByTagName('head')[0].appendChild(link);\n    }\n\n\n    // Find the textarea to use\n    if (options.element) {\n        this.element = options.element;\n    } else if (options.element === null) {\n        // This means that the element option was specified, but no element was found\n        console.log('EasyMDE: Error. No element was found.');\n        return;\n    }\n\n\n    // Handle toolbar\n    if (options.toolbar === undefined) {\n        // Initialize\n        options.toolbar = [];\n\n\n        // Loop over the built in buttons, to get the preferred order\n        for (var key in toolbarBuiltInButtons) {\n            if (Object.prototype.hasOwnProperty.call(toolbarBuiltInButtons, key)) {\n                if (key.indexOf('separator-') != -1) {\n                    options.toolbar.push('|');\n                }\n\n                if (toolbarBuiltInButtons[key].default === true || (options.showIcons && options.showIcons.constructor === Array && options.showIcons.indexOf(key) != -1)) {\n                    options.toolbar.push(key);\n                }\n            }\n        }\n    }\n\n    // Editor preview styling class.\n    if (!Object.prototype.hasOwnProperty.call(options, 'previewClass')) {\n        options.previewClass = 'editor-preview';\n    }\n\n    // Handle status bar\n    if (!Object.prototype.hasOwnProperty.call(options, 'status')) {\n        options.status = ['autosave', 'lines', 'words', 'cursor'];\n\n        if (options.uploadImage) {\n            options.status.unshift('upload-image');\n        }\n    }\n\n\n    // Add default preview rendering function\n    if (!options.previewRender) {\n        options.previewRender = function (plainText) {\n            // Note: \"this\" refers to the options object\n            return this.parent.markdown(plainText);\n        };\n    }\n\n\n    // Set default options for parsing config\n    options.parsingConfig = extend({\n        highlightFormatting: true, // needed for toggleCodeBlock to detect types of code\n    }, options.parsingConfig || {});\n\n\n    // Merging the insertTexts, with the given options\n    options.insertTexts = extend({}, insertTexts, options.insertTexts || {});\n\n\n    // Merging the promptTexts, with the given options\n    options.promptTexts = extend({}, promptTexts, options.promptTexts || {});\n\n\n    // Merging the blockStyles, with the given options\n    options.blockStyles = extend({}, blockStyles, options.blockStyles || {});\n\n\n    if (options.autosave != undefined) {\n        // Merging the Autosave timeFormat, with the given options\n        options.autosave.timeFormat = extend({}, timeFormat, options.autosave.timeFormat || {});\n    }\n\n\n    // Merging the shortcuts, with the given options\n    options.shortcuts = extend({}, shortcuts, options.shortcuts || {});\n\n    options.maxHeight = options.maxHeight || undefined;\n\n    if (typeof options.maxHeight !== 'undefined') {\n        // Min and max height are equal if maxHeight is set\n        options.minHeight = options.maxHeight;\n    } else {\n        options.minHeight = options.minHeight || '300px';\n    }\n\n    options.errorCallback = options.errorCallback || function (errorMessage) {\n        alert(errorMessage);\n    };\n\n    // Import-image default configuration\n    options.uploadImage = options.uploadImage || false;\n    options.imageMaxSize = options.imageMaxSize || 2097152; // 1024 * 1024 * 2\n    options.imageAccept = options.imageAccept || 'image/png, image/jpeg';\n    options.imageTexts = extend({}, imageTexts, options.imageTexts || {});\n    options.errorMessages = extend({}, errorMessages, options.errorMessages || {});\n\n\n    // Change unique_id to uniqueId for backwards compatibility\n    if (options.autosave != undefined && options.autosave.unique_id != undefined && options.autosave.unique_id != '')\n        options.autosave.uniqueId = options.autosave.unique_id;\n\n    // If overlay mode is specified and combine is not provided, default it to true\n    if (options.overlayMode && options.overlayMode.combine === undefined) {\n      options.overlayMode.combine = true;\n    }\n\n    // Update this options\n    this.options = options;\n\n\n    // Auto render\n    this.render();\n\n\n    // The codemirror component is only available after rendering\n    // so, the setter for the initialValue can only run after\n    // the element has been rendered\n    if (options.initialValue && (!this.options.autosave || this.options.autosave.foundSavedValue !== true)) {\n        this.value(options.initialValue);\n    }\n\n    if (options.uploadImage) {\n        var self = this;\n\n        this.codemirror.on('dragenter', function (cm, event) {\n            self.updateStatusBar('upload-image', self.options.imageTexts.sbOnDragEnter);\n            event.stopPropagation();\n            event.preventDefault();\n        });\n        this.codemirror.on('dragend', function (cm, event) {\n            self.updateStatusBar('upload-image', self.options.imageTexts.sbInit);\n            event.stopPropagation();\n            event.preventDefault();\n        });\n        this.codemirror.on('dragleave', function (cm, event) {\n            self.updateStatusBar('upload-image', self.options.imageTexts.sbInit);\n            event.stopPropagation();\n            event.preventDefault();\n        });\n\n        this.codemirror.on('dragover', function (cm, event) {\n            self.updateStatusBar('upload-image', self.options.imageTexts.sbOnDragEnter);\n            event.stopPropagation();\n            event.preventDefault();\n        });\n\n        this.codemirror.on('drop', function (cm, event) {\n            event.stopPropagation();\n            event.preventDefault();\n            if (options.imageUploadFunction) {\n                self.uploadImagesUsingCustomFunction(options.imageUploadFunction, event.dataTransfer.files);\n            } else {\n                self.uploadImages(event.dataTransfer.files);\n            }\n        });\n\n        this.codemirror.on('paste', function (cm, event) {\n            if (options.imageUploadFunction) {\n                self.uploadImagesUsingCustomFunction(options.imageUploadFunction, event.clipboardData.files);\n            } else {\n                self.uploadImages(event.clipboardData.files);\n            }\n        });\n    }\n}\n\n/**\n * Upload asynchronously a list of images to a server.\n *\n * Can be triggered by:\n * - drag&drop;\n * - copy-paste;\n * - the browse-file window (opened when the user clicks on the *upload-image* icon).\n * @param {FileList} files The files to upload the the server.\n * @param [onSuccess] {function} see EasyMDE.prototype.uploadImage\n * @param [onError] {function} see EasyMDE.prototype.uploadImage\n */\nEasyMDE.prototype.uploadImages = function (files, onSuccess, onError) {\n    if (files.length === 0) {\n      return;\n    }\n    var names = [];\n    for (var i = 0; i < files.length; i++) {\n        names.push(files[i].name);\n        this.uploadImage(files[i], onSuccess, onError);\n    }\n    this.updateStatusBar('upload-image', this.options.imageTexts.sbOnDrop.replace('#images_names#', names.join(', ')));\n};\n\n/**\n * Upload asynchronously a list of images to a server.\n *\n * Can be triggered by:\n * - drag&drop;\n * - copy-paste;\n * - the browse-file window (opened when the user clicks on the *upload-image* icon).\n * @param imageUploadFunction {Function} The custom function to upload the image passed in options.\n * @param {FileList} files The files to upload the the server.\n */\nEasyMDE.prototype.uploadImagesUsingCustomFunction = function (imageUploadFunction, files) {\n    if (files.length === 0) {\n      return;\n    }\n    var names = [];\n    for (var i = 0; i < files.length; i++) {\n        names.push(files[i].name);\n        this.uploadImageUsingCustomFunction(imageUploadFunction, files[i]);\n    }\n    this.updateStatusBar('upload-image', this.options.imageTexts.sbOnDrop.replace('#images_names#', names.join(', ')));\n};\n\n/**\n * Update an item in the status bar.\n * @param itemName {string} The name of the item to update (ie. 'upload-image', 'autosave', etc.).\n * @param content {string} the new content of the item to write in the status bar.\n */\nEasyMDE.prototype.updateStatusBar = function (itemName, content) {\n    if (!this.gui.statusbar) {\n        return;\n    }\n\n    var matchingClasses = this.gui.statusbar.getElementsByClassName(itemName);\n    if (matchingClasses.length === 1) {\n        this.gui.statusbar.getElementsByClassName(itemName)[0].textContent = content;\n    } else if (matchingClasses.length === 0) {\n        console.log('EasyMDE: status bar item ' + itemName + ' was not found.');\n    } else {\n        console.log('EasyMDE: Several status bar items named ' + itemName + ' was found.');\n    }\n};\n\n/**\n * Default markdown render.\n */\nEasyMDE.prototype.markdown = function (text) {\n    if (marked) {\n        // Initialize\n        var markedOptions;\n        if (this.options && this.options.renderingConfig && this.options.renderingConfig.markedOptions) {\n            markedOptions = this.options.renderingConfig.markedOptions;\n        } else {\n            markedOptions = {};\n        }\n\n        // Update options\n        if (this.options && this.options.renderingConfig && this.options.renderingConfig.singleLineBreaks === false) {\n            markedOptions.breaks = false;\n        } else {\n            markedOptions.breaks = true;\n        }\n\n        if (this.options && this.options.renderingConfig && this.options.renderingConfig.codeSyntaxHighlighting === true) {\n\n            /* Get HLJS from config or window */\n            var hljs = this.options.renderingConfig.hljs || window.hljs;\n\n            /* Check if HLJS loaded */\n            if (hljs) {\n                markedOptions.highlight = function (code, language) {\n                    if (language && hljs.getLanguage(language)) {\n                      return hljs.highlight(language, code).value;\n                    } else {\n                    return hljs.highlightAuto(code).value;\n                    }\n                };\n            }\n        }\n\n        // Set options\n        marked.setOptions(markedOptions);\n\n        // Convert the markdown to HTML\n        var htmlText = marked(text);\n\n        // Sanitize HTML\n        if (this.options.renderingConfig && typeof this.options.renderingConfig.sanitizerFunction === 'function') {\n            htmlText = this.options.renderingConfig.sanitizerFunction.call(this, htmlText);\n        }\n\n        // Edit the HTML anchors to add 'target=\"_blank\"' by default.\n        htmlText = addAnchorTargetBlank(htmlText);\n\n        // Remove list-style when rendering checkboxes\n        htmlText = removeListStyleWhenCheckbox(htmlText);\n\n        return htmlText;\n    }\n};\n\n/**\n * Render editor to the given element.\n */\nEasyMDE.prototype.render = function (el) {\n    if (!el) {\n        el = this.element || document.getElementsByTagName('textarea')[0];\n    }\n\n    if (this._rendered && this._rendered === el) {\n        // Already rendered.\n        return;\n    }\n\n    this.element = el;\n    var options = this.options;\n\n    var self = this;\n    var keyMaps = {};\n\n    for (var key in options.shortcuts) {\n        // null stands for \"do not bind this command\"\n        if (options.shortcuts[key] !== null && bindings[key] !== null) {\n            (function (key) {\n                keyMaps[fixShortcut(options.shortcuts[key])] = function () {\n                    var action = bindings[key];\n                    if (typeof action === 'function') {\n                        action(self);\n                    } else if (typeof action === 'string') {\n                        window.open(action, '_blank');\n                    }\n                };\n            })(key);\n        }\n    }\n\n    keyMaps['Enter'] = 'newlineAndIndentContinueMarkdownList';\n    keyMaps['Tab'] = 'tabAndIndentMarkdownList';\n    keyMaps['Shift-Tab'] = 'shiftTabAndUnindentMarkdownList';\n    keyMaps['Esc'] = function (cm) {\n        if (cm.getOption('fullScreen')) toggleFullScreen(self);\n    };\n\n    this.documentOnKeyDown = function (e) {\n        e = e || window.event;\n\n        if (e.keyCode == 27) {\n            if (self.codemirror.getOption('fullScreen')) toggleFullScreen(self);\n        }\n    };\n    document.addEventListener('keydown', this.documentOnKeyDown, false);\n\n    var mode, backdrop;\n\n    // CodeMirror overlay mode\n    if (options.overlayMode) {\n      CodeMirror.defineMode('overlay-mode', function(config) {\n        return CodeMirror.overlayMode(CodeMirror.getMode(config, options.spellChecker !== false ? 'spell-checker' : 'gfm'), options.overlayMode.mode, options.overlayMode.combine);\n      });\n\n      mode = 'overlay-mode';\n      backdrop = options.parsingConfig;\n      backdrop.gitHubSpice = false;\n    } else {\n        mode = options.parsingConfig;\n        mode.name = 'gfm';\n        mode.gitHubSpice = false;\n    }\n    if (options.spellChecker !== false) {\n        mode = 'spell-checker';\n        backdrop = options.parsingConfig;\n        backdrop.name = 'gfm';\n        backdrop.gitHubSpice = false;\n\n        CodeMirrorSpellChecker({\n            codeMirrorInstance: CodeMirror,\n        });\n    }\n\n    // eslint-disable-next-line no-unused-vars\n    function configureMouse(cm, repeat, event) {\n        return {\n            addNew: false,\n        };\n    }\n\n    this.codemirror = CodeMirror.fromTextArea(el, {\n        mode: mode,\n        backdrop: backdrop,\n        theme: (options.theme != undefined) ? options.theme : 'easymde',\n        tabSize: (options.tabSize != undefined) ? options.tabSize : 2,\n        indentUnit: (options.tabSize != undefined) ? options.tabSize : 2,\n        indentWithTabs: (options.indentWithTabs === false) ? false : true,\n        lineNumbers: (options.lineNumbers === true) ? true : false,\n        autofocus: (options.autofocus === true) ? true : false,\n        extraKeys: keyMaps,\n        lineWrapping: (options.lineWrapping === false) ? false : true,\n        allowDropFileTypes: ['text/plain'],\n        placeholder: options.placeholder || el.getAttribute('placeholder') || '',\n        styleSelectedText: (options.styleSelectedText != undefined) ? options.styleSelectedText : !isMobile(),\n        scrollbarStyle: (options.scrollbarStyle != undefined) ? options.scrollbarStyle : 'native',\n        configureMouse: configureMouse,\n        inputStyle: (options.inputStyle != undefined) ? options.inputStyle : isMobile() ? 'contenteditable' : 'textarea',\n        spellcheck: (options.nativeSpellcheck != undefined) ? options.nativeSpellcheck : true,\n        autoRefresh: (options.autoRefresh != undefined) ? options.autoRefresh : false,\n    });\n\n    this.codemirror.getScrollerElement().style.minHeight = options.minHeight;\n\n    if (typeof options.maxHeight !== 'undefined') {\n        this.codemirror.getScrollerElement().style.height = options.maxHeight;\n    }\n\n    if (options.forceSync === true) {\n        var cm = this.codemirror;\n        cm.on('change', function () {\n            cm.save();\n        });\n    }\n\n    this.gui = {};\n\n    // Wrap Codemirror with container before create toolbar, etc,\n    // to use with sideBySideFullscreen option.\n    var easyMDEContainer = document.createElement('div');\n    easyMDEContainer.classList.add('EasyMDEContainer');\n    var cmWrapper = this.codemirror.getWrapperElement();\n    cmWrapper.parentNode.insertBefore(easyMDEContainer, cmWrapper);\n    easyMDEContainer.appendChild(cmWrapper);\n\n    if (options.toolbar !== false) {\n        this.gui.toolbar = this.createToolbar();\n    }\n    if (options.status !== false) {\n        this.gui.statusbar = this.createStatusbar();\n    }\n    if (options.autosave != undefined && options.autosave.enabled === true) {\n        this.autosave(); // use to load localstorage content\n        this.codemirror.on('change', function () {\n            clearTimeout(self._autosave_timeout);\n            self._autosave_timeout = setTimeout(function () {\n                self.autosave();\n            }, self.options.autosave.submit_delay || self.options.autosave.delay || 1000);\n        });\n    }\n\n    function calcHeight(naturalWidth, naturalHeight) {\n        var height;\n        var viewportWidth = window.getComputedStyle(document.querySelector('.CodeMirror-sizer')).width.replace('px', '');\n        if (naturalWidth < viewportWidth) {\n            height = naturalHeight + 'px';\n        } else {\n            height = (naturalHeight / naturalWidth * 100) + '%';\n        }\n        return height;\n    }\n\n    var _vm = this;\n\n\n    function assignImageBlockAttributes(parentEl, img) {\n        parentEl.setAttribute('data-img-src', img.url);\n        parentEl.setAttribute('style', '--bg-image:url('+img.url+');--width:'+img.naturalWidth+'px;--height:'+calcHeight(img.naturalWidth, img.naturalHeight));\n        _vm.codemirror.setSize();\n    }\n\n    function handleImages() {\n        if (!options.previewImagesInEditor) {\n            return;\n        }\n\n        easyMDEContainer.querySelectorAll('.cm-image-marker').forEach(function(e) {\n            var parentEl =  e.parentElement;\n            if (!parentEl.innerText.match(/^!\\[.*?\\]\\(.*\\)/g)) {\n                // if img pasted on the same line with other text, don't preview, preview only images on separate line\n                return;\n            }\n            if (!parentEl.hasAttribute('data-img-src')) {\n                var srcAttr = parentEl.innerText.match('\\\\((.*)\\\\)'); // might require better parsing according to markdown spec\n                if (!window.EMDEimagesCache) {\n                    window.EMDEimagesCache = {};\n                }\n\n                if (srcAttr && srcAttr.length >= 2) {\n                    var keySrc = srcAttr[1];\n\n                    if (! window.EMDEimagesCache[keySrc]) {\n                        var img = document.createElement('img');\n                        img.onload = function() {\n                            window.EMDEimagesCache[keySrc] = {\n                                naturalWidth: img.naturalWidth,\n                                naturalHeight: img.naturalHeight,\n                                url: keySrc,\n                            };\n                            assignImageBlockAttributes(parentEl, window.EMDEimagesCache[keySrc]);\n                        };\n                        img.src = keySrc;\n                    } else {\n                        assignImageBlockAttributes(parentEl, window.EMDEimagesCache[keySrc]);\n                    }\n                }\n            }\n        });\n    }\n    this.codemirror.on('update', function () {\n        handleImages();\n    });\n\n    this.gui.sideBySide = this.createSideBySide();\n    this._rendered = this.element;\n\n    // Fixes CodeMirror bug (#344)\n    var temp_cm = this.codemirror;\n    setTimeout(function () {\n        temp_cm.refresh();\n    }.bind(temp_cm), 0);\n};\n\nEasyMDE.prototype.cleanup = function () {\n    document.removeEventListener('keydown', this.documentOnKeyDown);\n};\n\n// Safari, in Private Browsing Mode, looks like it supports localStorage but all calls to setItem throw QuotaExceededError. We're going to detect this and set a variable accordingly.\nfunction isLocalStorageAvailable() {\n    if (typeof localStorage === 'object') {\n        try {\n            localStorage.setItem('smde_localStorage', 1);\n            localStorage.removeItem('smde_localStorage');\n        } catch (e) {\n            return false;\n        }\n    } else {\n        return false;\n    }\n\n    return true;\n}\n\nEasyMDE.prototype.autosave = function () {\n    if (isLocalStorageAvailable()) {\n        var easyMDE = this;\n\n        if (this.options.autosave.uniqueId == undefined || this.options.autosave.uniqueId == '') {\n            console.log('EasyMDE: You must set a uniqueId to use the autosave feature');\n            return;\n        }\n\n        if (this.options.autosave.binded !== true) {\n            if (easyMDE.element.form != null && easyMDE.element.form != undefined) {\n                easyMDE.element.form.addEventListener('submit', function () {\n                    clearTimeout(easyMDE.autosaveTimeoutId);\n                    easyMDE.autosaveTimeoutId = undefined;\n\n                    localStorage.removeItem('smde_' + easyMDE.options.autosave.uniqueId);\n                });\n            }\n\n            this.options.autosave.binded = true;\n        }\n\n        if (this.options.autosave.loaded !== true) {\n            if (typeof localStorage.getItem('smde_' + this.options.autosave.uniqueId) == 'string' && localStorage.getItem('smde_' + this.options.autosave.uniqueId) != '') {\n                this.codemirror.setValue(localStorage.getItem('smde_' + this.options.autosave.uniqueId));\n                this.options.autosave.foundSavedValue = true;\n            }\n\n            this.options.autosave.loaded = true;\n        }\n\n        var value = easyMDE.value();\n        if (value !== '') {\n            localStorage.setItem('smde_' + this.options.autosave.uniqueId, value);\n        } else {\n            localStorage.removeItem('smde_' + this.options.autosave.uniqueId);\n        }\n\n        var el = document.getElementById('autosaved');\n        if (el != null && el != undefined && el != '') {\n            var d = new Date();\n            var dd = new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale, 'en-US'], this.options.autosave.timeFormat.format).format(d);\n            var save = this.options.autosave.text == undefined ? 'Autosaved: ' : this.options.autosave.text;\n\n            el.innerHTML = save + dd;\n        }\n    } else {\n        console.log('EasyMDE: localStorage not available, cannot autosave');\n    }\n};\n\nEasyMDE.prototype.clearAutosavedValue = function () {\n    if (isLocalStorageAvailable()) {\n        if (this.options.autosave == undefined || this.options.autosave.uniqueId == undefined || this.options.autosave.uniqueId == '') {\n            console.log('EasyMDE: You must set a uniqueId to clear the autosave value');\n            return;\n        }\n\n        localStorage.removeItem('smde_' + this.options.autosave.uniqueId);\n    } else {\n        console.log('EasyMDE: localStorage not available, cannot autosave');\n    }\n};\n\n/**\n * Open the browse-file window to upload an image to a server.\n * @param [onSuccess] {function} see EasyMDE.prototype.uploadImage\n * @param [onError] {function} see EasyMDE.prototype.uploadImage\n */\nEasyMDE.prototype.openBrowseFileWindow = function (onSuccess, onError) {\n    var self = this;\n    var imageInput = this.gui.toolbar.getElementsByClassName('imageInput')[0];\n    imageInput.click(); //dispatchEvent(new MouseEvent('click'));  // replaced with click() for IE11 compatibility.\n    function onChange(event) {\n        if (self.options.imageUploadFunction) {\n          self.uploadImagesUsingCustomFunction(self.options.imageUploadFunction, event.target.files);\n        } else {\n          self.uploadImages(event.target.files, onSuccess, onError);\n        }\n        imageInput.removeEventListener('change', onChange);\n    }\n\n    imageInput.addEventListener('change', onChange);\n};\n\n/**\n * Upload an image to the server.\n *\n * @param file {File} The image to upload, as a HTML5 File object (https://developer.mozilla.org/en-US/docs/Web/API/File)\n * @param [onSuccess] {function} A callback function to execute after the image has been successfully uploaded, with one parameter:\n * - url (string): The URL of the uploaded image.\n * @param [onError] {function} A callback function to execute when the image upload fails, with one parameter:\n * - error (string): the detailed error to display to the user (based on messages from options.errorMessages).\n */\nEasyMDE.prototype.uploadImage = function (file, onSuccess, onError) {\n    var self = this;\n    onSuccess = onSuccess || function onSuccess(imageUrl) {\n        afterImageUploaded(self, imageUrl);\n    };\n\n    function onErrorSup(errorMessage) {\n        // show error on status bar and reset after 10000ms\n        self.updateStatusBar('upload-image', errorMessage);\n\n        setTimeout(function () {\n            self.updateStatusBar('upload-image', self.options.imageTexts.sbInit);\n        }, 10000);\n\n        // run custom error handler\n        if (onError && typeof onError === 'function') {\n            onError(errorMessage);\n        }\n        // run error handler from options, this alerts the message.\n        self.options.errorCallback(errorMessage);\n    }\n\n    function fillErrorMessage(errorMessage) {\n        var units = self.options.imageTexts.sizeUnits.split(',');\n        return errorMessage\n            .replace('#image_name#', file.name)\n            .replace('#image_size#', humanFileSize(file.size, units))\n            .replace('#image_max_size#', humanFileSize(self.options.imageMaxSize, units));\n    }\n\n    if (file.size > this.options.imageMaxSize) {\n        onErrorSup(fillErrorMessage(this.options.errorMessages.fileTooLarge));\n        return;\n    }\n\n    var formData = new FormData();\n    formData.append('image', file);\n\n    // insert CSRF token if provided in config.\n    if (self.options.imageCSRFToken) {\n        formData.append('csrfmiddlewaretoken', self.options.imageCSRFToken);\n    }\n    var request = new XMLHttpRequest();\n    request.upload.onprogress = function (event) {\n        if (event.lengthComputable) {\n            var progress = '' + Math.round((event.loaded * 100) / event.total);\n            self.updateStatusBar('upload-image', self.options.imageTexts.sbProgress.replace('#file_name#', file.name).replace('#progress#', progress));\n        }\n    };\n    request.open('POST', this.options.imageUploadEndpoint);\n\n    request.onload = function () {\n        try {\n            var response = JSON.parse(this.responseText);\n        } catch (error) {\n            console.error('EasyMDE: The server did not return a valid json.');\n            onErrorSup(fillErrorMessage(self.options.errorMessages.importError));\n            return;\n        }\n        if (this.status === 200 && response && !response.error && response.data && response.data.filePath) {\n            onSuccess((self.options.imagePathAbsolute ? '' : (window.location.origin + '/')) + response.data.filePath);\n        } else {\n            if (response.error && response.error in self.options.errorMessages) {  // preformatted error message\n                onErrorSup(fillErrorMessage(self.options.errorMessages[response.error]));\n            } else if (response.error) {  // server side generated error message\n                onErrorSup(fillErrorMessage(response.error));\n            } else {  //unknown error\n                console.error('EasyMDE: Received an unexpected response after uploading the image.'\n                    + this.status + ' (' + this.statusText + ')');\n                onErrorSup(fillErrorMessage(self.options.errorMessages.importError));\n            }\n        }\n    };\n\n    request.onerror = function (event) {\n        console.error('EasyMDE: An unexpected error occurred when trying to upload the image.'\n            + event.target.status + ' (' + event.target.statusText + ')');\n        onErrorSup(self.options.errorMessages.importError);\n    };\n\n    request.send(formData);\n\n};\n\n/**\n * Upload an image to the server using a custom upload function.\n *\n * @param imageUploadFunction {Function} The custom function to upload the image passed in options\n * @param file {File} The image to upload, as a HTML5 File object (https://developer.mozilla.org/en-US/docs/Web/API/File).\n */\nEasyMDE.prototype.uploadImageUsingCustomFunction = function(imageUploadFunction, file) {\n    var self = this;\n    function onSuccess(imageUrl) {\n        afterImageUploaded(self, imageUrl);\n    }\n\n    function onError(errorMessage) {\n        var filledErrorMessage = fillErrorMessage(errorMessage);\n        // show error on status bar and reset after 10000ms\n        self.updateStatusBar('upload-image', filledErrorMessage);\n\n        setTimeout(function () {\n            self.updateStatusBar('upload-image', self.options.imageTexts.sbInit);\n        }, 10000);\n\n        // run error handler from options, this alerts the message.\n        self.options.errorCallback(filledErrorMessage);\n    }\n\n    function fillErrorMessage(errorMessage) {\n        var units = self.options.imageTexts.sizeUnits.split(',');\n        return errorMessage\n            .replace('#image_name#', file.name)\n            .replace('#image_size#', humanFileSize(file.size, units))\n            .replace('#image_max_size#', humanFileSize(self.options.imageMaxSize, units));\n    }\n\n    imageUploadFunction.apply(this, [file, onSuccess, onError]);\n};\n\nEasyMDE.prototype.setPreviewMaxHeight = function () {\n    var cm = this.codemirror;\n    var wrapper = cm.getWrapperElement();\n    var preview = wrapper.nextSibling;\n\n    // Calc preview max height\n    var paddingTop = parseInt(window.getComputedStyle(wrapper).paddingTop);\n    var borderTopWidth = parseInt(window.getComputedStyle(wrapper).borderTopWidth);\n    var optionsMaxHeight = parseInt(this.options.maxHeight);\n    var wrapperMaxHeight = optionsMaxHeight + paddingTop * 2 + borderTopWidth * 2;\n    var previewMaxHeight = wrapperMaxHeight.toString() + 'px';\n\n    preview.style.height =  previewMaxHeight;\n};\n\nEasyMDE.prototype.createSideBySide = function () {\n    var cm = this.codemirror;\n    var wrapper = cm.getWrapperElement();\n    var preview = wrapper.nextSibling;\n\n    if (!preview || !/editor-preview-side/.test(preview.className)) {\n        preview = document.createElement('div');\n        preview.className = 'editor-preview-side';\n\n        if (this.options.previewClass) {\n\n            if (Array.isArray(this.options.previewClass)) {\n                for (var i = 0; i < this.options.previewClass.length; i++) {\n                    preview.className += (' ' + this.options.previewClass[i]);\n                }\n\n            } else if (typeof this.options.previewClass === 'string') {\n                preview.className += (' ' + this.options.previewClass);\n            }\n        }\n\n        wrapper.parentNode.insertBefore(preview, wrapper.nextSibling);\n    }\n\n    if (typeof this.options.maxHeight !== 'undefined') {\n        this.setPreviewMaxHeight();\n    }\n\n    if (this.options.syncSideBySidePreviewScroll === false) return preview;\n    // Syncs scroll  editor -> preview\n    var cScroll = false;\n    var pScroll = false;\n    cm.on('scroll', function (v) {\n        if (cScroll) {\n            cScroll = false;\n            return;\n        }\n        pScroll = true;\n        var height = v.getScrollInfo().height - v.getScrollInfo().clientHeight;\n        var ratio = parseFloat(v.getScrollInfo().top) / height;\n        var move = (preview.scrollHeight - preview.clientHeight) * ratio;\n        preview.scrollTop = move;\n    });\n\n    // Syncs scroll  preview -> editor\n    preview.onscroll = function () {\n        if (pScroll) {\n            pScroll = false;\n            return;\n        }\n        cScroll = true;\n        var height = preview.scrollHeight - preview.clientHeight;\n        var ratio = parseFloat(preview.scrollTop) / height;\n        var move = (cm.getScrollInfo().height - cm.getScrollInfo().clientHeight) * ratio;\n        cm.scrollTo(0, move);\n    };\n    return preview;\n};\n\nEasyMDE.prototype.createToolbar = function (items) {\n    items = items || this.options.toolbar;\n\n    if (!items || items.length === 0) {\n        return;\n    }\n    var i;\n    for (i = 0; i < items.length; i++) {\n        if (toolbarBuiltInButtons[items[i]] != undefined) {\n            items[i] = toolbarBuiltInButtons[items[i]];\n        }\n    }\n\n    var bar = document.createElement('div');\n    bar.className = 'editor-toolbar';\n\n    var self = this;\n\n    var toolbarData = {};\n    self.toolbar = items;\n\n    for (i = 0; i < items.length; i++) {\n        if (items[i].name == 'guide' && self.options.toolbarGuideIcon === false)\n            continue;\n\n        if (self.options.hideIcons && self.options.hideIcons.indexOf(items[i].name) != -1)\n            continue;\n\n        // Fullscreen does not work well on mobile devices (even tablets)\n        // In the future, hopefully this can be resolved\n        if ((items[i].name == 'fullscreen' || items[i].name == 'side-by-side') && isMobile())\n            continue;\n\n\n        // Don't include trailing separators\n        if (items[i] === '|') {\n            var nonSeparatorIconsFollow = false;\n\n            for (var x = (i + 1); x < items.length; x++) {\n                if (items[x] !== '|' && (!self.options.hideIcons || self.options.hideIcons.indexOf(items[x].name) == -1)) {\n                    nonSeparatorIconsFollow = true;\n                }\n            }\n\n            if (!nonSeparatorIconsFollow)\n                continue;\n        }\n\n\n        // Create the icon and append to the toolbar\n        (function (item) {\n            var el;\n            if (item === '|') {\n                el = createSep();\n            } else if (item.children) {\n                el = createToolbarDropdown(item, self.options.toolbarTips, self.options.shortcuts, self);\n            } else {\n                el = createToolbarButton(item, true, self.options.toolbarTips, self.options.shortcuts, 'button', self);\n            }\n\n\n            toolbarData[item.name || item] = el;\n            bar.appendChild(el);\n\n            // Create the input element (ie. <input type='file'>), used among\n            // with the 'import-image' icon to open the browse-file window.\n            if (item.name === 'upload-image') {\n                var imageInput = document.createElement('input');\n                imageInput.className = 'imageInput';\n                imageInput.type = 'file';\n                imageInput.multiple = true;\n                imageInput.name = 'image';\n                imageInput.accept = self.options.imageAccept;\n                imageInput.style.display = 'none';\n                imageInput.style.opacity = 0;\n                bar.appendChild(imageInput);\n            }\n        })(items[i]);\n    }\n\n    self.toolbar_div = bar;\n    self.toolbarElements = toolbarData;\n\n    var cm = this.codemirror;\n    cm.on('cursorActivity', function () {\n        var stat = getState(cm);\n\n        for (var key in toolbarData) {\n            (function (key) {\n                var el = toolbarData[key];\n                if (stat[key]) {\n                    el.className += ' active';\n                } else if (key != 'fullscreen' && key != 'side-by-side') {\n                    el.className = el.className.replace(/\\s*active\\s*/g, '');\n                }\n            })(key);\n        }\n    });\n\n    var cmWrapper = cm.getWrapperElement();\n    cmWrapper.parentNode.insertBefore(bar, cmWrapper);\n    return bar;\n};\n\nEasyMDE.prototype.createStatusbar = function (status) {\n    // Initialize\n    status = status || this.options.status;\n    var options = this.options;\n    var cm = this.codemirror;\n\n    // Make sure the status variable is valid\n    if (!status || status.length === 0) {\n        return;\n    }\n\n    // Set up the built-in items\n    var items = [];\n    var i, onUpdate, onActivity, defaultValue;\n\n    for (i = 0; i < status.length; i++) {\n        // Reset some values\n        onUpdate = undefined;\n        onActivity = undefined;\n        defaultValue = undefined;\n\n\n        // Handle if custom or not\n        if (typeof status[i] === 'object') {\n            items.push({\n                className: status[i].className,\n                defaultValue: status[i].defaultValue,\n                onUpdate: status[i].onUpdate,\n                onActivity: status[i].onActivity,\n            });\n        } else {\n            var name = status[i];\n\n            if (name === 'words') {\n                defaultValue = function (el) {\n                    el.innerHTML = wordCount(cm.getValue());\n                };\n                onUpdate = function (el) {\n                    el.innerHTML = wordCount(cm.getValue());\n                };\n            } else if (name === 'lines') {\n                defaultValue = function (el) {\n                    el.innerHTML = cm.lineCount();\n                };\n                onUpdate = function (el) {\n                    el.innerHTML = cm.lineCount();\n                };\n            } else if (name === 'cursor') {\n                defaultValue = function (el) {\n                    el.innerHTML = '0:0';\n                };\n                onActivity = function (el) {\n                    var pos = cm.getCursor();\n                    el.innerHTML = pos.line + ':' + pos.ch;\n                };\n            } else if (name === 'autosave') {\n                defaultValue = function (el) {\n                    if (options.autosave != undefined && options.autosave.enabled === true) {\n                        el.setAttribute('id', 'autosaved');\n                    }\n                };\n            } else if (name === 'upload-image') {\n                defaultValue = function (el) {\n                    el.innerHTML = options.imageTexts.sbInit;\n                };\n            }\n\n            items.push({\n                className: name,\n                defaultValue: defaultValue,\n                onUpdate: onUpdate,\n                onActivity: onActivity,\n            });\n        }\n    }\n\n\n    // Create element for the status bar\n    var bar = document.createElement('div');\n    bar.className = 'editor-statusbar';\n\n\n    // Create a new span for each item\n    for (i = 0; i < items.length; i++) {\n        // Store in temporary variable\n        var item = items[i];\n\n\n        // Create span element\n        var el = document.createElement('span');\n        el.className = item.className;\n\n\n        // Ensure the defaultValue is a function\n        if (typeof item.defaultValue === 'function') {\n            item.defaultValue(el);\n        }\n\n\n        // Ensure the onUpdate is a function\n        if (typeof item.onUpdate === 'function') {\n            // Create a closure around the span of the current action, then execute the onUpdate handler\n            this.codemirror.on('update', (function (el, item) {\n                return function () {\n                    item.onUpdate(el);\n                };\n            }(el, item)));\n        }\n        if (typeof item.onActivity === 'function') {\n            // Create a closure around the span of the current action, then execute the onActivity handler\n            this.codemirror.on('cursorActivity', (function (el, item) {\n                return function () {\n                    item.onActivity(el);\n                };\n            }(el, item)));\n        }\n\n\n        // Append the item to the status bar\n        bar.appendChild(el);\n    }\n\n\n    // Insert the status bar into the DOM\n    var cmWrapper = this.codemirror.getWrapperElement();\n    cmWrapper.parentNode.insertBefore(bar, cmWrapper.nextSibling);\n    return bar;\n};\n\n/**\n * Get or set the text content.\n */\nEasyMDE.prototype.value = function (val) {\n    var cm = this.codemirror;\n    if (val === undefined) {\n        return cm.getValue();\n    } else {\n        cm.getDoc().setValue(val);\n        if (this.isPreviewActive()) {\n            var wrapper = cm.getWrapperElement();\n            var preview = wrapper.lastChild;\n            preview.innerHTML = this.options.previewRender(val, preview);\n        }\n        return this;\n    }\n};\n\n\n/**\n * Bind static methods for exports.\n */\nEasyMDE.toggleBold = toggleBold;\nEasyMDE.toggleItalic = toggleItalic;\nEasyMDE.toggleStrikethrough = toggleStrikethrough;\nEasyMDE.toggleBlockquote = toggleBlockquote;\nEasyMDE.toggleHeadingSmaller = toggleHeadingSmaller;\nEasyMDE.toggleHeadingBigger = toggleHeadingBigger;\nEasyMDE.toggleHeading1 = toggleHeading1;\nEasyMDE.toggleHeading2 = toggleHeading2;\nEasyMDE.toggleHeading3 = toggleHeading3;\nEasyMDE.toggleCodeBlock = toggleCodeBlock;\nEasyMDE.toggleUnorderedList = toggleUnorderedList;\nEasyMDE.toggleOrderedList = toggleOrderedList;\nEasyMDE.cleanBlock = cleanBlock;\nEasyMDE.drawLink = drawLink;\nEasyMDE.drawImage = drawImage;\nEasyMDE.drawUploadedImage = drawUploadedImage;\nEasyMDE.drawTable = drawTable;\nEasyMDE.drawHorizontalRule = drawHorizontalRule;\nEasyMDE.undo = undo;\nEasyMDE.redo = redo;\nEasyMDE.togglePreview = togglePreview;\nEasyMDE.toggleSideBySide = toggleSideBySide;\nEasyMDE.toggleFullScreen = toggleFullScreen;\n\n/**\n * Bind instance methods for exports.\n */\nEasyMDE.prototype.toggleBold = function () {\n    toggleBold(this);\n};\nEasyMDE.prototype.toggleItalic = function () {\n    toggleItalic(this);\n};\nEasyMDE.prototype.toggleStrikethrough = function () {\n    toggleStrikethrough(this);\n};\nEasyMDE.prototype.toggleBlockquote = function () {\n    toggleBlockquote(this);\n};\nEasyMDE.prototype.toggleHeadingSmaller = function () {\n    toggleHeadingSmaller(this);\n};\nEasyMDE.prototype.toggleHeadingBigger = function () {\n    toggleHeadingBigger(this);\n};\nEasyMDE.prototype.toggleHeading1 = function () {\n    toggleHeading1(this);\n};\nEasyMDE.prototype.toggleHeading2 = function () {\n    toggleHeading2(this);\n};\nEasyMDE.prototype.toggleHeading3 = function () {\n    toggleHeading3(this);\n};\nEasyMDE.prototype.toggleCodeBlock = function () {\n    toggleCodeBlock(this);\n};\nEasyMDE.prototype.toggleUnorderedList = function () {\n    toggleUnorderedList(this);\n};\nEasyMDE.prototype.toggleOrderedList = function () {\n    toggleOrderedList(this);\n};\nEasyMDE.prototype.cleanBlock = function () {\n    cleanBlock(this);\n};\nEasyMDE.prototype.drawLink = function () {\n    drawLink(this);\n};\nEasyMDE.prototype.drawImage = function () {\n    drawImage(this);\n};\nEasyMDE.prototype.drawUploadedImage = function () {\n    drawUploadedImage(this);\n};\nEasyMDE.prototype.drawTable = function () {\n    drawTable(this);\n};\nEasyMDE.prototype.drawHorizontalRule = function () {\n    drawHorizontalRule(this);\n};\nEasyMDE.prototype.undo = function () {\n    undo(this);\n};\nEasyMDE.prototype.redo = function () {\n    redo(this);\n};\nEasyMDE.prototype.togglePreview = function () {\n    togglePreview(this);\n};\nEasyMDE.prototype.toggleSideBySide = function () {\n    toggleSideBySide(this);\n};\nEasyMDE.prototype.toggleFullScreen = function () {\n    toggleFullScreen(this);\n};\n\nEasyMDE.prototype.isPreviewActive = function () {\n    var cm = this.codemirror;\n    var wrapper = cm.getWrapperElement();\n    var preview = wrapper.lastChild;\n\n    return /editor-preview-active/.test(preview.className);\n};\n\nEasyMDE.prototype.isSideBySideActive = function () {\n    var cm = this.codemirror;\n    var wrapper = cm.getWrapperElement();\n    var preview = wrapper.nextSibling;\n\n    return /editor-preview-active-side/.test(preview.className);\n};\n\nEasyMDE.prototype.isFullscreenActive = function () {\n    var cm = this.codemirror;\n\n    return cm.getOption('fullScreen');\n};\n\nEasyMDE.prototype.getState = function () {\n    var cm = this.codemirror;\n\n    return getState(cm);\n};\n\nEasyMDE.prototype.toTextArea = function () {\n    var cm = this.codemirror;\n    var wrapper = cm.getWrapperElement();\n    var easyMDEContainer = wrapper.parentNode;\n\n    if (easyMDEContainer) {\n        if (this.gui.toolbar) {\n            easyMDEContainer.removeChild(this.gui.toolbar);\n        }\n        if (this.gui.statusbar) {\n            easyMDEContainer.removeChild(this.gui.statusbar);\n        }\n        if (this.gui.sideBySide) {\n            easyMDEContainer.removeChild(this.gui.sideBySide);\n        }\n    }\n\n    // Unwrap easyMDEcontainer before codemirror toTextArea() call\n    easyMDEContainer.parentNode.insertBefore(wrapper, easyMDEContainer);\n    easyMDEContainer.remove();\n\n    cm.toTextArea();\n\n    if (this.autosaveTimeoutId) {\n        clearTimeout(this.autosaveTimeoutId);\n        this.autosaveTimeoutId = undefined;\n        this.clearAutosavedValue();\n    }\n};\n\nmodule.exports = EasyMDE;\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var listRE = /^(\\s*)(>[> ]*|[*+-] \\[[x ]\\]\\s|[*+-]\\s|(\\d+)([.)]))(\\s*)/,\n      emptyListRE = /^(\\s*)(>[> ]*|[*+-] \\[[x ]\\]|[*+-]|(\\d+)[.)])(\\s*)$/,\n      unorderedListRE = /[*+-]\\s/;\n\n  CodeMirror.commands.newlineAndIndentContinueMarkdownList = function(cm) {\n    if (cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n    var ranges = cm.listSelections(), replacements = [];\n    for (var i = 0; i < ranges.length; i++) {\n      var pos = ranges[i].head;\n\n      // If we're not in Markdown mode, fall back to normal newlineAndIndent\n      var eolState = cm.getStateAfter(pos.line);\n      var inner = CodeMirror.innerMode(cm.getMode(), eolState);\n      if (inner.mode.name !== \"markdown\") {\n        cm.execCommand(\"newlineAndIndent\");\n        return;\n      } else {\n        eolState = inner.state;\n      }\n\n      var inList = eolState.list !== false;\n      var inQuote = eolState.quote !== 0;\n\n      var line = cm.getLine(pos.line), match = listRE.exec(line);\n      var cursorBeforeBullet = /^\\s*$/.test(line.slice(0, pos.ch));\n      if (!ranges[i].empty() || (!inList && !inQuote) || !match || cursorBeforeBullet) {\n        cm.execCommand(\"newlineAndIndent\");\n        return;\n      }\n      if (emptyListRE.test(line)) {\n        var endOfQuote = inQuote && />\\s*$/.test(line)\n        var endOfList = !/>\\s*$/.test(line)\n        if (endOfQuote || endOfList) cm.replaceRange(\"\", {\n          line: pos.line, ch: 0\n        }, {\n          line: pos.line, ch: pos.ch + 1\n        });\n        replacements[i] = \"\\n\";\n      } else {\n        var indent = match[1], after = match[5];\n        var numbered = !(unorderedListRE.test(match[2]) || match[2].indexOf(\">\") >= 0);\n        var bullet = numbered ? (parseInt(match[3], 10) + 1) + match[4] : match[2].replace(\"x\", \" \");\n        replacements[i] = \"\\n\" + indent + bullet + after;\n\n        if (numbered) incrementRemainingMarkdownListNumbers(cm, pos);\n      }\n    }\n\n    cm.replaceSelections(replacements);\n  };\n\n  // Auto-updating Markdown list numbers when a new item is added to the\n  // middle of a list\n  function incrementRemainingMarkdownListNumbers(cm, pos) {\n    var startLine = pos.line, lookAhead = 0, skipCount = 0;\n    var startItem = listRE.exec(cm.getLine(startLine)), startIndent = startItem[1];\n\n    do {\n      lookAhead += 1;\n      var nextLineNumber = startLine + lookAhead;\n      var nextLine = cm.getLine(nextLineNumber), nextItem = listRE.exec(nextLine);\n\n      if (nextItem) {\n        var nextIndent = nextItem[1];\n        var newNumber = (parseInt(startItem[3], 10) + lookAhead - skipCount);\n        var nextNumber = (parseInt(nextItem[3], 10)), itemNumber = nextNumber;\n\n        if (startIndent === nextIndent && !isNaN(nextNumber)) {\n          if (newNumber === nextNumber) itemNumber = nextNumber + 1;\n          if (newNumber > nextNumber) itemNumber = newNumber + 1;\n          cm.replaceRange(\n            nextLine.replace(listRE, nextIndent + itemNumber + nextItem[4] + nextItem[5]),\n          {\n            line: nextLineNumber, ch: 0\n          }, {\n            line: nextLineNumber, ch: nextLine.length\n          });\n        } else {\n          if (startIndent.length > nextIndent.length) return;\n          // This doesn't run if the next line immediately indents, as it is\n          // not clear of the users intention (new indented item or same level)\n          if ((startIndent.length < nextIndent.length) && (lookAhead === 1)) return;\n          skipCount += 1;\n        }\n      }\n    } while (nextItem);\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\nvar CodeMirror = require('codemirror');\n\nCodeMirror.commands.tabAndIndentMarkdownList = function (cm) {\n    var ranges = cm.listSelections();\n    var pos = ranges[0].head;\n    var eolState = cm.getStateAfter(pos.line);\n    var inList = eolState.list !== false;\n\n    if (inList) {\n        cm.execCommand('indentMore');\n        return;\n    }\n\n    if (cm.options.indentWithTabs) {\n        cm.execCommand('insertTab');\n    }\n    else {\n        var spaces = Array(cm.options.tabSize + 1).join(' ');\n        cm.replaceSelection(spaces);\n    }\n};\n\nCodeMirror.commands.shiftTabAndUnindentMarkdownList = function (cm) {\n    var ranges = cm.listSelections();\n    var pos = ranges[0].head;\n    var eolState = cm.getStateAfter(pos.line);\n    var inList = eolState.list !== false;\n\n    if (inList) {\n        cm.execCommand('indentLess');\n        return;\n    }\n\n    if (cm.options.indentWithTabs) {\n        cm.execCommand('insertTab');\n    }\n    else {\n        var spaces = Array(cm.options.tabSize + 1).join(' ');\n        cm.replaceSelection(spaces);\n    }\n};\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"fullScreen\", false, function(cm, val, old) {\n    if (old == CodeMirror.Init) old = false;\n    if (!old == !val) return;\n    if (val) setFullscreen(cm);\n    else setNormal(cm);\n  });\n\n  function setFullscreen(cm) {\n    var wrap = cm.getWrapperElement();\n    cm.state.fullScreenRestore = {scrollTop: window.pageYOffset, scrollLeft: window.pageXOffset,\n                                  width: wrap.style.width, height: wrap.style.height};\n    wrap.style.width = \"\";\n    wrap.style.height = \"auto\";\n    wrap.className += \" CodeMirror-fullscreen\";\n    document.documentElement.style.overflow = \"hidden\";\n    cm.refresh();\n  }\n\n  function setNormal(cm) {\n    var wrap = cm.getWrapperElement();\n    wrap.className = wrap.className.replace(/\\s*CodeMirror-fullscreen\\b/, \"\");\n    document.documentElement.style.overflow = \"\";\n    var info = cm.state.fullScreenRestore;\n    wrap.style.width = info.width; wrap.style.height = info.height;\n    window.scrollTo(info.scrollLeft, info.scrollTop);\n    cm.refresh();\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.modeInfo = [\n    {name: \"APL\", mime: \"text/apl\", mode: \"apl\", ext: [\"dyalog\", \"apl\"]},\n    {name: \"PGP\", mimes: [\"application/pgp\", \"application/pgp-encrypted\", \"application/pgp-keys\", \"application/pgp-signature\"], mode: \"asciiarmor\", ext: [\"asc\", \"pgp\", \"sig\"]},\n    {name: \"ASN.1\", mime: \"text/x-ttcn-asn\", mode: \"asn.1\", ext: [\"asn\", \"asn1\"]},\n    {name: \"Asterisk\", mime: \"text/x-asterisk\", mode: \"asterisk\", file: /^extensions\\.conf$/i},\n    {name: \"Brainfuck\", mime: \"text/x-brainfuck\", mode: \"brainfuck\", ext: [\"b\", \"bf\"]},\n    {name: \"C\", mime: \"text/x-csrc\", mode: \"clike\", ext: [\"c\", \"h\", \"ino\"]},\n    {name: \"C++\", mime: \"text/x-c++src\", mode: \"clike\", ext: [\"cpp\", \"c++\", \"cc\", \"cxx\", \"hpp\", \"h++\", \"hh\", \"hxx\"], alias: [\"cpp\"]},\n    {name: \"Cobol\", mime: \"text/x-cobol\", mode: \"cobol\", ext: [\"cob\", \"cpy\"]},\n    {name: \"C#\", mime: \"text/x-csharp\", mode: \"clike\", ext: [\"cs\"], alias: [\"csharp\", \"cs\"]},\n    {name: \"Clojure\", mime: \"text/x-clojure\", mode: \"clojure\", ext: [\"clj\", \"cljc\", \"cljx\"]},\n    {name: \"ClojureScript\", mime: \"text/x-clojurescript\", mode: \"clojure\", ext: [\"cljs\"]},\n    {name: \"Closure Stylesheets (GSS)\", mime: \"text/x-gss\", mode: \"css\", ext: [\"gss\"]},\n    {name: \"CMake\", mime: \"text/x-cmake\", mode: \"cmake\", ext: [\"cmake\", \"cmake.in\"], file: /^CMakeLists\\.txt$/},\n    {name: \"CoffeeScript\", mimes: [\"application/vnd.coffeescript\", \"text/coffeescript\", \"text/x-coffeescript\"], mode: \"coffeescript\", ext: [\"coffee\"], alias: [\"coffee\", \"coffee-script\"]},\n    {name: \"Common Lisp\", mime: \"text/x-common-lisp\", mode: \"commonlisp\", ext: [\"cl\", \"lisp\", \"el\"], alias: [\"lisp\"]},\n    {name: \"Cypher\", mime: \"application/x-cypher-query\", mode: \"cypher\", ext: [\"cyp\", \"cypher\"]},\n    {name: \"Cython\", mime: \"text/x-cython\", mode: \"python\", ext: [\"pyx\", \"pxd\", \"pxi\"]},\n    {name: \"Crystal\", mime: \"text/x-crystal\", mode: \"crystal\", ext: [\"cr\"]},\n    {name: \"CSS\", mime: \"text/css\", mode: \"css\", ext: [\"css\"]},\n    {name: \"CQL\", mime: \"text/x-cassandra\", mode: \"sql\", ext: [\"cql\"]},\n    {name: \"D\", mime: \"text/x-d\", mode: \"d\", ext: [\"d\"]},\n    {name: \"Dart\", mimes: [\"application/dart\", \"text/x-dart\"], mode: \"dart\", ext: [\"dart\"]},\n    {name: \"diff\", mime: \"text/x-diff\", mode: \"diff\", ext: [\"diff\", \"patch\"]},\n    {name: \"Django\", mime: \"text/x-django\", mode: \"django\"},\n    {name: \"Dockerfile\", mime: \"text/x-dockerfile\", mode: \"dockerfile\", file: /^Dockerfile$/},\n    {name: \"DTD\", mime: \"application/xml-dtd\", mode: \"dtd\", ext: [\"dtd\"]},\n    {name: \"Dylan\", mime: \"text/x-dylan\", mode: \"dylan\", ext: [\"dylan\", \"dyl\", \"intr\"]},\n    {name: \"EBNF\", mime: \"text/x-ebnf\", mode: \"ebnf\"},\n    {name: \"ECL\", mime: \"text/x-ecl\", mode: \"ecl\", ext: [\"ecl\"]},\n    {name: \"edn\", mime: \"application/edn\", mode: \"clojure\", ext: [\"edn\"]},\n    {name: \"Eiffel\", mime: \"text/x-eiffel\", mode: \"eiffel\", ext: [\"e\"]},\n    {name: \"Elm\", mime: \"text/x-elm\", mode: \"elm\", ext: [\"elm\"]},\n    {name: \"Embedded JavaScript\", mime: \"application/x-ejs\", mode: \"htmlembedded\", ext: [\"ejs\"]},\n    {name: \"Embedded Ruby\", mime: \"application/x-erb\", mode: \"htmlembedded\", ext: [\"erb\"]},\n    {name: \"Erlang\", mime: \"text/x-erlang\", mode: \"erlang\", ext: [\"erl\"]},\n    {name: \"Esper\", mime: \"text/x-esper\", mode: \"sql\"},\n    {name: \"Factor\", mime: \"text/x-factor\", mode: \"factor\", ext: [\"factor\"]},\n    {name: \"FCL\", mime: \"text/x-fcl\", mode: \"fcl\"},\n    {name: \"Forth\", mime: \"text/x-forth\", mode: \"forth\", ext: [\"forth\", \"fth\", \"4th\"]},\n    {name: \"Fortran\", mime: \"text/x-fortran\", mode: \"fortran\", ext: [\"f\", \"for\", \"f77\", \"f90\", \"f95\"]},\n    {name: \"F#\", mime: \"text/x-fsharp\", mode: \"mllike\", ext: [\"fs\"], alias: [\"fsharp\"]},\n    {name: \"Gas\", mime: \"text/x-gas\", mode: \"gas\", ext: [\"s\"]},\n    {name: \"Gherkin\", mime: \"text/x-feature\", mode: \"gherkin\", ext: [\"feature\"]},\n    {name: \"GitHub Flavored Markdown\", mime: \"text/x-gfm\", mode: \"gfm\", file: /^(readme|contributing|history)\\.md$/i},\n    {name: \"Go\", mime: \"text/x-go\", mode: \"go\", ext: [\"go\"]},\n    {name: \"Groovy\", mime: \"text/x-groovy\", mode: \"groovy\", ext: [\"groovy\", \"gradle\"], file: /^Jenkinsfile$/},\n    {name: \"HAML\", mime: \"text/x-haml\", mode: \"haml\", ext: [\"haml\"]},\n    {name: \"Haskell\", mime: \"text/x-haskell\", mode: \"haskell\", ext: [\"hs\"]},\n    {name: \"Haskell (Literate)\", mime: \"text/x-literate-haskell\", mode: \"haskell-literate\", ext: [\"lhs\"]},\n    {name: \"Haxe\", mime: \"text/x-haxe\", mode: \"haxe\", ext: [\"hx\"]},\n    {name: \"HXML\", mime: \"text/x-hxml\", mode: \"haxe\", ext: [\"hxml\"]},\n    {name: \"ASP.NET\", mime: \"application/x-aspx\", mode: \"htmlembedded\", ext: [\"aspx\"], alias: [\"asp\", \"aspx\"]},\n    {name: \"HTML\", mime: \"text/html\", mode: \"htmlmixed\", ext: [\"html\", \"htm\", \"handlebars\", \"hbs\"], alias: [\"xhtml\"]},\n    {name: \"HTTP\", mime: \"message/http\", mode: \"http\"},\n    {name: \"IDL\", mime: \"text/x-idl\", mode: \"idl\", ext: [\"pro\"]},\n    {name: \"Pug\", mime: \"text/x-pug\", mode: \"pug\", ext: [\"jade\", \"pug\"], alias: [\"jade\"]},\n    {name: \"Java\", mime: \"text/x-java\", mode: \"clike\", ext: [\"java\"]},\n    {name: \"Java Server Pages\", mime: \"application/x-jsp\", mode: \"htmlembedded\", ext: [\"jsp\"], alias: [\"jsp\"]},\n    {name: \"JavaScript\", mimes: [\"text/javascript\", \"text/ecmascript\", \"application/javascript\", \"application/x-javascript\", \"application/ecmascript\"],\n     mode: \"javascript\", ext: [\"js\"], alias: [\"ecmascript\", \"js\", \"node\"]},\n    {name: \"JSON\", mimes: [\"application/json\", \"application/x-json\"], mode: \"javascript\", ext: [\"json\", \"map\"], alias: [\"json5\"]},\n    {name: \"JSON-LD\", mime: \"application/ld+json\", mode: \"javascript\", ext: [\"jsonld\"], alias: [\"jsonld\"]},\n    {name: \"JSX\", mime: \"text/jsx\", mode: \"jsx\", ext: [\"jsx\"]},\n    {name: \"Jinja2\", mime: \"text/jinja2\", mode: \"jinja2\", ext: [\"j2\", \"jinja\", \"jinja2\"]},\n    {name: \"Julia\", mime: \"text/x-julia\", mode: \"julia\", ext: [\"jl\"], alias: [\"jl\"]},\n    {name: \"Kotlin\", mime: \"text/x-kotlin\", mode: \"clike\", ext: [\"kt\"]},\n    {name: \"LESS\", mime: \"text/x-less\", mode: \"css\", ext: [\"less\"]},\n    {name: \"LiveScript\", mime: \"text/x-livescript\", mode: \"livescript\", ext: [\"ls\"], alias: [\"ls\"]},\n    {name: \"Lua\", mime: \"text/x-lua\", mode: \"lua\", ext: [\"lua\"]},\n    {name: \"Markdown\", mime: \"text/x-markdown\", mode: \"markdown\", ext: [\"markdown\", \"md\", \"mkd\"]},\n    {name: \"mIRC\", mime: \"text/mirc\", mode: \"mirc\"},\n    {name: \"MariaDB SQL\", mime: \"text/x-mariadb\", mode: \"sql\"},\n    {name: \"Mathematica\", mime: \"text/x-mathematica\", mode: \"mathematica\", ext: [\"m\", \"nb\", \"wl\", \"wls\"]},\n    {name: \"Modelica\", mime: \"text/x-modelica\", mode: \"modelica\", ext: [\"mo\"]},\n    {name: \"MUMPS\", mime: \"text/x-mumps\", mode: \"mumps\", ext: [\"mps\"]},\n    {name: \"MS SQL\", mime: \"text/x-mssql\", mode: \"sql\"},\n    {name: \"mbox\", mime: \"application/mbox\", mode: \"mbox\", ext: [\"mbox\"]},\n    {name: \"MySQL\", mime: \"text/x-mysql\", mode: \"sql\"},\n    {name: \"Nginx\", mime: \"text/x-nginx-conf\", mode: \"nginx\", file: /nginx.*\\.conf$/i},\n    {name: \"NSIS\", mime: \"text/x-nsis\", mode: \"nsis\", ext: [\"nsh\", \"nsi\"]},\n    {name: \"NTriples\", mimes: [\"application/n-triples\", \"application/n-quads\", \"text/n-triples\"],\n     mode: \"ntriples\", ext: [\"nt\", \"nq\"]},\n    {name: \"Objective-C\", mime: \"text/x-objectivec\", mode: \"clike\", ext: [\"m\"], alias: [\"objective-c\", \"objc\"]},\n    {name: \"Objective-C++\", mime: \"text/x-objectivec++\", mode: \"clike\", ext: [\"mm\"], alias: [\"objective-c++\", \"objc++\"]},\n    {name: \"OCaml\", mime: \"text/x-ocaml\", mode: \"mllike\", ext: [\"ml\", \"mli\", \"mll\", \"mly\"]},\n    {name: \"Octave\", mime: \"text/x-octave\", mode: \"octave\", ext: [\"m\"]},\n    {name: \"Oz\", mime: \"text/x-oz\", mode: \"oz\", ext: [\"oz\"]},\n    {name: \"Pascal\", mime: \"text/x-pascal\", mode: \"pascal\", ext: [\"p\", \"pas\"]},\n    {name: \"PEG.js\", mime: \"null\", mode: \"pegjs\", ext: [\"jsonld\"]},\n    {name: \"Perl\", mime: \"text/x-perl\", mode: \"perl\", ext: [\"pl\", \"pm\"]},\n    {name: \"PHP\", mimes: [\"text/x-php\", \"application/x-httpd-php\", \"application/x-httpd-php-open\"], mode: \"php\", ext: [\"php\", \"php3\", \"php4\", \"php5\", \"php7\", \"phtml\"]},\n    {name: \"Pig\", mime: \"text/x-pig\", mode: \"pig\", ext: [\"pig\"]},\n    {name: \"Plain Text\", mime: \"text/plain\", mode: \"null\", ext: [\"txt\", \"text\", \"conf\", \"def\", \"list\", \"log\"]},\n    {name: \"PLSQL\", mime: \"text/x-plsql\", mode: \"sql\", ext: [\"pls\"]},\n    {name: \"PostgreSQL\", mime: \"text/x-pgsql\", mode: \"sql\"},\n    {name: \"PowerShell\", mime: \"application/x-powershell\", mode: \"powershell\", ext: [\"ps1\", \"psd1\", \"psm1\"]},\n    {name: \"Properties files\", mime: \"text/x-properties\", mode: \"properties\", ext: [\"properties\", \"ini\", \"in\"], alias: [\"ini\", \"properties\"]},\n    {name: \"ProtoBuf\", mime: \"text/x-protobuf\", mode: \"protobuf\", ext: [\"proto\"]},\n    {name: \"Python\", mime: \"text/x-python\", mode: \"python\", ext: [\"BUILD\", \"bzl\", \"py\", \"pyw\"], file: /^(BUCK|BUILD)$/},\n    {name: \"Puppet\", mime: \"text/x-puppet\", mode: \"puppet\", ext: [\"pp\"]},\n    {name: \"Q\", mime: \"text/x-q\", mode: \"q\", ext: [\"q\"]},\n    {name: \"R\", mime: \"text/x-rsrc\", mode: \"r\", ext: [\"r\", \"R\"], alias: [\"rscript\"]},\n    {name: \"reStructuredText\", mime: \"text/x-rst\", mode: \"rst\", ext: [\"rst\"], alias: [\"rst\"]},\n    {name: \"RPM Changes\", mime: \"text/x-rpm-changes\", mode: \"rpm\"},\n    {name: \"RPM Spec\", mime: \"text/x-rpm-spec\", mode: \"rpm\", ext: [\"spec\"]},\n    {name: \"Ruby\", mime: \"text/x-ruby\", mode: \"ruby\", ext: [\"rb\"], alias: [\"jruby\", \"macruby\", \"rake\", \"rb\", \"rbx\"]},\n    {name: \"Rust\", mime: \"text/x-rustsrc\", mode: \"rust\", ext: [\"rs\"]},\n    {name: \"SAS\", mime: \"text/x-sas\", mode: \"sas\", ext: [\"sas\"]},\n    {name: \"Sass\", mime: \"text/x-sass\", mode: \"sass\", ext: [\"sass\"]},\n    {name: \"Scala\", mime: \"text/x-scala\", mode: \"clike\", ext: [\"scala\"]},\n    {name: \"Scheme\", mime: \"text/x-scheme\", mode: \"scheme\", ext: [\"scm\", \"ss\"]},\n    {name: \"SCSS\", mime: \"text/x-scss\", mode: \"css\", ext: [\"scss\"]},\n    {name: \"Shell\", mimes: [\"text/x-sh\", \"application/x-sh\"], mode: \"shell\", ext: [\"sh\", \"ksh\", \"bash\"], alias: [\"bash\", \"sh\", \"zsh\"], file: /^PKGBUILD$/},\n    {name: \"Sieve\", mime: \"application/sieve\", mode: \"sieve\", ext: [\"siv\", \"sieve\"]},\n    {name: \"Slim\", mimes: [\"text/x-slim\", \"application/x-slim\"], mode: \"slim\", ext: [\"slim\"]},\n    {name: \"Smalltalk\", mime: \"text/x-stsrc\", mode: \"smalltalk\", ext: [\"st\"]},\n    {name: \"Smarty\", mime: \"text/x-smarty\", mode: \"smarty\", ext: [\"tpl\"]},\n    {name: \"Solr\", mime: \"text/x-solr\", mode: \"solr\"},\n    {name: \"SML\", mime: \"text/x-sml\", mode: \"mllike\", ext: [\"sml\", \"sig\", \"fun\", \"smackspec\"]},\n    {name: \"Soy\", mime: \"text/x-soy\", mode: \"soy\", ext: [\"soy\"], alias: [\"closure template\"]},\n    {name: \"SPARQL\", mime: \"application/sparql-query\", mode: \"sparql\", ext: [\"rq\", \"sparql\"], alias: [\"sparul\"]},\n    {name: \"Spreadsheet\", mime: \"text/x-spreadsheet\", mode: \"spreadsheet\", alias: [\"excel\", \"formula\"]},\n    {name: \"SQL\", mime: \"text/x-sql\", mode: \"sql\", ext: [\"sql\"]},\n    {name: \"SQLite\", mime: \"text/x-sqlite\", mode: \"sql\"},\n    {name: \"Squirrel\", mime: \"text/x-squirrel\", mode: \"clike\", ext: [\"nut\"]},\n    {name: \"Stylus\", mime: \"text/x-styl\", mode: \"stylus\", ext: [\"styl\"]},\n    {name: \"Swift\", mime: \"text/x-swift\", mode: \"swift\", ext: [\"swift\"]},\n    {name: \"sTeX\", mime: \"text/x-stex\", mode: \"stex\"},\n    {name: \"LaTeX\", mime: \"text/x-latex\", mode: \"stex\", ext: [\"text\", \"ltx\", \"tex\"], alias: [\"tex\"]},\n    {name: \"SystemVerilog\", mime: \"text/x-systemverilog\", mode: \"verilog\", ext: [\"v\", \"sv\", \"svh\"]},\n    {name: \"Tcl\", mime: \"text/x-tcl\", mode: \"tcl\", ext: [\"tcl\"]},\n    {name: \"Textile\", mime: \"text/x-textile\", mode: \"textile\", ext: [\"textile\"]},\n    {name: \"TiddlyWiki\", mime: \"text/x-tiddlywiki\", mode: \"tiddlywiki\"},\n    {name: \"Tiki wiki\", mime: \"text/tiki\", mode: \"tiki\"},\n    {name: \"TOML\", mime: \"text/x-toml\", mode: \"toml\", ext: [\"toml\"]},\n    {name: \"Tornado\", mime: \"text/x-tornado\", mode: \"tornado\"},\n    {name: \"troff\", mime: \"text/troff\", mode: \"troff\", ext: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"]},\n    {name: \"TTCN\", mime: \"text/x-ttcn\", mode: \"ttcn\", ext: [\"ttcn\", \"ttcn3\", \"ttcnpp\"]},\n    {name: \"TTCN_CFG\", mime: \"text/x-ttcn-cfg\", mode: \"ttcn-cfg\", ext: [\"cfg\"]},\n    {name: \"Turtle\", mime: \"text/turtle\", mode: \"turtle\", ext: [\"ttl\"]},\n    {name: \"TypeScript\", mime: \"application/typescript\", mode: \"javascript\", ext: [\"ts\"], alias: [\"ts\"]},\n    {name: \"TypeScript-JSX\", mime: \"text/typescript-jsx\", mode: \"jsx\", ext: [\"tsx\"], alias: [\"tsx\"]},\n    {name: \"Twig\", mime: \"text/x-twig\", mode: \"twig\"},\n    {name: \"Web IDL\", mime: \"text/x-webidl\", mode: \"webidl\", ext: [\"webidl\"]},\n    {name: \"VB.NET\", mime: \"text/x-vb\", mode: \"vb\", ext: [\"vb\"]},\n    {name: \"VBScript\", mime: \"text/vbscript\", mode: \"vbscript\", ext: [\"vbs\"]},\n    {name: \"Velocity\", mime: \"text/velocity\", mode: \"velocity\", ext: [\"vtl\"]},\n    {name: \"Verilog\", mime: \"text/x-verilog\", mode: \"verilog\", ext: [\"v\"]},\n    {name: \"VHDL\", mime: \"text/x-vhdl\", mode: \"vhdl\", ext: [\"vhd\", \"vhdl\"]},\n    {name: \"Vue.js Component\", mimes: [\"script/x-vue\", \"text/x-vue\"], mode: \"vue\", ext: [\"vue\"]},\n    {name: \"XML\", mimes: [\"application/xml\", \"text/xml\"], mode: \"xml\", ext: [\"xml\", \"xsl\", \"xsd\", \"svg\"], alias: [\"rss\", \"wsdl\", \"xsd\"]},\n    {name: \"XQuery\", mime: \"application/xquery\", mode: \"xquery\", ext: [\"xy\", \"xquery\"]},\n    {name: \"Yacas\", mime: \"text/x-yacas\", mode: \"yacas\", ext: [\"ys\"]},\n    {name: \"YAML\", mimes: [\"text/x-yaml\", \"text/yaml\"], mode: \"yaml\", ext: [\"yaml\", \"yml\"], alias: [\"yml\"]},\n    {name: \"Z80\", mime: \"text/x-z80\", mode: \"z80\", ext: [\"z80\"]},\n    {name: \"mscgen\", mime: \"text/x-mscgen\", mode: \"mscgen\", ext: [\"mscgen\", \"mscin\", \"msc\"]},\n    {name: \"xu\", mime: \"text/x-xu\", mode: \"mscgen\", ext: [\"xu\"]},\n    {name: \"msgenny\", mime: \"text/x-msgenny\", mode: \"mscgen\", ext: [\"msgenny\"]},\n    {name: \"WebAssembly\", mime: \"text/webassembly\", mode: \"wast\", ext: [\"wat\", \"wast\"]},\n  ];\n  // Ensure all modes have a mime property for backwards compatibility\n  for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n    var info = CodeMirror.modeInfo[i];\n    if (info.mimes) info.mime = info.mimes[0];\n  }\n\n  CodeMirror.findModeByMIME = function(mime) {\n    mime = mime.toLowerCase();\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.mime == mime) return info;\n      if (info.mimes) for (var j = 0; j < info.mimes.length; j++)\n        if (info.mimes[j] == mime) return info;\n    }\n    if (/\\+xml$/.test(mime)) return CodeMirror.findModeByMIME(\"application/xml\")\n    if (/\\+json$/.test(mime)) return CodeMirror.findModeByMIME(\"application/json\")\n  };\n\n  CodeMirror.findModeByExtension = function(ext) {\n    ext = ext.toLowerCase();\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.ext) for (var j = 0; j < info.ext.length; j++)\n        if (info.ext[j] == ext) return info;\n    }\n  };\n\n  CodeMirror.findModeByFileName = function(filename) {\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.file && info.file.test(filename)) return info;\n    }\n    var dot = filename.lastIndexOf(\".\");\n    var ext = dot > -1 && filename.substring(dot + 1, filename.length);\n    if (ext) return CodeMirror.findModeByExtension(ext);\n  };\n\n  CodeMirror.findModeByName = function(name) {\n    name = name.toLowerCase();\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.name.toLowerCase() == name) return info;\n      if (info.alias) for (var j = 0; j < info.alias.length; j++)\n        if (info.alias[j].toLowerCase() == name) return info;\n    }\n  };\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  CodeMirror.defineOption(\"placeholder\", \"\", function(cm, val, old) {\n    var prev = old && old != CodeMirror.Init;\n    if (val && !prev) {\n      cm.on(\"blur\", onBlur);\n      cm.on(\"change\", onChange);\n      cm.on(\"swapDoc\", onChange);\n      CodeMirror.on(cm.getInputField(), \"compositionupdate\", cm.state.placeholderCompose = function() { onComposition(cm) })\n      onChange(cm);\n    } else if (!val && prev) {\n      cm.off(\"blur\", onBlur);\n      cm.off(\"change\", onChange);\n      cm.off(\"swapDoc\", onChange);\n      CodeMirror.off(cm.getInputField(), \"compositionupdate\", cm.state.placeholderCompose)\n      clearPlaceholder(cm);\n      var wrapper = cm.getWrapperElement();\n      wrapper.className = wrapper.className.replace(\" CodeMirror-empty\", \"\");\n    }\n\n    if (val && !cm.hasFocus()) onBlur(cm);\n  });\n\n  function clearPlaceholder(cm) {\n    if (cm.state.placeholder) {\n      cm.state.placeholder.parentNode.removeChild(cm.state.placeholder);\n      cm.state.placeholder = null;\n    }\n  }\n  function setPlaceholder(cm) {\n    clearPlaceholder(cm);\n    var elt = cm.state.placeholder = document.createElement(\"pre\");\n    elt.style.cssText = \"height: 0; overflow: visible\";\n    elt.style.direction = cm.getOption(\"direction\");\n    elt.className = \"CodeMirror-placeholder CodeMirror-line-like\";\n    var placeHolder = cm.getOption(\"placeholder\")\n    if (typeof placeHolder == \"string\") placeHolder = document.createTextNode(placeHolder)\n    elt.appendChild(placeHolder)\n    cm.display.lineSpace.insertBefore(elt, cm.display.lineSpace.firstChild);\n  }\n\n  function onComposition(cm) {\n    setTimeout(function() {\n      var empty = false\n      if (cm.lineCount() == 1) {\n        var input = cm.getInputField()\n        empty = input.nodeName == \"TEXTAREA\" ? !cm.getLine(0).length\n          : !/[^\\u200b]/.test(input.querySelector(\".CodeMirror-line\").textContent)\n      }\n      if (empty) setPlaceholder(cm)\n      else clearPlaceholder(cm)\n    }, 20)\n  }\n\n  function onBlur(cm) {\n    if (isEmpty(cm)) setPlaceholder(cm);\n  }\n  function onChange(cm) {\n    var wrapper = cm.getWrapperElement(), empty = isEmpty(cm);\n    wrapper.className = wrapper.className.replace(\" CodeMirror-empty\", \"\") + (empty ? \" CodeMirror-empty\" : \"\");\n\n    if (empty) setPlaceholder(cm);\n    else clearPlaceholder(cm);\n  }\n\n  function isEmpty(cm) {\n    return (cm.lineCount() === 1) && (cm.getLine(0) === \"\");\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"))\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod)\n  else // Plain browser env\n    mod(CodeMirror)\n})(function(CodeMirror) {\n  \"use strict\"\n\n  CodeMirror.defineOption(\"autoRefresh\", false, function(cm, val) {\n    if (cm.state.autoRefresh) {\n      stopListening(cm, cm.state.autoRefresh)\n      cm.state.autoRefresh = null\n    }\n    if (val && cm.display.wrapper.offsetHeight == 0)\n      startListening(cm, cm.state.autoRefresh = {delay: val.delay || 250})\n  })\n\n  function startListening(cm, state) {\n    function check() {\n      if (cm.display.wrapper.offsetHeight) {\n        stopListening(cm, state)\n        if (cm.display.lastWrapHeight != cm.display.wrapper.clientHeight)\n          cm.refresh()\n      } else {\n        state.timeout = setTimeout(check, state.delay)\n      }\n    }\n    state.timeout = setTimeout(check, state.delay)\n    state.hurry = function() {\n      clearTimeout(state.timeout)\n      state.timeout = setTimeout(check, 50)\n    }\n    CodeMirror.on(window, \"mouseup\", state.hurry)\n    CodeMirror.on(window, \"keyup\", state.hurry)\n  }\n\n  function stopListening(_cm, state) {\n    clearTimeout(state.timeout)\n    CodeMirror.off(window, \"mouseup\", state.hurry)\n    CodeMirror.off(window, \"keyup\", state.hurry)\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// Because sometimes you need to mark the selected *text*.\n//\n// Adds an option 'styleSelectedText' which, when enabled, gives\n// selected text the CSS class given as option value, or\n// \"CodeMirror-selectedtext\" when the value is not a string.\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"styleSelectedText\", false, function(cm, val, old) {\n    var prev = old && old != CodeMirror.Init;\n    if (val && !prev) {\n      cm.state.markedSelection = [];\n      cm.state.markedSelectionStyle = typeof val == \"string\" ? val : \"CodeMirror-selectedtext\";\n      reset(cm);\n      cm.on(\"cursorActivity\", onCursorActivity);\n      cm.on(\"change\", onChange);\n    } else if (!val && prev) {\n      cm.off(\"cursorActivity\", onCursorActivity);\n      cm.off(\"change\", onChange);\n      clear(cm);\n      cm.state.markedSelection = cm.state.markedSelectionStyle = null;\n    }\n  });\n\n  function onCursorActivity(cm) {\n    if (cm.state.markedSelection)\n      cm.operation(function() { update(cm); });\n  }\n\n  function onChange(cm) {\n    if (cm.state.markedSelection && cm.state.markedSelection.length)\n      cm.operation(function() { clear(cm); });\n  }\n\n  var CHUNK_SIZE = 8;\n  var Pos = CodeMirror.Pos;\n  var cmp = CodeMirror.cmpPos;\n\n  function coverRange(cm, from, to, addAt) {\n    if (cmp(from, to) == 0) return;\n    var array = cm.state.markedSelection;\n    var cls = cm.state.markedSelectionStyle;\n    for (var line = from.line;;) {\n      var start = line == from.line ? from : Pos(line, 0);\n      var endLine = line + CHUNK_SIZE, atEnd = endLine >= to.line;\n      var end = atEnd ? to : Pos(endLine, 0);\n      var mark = cm.markText(start, end, {className: cls});\n      if (addAt == null) array.push(mark);\n      else array.splice(addAt++, 0, mark);\n      if (atEnd) break;\n      line = endLine;\n    }\n  }\n\n  function clear(cm) {\n    var array = cm.state.markedSelection;\n    for (var i = 0; i < array.length; ++i) array[i].clear();\n    array.length = 0;\n  }\n\n  function reset(cm) {\n    clear(cm);\n    var ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++)\n      coverRange(cm, ranges[i].from(), ranges[i].to());\n  }\n\n  function update(cm) {\n    if (!cm.somethingSelected()) return clear(cm);\n    if (cm.listSelections().length > 1) return reset(cm);\n\n    var from = cm.getCursor(\"start\"), to = cm.getCursor(\"end\");\n\n    var array = cm.state.markedSelection;\n    if (!array.length) return coverRange(cm, from, to);\n\n    var coverStart = array[0].find(), coverEnd = array[array.length - 1].find();\n    if (!coverStart || !coverEnd || to.line - from.line <= CHUNK_SIZE ||\n        cmp(from, coverEnd.to) >= 0 || cmp(to, coverStart.from) <= 0)\n      return reset(cm);\n\n    while (cmp(from, coverStart.from) > 0) {\n      array.shift().clear();\n      coverStart = array[0].find();\n    }\n    if (cmp(from, coverStart.from) < 0) {\n      if (coverStart.to.line - from.line < CHUNK_SIZE) {\n        array.shift().clear();\n        coverRange(cm, from, coverStart.to, 0);\n      } else {\n        coverRange(cm, from, coverStart.from, 0);\n      }\n    }\n\n    while (cmp(to, coverEnd.to) < 0) {\n      array.pop().clear();\n      coverEnd = array[array.length - 1].find();\n    }\n    if (cmp(to, coverEnd.to) > 0) {\n      if (to.line - coverEnd.from.line < CHUNK_SIZE) {\n        array.pop().clear();\n        coverRange(cm, coverEnd.from, to);\n      } else {\n        coverRange(cm, coverEnd.to, to);\n      }\n    }\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"))\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod)\n  else // Plain browser env\n    mod(CodeMirror)\n})(function(CodeMirror) {\n  \"use strict\"\n  var Pos = CodeMirror.Pos\n\n  function regexpFlags(regexp) {\n    var flags = regexp.flags\n    return flags != null ? flags : (regexp.ignoreCase ? \"i\" : \"\")\n      + (regexp.global ? \"g\" : \"\")\n      + (regexp.multiline ? \"m\" : \"\")\n  }\n\n  function ensureFlags(regexp, flags) {\n    var current = regexpFlags(regexp), target = current\n    for (var i = 0; i < flags.length; i++) if (target.indexOf(flags.charAt(i)) == -1)\n      target += flags.charAt(i)\n    return current == target ? regexp : new RegExp(regexp.source, target)\n  }\n\n  function maybeMultiline(regexp) {\n    return /\\\\s|\\\\n|\\n|\\\\W|\\\\D|\\[\\^/.test(regexp.source)\n  }\n\n  function searchRegexpForward(doc, regexp, start) {\n    regexp = ensureFlags(regexp, \"g\")\n    for (var line = start.line, ch = start.ch, last = doc.lastLine(); line <= last; line++, ch = 0) {\n      regexp.lastIndex = ch\n      var string = doc.getLine(line), match = regexp.exec(string)\n      if (match)\n        return {from: Pos(line, match.index),\n                to: Pos(line, match.index + match[0].length),\n                match: match}\n    }\n  }\n\n  function searchRegexpForwardMultiline(doc, regexp, start) {\n    if (!maybeMultiline(regexp)) return searchRegexpForward(doc, regexp, start)\n\n    regexp = ensureFlags(regexp, \"gm\")\n    var string, chunk = 1\n    for (var line = start.line, last = doc.lastLine(); line <= last;) {\n      // This grows the search buffer in exponentially-sized chunks\n      // between matches, so that nearby matches are fast and don't\n      // require concatenating the whole document (in case we're\n      // searching for something that has tons of matches), but at the\n      // same time, the amount of retries is limited.\n      for (var i = 0; i < chunk; i++) {\n        if (line > last) break\n        var curLine = doc.getLine(line++)\n        string = string == null ? curLine : string + \"\\n\" + curLine\n      }\n      chunk = chunk * 2\n      regexp.lastIndex = start.ch\n      var match = regexp.exec(string)\n      if (match) {\n        var before = string.slice(0, match.index).split(\"\\n\"), inside = match[0].split(\"\\n\")\n        var startLine = start.line + before.length - 1, startCh = before[before.length - 1].length\n        return {from: Pos(startLine, startCh),\n                to: Pos(startLine + inside.length - 1,\n                        inside.length == 1 ? startCh + inside[0].length : inside[inside.length - 1].length),\n                match: match}\n      }\n    }\n  }\n\n  function lastMatchIn(string, regexp, endMargin) {\n    var match, from = 0\n    while (from <= string.length) {\n      regexp.lastIndex = from\n      var newMatch = regexp.exec(string)\n      if (!newMatch) break\n      var end = newMatch.index + newMatch[0].length\n      if (end > string.length - endMargin) break\n      if (!match || end > match.index + match[0].length)\n        match = newMatch\n      from = newMatch.index + 1\n    }\n    return match\n  }\n\n  function searchRegexpBackward(doc, regexp, start) {\n    regexp = ensureFlags(regexp, \"g\")\n    for (var line = start.line, ch = start.ch, first = doc.firstLine(); line >= first; line--, ch = -1) {\n      var string = doc.getLine(line)\n      var match = lastMatchIn(string, regexp, ch < 0 ? 0 : string.length - ch)\n      if (match)\n        return {from: Pos(line, match.index),\n                to: Pos(line, match.index + match[0].length),\n                match: match}\n    }\n  }\n\n  function searchRegexpBackwardMultiline(doc, regexp, start) {\n    if (!maybeMultiline(regexp)) return searchRegexpBackward(doc, regexp, start)\n    regexp = ensureFlags(regexp, \"gm\")\n    var string, chunkSize = 1, endMargin = doc.getLine(start.line).length - start.ch\n    for (var line = start.line, first = doc.firstLine(); line >= first;) {\n      for (var i = 0; i < chunkSize && line >= first; i++) {\n        var curLine = doc.getLine(line--)\n        string = string == null ? curLine : curLine + \"\\n\" + string\n      }\n      chunkSize *= 2\n\n      var match = lastMatchIn(string, regexp, endMargin)\n      if (match) {\n        var before = string.slice(0, match.index).split(\"\\n\"), inside = match[0].split(\"\\n\")\n        var startLine = line + before.length, startCh = before[before.length - 1].length\n        return {from: Pos(startLine, startCh),\n                to: Pos(startLine + inside.length - 1,\n                        inside.length == 1 ? startCh + inside[0].length : inside[inside.length - 1].length),\n                match: match}\n      }\n    }\n  }\n\n  var doFold, noFold\n  if (String.prototype.normalize) {\n    doFold = function(str) { return str.normalize(\"NFD\").toLowerCase() }\n    noFold = function(str) { return str.normalize(\"NFD\") }\n  } else {\n    doFold = function(str) { return str.toLowerCase() }\n    noFold = function(str) { return str }\n  }\n\n  // Maps a position in a case-folded line back to a position in the original line\n  // (compensating for codepoints increasing in number during folding)\n  function adjustPos(orig, folded, pos, foldFunc) {\n    if (orig.length == folded.length) return pos\n    for (var min = 0, max = pos + Math.max(0, orig.length - folded.length);;) {\n      if (min == max) return min\n      var mid = (min + max) >> 1\n      var len = foldFunc(orig.slice(0, mid)).length\n      if (len == pos) return mid\n      else if (len > pos) max = mid\n      else min = mid + 1\n    }\n  }\n\n  function searchStringForward(doc, query, start, caseFold) {\n    // Empty string would match anything and never progress, so we\n    // define it to match nothing instead.\n    if (!query.length) return null\n    var fold = caseFold ? doFold : noFold\n    var lines = fold(query).split(/\\r|\\n\\r?/)\n\n    search: for (var line = start.line, ch = start.ch, last = doc.lastLine() + 1 - lines.length; line <= last; line++, ch = 0) {\n      var orig = doc.getLine(line).slice(ch), string = fold(orig)\n      if (lines.length == 1) {\n        var found = string.indexOf(lines[0])\n        if (found == -1) continue search\n        var start = adjustPos(orig, string, found, fold) + ch\n        return {from: Pos(line, adjustPos(orig, string, found, fold) + ch),\n                to: Pos(line, adjustPos(orig, string, found + lines[0].length, fold) + ch)}\n      } else {\n        var cutFrom = string.length - lines[0].length\n        if (string.slice(cutFrom) != lines[0]) continue search\n        for (var i = 1; i < lines.length - 1; i++)\n          if (fold(doc.getLine(line + i)) != lines[i]) continue search\n        var end = doc.getLine(line + lines.length - 1), endString = fold(end), lastLine = lines[lines.length - 1]\n        if (endString.slice(0, lastLine.length) != lastLine) continue search\n        return {from: Pos(line, adjustPos(orig, string, cutFrom, fold) + ch),\n                to: Pos(line + lines.length - 1, adjustPos(end, endString, lastLine.length, fold))}\n      }\n    }\n  }\n\n  function searchStringBackward(doc, query, start, caseFold) {\n    if (!query.length) return null\n    var fold = caseFold ? doFold : noFold\n    var lines = fold(query).split(/\\r|\\n\\r?/)\n\n    search: for (var line = start.line, ch = start.ch, first = doc.firstLine() - 1 + lines.length; line >= first; line--, ch = -1) {\n      var orig = doc.getLine(line)\n      if (ch > -1) orig = orig.slice(0, ch)\n      var string = fold(orig)\n      if (lines.length == 1) {\n        var found = string.lastIndexOf(lines[0])\n        if (found == -1) continue search\n        return {from: Pos(line, adjustPos(orig, string, found, fold)),\n                to: Pos(line, adjustPos(orig, string, found + lines[0].length, fold))}\n      } else {\n        var lastLine = lines[lines.length - 1]\n        if (string.slice(0, lastLine.length) != lastLine) continue search\n        for (var i = 1, start = line - lines.length + 1; i < lines.length - 1; i++)\n          if (fold(doc.getLine(start + i)) != lines[i]) continue search\n        var top = doc.getLine(line + 1 - lines.length), topString = fold(top)\n        if (topString.slice(topString.length - lines[0].length) != lines[0]) continue search\n        return {from: Pos(line + 1 - lines.length, adjustPos(top, topString, top.length - lines[0].length, fold)),\n                to: Pos(line, adjustPos(orig, string, lastLine.length, fold))}\n      }\n    }\n  }\n\n  function SearchCursor(doc, query, pos, options) {\n    this.atOccurrence = false\n    this.doc = doc\n    pos = pos ? doc.clipPos(pos) : Pos(0, 0)\n    this.pos = {from: pos, to: pos}\n\n    var caseFold\n    if (typeof options == \"object\") {\n      caseFold = options.caseFold\n    } else { // Backwards compat for when caseFold was the 4th argument\n      caseFold = options\n      options = null\n    }\n\n    if (typeof query == \"string\") {\n      if (caseFold == null) caseFold = false\n      this.matches = function(reverse, pos) {\n        return (reverse ? searchStringBackward : searchStringForward)(doc, query, pos, caseFold)\n      }\n    } else {\n      query = ensureFlags(query, \"gm\")\n      if (!options || options.multiline !== false)\n        this.matches = function(reverse, pos) {\n          return (reverse ? searchRegexpBackwardMultiline : searchRegexpForwardMultiline)(doc, query, pos)\n        }\n      else\n        this.matches = function(reverse, pos) {\n          return (reverse ? searchRegexpBackward : searchRegexpForward)(doc, query, pos)\n        }\n    }\n  }\n\n  SearchCursor.prototype = {\n    findNext: function() {return this.find(false)},\n    findPrevious: function() {return this.find(true)},\n\n    find: function(reverse) {\n      var result = this.matches(reverse, this.doc.clipPos(reverse ? this.pos.from : this.pos.to))\n\n      // Implements weird auto-growing behavior on null-matches for\n      // backwards-compatibility with the vim code (unfortunately)\n      while (result && CodeMirror.cmpPos(result.from, result.to) == 0) {\n        if (reverse) {\n          if (result.from.ch) result.from = Pos(result.from.line, result.from.ch - 1)\n          else if (result.from.line == this.doc.firstLine()) result = null\n          else result = this.matches(reverse, this.doc.clipPos(Pos(result.from.line - 1)))\n        } else {\n          if (result.to.ch < this.doc.getLine(result.to.line).length) result.to = Pos(result.to.line, result.to.ch + 1)\n          else if (result.to.line == this.doc.lastLine()) result = null\n          else result = this.matches(reverse, Pos(result.to.line + 1, 0))\n        }\n      }\n\n      if (result) {\n        this.pos = result\n        this.atOccurrence = true\n        return this.pos.match || true\n      } else {\n        var end = Pos(reverse ? this.doc.firstLine() : this.doc.lastLine() + 1, 0)\n        this.pos = {from: end, to: end}\n        return this.atOccurrence = false\n      }\n    },\n\n    from: function() {if (this.atOccurrence) return this.pos.from},\n    to: function() {if (this.atOccurrence) return this.pos.to},\n\n    replace: function(newText, origin) {\n      if (!this.atOccurrence) return\n      var lines = CodeMirror.splitLines(newText)\n      this.doc.replaceRange(lines, this.pos.from, this.pos.to, origin)\n      this.pos.to = Pos(this.pos.from.line + lines.length - 1,\n                        lines[lines.length - 1].length + (lines.length == 1 ? this.pos.from.ch : 0))\n    }\n  }\n\n  CodeMirror.defineExtension(\"getSearchCursor\", function(query, pos, caseFold) {\n    return new SearchCursor(this.doc, query, pos, caseFold)\n  })\n  CodeMirror.defineDocExtension(\"getSearchCursor\", function(query, pos, caseFold) {\n    return new SearchCursor(this, query, pos, caseFold)\n  })\n\n  CodeMirror.defineExtension(\"selectMatches\", function(query, caseFold) {\n    var ranges = []\n    var cur = this.getSearchCursor(query, this.getCursor(\"from\"), caseFold)\n    while (cur.findNext()) {\n      if (CodeMirror.cmpPos(cur.to(), this.getCursor(\"to\")) > 0) break\n      ranges.push({anchor: cur.from(), head: cur.to()})\n    }\n    if (ranges.length)\n      this.setSelections(ranges, 0)\n  })\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../markdown/markdown\"), require(\"../../addon/mode/overlay\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../markdown/markdown\", \"../../addon/mode/overlay\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nvar urlRE = /^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\\.beep|\\.lwz|\\.xpc|\\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\\.beeps?|xmpp|xri|ymsgr|z39\\.50[rs]?):(?:\\/{1,3}|[a-z0-9%])|www\\d{0,3}[.]|[a-z0-9.\\-]+[.][a-z]{2,4}\\/)(?:[^\\s()<>]|\\([^\\s()<>]*\\))+(?:\\([^\\s()<>]*\\)|[^\\s`*!()\\[\\]{};:'\".,<>?]))/i\n\nCodeMirror.defineMode(\"gfm\", function(config, modeConfig) {\n  var codeDepth = 0;\n  function blankLine(state) {\n    state.code = false;\n    return null;\n  }\n  var gfmOverlay = {\n    startState: function() {\n      return {\n        code: false,\n        codeBlock: false,\n        ateSpace: false\n      };\n    },\n    copyState: function(s) {\n      return {\n        code: s.code,\n        codeBlock: s.codeBlock,\n        ateSpace: s.ateSpace\n      };\n    },\n    token: function(stream, state) {\n      state.combineTokens = null;\n\n      // Hack to prevent formatting override inside code blocks (block and inline)\n      if (state.codeBlock) {\n        if (stream.match(/^```+/)) {\n          state.codeBlock = false;\n          return null;\n        }\n        stream.skipToEnd();\n        return null;\n      }\n      if (stream.sol()) {\n        state.code = false;\n      }\n      if (stream.sol() && stream.match(/^```+/)) {\n        stream.skipToEnd();\n        state.codeBlock = true;\n        return null;\n      }\n      // If this block is changed, it may need to be updated in Markdown mode\n      if (stream.peek() === '`') {\n        stream.next();\n        var before = stream.pos;\n        stream.eatWhile('`');\n        var difference = 1 + stream.pos - before;\n        if (!state.code) {\n          codeDepth = difference;\n          state.code = true;\n        } else {\n          if (difference === codeDepth) { // Must be exact\n            state.code = false;\n          }\n        }\n        return null;\n      } else if (state.code) {\n        stream.next();\n        return null;\n      }\n      // Check if space. If so, links can be formatted later on\n      if (stream.eatSpace()) {\n        state.ateSpace = true;\n        return null;\n      }\n      if (stream.sol() || state.ateSpace) {\n        state.ateSpace = false;\n        if (modeConfig.gitHubSpice !== false) {\n          if(stream.match(/^(?:[a-zA-Z0-9\\-_]+\\/)?(?:[a-zA-Z0-9\\-_]+@)?(?=.{0,6}\\d)(?:[a-f0-9]{7,40}\\b)/)) {\n            // User/Project@SHA\n            // User@SHA\n            // SHA\n            state.combineTokens = true;\n            return \"link\";\n          } else if (stream.match(/^(?:[a-zA-Z0-9\\-_]+\\/)?(?:[a-zA-Z0-9\\-_]+)?#[0-9]+\\b/)) {\n            // User/Project#Num\n            // User#Num\n            // #Num\n            state.combineTokens = true;\n            return \"link\";\n          }\n        }\n      }\n      if (stream.match(urlRE) &&\n          stream.string.slice(stream.start - 2, stream.start) != \"](\" &&\n          (stream.start == 0 || /\\W/.test(stream.string.charAt(stream.start - 1)))) {\n        // URLs\n        // Taken from http://daringfireball.net/2010/07/improved_regex_for_matching_urls\n        // And then (issue #1160) simplified to make it not crash the Chrome Regexp engine\n        // And then limited url schemes to the CommonMark list, so foo:bar isn't matched as a URL\n        state.combineTokens = true;\n        return \"link\";\n      }\n      stream.next();\n      return null;\n    },\n    blankLine: blankLine\n  };\n\n  var markdownConfig = {\n    taskLists: true,\n    strikethrough: true,\n    emoji: true\n  };\n  for (var attr in modeConfig) {\n    markdownConfig[attr] = modeConfig[attr];\n  }\n  markdownConfig.name = \"markdown\";\n  return CodeMirror.overlayMode(CodeMirror.getMode(config, markdownConfig), gfmOverlay);\n\n}, \"markdown\");\n\n  CodeMirror.defineMIME(\"text/x-gfm\", \"gfm\");\n});\n","// Use strict mode (https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode)\n\"use strict\";\n\n\n// Requires\nvar Typo = require(\"typo-js\");\n\n\n// Create function\nfunction CodeMirrorSpellChecker(options) {\n\t// Initialize\n\toptions = options || {};\n\n\n\t// Verify\n\tif(typeof options.codeMirrorInstance !== \"function\" || typeof options.codeMirrorInstance.defineMode !== \"function\") {\n\t\tconsole.log(\"CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`\");\n\t\treturn;\n\t}\n\n\n\t// Because some browsers don't support this functionality yet\n\tif(!String.prototype.includes) {\n\t\tString.prototype.includes = function() {\n\t\t\t\"use strict\";\n\t\t\treturn String.prototype.indexOf.apply(this, arguments) !== -1;\n\t\t};\n\t}\n\n\n\t// Define the new mode\n\toptions.codeMirrorInstance.defineMode(\"spell-checker\", function(config) {\n\t\t// Load AFF/DIC data\n\t\tif(!CodeMirrorSpellChecker.aff_loading) {\n\t\t\tCodeMirrorSpellChecker.aff_loading = true;\n\t\t\tvar xhr_aff = new XMLHttpRequest();\n\t\t\txhr_aff.open(\"GET\", \"https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff\", true);\n\t\t\txhr_aff.onload = function() {\n\t\t\t\tif(xhr_aff.readyState === 4 && xhr_aff.status === 200) {\n\t\t\t\t\tCodeMirrorSpellChecker.aff_data = xhr_aff.responseText;\n\t\t\t\t\tCodeMirrorSpellChecker.num_loaded++;\n\n\t\t\t\t\tif(CodeMirrorSpellChecker.num_loaded == 2) {\n\t\t\t\t\t\tCodeMirrorSpellChecker.typo = new Typo(\"en_US\", CodeMirrorSpellChecker.aff_data, CodeMirrorSpellChecker.dic_data, {\n\t\t\t\t\t\t\tplatform: \"any\"\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\txhr_aff.send(null);\n\t\t}\n\n\t\tif(!CodeMirrorSpellChecker.dic_loading) {\n\t\t\tCodeMirrorSpellChecker.dic_loading = true;\n\t\t\tvar xhr_dic = new XMLHttpRequest();\n\t\t\txhr_dic.open(\"GET\", \"https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic\", true);\n\t\t\txhr_dic.onload = function() {\n\t\t\t\tif(xhr_dic.readyState === 4 && xhr_dic.status === 200) {\n\t\t\t\t\tCodeMirrorSpellChecker.dic_data = xhr_dic.responseText;\n\t\t\t\t\tCodeMirrorSpellChecker.num_loaded++;\n\n\t\t\t\t\tif(CodeMirrorSpellChecker.num_loaded == 2) {\n\t\t\t\t\t\tCodeMirrorSpellChecker.typo = new Typo(\"en_US\", CodeMirrorSpellChecker.aff_data, CodeMirrorSpellChecker.dic_data, {\n\t\t\t\t\t\t\tplatform: \"any\"\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\txhr_dic.send(null);\n\t\t}\n\n\n\t\t// Define what separates a word\n\t\tvar rx_word = \"!\\\"#$%&()*+,-./:;<=>?@[\\\\]^_`{|}~ \";\n\n\n\t\t// Create the overlay and such\n\t\tvar overlay = {\n\t\t\ttoken: function(stream) {\n\t\t\t\tvar ch = stream.peek();\n\t\t\t\tvar word = \"\";\n\n\t\t\t\tif(rx_word.includes(ch)) {\n\t\t\t\t\tstream.next();\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\twhile((ch = stream.peek()) != null && !rx_word.includes(ch)) {\n\t\t\t\t\tword += ch;\n\t\t\t\t\tstream.next();\n\t\t\t\t}\n\n\t\t\t\tif(CodeMirrorSpellChecker.typo && !CodeMirrorSpellChecker.typo.check(word))\n\t\t\t\t\treturn \"spell-error\"; // CSS class: cm-spell-error\n\n\t\t\t\treturn null;\n\t\t\t}\n\t\t};\n\n\t\tvar mode = options.codeMirrorInstance.getMode(\n\t\t\tconfig, config.backdrop || \"text/plain\"\n\t\t);\n\n\t\treturn options.codeMirrorInstance.overlayMode(mode, overlay, true);\n\t});\n}\n\n\n// Initialize data globally to reduce memory consumption\nCodeMirrorSpellChecker.num_loaded = 0;\nCodeMirrorSpellChecker.aff_loading = false;\nCodeMirrorSpellChecker.dic_loading = false;\nCodeMirrorSpellChecker.aff_data = \"\";\nCodeMirrorSpellChecker.dic_data = \"\";\nCodeMirrorSpellChecker.typo;\n\n\n// Export\nmodule.exports = CodeMirrorSpellChecker;","/* globals chrome: false */\n/* globals __dirname: false */\n/* globals require: false */\n/* globals Buffer: false */\n/* globals module: false */\n\n/**\n * Typo is a JavaScript implementation of a spellchecker using hunspell-style \n * dictionaries.\n */\n\nvar Typo;\n\n(function () {\n\"use strict\";\n\n/**\n * Typo constructor.\n *\n * @param {String} [dictionary] The locale code of the dictionary being used. e.g.,\n *                              \"en_US\". This is only used to auto-load dictionaries.\n * @param {String} [affData]    The data from the dictionary's .aff file. If omitted\n *                              and Typo.js is being used in a Chrome extension, the .aff\n *                              file will be loaded automatically from\n *                              lib/typo/dictionaries/[dictionary]/[dictionary].aff\n *                              In other environments, it will be loaded from\n *                              [settings.dictionaryPath]/dictionaries/[dictionary]/[dictionary].aff\n * @param {String} [wordsData]  The data from the dictionary's .dic file. If omitted\n *                              and Typo.js is being used in a Chrome extension, the .dic\n *                              file will be loaded automatically from\n *                              lib/typo/dictionaries/[dictionary]/[dictionary].dic\n *                              In other environments, it will be loaded from\n *                              [settings.dictionaryPath]/dictionaries/[dictionary]/[dictionary].dic\n * @param {Object} [settings]   Constructor settings. Available properties are:\n *                              {String} [dictionaryPath]: path to load dictionary from in non-chrome\n *                              environment.\n *                              {Object} [flags]: flag information.\n *                              {Boolean} [asyncLoad]: If true, affData and wordsData will be loaded\n *                              asynchronously.\n *                              {Function} [loadedCallback]: Called when both affData and wordsData\n *                              have been loaded. Only used if asyncLoad is set to true. The parameter\n *                              is the instantiated Typo object.\n *\n * @returns {Typo} A Typo object.\n */\n\nTypo = function (dictionary, affData, wordsData, settings) {\n\tsettings = settings || {};\n\n\tthis.dictionary = null;\n\t\n\tthis.rules = {};\n\tthis.dictionaryTable = {};\n\t\n\tthis.compoundRules = [];\n\tthis.compoundRuleCodes = {};\n\t\n\tthis.replacementTable = [];\n\t\n\tthis.flags = settings.flags || {}; \n\t\n\tthis.memoized = {};\n\n\tthis.loaded = false;\n\t\n\tvar self = this;\n\t\n\tvar path;\n\t\n\t// Loop-control variables.\n\tvar i, j, _len, _jlen;\n\t\n\tif (dictionary) {\n\t\tself.dictionary = dictionary;\n\t\t\n\t\t// If the data is preloaded, just setup the Typo object.\n\t\tif (affData && wordsData) {\n\t\t\tsetup();\n\t\t}\n\t\t// Loading data for Chrome extentions.\n\t\telse if (typeof window !== 'undefined' && 'chrome' in window && 'extension' in window.chrome && 'getURL' in window.chrome.extension) {\n\t\t\tif (settings.dictionaryPath) {\n\t\t\t\tpath = settings.dictionaryPath;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tpath = \"typo/dictionaries\";\n\t\t\t}\n\t\t\t\n\t\t\tif (!affData) readDataFile(chrome.extension.getURL(path + \"/\" + dictionary + \"/\" + dictionary + \".aff\"), setAffData);\n\t\t\tif (!wordsData) readDataFile(chrome.extension.getURL(path + \"/\" + dictionary + \"/\" + dictionary + \".dic\"), setWordsData);\n\t\t}\n\t\telse {\n\t\t\tif (settings.dictionaryPath) {\n\t\t\t\tpath = settings.dictionaryPath;\n\t\t\t}\n\t\t\telse if (typeof __dirname !== 'undefined') {\n\t\t\t\tpath = __dirname + '/dictionaries';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tpath = './dictionaries';\n\t\t\t}\n\t\t\t\n\t\t\tif (!affData) readDataFile(path + \"/\" + dictionary + \"/\" + dictionary + \".aff\", setAffData);\n\t\t\tif (!wordsData) readDataFile(path + \"/\" + dictionary + \"/\" + dictionary + \".dic\", setWordsData);\n\t\t}\n\t}\n\t\n\tfunction readDataFile(url, setFunc) {\n\t\tvar response = self._readFile(url, null, settings.asyncLoad);\n\t\t\n\t\tif (settings.asyncLoad) {\n\t\t\tresponse.then(function(data) {\n\t\t\t\tsetFunc(data);\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tsetFunc(response);\n\t\t}\n\t}\n\n\tfunction setAffData(data) {\n\t\taffData = data;\n\n\t\tif (wordsData) {\n\t\t\tsetup();\n\t\t}\n\t}\n\n\tfunction setWordsData(data) {\n\t\twordsData = data;\n\n\t\tif (affData) {\n\t\t\tsetup();\n\t\t}\n\t}\n\n\tfunction setup() {\n\t\tself.rules = self._parseAFF(affData);\n\t\t\n\t\t// Save the rule codes that are used in compound rules.\n\t\tself.compoundRuleCodes = {};\n\t\t\n\t\tfor (i = 0, _len = self.compoundRules.length; i < _len; i++) {\n\t\t\tvar rule = self.compoundRules[i];\n\t\t\t\n\t\t\tfor (j = 0, _jlen = rule.length; j < _jlen; j++) {\n\t\t\t\tself.compoundRuleCodes[rule[j]] = [];\n\t\t\t}\n\t\t}\n\t\t\n\t\t// If we add this ONLYINCOMPOUND flag to self.compoundRuleCodes, then _parseDIC\n\t\t// will do the work of saving the list of words that are compound-only.\n\t\tif (\"ONLYINCOMPOUND\" in self.flags) {\n\t\t\tself.compoundRuleCodes[self.flags.ONLYINCOMPOUND] = [];\n\t\t}\n\t\t\n\t\tself.dictionaryTable = self._parseDIC(wordsData);\n\t\t\n\t\t// Get rid of any codes from the compound rule codes that are never used \n\t\t// (or that were special regex characters).  Not especially necessary... \n\t\tfor (i in self.compoundRuleCodes) {\n\t\t\tif (self.compoundRuleCodes[i].length === 0) {\n\t\t\t\tdelete self.compoundRuleCodes[i];\n\t\t\t}\n\t\t}\n\t\t\n\t\t// Build the full regular expressions for each compound rule.\n\t\t// I have a feeling (but no confirmation yet) that this method of \n\t\t// testing for compound words is probably slow.\n\t\tfor (i = 0, _len = self.compoundRules.length; i < _len; i++) {\n\t\t\tvar ruleText = self.compoundRules[i];\n\t\t\t\n\t\t\tvar expressionText = \"\";\n\t\t\t\n\t\t\tfor (j = 0, _jlen = ruleText.length; j < _jlen; j++) {\n\t\t\t\tvar character = ruleText[j];\n\t\t\t\t\n\t\t\t\tif (character in self.compoundRuleCodes) {\n\t\t\t\t\texpressionText += \"(\" + self.compoundRuleCodes[character].join(\"|\") + \")\";\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\texpressionText += character;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tself.compoundRules[i] = new RegExp(expressionText, \"i\");\n\t\t}\n\t\t\n\t\tself.loaded = true;\n\t\t\n\t\tif (settings.asyncLoad && settings.loadedCallback) {\n\t\t\tsettings.loadedCallback(self);\n\t\t}\n\t}\n\t\n\treturn this;\n};\n\nTypo.prototype = {\n\t/**\n\t * Loads a Typo instance from a hash of all of the Typo properties.\n\t *\n\t * @param object obj A hash of Typo properties, probably gotten from a JSON.parse(JSON.stringify(typo_instance)).\n\t */\n\t\n\tload : function (obj) {\n\t\tfor (var i in obj) {\n\t\t\tif (obj.hasOwnProperty(i)) {\n\t\t\t\tthis[i] = obj[i];\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn this;\n\t},\n\t\n\t/**\n\t * Read the contents of a file.\n\t * \n\t * @param {String} path The path (relative) to the file.\n\t * @param {String} [charset=\"ISO8859-1\"] The expected charset of the file\n\t * @param {Boolean} async If true, the file will be read asynchronously. For node.js this does nothing, all\n\t *        files are read synchronously.\n\t * @returns {String} The file data if async is false, otherwise a promise object. If running node.js, the data is\n\t *          always returned.\n\t */\n\t\n\t_readFile : function (path, charset, async) {\n\t\tcharset = charset || \"utf8\";\n\t\t\n\t\tif (typeof XMLHttpRequest !== 'undefined') {\n\t\t\tvar promise;\n\t\t\tvar req = new XMLHttpRequest();\n\t\t\treq.open(\"GET\", path, async);\n\t\t\t\n\t\t\tif (async) {\n\t\t\t\tpromise = new Promise(function(resolve, reject) {\n\t\t\t\t\treq.onload = function() {\n\t\t\t\t\t\tif (req.status === 200) {\n\t\t\t\t\t\t\tresolve(req.responseText);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\treject(req.statusText);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\treq.onerror = function() {\n\t\t\t\t\t\treject(req.statusText);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\n\t\t\tif (req.overrideMimeType)\n\t\t\t\treq.overrideMimeType(\"text/plain; charset=\" + charset);\n\t\t\n\t\t\treq.send(null);\n\t\t\t\n\t\t\treturn async ? promise : req.responseText;\n\t\t}\n\t\telse if (typeof require !== 'undefined') {\n\t\t\t// Node.js\n\t\t\tvar fs = require(\"fs\");\n\t\t\t\n\t\t\ttry {\n\t\t\t\tif (fs.existsSync(path)) {\n\t\t\t\t\treturn fs.readFileSync(path, charset);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tconsole.log(\"Path \" + path + \" does not exist.\");\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e);\n\t\t\t\treturn '';\n\t\t\t}\n\t\t}\n\t},\n\t\n\t/**\n\t * Parse the rules out from a .aff file.\n\t *\n\t * @param {String} data The contents of the affix file.\n\t * @returns object The rules from the file.\n\t */\n\t\n\t_parseAFF : function (data) {\n\t\tvar rules = {};\n\t\t\n\t\tvar line, subline, numEntries, lineParts;\n\t\tvar i, j, _len, _jlen;\n\t\t\n\t\t// Remove comment lines\n\t\tdata = this._removeAffixComments(data);\n\t\t\n\t\tvar lines = data.split(/\\r?\\n/);\n\t\t\n\t\tfor (i = 0, _len = lines.length; i < _len; i++) {\n\t\t\tline = lines[i];\n\t\t\t\n\t\t\tvar definitionParts = line.split(/\\s+/);\n\t\t\t\n\t\t\tvar ruleType = definitionParts[0];\n\t\t\t\n\t\t\tif (ruleType == \"PFX\" || ruleType == \"SFX\") {\n\t\t\t\tvar ruleCode = definitionParts[1];\n\t\t\t\tvar combineable = definitionParts[2];\n\t\t\t\tnumEntries = parseInt(definitionParts[3], 10);\n\t\t\t\t\n\t\t\t\tvar entries = [];\n\t\t\t\t\n\t\t\t\tfor (j = i + 1, _jlen = i + 1 + numEntries; j < _jlen; j++) {\n\t\t\t\t\tsubline = lines[j];\n\t\t\t\t\t\n\t\t\t\t\tlineParts = subline.split(/\\s+/);\n\t\t\t\t\tvar charactersToRemove = lineParts[2];\n\t\t\t\t\t\n\t\t\t\t\tvar additionParts = lineParts[3].split(\"/\");\n\t\t\t\t\t\n\t\t\t\t\tvar charactersToAdd = additionParts[0];\n\t\t\t\t\tif (charactersToAdd === \"0\") charactersToAdd = \"\";\n\t\t\t\t\t\n\t\t\t\t\tvar continuationClasses = this.parseRuleCodes(additionParts[1]);\n\t\t\t\t\t\n\t\t\t\t\tvar regexToMatch = lineParts[4];\n\t\t\t\t\t\n\t\t\t\t\tvar entry = {};\n\t\t\t\t\tentry.add = charactersToAdd;\n\t\t\t\t\t\n\t\t\t\t\tif (continuationClasses.length > 0) entry.continuationClasses = continuationClasses;\n\t\t\t\t\t\n\t\t\t\t\tif (regexToMatch !== \".\") {\n\t\t\t\t\t\tif (ruleType === \"SFX\") {\n\t\t\t\t\t\t\tentry.match = new RegExp(regexToMatch + \"$\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tentry.match = new RegExp(\"^\" + regexToMatch);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (charactersToRemove != \"0\") {\n\t\t\t\t\t\tif (ruleType === \"SFX\") {\n\t\t\t\t\t\t\tentry.remove = new RegExp(charactersToRemove  + \"$\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tentry.remove = charactersToRemove;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tentries.push(entry);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trules[ruleCode] = { \"type\" : ruleType, \"combineable\" : (combineable == \"Y\"), \"entries\" : entries };\n\t\t\t\t\n\t\t\t\ti += numEntries;\n\t\t\t}\n\t\t\telse if (ruleType === \"COMPOUNDRULE\") {\n\t\t\t\tnumEntries = parseInt(definitionParts[1], 10);\n\t\t\t\t\n\t\t\t\tfor (j = i + 1, _jlen = i + 1 + numEntries; j < _jlen; j++) {\n\t\t\t\t\tline = lines[j];\n\t\t\t\t\t\n\t\t\t\t\tlineParts = line.split(/\\s+/);\n\t\t\t\t\tthis.compoundRules.push(lineParts[1]);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\ti += numEntries;\n\t\t\t}\n\t\t\telse if (ruleType === \"REP\") {\n\t\t\t\tlineParts = line.split(/\\s+/);\n\t\t\t\t\n\t\t\t\tif (lineParts.length === 3) {\n\t\t\t\t\tthis.replacementTable.push([ lineParts[1], lineParts[2] ]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// ONLYINCOMPOUND\n\t\t\t\t// COMPOUNDMIN\n\t\t\t\t// FLAG\n\t\t\t\t// KEEPCASE\n\t\t\t\t// NEEDAFFIX\n\t\t\t\t\n\t\t\t\tthis.flags[ruleType] = definitionParts[1];\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn rules;\n\t},\n\t\n\t/**\n\t * Removes comment lines and then cleans up blank lines and trailing whitespace.\n\t *\n\t * @param {String} data The data from an affix file.\n\t * @return {String} The cleaned-up data.\n\t */\n\t\n\t_removeAffixComments : function (data) {\n\t\t// Remove comments\n\t\t// This used to remove any string starting with '#' up to the end of the line,\n\t\t// but some COMPOUNDRULE definitions include '#' as part of the rule.\n\t\t// I haven't seen any affix files that use comments on the same line as real data,\n\t\t// so I don't think this will break anything.\n\t\tdata = data.replace(/^\\s*#.*$/mg, \"\");\n\t\t\n\t\t// Trim each line\n\t\tdata = data.replace(/^\\s\\s*/m, '').replace(/\\s\\s*$/m, '');\n\t\t\n\t\t// Remove blank lines.\n\t\tdata = data.replace(/\\n{2,}/g, \"\\n\");\n\t\t\n\t\t// Trim the entire string\n\t\tdata = data.replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n\t\t\n\t\treturn data;\n\t},\n\t\n\t/**\n\t * Parses the words out from the .dic file.\n\t *\n\t * @param {String} data The data from the dictionary file.\n\t * @returns object The lookup table containing all of the words and\n\t *                 word forms from the dictionary.\n\t */\n\t\n\t_parseDIC : function (data) {\n\t\tdata = this._removeDicComments(data);\n\t\t\n\t\tvar lines = data.split(/\\r?\\n/);\n\t\tvar dictionaryTable = {};\n\t\t\n\t\tfunction addWord(word, rules) {\n\t\t\t// Some dictionaries will list the same word multiple times with different rule sets.\n\t\t\tif (!dictionaryTable.hasOwnProperty(word)) {\n\t\t\t\tdictionaryTable[word] = null;\n\t\t\t}\n\t\t\t\n\t\t\tif (rules.length > 0) {\n\t\t\t\tif (dictionaryTable[word] === null) {\n\t\t\t\t\tdictionaryTable[word] = [];\n\t\t\t\t}\n\n\t\t\t\tdictionaryTable[word].push(rules);\n\t\t\t}\n\t\t}\n\t\t\n\t\t// The first line is the number of words in the dictionary.\n\t\tfor (var i = 1, _len = lines.length; i < _len; i++) {\n\t\t\tvar line = lines[i];\n\t\t\t\n\t\t\tif (!line) {\n\t\t\t\t// Ignore empty lines.\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar parts = line.split(\"/\", 2);\n\t\t\t\n\t\t\tvar word = parts[0];\n\n\t\t\t// Now for each affix rule, generate that form of the word.\n\t\t\tif (parts.length > 1) {\n\t\t\t\tvar ruleCodesArray = this.parseRuleCodes(parts[1]);\n\t\t\t\t\n\t\t\t\t// Save the ruleCodes for compound word situations.\n\t\t\t\tif (!(\"NEEDAFFIX\" in this.flags) || ruleCodesArray.indexOf(this.flags.NEEDAFFIX) == -1) {\n\t\t\t\t\taddWord(word, ruleCodesArray);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfor (var j = 0, _jlen = ruleCodesArray.length; j < _jlen; j++) {\n\t\t\t\t\tvar code = ruleCodesArray[j];\n\t\t\t\t\t\n\t\t\t\t\tvar rule = this.rules[code];\n\t\t\t\t\t\n\t\t\t\t\tif (rule) {\n\t\t\t\t\t\tvar newWords = this._applyRule(word, rule);\n\t\t\t\t\t\t\n\t\t\t\t\t\tfor (var ii = 0, _iilen = newWords.length; ii < _iilen; ii++) {\n\t\t\t\t\t\t\tvar newWord = newWords[ii];\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\taddWord(newWord, []);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif (rule.combineable) {\n\t\t\t\t\t\t\t\tfor (var k = j + 1; k < _jlen; k++) {\n\t\t\t\t\t\t\t\t\tvar combineCode = ruleCodesArray[k];\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tvar combineRule = this.rules[combineCode];\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tif (combineRule) {\n\t\t\t\t\t\t\t\t\t\tif (combineRule.combineable && (rule.type != combineRule.type)) {\n\t\t\t\t\t\t\t\t\t\t\tvar otherNewWords = this._applyRule(newWord, combineRule);\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tfor (var iii = 0, _iiilen = otherNewWords.length; iii < _iiilen; iii++) {\n\t\t\t\t\t\t\t\t\t\t\t\tvar otherNewWord = otherNewWords[iii];\n\t\t\t\t\t\t\t\t\t\t\t\taddWord(otherNewWord, []);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (code in this.compoundRuleCodes) {\n\t\t\t\t\t\tthis.compoundRuleCodes[code].push(word);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\taddWord(word.trim(), []);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn dictionaryTable;\n\t},\n\t\n\t\n\t/**\n\t * Removes comment lines and then cleans up blank lines and trailing whitespace.\n\t *\n\t * @param {String} data The data from a .dic file.\n\t * @return {String} The cleaned-up data.\n\t */\n\t\n\t_removeDicComments : function (data) {\n\t\t// I can't find any official documentation on it, but at least the de_DE\n\t\t// dictionary uses tab-indented lines as comments.\n\t\t\n\t\t// Remove comments\n\t\tdata = data.replace(/^\\t.*$/mg, \"\");\n\t\t\n\t\treturn data;\n\t},\n\t\n\tparseRuleCodes : function (textCodes) {\n\t\tif (!textCodes) {\n\t\t\treturn [];\n\t\t}\n\t\telse if (!(\"FLAG\" in this.flags)) {\n\t\t\treturn textCodes.split(\"\");\n\t\t}\n\t\telse if (this.flags.FLAG === \"long\") {\n\t\t\tvar flags = [];\n\t\t\t\n\t\t\tfor (var i = 0, _len = textCodes.length; i < _len; i += 2) {\n\t\t\t\tflags.push(textCodes.substr(i, 2));\n\t\t\t}\n\t\t\t\n\t\t\treturn flags;\n\t\t}\n\t\telse if (this.flags.FLAG === \"num\") {\n\t\t\treturn textCodes.split(\",\");\n\t\t}\n\t},\n\t\n\t/**\n\t * Applies an affix rule to a word.\n\t *\n\t * @param {String} word The base word.\n\t * @param {Object} rule The affix rule.\n\t * @returns {String[]} The new words generated by the rule.\n\t */\n\t\n\t_applyRule : function (word, rule) {\n\t\tvar entries = rule.entries;\n\t\tvar newWords = [];\n\t\t\n\t\tfor (var i = 0, _len = entries.length; i < _len; i++) {\n\t\t\tvar entry = entries[i];\n\t\t\t\n\t\t\tif (!entry.match || word.match(entry.match)) {\n\t\t\t\tvar newWord = word;\n\t\t\t\t\n\t\t\t\tif (entry.remove) {\n\t\t\t\t\tnewWord = newWord.replace(entry.remove, \"\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (rule.type === \"SFX\") {\n\t\t\t\t\tnewWord = newWord + entry.add;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tnewWord = entry.add + newWord;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tnewWords.push(newWord);\n\t\t\t\t\n\t\t\t\tif (\"continuationClasses\" in entry) {\n\t\t\t\t\tfor (var j = 0, _jlen = entry.continuationClasses.length; j < _jlen; j++) {\n\t\t\t\t\t\tvar continuationRule = this.rules[entry.continuationClasses[j]];\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (continuationRule) {\n\t\t\t\t\t\t\tnewWords = newWords.concat(this._applyRule(newWord, continuationRule));\n\t\t\t\t\t\t}\n\t\t\t\t\t\t/*\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t// This shouldn't happen, but it does, at least in the de_DE dictionary.\n\t\t\t\t\t\t\t// I think the author mistakenly supplied lower-case rule codes instead \n\t\t\t\t\t\t\t// of upper-case.\n\t\t\t\t\t\t}\n\t\t\t\t\t\t*/\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn newWords;\n\t},\n\t\n\t/**\n\t * Checks whether a word or a capitalization variant exists in the current dictionary.\n\t * The word is trimmed and several variations of capitalizations are checked.\n\t * If you want to check a word without any changes made to it, call checkExact()\n\t *\n\t * @see http://blog.stevenlevithan.com/archives/faster-trim-javascript re:trimming function\n\t *\n\t * @param {String} aWord The word to check.\n\t * @returns {Boolean}\n\t */\n\t\n\tcheck : function (aWord) {\n\t\tif (!this.loaded) {\n\t\t\tthrow \"Dictionary not loaded.\";\n\t\t}\n\t\t\n\t\t// Remove leading and trailing whitespace\n\t\tvar trimmedWord = aWord.replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n\t\t\n\t\tif (this.checkExact(trimmedWord)) {\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\t// The exact word is not in the dictionary.\n\t\tif (trimmedWord.toUpperCase() === trimmedWord) {\n\t\t\t// The word was supplied in all uppercase.\n\t\t\t// Check for a capitalized form of the word.\n\t\t\tvar capitalizedWord = trimmedWord[0] + trimmedWord.substring(1).toLowerCase();\n\t\t\t\n\t\t\tif (this.hasFlag(capitalizedWord, \"KEEPCASE\")) {\n\t\t\t\t// Capitalization variants are not allowed for this word.\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t\n\t\t\tif (this.checkExact(capitalizedWord)) {\n\t\t\t\t// The all-caps word is a capitalized word spelled correctly.\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (this.checkExact(trimmedWord.toLowerCase())) {\n\t\t\t\t// The all-caps is a lowercase word spelled correctly.\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\tvar uncapitalizedWord = trimmedWord[0].toLowerCase() + trimmedWord.substring(1);\n\t\t\n\t\tif (uncapitalizedWord !== trimmedWord) {\n\t\t\tif (this.hasFlag(uncapitalizedWord, \"KEEPCASE\")) {\n\t\t\t\t// Capitalization variants are not allowed for this word.\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t\n\t\t\t// Check for an uncapitalized form\n\t\t\tif (this.checkExact(uncapitalizedWord)) {\n\t\t\t\t// The word is spelled correctly but with the first letter capitalized.\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t},\n\t\n\t/**\n\t * Checks whether a word exists in the current dictionary.\n\t *\n\t * @param {String} word The word to check.\n\t * @returns {Boolean}\n\t */\n\t\n\tcheckExact : function (word) {\n\t\tif (!this.loaded) {\n\t\t\tthrow \"Dictionary not loaded.\";\n\t\t}\n\n\t\tvar ruleCodes = this.dictionaryTable[word];\n\t\t\n\t\tvar i, _len;\n\t\t\n\t\tif (typeof ruleCodes === 'undefined') {\n\t\t\t// Check if this might be a compound word.\n\t\t\tif (\"COMPOUNDMIN\" in this.flags && word.length >= this.flags.COMPOUNDMIN) {\n\t\t\t\tfor (i = 0, _len = this.compoundRules.length; i < _len; i++) {\n\t\t\t\t\tif (word.match(this.compoundRules[i])) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if (ruleCodes === null) {\n\t\t\t// a null (but not undefined) value for an entry in the dictionary table\n\t\t\t// means that the word is in the dictionary but has no flags.\n\t\t\treturn true;\n\t\t}\n\t\telse if (typeof ruleCodes === 'object') { // this.dictionary['hasOwnProperty'] will be a function.\n\t\t\tfor (i = 0, _len = ruleCodes.length; i < _len; i++) {\n\t\t\t\tif (!this.hasFlag(word, \"ONLYINCOMPOUND\", ruleCodes[i])) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\t\n\t/**\n\t * Looks up whether a given word is flagged with a given flag.\n\t *\n\t * @param {String} word The word in question.\n\t * @param {String} flag The flag in question.\n\t * @return {Boolean}\n\t */\n\t \n\thasFlag : function (word, flag, wordFlags) {\n\t\tif (!this.loaded) {\n\t\t\tthrow \"Dictionary not loaded.\";\n\t\t}\n\n\t\tif (flag in this.flags) {\n\t\t\tif (typeof wordFlags === 'undefined') {\n\t\t\t\twordFlags = Array.prototype.concat.apply([], this.dictionaryTable[word]);\n\t\t\t}\n\t\t\t\n\t\t\tif (wordFlags && wordFlags.indexOf(this.flags[flag]) !== -1) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t},\n\t\n\t/**\n\t * Returns a list of suggestions for a misspelled word.\n\t *\n\t * @see http://www.norvig.com/spell-correct.html for the basis of this suggestor.\n\t * This suggestor is primitive, but it works.\n\t *\n\t * @param {String} word The misspelling.\n\t * @param {Number} [limit=5] The maximum number of suggestions to return.\n\t * @returns {String[]} The array of suggestions.\n\t */\n\t\n\talphabet : \"\",\n\t\n\tsuggest : function (word, limit) {\n\t\tif (!this.loaded) {\n\t\t\tthrow \"Dictionary not loaded.\";\n\t\t}\n\n\t\tlimit = limit || 5;\n\n\t\tif (this.memoized.hasOwnProperty(word)) {\n\t\t\tvar memoizedLimit = this.memoized[word]['limit'];\n\n\t\t\t// Only return the cached list if it's big enough or if there weren't enough suggestions\n\t\t\t// to fill a smaller limit.\n\t\t\tif (limit <= memoizedLimit || this.memoized[word]['suggestions'].length < memoizedLimit) {\n\t\t\t\treturn this.memoized[word]['suggestions'].slice(0, limit);\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (this.check(word)) return [];\n\t\t\n\t\t// Check the replacement table.\n\t\tfor (var i = 0, _len = this.replacementTable.length; i < _len; i++) {\n\t\t\tvar replacementEntry = this.replacementTable[i];\n\t\t\t\n\t\t\tif (word.indexOf(replacementEntry[0]) !== -1) {\n\t\t\t\tvar correctedWord = word.replace(replacementEntry[0], replacementEntry[1]);\n\t\t\t\t\n\t\t\t\tif (this.check(correctedWord)) {\n\t\t\t\t\treturn [ correctedWord ];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tvar self = this;\n\t\tself.alphabet = \"abcdefghijklmnopqrstuvwxyz\";\n\t\t\n\t\t/*\n\t\tif (!self.alphabet) {\n\t\t\t// Use the alphabet as implicitly defined by the words in the dictionary.\n\t\t\tvar alphaHash = {};\n\t\t\t\n\t\t\tfor (var i in self.dictionaryTable) {\n\t\t\t\tfor (var j = 0, _len = i.length; j < _len; j++) {\n\t\t\t\t\talphaHash[i[j]] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tfor (var i in alphaHash) {\n\t\t\t\tself.alphabet += i;\n\t\t\t}\n\t\t\t\n\t\t\tvar alphaArray = self.alphabet.split(\"\");\n\t\t\talphaArray.sort();\n\t\t\tself.alphabet = alphaArray.join(\"\");\n\t\t}\n\t\t*/\n\t\t\n\t\t/**\n\t\t * Returns a hash keyed by all of the strings that can be made by making a single edit to the word (or words in) `words`\n\t\t * The value of each entry is the number of unique ways that the resulting word can be made.\n\t\t *\n\t\t * @arg mixed words Either a hash keyed by words or a string word to operate on.\n\t\t * @arg bool known_only Whether this function should ignore strings that are not in the dictionary.\n\t\t */\n\t\tfunction edits1(words, known_only) {\n\t\t\tvar rv = {};\n\t\t\t\n\t\t\tvar i, j, _iilen, _len, _jlen, _edit;\n\n\t\t\tvar alphabetLength = self.alphabet.length;\n\t\t\t\n\t\t\tif (typeof words == 'string') {\n\t\t\t\tvar word = words;\n\t\t\t\twords = {};\n\t\t\t\twords[word] = true;\n\t\t\t}\n\n\t\t\tfor (var word in words) {\n\t\t\t\tfor (i = 0, _len = word.length + 1; i < _len; i++) {\n\t\t\t\t\tvar s = [ word.substring(0, i), word.substring(i) ];\n\t\t\t\t\n\t\t\t\t\t// Remove a letter.\n\t\t\t\t\tif (s[1]) {\n\t\t\t\t\t\t_edit = s[0] + s[1].substring(1);\n\n\t\t\t\t\t\tif (!known_only || self.check(_edit)) {\n\t\t\t\t\t\t\tif (!(_edit in rv)) {\n\t\t\t\t\t\t\t\trv[_edit] = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\trv[_edit] += 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// Transpose letters\n\t\t\t\t\t// Eliminate transpositions of identical letters\n\t\t\t\t\tif (s[1].length > 1 && s[1][1] !== s[1][0]) {\n\t\t\t\t\t\t_edit = s[0] + s[1][1] + s[1][0] + s[1].substring(2);\n\n\t\t\t\t\t\tif (!known_only || self.check(_edit)) {\n\t\t\t\t\t\t\tif (!(_edit in rv)) {\n\t\t\t\t\t\t\t\trv[_edit] = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\trv[_edit] += 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (s[1]) {\n\t\t\t\t\t\t// Replace a letter with another letter.\n\n\t\t\t\t\t\tvar lettercase = (s[1].substring(0,1).toUpperCase() === s[1].substring(0,1)) ? 'uppercase' : 'lowercase';\n\n\t\t\t\t\t\tfor (j = 0; j < alphabetLength; j++) {\n\t\t\t\t\t\t\tvar replacementLetter = self.alphabet[j];\n\n\t\t\t\t\t\t\t// Set the case of the replacement letter to the same as the letter being replaced.\n\t\t\t\t\t\t\tif ( 'uppercase' === lettercase ) {\n\t\t\t\t\t\t\t\treplacementLetter = replacementLetter.toUpperCase();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Eliminate replacement of a letter by itself\n\t\t\t\t\t\t\tif (replacementLetter != s[1].substring(0,1)){\n\t\t\t\t\t\t\t\t_edit = s[0] + replacementLetter + s[1].substring(1);\n\n\t\t\t\t\t\t\t\tif (!known_only || self.check(_edit)) {\n\t\t\t\t\t\t\t\t\tif (!(_edit in rv)) {\n\t\t\t\t\t\t\t\t\t\trv[_edit] = 1;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\trv[_edit] += 1;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (s[1]) {\n\t\t\t\t\t\t// Add a letter between each letter.\n\t\t\t\t\t\tfor (j = 0; j < alphabetLength; j++) {\n\t\t\t\t\t\t\t// If the letters on each side are capitalized, capitalize the replacement.\n\t\t\t\t\t\t\tvar lettercase = (s[0].substring(-1).toUpperCase() === s[0].substring(-1) && s[1].substring(0,1).toUpperCase() === s[1].substring(0,1)) ? 'uppercase' : 'lowercase';\n\n\t\t\t\t\t\t\tvar replacementLetter = self.alphabet[j];\n\n\t\t\t\t\t\t\tif ( 'uppercase' === lettercase ) {\n\t\t\t\t\t\t\t\treplacementLetter = replacementLetter.toUpperCase();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t_edit = s[0] + replacementLetter + s[1];\n\n\t\t\t\t\t\t\tif (!known_only || self.check(_edit)) {\n\t\t\t\t\t\t\t\tif (!(_edit in rv)) {\n\t\t\t\t\t\t\t\t\trv[_edit] = 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\trv[_edit] += 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn rv;\n\t\t}\n\n\t\tfunction correct(word) {\n\t\t\t// Get the edit-distance-1 and edit-distance-2 forms of this word.\n\t\t\tvar ed1 = edits1(word);\n\t\t\tvar ed2 = edits1(ed1, true);\n\t\t\t\n\t\t\t// Sort the edits based on how many different ways they were created.\n\t\t\tvar weighted_corrections = ed2;\n\t\t\t\n\t\t\tfor (var ed1word in ed1) {\n\t\t\t\tif (!self.check(ed1word)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (ed1word in weighted_corrections) {\n\t\t\t\t\tweighted_corrections[ed1word] += ed1[ed1word];\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tweighted_corrections[ed1word] = ed1[ed1word];\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tvar i, _len;\n\n\t\t\tvar sorted_corrections = [];\n\t\t\t\n\t\t\tfor (i in weighted_corrections) {\n\t\t\t\tif (weighted_corrections.hasOwnProperty(i)) {\n\t\t\t\t\tsorted_corrections.push([ i, weighted_corrections[i] ]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction sorter(a, b) {\n\t\t\t\tvar a_val = a[1];\n\t\t\t\tvar b_val = b[1];\n\t\t\t\tif (a_val < b_val) {\n\t\t\t\t\treturn -1;\n\t\t\t\t} else if (a_val > b_val) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t\t// @todo If a and b are equally weighted, add our own weight based on something like the key locations on this language's default keyboard.\n\t\t\t\treturn b[0].localeCompare(a[0]);\n\t\t\t}\n\t\t\t\n\t\t\tsorted_corrections.sort(sorter).reverse();\n\n\t\t\tvar rv = [];\n\n\t\t\tvar capitalization_scheme = \"lowercase\";\n\t\t\t\n\t\t\tif (word.toUpperCase() === word) {\n\t\t\t\tcapitalization_scheme = \"uppercase\";\n\t\t\t}\n\t\t\telse if (word.substr(0, 1).toUpperCase() + word.substr(1).toLowerCase() === word) {\n\t\t\t\tcapitalization_scheme = \"capitalized\";\n\t\t\t}\n\t\t\t\n\t\t\tvar working_limit = limit;\n\n\t\t\tfor (i = 0; i < Math.min(working_limit, sorted_corrections.length); i++) {\n\t\t\t\tif (\"uppercase\" === capitalization_scheme) {\n\t\t\t\t\tsorted_corrections[i][0] = sorted_corrections[i][0].toUpperCase();\n\t\t\t\t}\n\t\t\t\telse if (\"capitalized\" === capitalization_scheme) {\n\t\t\t\t\tsorted_corrections[i][0] = sorted_corrections[i][0].substr(0, 1).toUpperCase() + sorted_corrections[i][0].substr(1);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (!self.hasFlag(sorted_corrections[i][0], \"NOSUGGEST\") && rv.indexOf(sorted_corrections[i][0]) == -1) {\n\t\t\t\t\trv.push(sorted_corrections[i][0]);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// If one of the corrections is not eligible as a suggestion , make sure we still return the right number of suggestions.\n\t\t\t\t\tworking_limit++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn rv;\n\t\t}\n\t\t\n\t\tthis.memoized[word] = {\n\t\t\t'suggestions': correct(word),\n\t\t\t'limit': limit\n\t\t};\n\n\t\treturn this.memoized[word]['suggestions'];\n\t}\n};\n})();\n\n// Support for use as a node.js module.\nif (typeof module !== 'undefined') {\n\tmodule.exports = Typo;\n}\n","/**\n * marked - a markdown parser\n * Copyright (c) 2011-2021, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n\n/**\n * DO NOT EDIT THIS FILE\n * The code in this file is generated from files in ./src/\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.marked = factory());\n}(this, (function () { 'use strict';\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _createForOfIteratorHelperLoose(o, allowArrayLike) {\n    var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n    if (it) return (it = it.call(o)).next.bind(it);\n\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      return function () {\n        if (i >= o.length) return {\n          done: true\n        };\n        return {\n          done: false,\n          value: o[i++]\n        };\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var defaults$5 = {exports: {}};\n\n  function getDefaults$1() {\n    return {\n      baseUrl: null,\n      breaks: false,\n      extensions: null,\n      gfm: true,\n      headerIds: true,\n      headerPrefix: '',\n      highlight: null,\n      langPrefix: 'language-',\n      mangle: true,\n      pedantic: false,\n      renderer: null,\n      sanitize: false,\n      sanitizer: null,\n      silent: false,\n      smartLists: false,\n      smartypants: false,\n      tokenizer: null,\n      walkTokens: null,\n      xhtml: false\n    };\n  }\n\n  function changeDefaults$1(newDefaults) {\n    defaults$5.exports.defaults = newDefaults;\n  }\n\n  defaults$5.exports = {\n    defaults: getDefaults$1(),\n    getDefaults: getDefaults$1,\n    changeDefaults: changeDefaults$1\n  };\n\n  /**\n   * Helpers\n   */\n  var escapeTest = /[&<>\"']/;\n  var escapeReplace = /[&<>\"']/g;\n  var escapeTestNoEncode = /[<>\"']|&(?!#?\\w+;)/;\n  var escapeReplaceNoEncode = /[<>\"']|&(?!#?\\w+;)/g;\n  var escapeReplacements = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  var getEscapeReplacement = function getEscapeReplacement(ch) {\n    return escapeReplacements[ch];\n  };\n\n  function escape$2(html, encode) {\n    if (encode) {\n      if (escapeTest.test(html)) {\n        return html.replace(escapeReplace, getEscapeReplacement);\n      }\n    } else {\n      if (escapeTestNoEncode.test(html)) {\n        return html.replace(escapeReplaceNoEncode, getEscapeReplacement);\n      }\n    }\n\n    return html;\n  }\n\n  var unescapeTest = /&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig;\n\n  function unescape$1(html) {\n    // explicitly match decimal, hex, and named HTML entities\n    return html.replace(unescapeTest, function (_, n) {\n      n = n.toLowerCase();\n      if (n === 'colon') return ':';\n\n      if (n.charAt(0) === '#') {\n        return n.charAt(1) === 'x' ? String.fromCharCode(parseInt(n.substring(2), 16)) : String.fromCharCode(+n.substring(1));\n      }\n\n      return '';\n    });\n  }\n\n  var caret = /(^|[^\\[])\\^/g;\n\n  function edit$1(regex, opt) {\n    regex = regex.source || regex;\n    opt = opt || '';\n    var obj = {\n      replace: function replace(name, val) {\n        val = val.source || val;\n        val = val.replace(caret, '$1');\n        regex = regex.replace(name, val);\n        return obj;\n      },\n      getRegex: function getRegex() {\n        return new RegExp(regex, opt);\n      }\n    };\n    return obj;\n  }\n\n  var nonWordAndColonTest = /[^\\w:]/g;\n  var originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\n\n  function cleanUrl$1(sanitize, base, href) {\n    if (sanitize) {\n      var prot;\n\n      try {\n        prot = decodeURIComponent(unescape$1(href)).replace(nonWordAndColonTest, '').toLowerCase();\n      } catch (e) {\n        return null;\n      }\n\n      if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n        return null;\n      }\n    }\n\n    if (base && !originIndependentUrl.test(href)) {\n      href = resolveUrl(base, href);\n    }\n\n    try {\n      href = encodeURI(href).replace(/%25/g, '%');\n    } catch (e) {\n      return null;\n    }\n\n    return href;\n  }\n\n  var baseUrls = {};\n  var justDomain = /^[^:]+:\\/*[^/]*$/;\n  var protocol = /^([^:]+:)[\\s\\S]*$/;\n  var domain = /^([^:]+:\\/*[^/]*)[\\s\\S]*$/;\n\n  function resolveUrl(base, href) {\n    if (!baseUrls[' ' + base]) {\n      // we can ignore everything in base after the last slash of its path component,\n      // but we might need to add _that_\n      // https://tools.ietf.org/html/rfc3986#section-3\n      if (justDomain.test(base)) {\n        baseUrls[' ' + base] = base + '/';\n      } else {\n        baseUrls[' ' + base] = rtrim$1(base, '/', true);\n      }\n    }\n\n    base = baseUrls[' ' + base];\n    var relativeBase = base.indexOf(':') === -1;\n\n    if (href.substring(0, 2) === '//') {\n      if (relativeBase) {\n        return href;\n      }\n\n      return base.replace(protocol, '$1') + href;\n    } else if (href.charAt(0) === '/') {\n      if (relativeBase) {\n        return href;\n      }\n\n      return base.replace(domain, '$1') + href;\n    } else {\n      return base + href;\n    }\n  }\n\n  var noopTest$1 = {\n    exec: function noopTest() {}\n  };\n\n  function merge$2(obj) {\n    var i = 1,\n        target,\n        key;\n\n    for (; i < arguments.length; i++) {\n      target = arguments[i];\n\n      for (key in target) {\n        if (Object.prototype.hasOwnProperty.call(target, key)) {\n          obj[key] = target[key];\n        }\n      }\n    }\n\n    return obj;\n  }\n\n  function splitCells$1(tableRow, count) {\n    // ensure that every cell-delimiting pipe has a space\n    // before it to distinguish it from an escaped pipe\n    var row = tableRow.replace(/\\|/g, function (match, offset, str) {\n      var escaped = false,\n          curr = offset;\n\n      while (--curr >= 0 && str[curr] === '\\\\') {\n        escaped = !escaped;\n      }\n\n      if (escaped) {\n        // odd number of slashes means | is escaped\n        // so we leave it alone\n        return '|';\n      } else {\n        // add space before unescaped |\n        return ' |';\n      }\n    }),\n        cells = row.split(/ \\|/);\n    var i = 0;\n\n    if (cells.length > count) {\n      cells.splice(count);\n    } else {\n      while (cells.length < count) {\n        cells.push('');\n      }\n    }\n\n    for (; i < cells.length; i++) {\n      // leading or trailing whitespace is ignored per the gfm spec\n      cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n    }\n\n    return cells;\n  } // Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n  // /c*$/ is vulnerable to REDOS.\n  // invert: Remove suffix of non-c chars instead. Default falsey.\n\n\n  function rtrim$1(str, c, invert) {\n    var l = str.length;\n\n    if (l === 0) {\n      return '';\n    } // Length of suffix matching the invert condition.\n\n\n    var suffLen = 0; // Step left until we fail to match the invert condition.\n\n    while (suffLen < l) {\n      var currChar = str.charAt(l - suffLen - 1);\n\n      if (currChar === c && !invert) {\n        suffLen++;\n      } else if (currChar !== c && invert) {\n        suffLen++;\n      } else {\n        break;\n      }\n    }\n\n    return str.substr(0, l - suffLen);\n  }\n\n  function findClosingBracket$1(str, b) {\n    if (str.indexOf(b[1]) === -1) {\n      return -1;\n    }\n\n    var l = str.length;\n    var level = 0,\n        i = 0;\n\n    for (; i < l; i++) {\n      if (str[i] === '\\\\') {\n        i++;\n      } else if (str[i] === b[0]) {\n        level++;\n      } else if (str[i] === b[1]) {\n        level--;\n\n        if (level < 0) {\n          return i;\n        }\n      }\n    }\n\n    return -1;\n  }\n\n  function checkSanitizeDeprecation$1(opt) {\n    if (opt && opt.sanitize && !opt.silent) {\n      console.warn('marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options');\n    }\n  } // copied from https://stackoverflow.com/a/5450113/806777\n\n\n  function repeatString$1(pattern, count) {\n    if (count < 1) {\n      return '';\n    }\n\n    var result = '';\n\n    while (count > 1) {\n      if (count & 1) {\n        result += pattern;\n      }\n\n      count >>= 1;\n      pattern += pattern;\n    }\n\n    return result + pattern;\n  }\n\n  var helpers = {\n    escape: escape$2,\n    unescape: unescape$1,\n    edit: edit$1,\n    cleanUrl: cleanUrl$1,\n    resolveUrl: resolveUrl,\n    noopTest: noopTest$1,\n    merge: merge$2,\n    splitCells: splitCells$1,\n    rtrim: rtrim$1,\n    findClosingBracket: findClosingBracket$1,\n    checkSanitizeDeprecation: checkSanitizeDeprecation$1,\n    repeatString: repeatString$1\n  };\n\n  var defaults$4 = defaults$5.exports.defaults;\n  var rtrim = helpers.rtrim,\n      splitCells = helpers.splitCells,\n      _escape = helpers.escape,\n      findClosingBracket = helpers.findClosingBracket;\n\n  function outputLink(cap, link, raw) {\n    var href = link.href;\n    var title = link.title ? _escape(link.title) : null;\n    var text = cap[1].replace(/\\\\([\\[\\]])/g, '$1');\n\n    if (cap[0].charAt(0) !== '!') {\n      return {\n        type: 'link',\n        raw: raw,\n        href: href,\n        title: title,\n        text: text\n      };\n    } else {\n      return {\n        type: 'image',\n        raw: raw,\n        href: href,\n        title: title,\n        text: _escape(text)\n      };\n    }\n  }\n\n  function indentCodeCompensation(raw, text) {\n    var matchIndentToCode = raw.match(/^(\\s+)(?:```)/);\n\n    if (matchIndentToCode === null) {\n      return text;\n    }\n\n    var indentToCode = matchIndentToCode[1];\n    return text.split('\\n').map(function (node) {\n      var matchIndentInNode = node.match(/^\\s+/);\n\n      if (matchIndentInNode === null) {\n        return node;\n      }\n\n      var indentInNode = matchIndentInNode[0];\n\n      if (indentInNode.length >= indentToCode.length) {\n        return node.slice(indentToCode.length);\n      }\n\n      return node;\n    }).join('\\n');\n  }\n  /**\n   * Tokenizer\n   */\n\n\n  var Tokenizer_1 = /*#__PURE__*/function () {\n    function Tokenizer(options) {\n      this.options = options || defaults$4;\n    }\n\n    var _proto = Tokenizer.prototype;\n\n    _proto.space = function space(src) {\n      var cap = this.rules.block.newline.exec(src);\n\n      if (cap) {\n        if (cap[0].length > 1) {\n          return {\n            type: 'space',\n            raw: cap[0]\n          };\n        }\n\n        return {\n          raw: '\\n'\n        };\n      }\n    };\n\n    _proto.code = function code(src) {\n      var cap = this.rules.block.code.exec(src);\n\n      if (cap) {\n        var text = cap[0].replace(/^ {1,4}/gm, '');\n        return {\n          type: 'code',\n          raw: cap[0],\n          codeBlockStyle: 'indented',\n          text: !this.options.pedantic ? rtrim(text, '\\n') : text\n        };\n      }\n    };\n\n    _proto.fences = function fences(src) {\n      var cap = this.rules.block.fences.exec(src);\n\n      if (cap) {\n        var raw = cap[0];\n        var text = indentCodeCompensation(raw, cap[3] || '');\n        return {\n          type: 'code',\n          raw: raw,\n          lang: cap[2] ? cap[2].trim() : cap[2],\n          text: text\n        };\n      }\n    };\n\n    _proto.heading = function heading(src) {\n      var cap = this.rules.block.heading.exec(src);\n\n      if (cap) {\n        var text = cap[2].trim(); // remove trailing #s\n\n        if (/#$/.test(text)) {\n          var trimmed = rtrim(text, '#');\n\n          if (this.options.pedantic) {\n            text = trimmed.trim();\n          } else if (!trimmed || / $/.test(trimmed)) {\n            // CommonMark requires space before trailing #s\n            text = trimmed.trim();\n          }\n        }\n\n        return {\n          type: 'heading',\n          raw: cap[0],\n          depth: cap[1].length,\n          text: text\n        };\n      }\n    };\n\n    _proto.nptable = function nptable(src) {\n      var cap = this.rules.block.nptable.exec(src);\n\n      if (cap) {\n        var item = {\n          type: 'table',\n          header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n          align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n          cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : [],\n          raw: cap[0]\n        };\n\n        if (item.header.length === item.align.length) {\n          var l = item.align.length;\n          var i;\n\n          for (i = 0; i < l; i++) {\n            if (/^ *-+: *$/.test(item.align[i])) {\n              item.align[i] = 'right';\n            } else if (/^ *:-+: *$/.test(item.align[i])) {\n              item.align[i] = 'center';\n            } else if (/^ *:-+ *$/.test(item.align[i])) {\n              item.align[i] = 'left';\n            } else {\n              item.align[i] = null;\n            }\n          }\n\n          l = item.cells.length;\n\n          for (i = 0; i < l; i++) {\n            item.cells[i] = splitCells(item.cells[i], item.header.length);\n          }\n\n          return item;\n        }\n      }\n    };\n\n    _proto.hr = function hr(src) {\n      var cap = this.rules.block.hr.exec(src);\n\n      if (cap) {\n        return {\n          type: 'hr',\n          raw: cap[0]\n        };\n      }\n    };\n\n    _proto.blockquote = function blockquote(src) {\n      var cap = this.rules.block.blockquote.exec(src);\n\n      if (cap) {\n        var text = cap[0].replace(/^ *> ?/gm, '');\n        return {\n          type: 'blockquote',\n          raw: cap[0],\n          text: text\n        };\n      }\n    };\n\n    _proto.list = function list(src) {\n      var cap = this.rules.block.list.exec(src);\n\n      if (cap) {\n        var raw = cap[0];\n        var bull = cap[2];\n        var isordered = bull.length > 1;\n        var list = {\n          type: 'list',\n          raw: raw,\n          ordered: isordered,\n          start: isordered ? +bull.slice(0, -1) : '',\n          loose: false,\n          items: []\n        }; // Get each top-level item.\n\n        var itemMatch = cap[0].match(this.rules.block.item);\n        var next = false,\n            item,\n            space,\n            bcurr,\n            bnext,\n            addBack,\n            loose,\n            istask,\n            ischecked,\n            endMatch;\n        var l = itemMatch.length;\n        bcurr = this.rules.block.listItemStart.exec(itemMatch[0]);\n\n        for (var i = 0; i < l; i++) {\n          item = itemMatch[i];\n          raw = item;\n\n          if (!this.options.pedantic) {\n            // Determine if current item contains the end of the list\n            endMatch = item.match(new RegExp('\\\\n\\\\s*\\\\n {0,' + (bcurr[0].length - 1) + '}\\\\S'));\n\n            if (endMatch) {\n              addBack = item.length - endMatch.index + itemMatch.slice(i + 1).join('\\n').length;\n              list.raw = list.raw.substring(0, list.raw.length - addBack);\n              item = item.substring(0, endMatch.index);\n              raw = item;\n              l = i + 1;\n            }\n          } // Determine whether the next list item belongs here.\n          // Backpedal if it does not belong in this list.\n\n\n          if (i !== l - 1) {\n            bnext = this.rules.block.listItemStart.exec(itemMatch[i + 1]);\n\n            if (!this.options.pedantic ? bnext[1].length >= bcurr[0].length || bnext[1].length > 3 : bnext[1].length > bcurr[1].length) {\n              // nested list or continuation\n              itemMatch.splice(i, 2, itemMatch[i] + (!this.options.pedantic && bnext[1].length < bcurr[0].length && !itemMatch[i].match(/\\n$/) ? '' : '\\n') + itemMatch[i + 1]);\n              i--;\n              l--;\n              continue;\n            } else if ( // different bullet style\n            !this.options.pedantic || this.options.smartLists ? bnext[2][bnext[2].length - 1] !== bull[bull.length - 1] : isordered === (bnext[2].length === 1)) {\n              addBack = itemMatch.slice(i + 1).join('\\n').length;\n              list.raw = list.raw.substring(0, list.raw.length - addBack);\n              i = l - 1;\n            }\n\n            bcurr = bnext;\n          } // Remove the list item's bullet\n          // so it is seen as the next token.\n\n\n          space = item.length;\n          item = item.replace(/^ *([*+-]|\\d+[.)]) ?/, ''); // Outdent whatever the\n          // list item contains. Hacky.\n\n          if (~item.indexOf('\\n ')) {\n            space -= item.length;\n            item = !this.options.pedantic ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '') : item.replace(/^ {1,4}/gm, '');\n          } // trim item newlines at end\n\n\n          item = rtrim(item, '\\n');\n\n          if (i !== l - 1) {\n            raw = raw + '\\n';\n          } // Determine whether item is loose or not.\n          // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n          // for discount behavior.\n\n\n          loose = next || /\\n\\n(?!\\s*$)/.test(raw);\n\n          if (i !== l - 1) {\n            next = raw.slice(-2) === '\\n\\n';\n            if (!loose) loose = next;\n          }\n\n          if (loose) {\n            list.loose = true;\n          } // Check for task list items\n\n\n          if (this.options.gfm) {\n            istask = /^\\[[ xX]\\] /.test(item);\n            ischecked = undefined;\n\n            if (istask) {\n              ischecked = item[1] !== ' ';\n              item = item.replace(/^\\[[ xX]\\] +/, '');\n            }\n          }\n\n          list.items.push({\n            type: 'list_item',\n            raw: raw,\n            task: istask,\n            checked: ischecked,\n            loose: loose,\n            text: item\n          });\n        }\n\n        return list;\n      }\n    };\n\n    _proto.html = function html(src) {\n      var cap = this.rules.block.html.exec(src);\n\n      if (cap) {\n        return {\n          type: this.options.sanitize ? 'paragraph' : 'html',\n          raw: cap[0],\n          pre: !this.options.sanitizer && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n          text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0]\n        };\n      }\n    };\n\n    _proto.def = function def(src) {\n      var cap = this.rules.block.def.exec(src);\n\n      if (cap) {\n        if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n        var tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n        return {\n          type: 'def',\n          tag: tag,\n          raw: cap[0],\n          href: cap[2],\n          title: cap[3]\n        };\n      }\n    };\n\n    _proto.table = function table(src) {\n      var cap = this.rules.block.table.exec(src);\n\n      if (cap) {\n        var item = {\n          type: 'table',\n          header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n          align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n          cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n        };\n\n        if (item.header.length === item.align.length) {\n          item.raw = cap[0];\n          var l = item.align.length;\n          var i;\n\n          for (i = 0; i < l; i++) {\n            if (/^ *-+: *$/.test(item.align[i])) {\n              item.align[i] = 'right';\n            } else if (/^ *:-+: *$/.test(item.align[i])) {\n              item.align[i] = 'center';\n            } else if (/^ *:-+ *$/.test(item.align[i])) {\n              item.align[i] = 'left';\n            } else {\n              item.align[i] = null;\n            }\n          }\n\n          l = item.cells.length;\n\n          for (i = 0; i < l; i++) {\n            item.cells[i] = splitCells(item.cells[i].replace(/^ *\\| *| *\\| *$/g, ''), item.header.length);\n          }\n\n          return item;\n        }\n      }\n    };\n\n    _proto.lheading = function lheading(src) {\n      var cap = this.rules.block.lheading.exec(src);\n\n      if (cap) {\n        return {\n          type: 'heading',\n          raw: cap[0],\n          depth: cap[2].charAt(0) === '=' ? 1 : 2,\n          text: cap[1]\n        };\n      }\n    };\n\n    _proto.paragraph = function paragraph(src) {\n      var cap = this.rules.block.paragraph.exec(src);\n\n      if (cap) {\n        return {\n          type: 'paragraph',\n          raw: cap[0],\n          text: cap[1].charAt(cap[1].length - 1) === '\\n' ? cap[1].slice(0, -1) : cap[1]\n        };\n      }\n    };\n\n    _proto.text = function text(src) {\n      var cap = this.rules.block.text.exec(src);\n\n      if (cap) {\n        return {\n          type: 'text',\n          raw: cap[0],\n          text: cap[0]\n        };\n      }\n    };\n\n    _proto.escape = function escape(src) {\n      var cap = this.rules.inline.escape.exec(src);\n\n      if (cap) {\n        return {\n          type: 'escape',\n          raw: cap[0],\n          text: _escape(cap[1])\n        };\n      }\n    };\n\n    _proto.tag = function tag(src, inLink, inRawBlock) {\n      var cap = this.rules.inline.tag.exec(src);\n\n      if (cap) {\n        if (!inLink && /^<a /i.test(cap[0])) {\n          inLink = true;\n        } else if (inLink && /^<\\/a>/i.test(cap[0])) {\n          inLink = false;\n        }\n\n        if (!inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n          inRawBlock = true;\n        } else if (inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n          inRawBlock = false;\n        }\n\n        return {\n          type: this.options.sanitize ? 'text' : 'html',\n          raw: cap[0],\n          inLink: inLink,\n          inRawBlock: inRawBlock,\n          text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0]\n        };\n      }\n    };\n\n    _proto.link = function link(src) {\n      var cap = this.rules.inline.link.exec(src);\n\n      if (cap) {\n        var trimmedUrl = cap[2].trim();\n\n        if (!this.options.pedantic && /^</.test(trimmedUrl)) {\n          // commonmark requires matching angle brackets\n          if (!/>$/.test(trimmedUrl)) {\n            return;\n          } // ending angle bracket cannot be escaped\n\n\n          var rtrimSlash = rtrim(trimmedUrl.slice(0, -1), '\\\\');\n\n          if ((trimmedUrl.length - rtrimSlash.length) % 2 === 0) {\n            return;\n          }\n        } else {\n          // find closing parenthesis\n          var lastParenIndex = findClosingBracket(cap[2], '()');\n\n          if (lastParenIndex > -1) {\n            var start = cap[0].indexOf('!') === 0 ? 5 : 4;\n            var linkLen = start + cap[1].length + lastParenIndex;\n            cap[2] = cap[2].substring(0, lastParenIndex);\n            cap[0] = cap[0].substring(0, linkLen).trim();\n            cap[3] = '';\n          }\n        }\n\n        var href = cap[2];\n        var title = '';\n\n        if (this.options.pedantic) {\n          // split pedantic href and title\n          var link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n\n          if (link) {\n            href = link[1];\n            title = link[3];\n          }\n        } else {\n          title = cap[3] ? cap[3].slice(1, -1) : '';\n        }\n\n        href = href.trim();\n\n        if (/^</.test(href)) {\n          if (this.options.pedantic && !/>$/.test(trimmedUrl)) {\n            // pedantic allows starting angle bracket without ending angle bracket\n            href = href.slice(1);\n          } else {\n            href = href.slice(1, -1);\n          }\n        }\n\n        return outputLink(cap, {\n          href: href ? href.replace(this.rules.inline._escapes, '$1') : href,\n          title: title ? title.replace(this.rules.inline._escapes, '$1') : title\n        }, cap[0]);\n      }\n    };\n\n    _proto.reflink = function reflink(src, links) {\n      var cap;\n\n      if ((cap = this.rules.inline.reflink.exec(src)) || (cap = this.rules.inline.nolink.exec(src))) {\n        var link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n        link = links[link.toLowerCase()];\n\n        if (!link || !link.href) {\n          var text = cap[0].charAt(0);\n          return {\n            type: 'text',\n            raw: text,\n            text: text\n          };\n        }\n\n        return outputLink(cap, link, cap[0]);\n      }\n    };\n\n    _proto.emStrong = function emStrong(src, maskedSrc, prevChar) {\n      if (prevChar === void 0) {\n        prevChar = '';\n      }\n\n      var match = this.rules.inline.emStrong.lDelim.exec(src);\n      if (!match) return; // _ can't be between two alphanumerics. \\p{L}\\p{N} includes non-english alphabet/numbers as well\n\n      if (match[3] && prevChar.match(/(?:[0-9A-Za-z\\xAA\\xB2\\xB3\\xB5\\xB9\\xBA\\xBC-\\xBE\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0560-\\u0588\\u05D0-\\u05EA\\u05EF-\\u05F2\\u0620-\\u064A\\u0660-\\u0669\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07C0-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086A\\u08A0-\\u08B4\\u08B6-\\u08C7\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0966-\\u096F\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09E6-\\u09F1\\u09F4-\\u09F9\\u09FC\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A6F\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AE6-\\u0AEF\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B66-\\u0B6F\\u0B71-\\u0B77\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0BE6-\\u0BF2\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C66-\\u0C6F\\u0C78-\\u0C7E\\u0C80\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D04-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D54-\\u0D56\\u0D58-\\u0D61\\u0D66-\\u0D78\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DE6-\\u0DEF\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E86-\\u0E8A\\u0E8C-\\u0EA3\\u0EA5\\u0EA7-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F20-\\u0F33\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F-\\u1049\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u1090-\\u1099\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1369-\\u137C\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u17E0-\\u17E9\\u17F0-\\u17F9\\u1810-\\u1819\\u1820-\\u1878\\u1880-\\u1884\\u1887-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19DA\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B50-\\u1B59\\u1B83-\\u1BA0\\u1BAE-\\u1BE5\\u1C00-\\u1C23\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1C80-\\u1C88\\u1C90-\\u1CBA\\u1CBD-\\u1CBF\\u1CE9-\\u1CEC\\u1CEE-\\u1CF3\\u1CF5\\u1CF6\\u1CFA\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2070\\u2071\\u2074-\\u2079\\u207F-\\u2089\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2150-\\u2189\\u2460-\\u249B\\u24EA-\\u24FF\\u2776-\\u2793\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2CFD\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312F\\u3131-\\u318E\\u3192-\\u3195\\u31A0-\\u31BF\\u31F0-\\u31FF\\u3220-\\u3229\\u3248-\\u324F\\u3251-\\u325F\\u3280-\\u3289\\u32B1-\\u32BF\\u3400-\\u4DBF\\u4E00-\\u9FFC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7BF\\uA7C2-\\uA7CA\\uA7F5-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA830-\\uA835\\uA840-\\uA873\\uA882-\\uA8B3\\uA8D0-\\uA8D9\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA8FE\\uA900-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF-\\uA9D9\\uA9E0-\\uA9E4\\uA9E6-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB69\\uAB70-\\uABE2\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD07-\\uDD33\\uDD40-\\uDD78\\uDD8A\\uDD8B\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDEE1-\\uDEFB\\uDF00-\\uDF23\\uDF2D-\\uDF4A\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCA0-\\uDCA9\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC58-\\uDC76\\uDC79-\\uDC9E\\uDCA7-\\uDCAF\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDCFB-\\uDD1B\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBC-\\uDDCF\\uDDD2-\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE35\\uDE40-\\uDE48\\uDE60-\\uDE7E\\uDE80-\\uDE9F\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDEEB-\\uDEEF\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF58-\\uDF72\\uDF78-\\uDF91\\uDFA9-\\uDFAF]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2\\uDCFA-\\uDD23\\uDD30-\\uDD39\\uDE60-\\uDE7E\\uDE80-\\uDEA9\\uDEB0\\uDEB1\\uDF00-\\uDF27\\uDF30-\\uDF45\\uDF51-\\uDF54\\uDFB0-\\uDFCB\\uDFE0-\\uDFF6]|\\uD804[\\uDC03-\\uDC37\\uDC52-\\uDC6F\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDCF0-\\uDCF9\\uDD03-\\uDD26\\uDD36-\\uDD3F\\uDD44\\uDD47\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDD0-\\uDDDA\\uDDDC\\uDDE1-\\uDDF4\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDEF0-\\uDEF9\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC00-\\uDC34\\uDC47-\\uDC4A\\uDC50-\\uDC59\\uDC5F-\\uDC61\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDCD0-\\uDCD9\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE50-\\uDE59\\uDE80-\\uDEAA\\uDEB8\\uDEC0-\\uDEC9\\uDF00-\\uDF1A\\uDF30-\\uDF3B]|\\uD806[\\uDC00-\\uDC2B\\uDCA0-\\uDCF2\\uDCFF-\\uDD06\\uDD09\\uDD0C-\\uDD13\\uDD15\\uDD16\\uDD18-\\uDD2F\\uDD3F\\uDD41\\uDD50-\\uDD59\\uDDA0-\\uDDA7\\uDDAA-\\uDDD0\\uDDE1\\uDDE3\\uDE00\\uDE0B-\\uDE32\\uDE3A\\uDE50\\uDE5C-\\uDE89\\uDE9D\\uDEC0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC2E\\uDC40\\uDC50-\\uDC6C\\uDC72-\\uDC8F\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD30\\uDD46\\uDD50-\\uDD59\\uDD60-\\uDD65\\uDD67\\uDD68\\uDD6A-\\uDD89\\uDD98\\uDDA0-\\uDDA9\\uDEE0-\\uDEF2\\uDFB0\\uDFC0-\\uDFD4]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|[\\uD80C\\uD81C-\\uD820\\uD822\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879\\uD880-\\uD883][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDE60-\\uDE69\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF50-\\uDF59\\uDF5B-\\uDF61\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDE40-\\uDE96\\uDF00-\\uDF4A\\uDF50\\uDF93-\\uDF9F\\uDFE0\\uDFE1\\uDFE3]|\\uD821[\\uDC00-\\uDFF7]|\\uD823[\\uDC00-\\uDCD5\\uDD00-\\uDD08]|\\uD82C[\\uDC00-\\uDD1E\\uDD50-\\uDD52\\uDD64-\\uDD67\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD834[\\uDEE0-\\uDEF3\\uDF60-\\uDF78]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB\\uDFCE-\\uDFFF]|\\uD838[\\uDD00-\\uDD2C\\uDD37-\\uDD3D\\uDD40-\\uDD49\\uDD4E\\uDEC0-\\uDEEB\\uDEF0-\\uDEF9]|\\uD83A[\\uDC00-\\uDCC4\\uDCC7-\\uDCCF\\uDD00-\\uDD43\\uDD4B\\uDD50-\\uDD59]|\\uD83B[\\uDC71-\\uDCAB\\uDCAD-\\uDCAF\\uDCB1-\\uDCB4\\uDD01-\\uDD2D\\uDD2F-\\uDD3D\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD83C[\\uDD00-\\uDD0C]|\\uD83E[\\uDFF0-\\uDFF9]|\\uD869[\\uDC00-\\uDEDD\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D]|\\uD884[\\uDC00-\\uDF4A])/)) return;\n      var nextChar = match[1] || match[2] || '';\n\n      if (!nextChar || nextChar && (prevChar === '' || this.rules.inline.punctuation.exec(prevChar))) {\n        var lLength = match[0].length - 1;\n        var rDelim,\n            rLength,\n            delimTotal = lLength,\n            midDelimTotal = 0;\n        var endReg = match[0][0] === '*' ? this.rules.inline.emStrong.rDelimAst : this.rules.inline.emStrong.rDelimUnd;\n        endReg.lastIndex = 0; // Clip maskedSrc to same section of string as src (move to lexer?)\n\n        maskedSrc = maskedSrc.slice(-1 * src.length + lLength);\n\n        while ((match = endReg.exec(maskedSrc)) != null) {\n          rDelim = match[1] || match[2] || match[3] || match[4] || match[5] || match[6];\n          if (!rDelim) continue; // skip single * in __abc*abc__\n\n          rLength = rDelim.length;\n\n          if (match[3] || match[4]) {\n            // found another Left Delim\n            delimTotal += rLength;\n            continue;\n          } else if (match[5] || match[6]) {\n            // either Left or Right Delim\n            if (lLength % 3 && !((lLength + rLength) % 3)) {\n              midDelimTotal += rLength;\n              continue; // CommonMark Emphasis Rules 9-10\n            }\n          }\n\n          delimTotal -= rLength;\n          if (delimTotal > 0) continue; // Haven't found enough closing delimiters\n          // Remove extra characters. *a*** -> *a*\n\n          rLength = Math.min(rLength, rLength + delimTotal + midDelimTotal); // Create `em` if smallest delimiter has odd char count. *a***\n\n          if (Math.min(lLength, rLength) % 2) {\n            return {\n              type: 'em',\n              raw: src.slice(0, lLength + match.index + rLength + 1),\n              text: src.slice(1, lLength + match.index + rLength)\n            };\n          } // Create 'strong' if smallest delimiter has even char count. **a***\n\n\n          return {\n            type: 'strong',\n            raw: src.slice(0, lLength + match.index + rLength + 1),\n            text: src.slice(2, lLength + match.index + rLength - 1)\n          };\n        }\n      }\n    };\n\n    _proto.codespan = function codespan(src) {\n      var cap = this.rules.inline.code.exec(src);\n\n      if (cap) {\n        var text = cap[2].replace(/\\n/g, ' ');\n        var hasNonSpaceChars = /[^ ]/.test(text);\n        var hasSpaceCharsOnBothEnds = /^ /.test(text) && / $/.test(text);\n\n        if (hasNonSpaceChars && hasSpaceCharsOnBothEnds) {\n          text = text.substring(1, text.length - 1);\n        }\n\n        text = _escape(text, true);\n        return {\n          type: 'codespan',\n          raw: cap[0],\n          text: text\n        };\n      }\n    };\n\n    _proto.br = function br(src) {\n      var cap = this.rules.inline.br.exec(src);\n\n      if (cap) {\n        return {\n          type: 'br',\n          raw: cap[0]\n        };\n      }\n    };\n\n    _proto.del = function del(src) {\n      var cap = this.rules.inline.del.exec(src);\n\n      if (cap) {\n        return {\n          type: 'del',\n          raw: cap[0],\n          text: cap[2]\n        };\n      }\n    };\n\n    _proto.autolink = function autolink(src, mangle) {\n      var cap = this.rules.inline.autolink.exec(src);\n\n      if (cap) {\n        var text, href;\n\n        if (cap[2] === '@') {\n          text = _escape(this.options.mangle ? mangle(cap[1]) : cap[1]);\n          href = 'mailto:' + text;\n        } else {\n          text = _escape(cap[1]);\n          href = text;\n        }\n\n        return {\n          type: 'link',\n          raw: cap[0],\n          text: text,\n          href: href,\n          tokens: [{\n            type: 'text',\n            raw: text,\n            text: text\n          }]\n        };\n      }\n    };\n\n    _proto.url = function url(src, mangle) {\n      var cap;\n\n      if (cap = this.rules.inline.url.exec(src)) {\n        var text, href;\n\n        if (cap[2] === '@') {\n          text = _escape(this.options.mangle ? mangle(cap[0]) : cap[0]);\n          href = 'mailto:' + text;\n        } else {\n          // do extended autolink path validation\n          var prevCapZero;\n\n          do {\n            prevCapZero = cap[0];\n            cap[0] = this.rules.inline._backpedal.exec(cap[0])[0];\n          } while (prevCapZero !== cap[0]);\n\n          text = _escape(cap[0]);\n\n          if (cap[1] === 'www.') {\n            href = 'http://' + text;\n          } else {\n            href = text;\n          }\n        }\n\n        return {\n          type: 'link',\n          raw: cap[0],\n          text: text,\n          href: href,\n          tokens: [{\n            type: 'text',\n            raw: text,\n            text: text\n          }]\n        };\n      }\n    };\n\n    _proto.inlineText = function inlineText(src, inRawBlock, smartypants) {\n      var cap = this.rules.inline.text.exec(src);\n\n      if (cap) {\n        var text;\n\n        if (inRawBlock) {\n          text = this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0];\n        } else {\n          text = _escape(this.options.smartypants ? smartypants(cap[0]) : cap[0]);\n        }\n\n        return {\n          type: 'text',\n          raw: cap[0],\n          text: text\n        };\n      }\n    };\n\n    return Tokenizer;\n  }();\n\n  var noopTest = helpers.noopTest,\n      edit = helpers.edit,\n      merge$1 = helpers.merge;\n  /**\n   * Block-Level Grammar\n   */\n\n  var block$1 = {\n    newline: /^(?: *(?:\\n|$))+/,\n    code: /^( {4}[^\\n]+(?:\\n(?: *(?:\\n|$))*)?)+/,\n    fences: /^ {0,3}(`{3,}(?=[^`\\n]*\\n)|~{3,})([^\\n]*)\\n(?:|([\\s\\S]*?)\\n)(?: {0,3}\\1[~`]* *(?:\\n+|$)|$)/,\n    hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)/,\n    heading: /^ {0,3}(#{1,6})(?=\\s|$)(.*)(?:\\n+|$)/,\n    blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n    list: /^( {0,3})(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?! {0,3}bull )\\n*|\\s*$)/,\n    html: '^ {0,3}(?:' // optional indentation\n    + '<(script|pre|style|textarea)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n    + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n    + '|<\\\\?[\\\\s\\\\S]*?(?:\\\\?>\\\\n*|$)' // (3)\n    + '|<![A-Z][\\\\s\\\\S]*?(?:>\\\\n*|$)' // (4)\n    + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?(?:\\\\]\\\\]>\\\\n*|$)' // (5)\n    + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (6)\n    + '|<(?!script|pre|style|textarea)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (7) open tag\n    + '|</(?!script|pre|style|textarea)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (7) closing tag\n    + ')',\n    def: /^ {0,3}\\[(label)\\]: *\\n? *<?([^\\s>]+)>?(?:(?: +\\n? *| *\\n *)(title))? *(?:\\n+|$)/,\n    nptable: noopTest,\n    table: noopTest,\n    lheading: /^([^\\n]+)\\n {0,3}(=+|-+) *(?:\\n+|$)/,\n    // regex template, placeholders will be replaced according to different paragraph\n    // interruption rules of commonmark and the original markdown spec:\n    _paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading|blockquote|fences|list|html| +\\n)[^\\n]+)*)/,\n    text: /^[^\\n]+/\n  };\n  block$1._label = /(?!\\s*\\])(?:\\\\[\\[\\]]|[^\\[\\]])+/;\n  block$1._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\n  block$1.def = edit(block$1.def).replace('label', block$1._label).replace('title', block$1._title).getRegex();\n  block$1.bullet = /(?:[*+-]|\\d{1,9}[.)])/;\n  block$1.item = /^( *)(bull) ?[^\\n]*(?:\\n(?! *bull ?)[^\\n]*)*/;\n  block$1.item = edit(block$1.item, 'gm').replace(/bull/g, block$1.bullet).getRegex();\n  block$1.listItemStart = edit(/^( *)(bull) */).replace('bull', block$1.bullet).getRegex();\n  block$1.list = edit(block$1.list).replace(/bull/g, block$1.bullet).replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))').replace('def', '\\\\n+(?=' + block$1.def.source + ')').getRegex();\n  block$1._tag = 'address|article|aside|base|basefont|blockquote|body|caption' + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption' + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe' + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option' + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr' + '|track|ul';\n  block$1._comment = /<!--(?!-?>)[\\s\\S]*?(?:-->|$)/;\n  block$1.html = edit(block$1.html, 'i').replace('comment', block$1._comment).replace('tag', block$1._tag).replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/).getRegex();\n  block$1.paragraph = edit(block$1._paragraph).replace('hr', block$1.hr).replace('heading', ' {0,3}#{1,6} ').replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n  .replace('blockquote', ' {0,3}>').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)').replace('tag', block$1._tag) // pars can be interrupted by type (6) html blocks\n  .getRegex();\n  block$1.blockquote = edit(block$1.blockquote).replace('paragraph', block$1.paragraph).getRegex();\n  /**\n   * Normal Block Grammar\n   */\n\n  block$1.normal = merge$1({}, block$1);\n  /**\n   * GFM Block Grammar\n   */\n\n  block$1.gfm = merge$1({}, block$1.normal, {\n    nptable: '^ *([^|\\\\n ].*\\\\|.*)\\\\n' // Header\n    + ' {0,3}([-:]+ *\\\\|[-| :]*)' // Align\n    + '(?:\\\\n((?:(?!\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)',\n    // Cells\n    table: '^ *\\\\|(.+)\\\\n' // Header\n    + ' {0,3}\\\\|?( *[-:]+[-| :]*)' // Align\n    + '(?:\\\\n *((?:(?!\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)' // Cells\n\n  });\n  block$1.gfm.nptable = edit(block$1.gfm.nptable).replace('hr', block$1.hr).replace('heading', ' {0,3}#{1,6} ').replace('blockquote', ' {0,3}>').replace('code', ' {4}[^\\\\n]').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)').replace('tag', block$1._tag) // tables can be interrupted by type (6) html blocks\n  .getRegex();\n  block$1.gfm.table = edit(block$1.gfm.table).replace('hr', block$1.hr).replace('heading', ' {0,3}#{1,6} ').replace('blockquote', ' {0,3}>').replace('code', ' {4}[^\\\\n]').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)').replace('tag', block$1._tag) // tables can be interrupted by type (6) html blocks\n  .getRegex();\n  /**\n   * Pedantic grammar (original John Gruber's loose markdown specification)\n   */\n\n  block$1.pedantic = merge$1({}, block$1.normal, {\n    html: edit('^ *(?:comment *(?:\\\\n|\\\\s*$)' + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n    + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))').replace('comment', block$1._comment).replace(/tag/g, '(?!(?:' + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub' + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)' + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b').getRegex(),\n    def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/,\n    heading: /^(#{1,6})(.*)(?:\\n+|$)/,\n    fences: noopTest,\n    // fences not supported\n    paragraph: edit(block$1.normal._paragraph).replace('hr', block$1.hr).replace('heading', ' *#{1,6} *[^\\n]').replace('lheading', block$1.lheading).replace('blockquote', ' {0,3}>').replace('|fences', '').replace('|list', '').replace('|html', '').getRegex()\n  });\n  /**\n   * Inline-Level Grammar\n   */\n\n  var inline$1 = {\n    escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n    autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n    url: noopTest,\n    tag: '^comment' + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n    + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n    + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n    + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n    + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>',\n    // CDATA section\n    link: /^!?\\[(label)\\]\\(\\s*(href)(?:\\s+(title))?\\s*\\)/,\n    reflink: /^!?\\[(label)\\]\\[(?!\\s*\\])((?:\\\\[\\[\\]]?|[^\\[\\]\\\\])+)\\]/,\n    nolink: /^!?\\[(?!\\s*\\])((?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]])*)\\](?:\\[\\])?/,\n    reflinkSearch: 'reflink|nolink(?!\\\\()',\n    emStrong: {\n      lDelim: /^(?:\\*+(?:([punct_])|[^\\s*]))|^_+(?:([punct*])|([^\\s_]))/,\n      //        (1) and (2) can only be a Right Delimiter. (3) and (4) can only be Left.  (5) and (6) can be either Left or Right.\n      //        () Skip other delimiter (1) #***                   (2) a***#, a***                   (3) #***a, ***a                 (4) ***#              (5) #***#                 (6) a***a\n      rDelimAst: /\\_\\_[^_*]*?\\*[^_*]*?\\_\\_|[punct_](\\*+)(?=[\\s]|$)|[^punct*_\\s](\\*+)(?=[punct_\\s]|$)|[punct_\\s](\\*+)(?=[^punct*_\\s])|[\\s](\\*+)(?=[punct_])|[punct_](\\*+)(?=[punct_])|[^punct*_\\s](\\*+)(?=[^punct*_\\s])/,\n      rDelimUnd: /\\*\\*[^_*]*?\\_[^_*]*?\\*\\*|[punct*](\\_+)(?=[\\s]|$)|[^punct*_\\s](\\_+)(?=[punct*\\s]|$)|[punct*\\s](\\_+)(?=[^punct*_\\s])|[\\s](\\_+)(?=[punct*])|[punct*](\\_+)(?=[punct*])/ // ^- Not allowed for _\n\n    },\n    code: /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n    br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n    del: noopTest,\n    text: /^(`+|[^`])(?:(?= {2,}\\n)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*_]|\\b_|$)|[^ ](?= {2,}\\n)))/,\n    punctuation: /^([\\spunctuation])/\n  }; // list of punctuation marks from CommonMark spec\n  // without * and _ to handle the different emphasis markers * and _\n\n  inline$1._punctuation = '!\"#$%&\\'()+\\\\-.,/:;<=>?@\\\\[\\\\]`^{|}~';\n  inline$1.punctuation = edit(inline$1.punctuation).replace(/punctuation/g, inline$1._punctuation).getRegex(); // sequences em should skip over [title](link), `code`, <html>\n\n  inline$1.blockSkip = /\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>/g;\n  inline$1.escapedEmSt = /\\\\\\*|\\\\_/g;\n  inline$1._comment = edit(block$1._comment).replace('(?:-->|$)', '-->').getRegex();\n  inline$1.emStrong.lDelim = edit(inline$1.emStrong.lDelim).replace(/punct/g, inline$1._punctuation).getRegex();\n  inline$1.emStrong.rDelimAst = edit(inline$1.emStrong.rDelimAst, 'g').replace(/punct/g, inline$1._punctuation).getRegex();\n  inline$1.emStrong.rDelimUnd = edit(inline$1.emStrong.rDelimUnd, 'g').replace(/punct/g, inline$1._punctuation).getRegex();\n  inline$1._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g;\n  inline$1._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\n  inline$1._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\n  inline$1.autolink = edit(inline$1.autolink).replace('scheme', inline$1._scheme).replace('email', inline$1._email).getRegex();\n  inline$1._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\n  inline$1.tag = edit(inline$1.tag).replace('comment', inline$1._comment).replace('attribute', inline$1._attribute).getRegex();\n  inline$1._label = /(?:\\[(?:\\\\.|[^\\[\\]\\\\])*\\]|\\\\.|`[^`]*`|[^\\[\\]\\\\`])*?/;\n  inline$1._href = /<(?:\\\\.|[^\\n<>\\\\])+>|[^\\s\\x00-\\x1f]*/;\n  inline$1._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\n  inline$1.link = edit(inline$1.link).replace('label', inline$1._label).replace('href', inline$1._href).replace('title', inline$1._title).getRegex();\n  inline$1.reflink = edit(inline$1.reflink).replace('label', inline$1._label).getRegex();\n  inline$1.reflinkSearch = edit(inline$1.reflinkSearch, 'g').replace('reflink', inline$1.reflink).replace('nolink', inline$1.nolink).getRegex();\n  /**\n   * Normal Inline Grammar\n   */\n\n  inline$1.normal = merge$1({}, inline$1);\n  /**\n   * Pedantic Inline Grammar\n   */\n\n  inline$1.pedantic = merge$1({}, inline$1.normal, {\n    strong: {\n      start: /^__|\\*\\*/,\n      middle: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n      endAst: /\\*\\*(?!\\*)/g,\n      endUnd: /__(?!_)/g\n    },\n    em: {\n      start: /^_|\\*/,\n      middle: /^()\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)|^_(?=\\S)([\\s\\S]*?\\S)_(?!_)/,\n      endAst: /\\*(?!\\*)/g,\n      endUnd: /_(?!_)/g\n    },\n    link: edit(/^!?\\[(label)\\]\\((.*?)\\)/).replace('label', inline$1._label).getRegex(),\n    reflink: edit(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/).replace('label', inline$1._label).getRegex()\n  });\n  /**\n   * GFM Inline Grammar\n   */\n\n  inline$1.gfm = merge$1({}, inline$1.normal, {\n    escape: edit(inline$1.escape).replace('])', '~|])').getRegex(),\n    _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,\n    url: /^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n    _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n    del: /^(~~?)(?=[^\\s~])([\\s\\S]*?[^\\s~])\\1(?=[^~]|$)/,\n    text: /^([`~]+|[^`~])(?:(?= {2,}\\n)|(?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*~_]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)))/\n  });\n  inline$1.gfm.url = edit(inline$1.gfm.url, 'i').replace('email', inline$1.gfm._extended_email).getRegex();\n  /**\n   * GFM + Line Breaks Inline Grammar\n   */\n\n  inline$1.breaks = merge$1({}, inline$1.gfm, {\n    br: edit(inline$1.br).replace('{2,}', '*').getRegex(),\n    text: edit(inline$1.gfm.text).replace('\\\\b_', '\\\\b_| {2,}\\\\n').replace(/\\{2,\\}/g, '*').getRegex()\n  });\n  var rules = {\n    block: block$1,\n    inline: inline$1\n  };\n\n  var Tokenizer$1 = Tokenizer_1;\n  var defaults$3 = defaults$5.exports.defaults;\n  var block = rules.block,\n      inline = rules.inline;\n  var repeatString = helpers.repeatString;\n  /**\n   * smartypants text replacement\n   */\n\n  function smartypants(text) {\n    return text // em-dashes\n    .replace(/---/g, \"\\u2014\") // en-dashes\n    .replace(/--/g, \"\\u2013\") // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, \"$1\\u2018\") // closing singles & apostrophes\n    .replace(/'/g, \"\\u2019\") // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, \"$1\\u201C\") // closing doubles\n    .replace(/\"/g, \"\\u201D\") // ellipses\n    .replace(/\\.{3}/g, \"\\u2026\");\n  }\n  /**\n   * mangle email addresses\n   */\n\n\n  function mangle(text) {\n    var out = '',\n        i,\n        ch;\n    var l = text.length;\n\n    for (i = 0; i < l; i++) {\n      ch = text.charCodeAt(i);\n\n      if (Math.random() > 0.5) {\n        ch = 'x' + ch.toString(16);\n      }\n\n      out += '&#' + ch + ';';\n    }\n\n    return out;\n  }\n  /**\n   * Block Lexer\n   */\n\n\n  var Lexer_1 = /*#__PURE__*/function () {\n    function Lexer(options) {\n      this.tokens = [];\n      this.tokens.links = Object.create(null);\n      this.options = options || defaults$3;\n      this.options.tokenizer = this.options.tokenizer || new Tokenizer$1();\n      this.tokenizer = this.options.tokenizer;\n      this.tokenizer.options = this.options;\n      var rules = {\n        block: block.normal,\n        inline: inline.normal\n      };\n\n      if (this.options.pedantic) {\n        rules.block = block.pedantic;\n        rules.inline = inline.pedantic;\n      } else if (this.options.gfm) {\n        rules.block = block.gfm;\n\n        if (this.options.breaks) {\n          rules.inline = inline.breaks;\n        } else {\n          rules.inline = inline.gfm;\n        }\n      }\n\n      this.tokenizer.rules = rules;\n    }\n    /**\n     * Expose Rules\n     */\n\n\n    /**\n     * Static Lex Method\n     */\n    Lexer.lex = function lex(src, options) {\n      var lexer = new Lexer(options);\n      return lexer.lex(src);\n    }\n    /**\n     * Static Lex Inline Method\n     */\n    ;\n\n    Lexer.lexInline = function lexInline(src, options) {\n      var lexer = new Lexer(options);\n      return lexer.inlineTokens(src);\n    }\n    /**\n     * Preprocessing\n     */\n    ;\n\n    var _proto = Lexer.prototype;\n\n    _proto.lex = function lex(src) {\n      src = src.replace(/\\r\\n|\\r/g, '\\n').replace(/\\t/g, '    ');\n      this.blockTokens(src, this.tokens, true);\n      this.inline(this.tokens);\n      return this.tokens;\n    }\n    /**\n     * Lexing\n     */\n    ;\n\n    _proto.blockTokens = function blockTokens(src, tokens, top) {\n      var _this = this;\n\n      if (tokens === void 0) {\n        tokens = [];\n      }\n\n      if (top === void 0) {\n        top = true;\n      }\n\n      if (this.options.pedantic) {\n        src = src.replace(/^ +$/gm, '');\n      }\n\n      var token, i, l, lastToken, cutSrc, lastParagraphClipped;\n\n      while (src) {\n        if (this.options.extensions && this.options.extensions.block && this.options.extensions.block.some(function (extTokenizer) {\n          if (token = extTokenizer.call(_this, src, tokens)) {\n            src = src.substring(token.raw.length);\n            tokens.push(token);\n            return true;\n          }\n\n          return false;\n        })) {\n          continue;\n        } // newline\n\n\n        if (token = this.tokenizer.space(src)) {\n          src = src.substring(token.raw.length);\n\n          if (token.type) {\n            tokens.push(token);\n          }\n\n          continue;\n        } // code\n\n\n        if (token = this.tokenizer.code(src)) {\n          src = src.substring(token.raw.length);\n          lastToken = tokens[tokens.length - 1]; // An indented code block cannot interrupt a paragraph.\n\n          if (lastToken && lastToken.type === 'paragraph') {\n            lastToken.raw += '\\n' + token.raw;\n            lastToken.text += '\\n' + token.text;\n          } else {\n            tokens.push(token);\n          }\n\n          continue;\n        } // fences\n\n\n        if (token = this.tokenizer.fences(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // heading\n\n\n        if (token = this.tokenizer.heading(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // table no leading pipe (gfm)\n\n\n        if (token = this.tokenizer.nptable(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // hr\n\n\n        if (token = this.tokenizer.hr(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // blockquote\n\n\n        if (token = this.tokenizer.blockquote(src)) {\n          src = src.substring(token.raw.length);\n          token.tokens = this.blockTokens(token.text, [], top);\n          tokens.push(token);\n          continue;\n        } // list\n\n\n        if (token = this.tokenizer.list(src)) {\n          src = src.substring(token.raw.length);\n          l = token.items.length;\n\n          for (i = 0; i < l; i++) {\n            token.items[i].tokens = this.blockTokens(token.items[i].text, [], false);\n          }\n\n          tokens.push(token);\n          continue;\n        } // html\n\n\n        if (token = this.tokenizer.html(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // def\n\n\n        if (top && (token = this.tokenizer.def(src))) {\n          src = src.substring(token.raw.length);\n\n          if (!this.tokens.links[token.tag]) {\n            this.tokens.links[token.tag] = {\n              href: token.href,\n              title: token.title\n            };\n          }\n\n          continue;\n        } // table (gfm)\n\n\n        if (token = this.tokenizer.table(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // lheading\n\n\n        if (token = this.tokenizer.lheading(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // top-level paragraph\n        // prevent paragraph consuming extensions by clipping 'src' to extension start\n\n\n        cutSrc = src;\n\n        if (this.options.extensions && this.options.extensions.startBlock) {\n          (function () {\n            var startIndex = Infinity;\n            var tempSrc = src.slice(1);\n            var tempStart = void 0;\n\n            _this.options.extensions.startBlock.forEach(function (getStartIndex) {\n              tempStart = getStartIndex.call(this, tempSrc);\n\n              if (typeof tempStart === 'number' && tempStart >= 0) {\n                startIndex = Math.min(startIndex, tempStart);\n              }\n            });\n\n            if (startIndex < Infinity && startIndex >= 0) {\n              cutSrc = src.substring(0, startIndex + 1);\n            }\n          })();\n        }\n\n        if (top && (token = this.tokenizer.paragraph(cutSrc))) {\n          lastToken = tokens[tokens.length - 1];\n\n          if (lastParagraphClipped && lastToken.type === 'paragraph') {\n            lastToken.raw += '\\n' + token.raw;\n            lastToken.text += '\\n' + token.text;\n          } else {\n            tokens.push(token);\n          }\n\n          lastParagraphClipped = cutSrc.length !== src.length;\n          src = src.substring(token.raw.length);\n          continue;\n        } // text\n\n\n        if (token = this.tokenizer.text(src)) {\n          src = src.substring(token.raw.length);\n          lastToken = tokens[tokens.length - 1];\n\n          if (lastToken && lastToken.type === 'text') {\n            lastToken.raw += '\\n' + token.raw;\n            lastToken.text += '\\n' + token.text;\n          } else {\n            tokens.push(token);\n          }\n\n          continue;\n        }\n\n        if (src) {\n          var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n\n          if (this.options.silent) {\n            console.error(errMsg);\n            break;\n          } else {\n            throw new Error(errMsg);\n          }\n        }\n      }\n\n      return tokens;\n    };\n\n    _proto.inline = function inline(tokens) {\n      var i, j, k, l2, row, token;\n      var l = tokens.length;\n\n      for (i = 0; i < l; i++) {\n        token = tokens[i];\n\n        switch (token.type) {\n          case 'paragraph':\n          case 'text':\n          case 'heading':\n            {\n              token.tokens = [];\n              this.inlineTokens(token.text, token.tokens);\n              break;\n            }\n\n          case 'table':\n            {\n              token.tokens = {\n                header: [],\n                cells: []\n              }; // header\n\n              l2 = token.header.length;\n\n              for (j = 0; j < l2; j++) {\n                token.tokens.header[j] = [];\n                this.inlineTokens(token.header[j], token.tokens.header[j]);\n              } // cells\n\n\n              l2 = token.cells.length;\n\n              for (j = 0; j < l2; j++) {\n                row = token.cells[j];\n                token.tokens.cells[j] = [];\n\n                for (k = 0; k < row.length; k++) {\n                  token.tokens.cells[j][k] = [];\n                  this.inlineTokens(row[k], token.tokens.cells[j][k]);\n                }\n              }\n\n              break;\n            }\n\n          case 'blockquote':\n            {\n              this.inline(token.tokens);\n              break;\n            }\n\n          case 'list':\n            {\n              l2 = token.items.length;\n\n              for (j = 0; j < l2; j++) {\n                this.inline(token.items[j].tokens);\n              }\n\n              break;\n            }\n        }\n      }\n\n      return tokens;\n    }\n    /**\n     * Lexing/Compiling\n     */\n    ;\n\n    _proto.inlineTokens = function inlineTokens(src, tokens, inLink, inRawBlock) {\n      var _this2 = this;\n\n      if (tokens === void 0) {\n        tokens = [];\n      }\n\n      if (inLink === void 0) {\n        inLink = false;\n      }\n\n      if (inRawBlock === void 0) {\n        inRawBlock = false;\n      }\n\n      var token, lastToken, cutSrc; // String with links masked to avoid interference with em and strong\n\n      var maskedSrc = src;\n      var match;\n      var keepPrevChar, prevChar; // Mask out reflinks\n\n      if (this.tokens.links) {\n        var links = Object.keys(this.tokens.links);\n\n        if (links.length > 0) {\n          while ((match = this.tokenizer.rules.inline.reflinkSearch.exec(maskedSrc)) != null) {\n            if (links.includes(match[0].slice(match[0].lastIndexOf('[') + 1, -1))) {\n              maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex);\n            }\n          }\n        }\n      } // Mask out other blocks\n\n\n      while ((match = this.tokenizer.rules.inline.blockSkip.exec(maskedSrc)) != null) {\n        maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);\n      } // Mask out escaped em & strong delimiters\n\n\n      while ((match = this.tokenizer.rules.inline.escapedEmSt.exec(maskedSrc)) != null) {\n        maskedSrc = maskedSrc.slice(0, match.index) + '++' + maskedSrc.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);\n      }\n\n      while (src) {\n        if (!keepPrevChar) {\n          prevChar = '';\n        }\n\n        keepPrevChar = false; // extensions\n\n        if (this.options.extensions && this.options.extensions.inline && this.options.extensions.inline.some(function (extTokenizer) {\n          if (token = extTokenizer.call(_this2, src, tokens)) {\n            src = src.substring(token.raw.length);\n            tokens.push(token);\n            return true;\n          }\n\n          return false;\n        })) {\n          continue;\n        } // escape\n\n\n        if (token = this.tokenizer.escape(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // tag\n\n\n        if (token = this.tokenizer.tag(src, inLink, inRawBlock)) {\n          src = src.substring(token.raw.length);\n          inLink = token.inLink;\n          inRawBlock = token.inRawBlock;\n          lastToken = tokens[tokens.length - 1];\n\n          if (lastToken && token.type === 'text' && lastToken.type === 'text') {\n            lastToken.raw += token.raw;\n            lastToken.text += token.text;\n          } else {\n            tokens.push(token);\n          }\n\n          continue;\n        } // link\n\n\n        if (token = this.tokenizer.link(src)) {\n          src = src.substring(token.raw.length);\n\n          if (token.type === 'link') {\n            token.tokens = this.inlineTokens(token.text, [], true, inRawBlock);\n          }\n\n          tokens.push(token);\n          continue;\n        } // reflink, nolink\n\n\n        if (token = this.tokenizer.reflink(src, this.tokens.links)) {\n          src = src.substring(token.raw.length);\n          lastToken = tokens[tokens.length - 1];\n\n          if (token.type === 'link') {\n            token.tokens = this.inlineTokens(token.text, [], true, inRawBlock);\n            tokens.push(token);\n          } else if (lastToken && token.type === 'text' && lastToken.type === 'text') {\n            lastToken.raw += token.raw;\n            lastToken.text += token.text;\n          } else {\n            tokens.push(token);\n          }\n\n          continue;\n        } // em & strong\n\n\n        if (token = this.tokenizer.emStrong(src, maskedSrc, prevChar)) {\n          src = src.substring(token.raw.length);\n          token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);\n          tokens.push(token);\n          continue;\n        } // code\n\n\n        if (token = this.tokenizer.codespan(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // br\n\n\n        if (token = this.tokenizer.br(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // del (gfm)\n\n\n        if (token = this.tokenizer.del(src)) {\n          src = src.substring(token.raw.length);\n          token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);\n          tokens.push(token);\n          continue;\n        } // autolink\n\n\n        if (token = this.tokenizer.autolink(src, mangle)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // url (gfm)\n\n\n        if (!inLink && (token = this.tokenizer.url(src, mangle))) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // text\n        // prevent inlineText consuming extensions by clipping 'src' to extension start\n\n\n        cutSrc = src;\n\n        if (this.options.extensions && this.options.extensions.startInline) {\n          (function () {\n            var startIndex = Infinity;\n            var tempSrc = src.slice(1);\n            var tempStart = void 0;\n\n            _this2.options.extensions.startInline.forEach(function (getStartIndex) {\n              tempStart = getStartIndex.call(this, tempSrc);\n\n              if (typeof tempStart === 'number' && tempStart >= 0) {\n                startIndex = Math.min(startIndex, tempStart);\n              }\n            });\n\n            if (startIndex < Infinity && startIndex >= 0) {\n              cutSrc = src.substring(0, startIndex + 1);\n            }\n          })();\n        }\n\n        if (token = this.tokenizer.inlineText(cutSrc, inRawBlock, smartypants)) {\n          src = src.substring(token.raw.length);\n\n          if (token.raw.slice(-1) !== '_') {\n            // Track prevChar before string of ____ started\n            prevChar = token.raw.slice(-1);\n          }\n\n          keepPrevChar = true;\n          lastToken = tokens[tokens.length - 1];\n\n          if (lastToken && lastToken.type === 'text') {\n            lastToken.raw += token.raw;\n            lastToken.text += token.text;\n          } else {\n            tokens.push(token);\n          }\n\n          continue;\n        }\n\n        if (src) {\n          var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n\n          if (this.options.silent) {\n            console.error(errMsg);\n            break;\n          } else {\n            throw new Error(errMsg);\n          }\n        }\n      }\n\n      return tokens;\n    };\n\n    _createClass(Lexer, null, [{\n      key: \"rules\",\n      get: function get() {\n        return {\n          block: block,\n          inline: inline\n        };\n      }\n    }]);\n\n    return Lexer;\n  }();\n\n  var defaults$2 = defaults$5.exports.defaults;\n  var cleanUrl = helpers.cleanUrl,\n      escape$1 = helpers.escape;\n  /**\n   * Renderer\n   */\n\n  var Renderer_1 = /*#__PURE__*/function () {\n    function Renderer(options) {\n      this.options = options || defaults$2;\n    }\n\n    var _proto = Renderer.prototype;\n\n    _proto.code = function code(_code, infostring, escaped) {\n      var lang = (infostring || '').match(/\\S*/)[0];\n\n      if (this.options.highlight) {\n        var out = this.options.highlight(_code, lang);\n\n        if (out != null && out !== _code) {\n          escaped = true;\n          _code = out;\n        }\n      }\n\n      _code = _code.replace(/\\n$/, '') + '\\n';\n\n      if (!lang) {\n        return '<pre><code>' + (escaped ? _code : escape$1(_code, true)) + '</code></pre>\\n';\n      }\n\n      return '<pre><code class=\"' + this.options.langPrefix + escape$1(lang, true) + '\">' + (escaped ? _code : escape$1(_code, true)) + '</code></pre>\\n';\n    };\n\n    _proto.blockquote = function blockquote(quote) {\n      return '<blockquote>\\n' + quote + '</blockquote>\\n';\n    };\n\n    _proto.html = function html(_html) {\n      return _html;\n    };\n\n    _proto.heading = function heading(text, level, raw, slugger) {\n      if (this.options.headerIds) {\n        return '<h' + level + ' id=\"' + this.options.headerPrefix + slugger.slug(raw) + '\">' + text + '</h' + level + '>\\n';\n      } // ignore IDs\n\n\n      return '<h' + level + '>' + text + '</h' + level + '>\\n';\n    };\n\n    _proto.hr = function hr() {\n      return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n    };\n\n    _proto.list = function list(body, ordered, start) {\n      var type = ordered ? 'ol' : 'ul',\n          startatt = ordered && start !== 1 ? ' start=\"' + start + '\"' : '';\n      return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n    };\n\n    _proto.listitem = function listitem(text) {\n      return '<li>' + text + '</li>\\n';\n    };\n\n    _proto.checkbox = function checkbox(checked) {\n      return '<input ' + (checked ? 'checked=\"\" ' : '') + 'disabled=\"\" type=\"checkbox\"' + (this.options.xhtml ? ' /' : '') + '> ';\n    };\n\n    _proto.paragraph = function paragraph(text) {\n      return '<p>' + text + '</p>\\n';\n    };\n\n    _proto.table = function table(header, body) {\n      if (body) body = '<tbody>' + body + '</tbody>';\n      return '<table>\\n' + '<thead>\\n' + header + '</thead>\\n' + body + '</table>\\n';\n    };\n\n    _proto.tablerow = function tablerow(content) {\n      return '<tr>\\n' + content + '</tr>\\n';\n    };\n\n    _proto.tablecell = function tablecell(content, flags) {\n      var type = flags.header ? 'th' : 'td';\n      var tag = flags.align ? '<' + type + ' align=\"' + flags.align + '\">' : '<' + type + '>';\n      return tag + content + '</' + type + '>\\n';\n    } // span level renderer\n    ;\n\n    _proto.strong = function strong(text) {\n      return '<strong>' + text + '</strong>';\n    };\n\n    _proto.em = function em(text) {\n      return '<em>' + text + '</em>';\n    };\n\n    _proto.codespan = function codespan(text) {\n      return '<code>' + text + '</code>';\n    };\n\n    _proto.br = function br() {\n      return this.options.xhtml ? '<br/>' : '<br>';\n    };\n\n    _proto.del = function del(text) {\n      return '<del>' + text + '</del>';\n    };\n\n    _proto.link = function link(href, title, text) {\n      href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n\n      if (href === null) {\n        return text;\n      }\n\n      var out = '<a href=\"' + escape$1(href) + '\"';\n\n      if (title) {\n        out += ' title=\"' + title + '\"';\n      }\n\n      out += '>' + text + '</a>';\n      return out;\n    };\n\n    _proto.image = function image(href, title, text) {\n      href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n\n      if (href === null) {\n        return text;\n      }\n\n      var out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n\n      if (title) {\n        out += ' title=\"' + title + '\"';\n      }\n\n      out += this.options.xhtml ? '/>' : '>';\n      return out;\n    };\n\n    _proto.text = function text(_text) {\n      return _text;\n    };\n\n    return Renderer;\n  }();\n\n  /**\n   * TextRenderer\n   * returns only the textual part of the token\n   */\n\n  var TextRenderer_1 = /*#__PURE__*/function () {\n    function TextRenderer() {}\n\n    var _proto = TextRenderer.prototype;\n\n    // no need for block level renderers\n    _proto.strong = function strong(text) {\n      return text;\n    };\n\n    _proto.em = function em(text) {\n      return text;\n    };\n\n    _proto.codespan = function codespan(text) {\n      return text;\n    };\n\n    _proto.del = function del(text) {\n      return text;\n    };\n\n    _proto.html = function html(text) {\n      return text;\n    };\n\n    _proto.text = function text(_text) {\n      return _text;\n    };\n\n    _proto.link = function link(href, title, text) {\n      return '' + text;\n    };\n\n    _proto.image = function image(href, title, text) {\n      return '' + text;\n    };\n\n    _proto.br = function br() {\n      return '';\n    };\n\n    return TextRenderer;\n  }();\n\n  /**\n   * Slugger generates header id\n   */\n\n  var Slugger_1 = /*#__PURE__*/function () {\n    function Slugger() {\n      this.seen = {};\n    }\n\n    var _proto = Slugger.prototype;\n\n    _proto.serialize = function serialize(value) {\n      return value.toLowerCase().trim() // remove html tags\n      .replace(/<[!\\/a-z].*?>/ig, '') // remove unwanted chars\n      .replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,./:;<=>?@[\\]^`{|}~]/g, '').replace(/\\s/g, '-');\n    }\n    /**\n     * Finds the next safe (unique) slug to use\n     */\n    ;\n\n    _proto.getNextSafeSlug = function getNextSafeSlug(originalSlug, isDryRun) {\n      var slug = originalSlug;\n      var occurenceAccumulator = 0;\n\n      if (this.seen.hasOwnProperty(slug)) {\n        occurenceAccumulator = this.seen[originalSlug];\n\n        do {\n          occurenceAccumulator++;\n          slug = originalSlug + '-' + occurenceAccumulator;\n        } while (this.seen.hasOwnProperty(slug));\n      }\n\n      if (!isDryRun) {\n        this.seen[originalSlug] = occurenceAccumulator;\n        this.seen[slug] = 0;\n      }\n\n      return slug;\n    }\n    /**\n     * Convert string to unique id\n     * @param {object} options\n     * @param {boolean} options.dryrun Generates the next unique slug without updating the internal accumulator.\n     */\n    ;\n\n    _proto.slug = function slug(value, options) {\n      if (options === void 0) {\n        options = {};\n      }\n\n      var slug = this.serialize(value);\n      return this.getNextSafeSlug(slug, options.dryrun);\n    };\n\n    return Slugger;\n  }();\n\n  var Renderer$1 = Renderer_1;\n  var TextRenderer$1 = TextRenderer_1;\n  var Slugger$1 = Slugger_1;\n  var defaults$1 = defaults$5.exports.defaults;\n  var unescape = helpers.unescape;\n  /**\n   * Parsing & Compiling\n   */\n\n  var Parser_1 = /*#__PURE__*/function () {\n    function Parser(options) {\n      this.options = options || defaults$1;\n      this.options.renderer = this.options.renderer || new Renderer$1();\n      this.renderer = this.options.renderer;\n      this.renderer.options = this.options;\n      this.textRenderer = new TextRenderer$1();\n      this.slugger = new Slugger$1();\n    }\n    /**\n     * Static Parse Method\n     */\n\n\n    Parser.parse = function parse(tokens, options) {\n      var parser = new Parser(options);\n      return parser.parse(tokens);\n    }\n    /**\n     * Static Parse Inline Method\n     */\n    ;\n\n    Parser.parseInline = function parseInline(tokens, options) {\n      var parser = new Parser(options);\n      return parser.parseInline(tokens);\n    }\n    /**\n     * Parse Loop\n     */\n    ;\n\n    var _proto = Parser.prototype;\n\n    _proto.parse = function parse(tokens, top) {\n      if (top === void 0) {\n        top = true;\n      }\n\n      var out = '',\n          i,\n          j,\n          k,\n          l2,\n          l3,\n          row,\n          cell,\n          header,\n          body,\n          token,\n          ordered,\n          start,\n          loose,\n          itemBody,\n          item,\n          checked,\n          task,\n          checkbox,\n          ret;\n      var l = tokens.length;\n\n      for (i = 0; i < l; i++) {\n        token = tokens[i]; // Run any renderer extensions\n\n        if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {\n          ret = this.options.extensions.renderers[token.type].call(this, token);\n\n          if (ret !== false || !['space', 'hr', 'heading', 'code', 'table', 'blockquote', 'list', 'html', 'paragraph', 'text'].includes(token.type)) {\n            out += ret || '';\n            continue;\n          }\n        }\n\n        switch (token.type) {\n          case 'space':\n            {\n              continue;\n            }\n\n          case 'hr':\n            {\n              out += this.renderer.hr();\n              continue;\n            }\n\n          case 'heading':\n            {\n              out += this.renderer.heading(this.parseInline(token.tokens), token.depth, unescape(this.parseInline(token.tokens, this.textRenderer)), this.slugger);\n              continue;\n            }\n\n          case 'code':\n            {\n              out += this.renderer.code(token.text, token.lang, token.escaped);\n              continue;\n            }\n\n          case 'table':\n            {\n              header = ''; // header\n\n              cell = '';\n              l2 = token.header.length;\n\n              for (j = 0; j < l2; j++) {\n                cell += this.renderer.tablecell(this.parseInline(token.tokens.header[j]), {\n                  header: true,\n                  align: token.align[j]\n                });\n              }\n\n              header += this.renderer.tablerow(cell);\n              body = '';\n              l2 = token.cells.length;\n\n              for (j = 0; j < l2; j++) {\n                row = token.tokens.cells[j];\n                cell = '';\n                l3 = row.length;\n\n                for (k = 0; k < l3; k++) {\n                  cell += this.renderer.tablecell(this.parseInline(row[k]), {\n                    header: false,\n                    align: token.align[k]\n                  });\n                }\n\n                body += this.renderer.tablerow(cell);\n              }\n\n              out += this.renderer.table(header, body);\n              continue;\n            }\n\n          case 'blockquote':\n            {\n              body = this.parse(token.tokens);\n              out += this.renderer.blockquote(body);\n              continue;\n            }\n\n          case 'list':\n            {\n              ordered = token.ordered;\n              start = token.start;\n              loose = token.loose;\n              l2 = token.items.length;\n              body = '';\n\n              for (j = 0; j < l2; j++) {\n                item = token.items[j];\n                checked = item.checked;\n                task = item.task;\n                itemBody = '';\n\n                if (item.task) {\n                  checkbox = this.renderer.checkbox(checked);\n\n                  if (loose) {\n                    if (item.tokens.length > 0 && item.tokens[0].type === 'text') {\n                      item.tokens[0].text = checkbox + ' ' + item.tokens[0].text;\n\n                      if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === 'text') {\n                        item.tokens[0].tokens[0].text = checkbox + ' ' + item.tokens[0].tokens[0].text;\n                      }\n                    } else {\n                      item.tokens.unshift({\n                        type: 'text',\n                        text: checkbox\n                      });\n                    }\n                  } else {\n                    itemBody += checkbox;\n                  }\n                }\n\n                itemBody += this.parse(item.tokens, loose);\n                body += this.renderer.listitem(itemBody, task, checked);\n              }\n\n              out += this.renderer.list(body, ordered, start);\n              continue;\n            }\n\n          case 'html':\n            {\n              // TODO parse inline content if parameter markdown=1\n              out += this.renderer.html(token.text);\n              continue;\n            }\n\n          case 'paragraph':\n            {\n              out += this.renderer.paragraph(this.parseInline(token.tokens));\n              continue;\n            }\n\n          case 'text':\n            {\n              body = token.tokens ? this.parseInline(token.tokens) : token.text;\n\n              while (i + 1 < l && tokens[i + 1].type === 'text') {\n                token = tokens[++i];\n                body += '\\n' + (token.tokens ? this.parseInline(token.tokens) : token.text);\n              }\n\n              out += top ? this.renderer.paragraph(body) : body;\n              continue;\n            }\n\n          default:\n            {\n              var errMsg = 'Token with \"' + token.type + '\" type was not found.';\n\n              if (this.options.silent) {\n                console.error(errMsg);\n                return;\n              } else {\n                throw new Error(errMsg);\n              }\n            }\n        }\n      }\n\n      return out;\n    }\n    /**\n     * Parse Inline Tokens\n     */\n    ;\n\n    _proto.parseInline = function parseInline(tokens, renderer) {\n      renderer = renderer || this.renderer;\n      var out = '',\n          i,\n          token,\n          ret;\n      var l = tokens.length;\n\n      for (i = 0; i < l; i++) {\n        token = tokens[i]; // Run any renderer extensions\n\n        if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {\n          ret = this.options.extensions.renderers[token.type].call(this, token);\n\n          if (ret !== false || !['escape', 'html', 'link', 'image', 'strong', 'em', 'codespan', 'br', 'del', 'text'].includes(token.type)) {\n            out += ret || '';\n            continue;\n          }\n        }\n\n        switch (token.type) {\n          case 'escape':\n            {\n              out += renderer.text(token.text);\n              break;\n            }\n\n          case 'html':\n            {\n              out += renderer.html(token.text);\n              break;\n            }\n\n          case 'link':\n            {\n              out += renderer.link(token.href, token.title, this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'image':\n            {\n              out += renderer.image(token.href, token.title, token.text);\n              break;\n            }\n\n          case 'strong':\n            {\n              out += renderer.strong(this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'em':\n            {\n              out += renderer.em(this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'codespan':\n            {\n              out += renderer.codespan(token.text);\n              break;\n            }\n\n          case 'br':\n            {\n              out += renderer.br();\n              break;\n            }\n\n          case 'del':\n            {\n              out += renderer.del(this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'text':\n            {\n              out += renderer.text(token.text);\n              break;\n            }\n\n          default:\n            {\n              var errMsg = 'Token with \"' + token.type + '\" type was not found.';\n\n              if (this.options.silent) {\n                console.error(errMsg);\n                return;\n              } else {\n                throw new Error(errMsg);\n              }\n            }\n        }\n      }\n\n      return out;\n    };\n\n    return Parser;\n  }();\n\n  var Lexer = Lexer_1;\n  var Parser = Parser_1;\n  var Tokenizer = Tokenizer_1;\n  var Renderer = Renderer_1;\n  var TextRenderer = TextRenderer_1;\n  var Slugger = Slugger_1;\n  var merge = helpers.merge,\n      checkSanitizeDeprecation = helpers.checkSanitizeDeprecation,\n      escape = helpers.escape;\n  var getDefaults = defaults$5.exports.getDefaults,\n      changeDefaults = defaults$5.exports.changeDefaults,\n      defaults = defaults$5.exports.defaults;\n  /**\n   * Marked\n   */\n\n  function marked(src, opt, callback) {\n    // throw error in case of non string input\n    if (typeof src === 'undefined' || src === null) {\n      throw new Error('marked(): input parameter is undefined or null');\n    }\n\n    if (typeof src !== 'string') {\n      throw new Error('marked(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected');\n    }\n\n    if (typeof opt === 'function') {\n      callback = opt;\n      opt = null;\n    }\n\n    opt = merge({}, marked.defaults, opt || {});\n    checkSanitizeDeprecation(opt);\n\n    if (callback) {\n      var highlight = opt.highlight;\n      var tokens;\n\n      try {\n        tokens = Lexer.lex(src, opt);\n      } catch (e) {\n        return callback(e);\n      }\n\n      var done = function done(err) {\n        var out;\n\n        if (!err) {\n          try {\n            if (opt.walkTokens) {\n              marked.walkTokens(tokens, opt.walkTokens);\n            }\n\n            out = Parser.parse(tokens, opt);\n          } catch (e) {\n            err = e;\n          }\n        }\n\n        opt.highlight = highlight;\n        return err ? callback(err) : callback(null, out);\n      };\n\n      if (!highlight || highlight.length < 3) {\n        return done();\n      }\n\n      delete opt.highlight;\n      if (!tokens.length) return done();\n      var pending = 0;\n      marked.walkTokens(tokens, function (token) {\n        if (token.type === 'code') {\n          pending++;\n          setTimeout(function () {\n            highlight(token.text, token.lang, function (err, code) {\n              if (err) {\n                return done(err);\n              }\n\n              if (code != null && code !== token.text) {\n                token.text = code;\n                token.escaped = true;\n              }\n\n              pending--;\n\n              if (pending === 0) {\n                done();\n              }\n            });\n          }, 0);\n        }\n      });\n\n      if (pending === 0) {\n        done();\n      }\n\n      return;\n    }\n\n    try {\n      var _tokens = Lexer.lex(src, opt);\n\n      if (opt.walkTokens) {\n        marked.walkTokens(_tokens, opt.walkTokens);\n      }\n\n      return Parser.parse(_tokens, opt);\n    } catch (e) {\n      e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n\n      if (opt.silent) {\n        return '<p>An error occurred:</p><pre>' + escape(e.message + '', true) + '</pre>';\n      }\n\n      throw e;\n    }\n  }\n  /**\n   * Options\n   */\n\n\n  marked.options = marked.setOptions = function (opt) {\n    merge(marked.defaults, opt);\n    changeDefaults(marked.defaults);\n    return marked;\n  };\n\n  marked.getDefaults = getDefaults;\n  marked.defaults = defaults;\n  /**\n   * Use Extension\n   */\n\n  marked.use = function () {\n    var _this = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var opts = merge.apply(void 0, [{}].concat(args));\n    var extensions = marked.defaults.extensions || {\n      renderers: {},\n      childTokens: {}\n    };\n    var hasExtensions;\n    args.forEach(function (pack) {\n      // ==-- Parse \"addon\" extensions --== //\n      if (pack.extensions) {\n        hasExtensions = true;\n        pack.extensions.forEach(function (ext) {\n          if (!ext.name) {\n            throw new Error('extension name required');\n          }\n\n          if (ext.renderer) {\n            // Renderer extensions\n            var prevRenderer = extensions.renderers ? extensions.renderers[ext.name] : null;\n\n            if (prevRenderer) {\n              // Replace extension with func to run new extension but fall back if false\n              extensions.renderers[ext.name] = function () {\n                for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                  args[_key2] = arguments[_key2];\n                }\n\n                var ret = ext.renderer.apply(this, args);\n\n                if (ret === false) {\n                  ret = prevRenderer.apply(this, args);\n                }\n\n                return ret;\n              };\n            } else {\n              extensions.renderers[ext.name] = ext.renderer;\n            }\n          }\n\n          if (ext.tokenizer) {\n            // Tokenizer Extensions\n            if (!ext.level || ext.level !== 'block' && ext.level !== 'inline') {\n              throw new Error(\"extension level must be 'block' or 'inline'\");\n            }\n\n            if (extensions[ext.level]) {\n              extensions[ext.level].unshift(ext.tokenizer);\n            } else {\n              extensions[ext.level] = [ext.tokenizer];\n            }\n\n            if (ext.start) {\n              // Function to check for start of token\n              if (ext.level === 'block') {\n                if (extensions.startBlock) {\n                  extensions.startBlock.push(ext.start);\n                } else {\n                  extensions.startBlock = [ext.start];\n                }\n              } else if (ext.level === 'inline') {\n                if (extensions.startInline) {\n                  extensions.startInline.push(ext.start);\n                } else {\n                  extensions.startInline = [ext.start];\n                }\n              }\n            }\n          }\n\n          if (ext.childTokens) {\n            // Child tokens to be visited by walkTokens\n            extensions.childTokens[ext.name] = ext.childTokens;\n          }\n        });\n      } // ==-- Parse \"overwrite\" extensions --== //\n\n\n      if (pack.renderer) {\n        (function () {\n          var renderer = marked.defaults.renderer || new Renderer();\n\n          var _loop = function _loop(prop) {\n            var prevRenderer = renderer[prop]; // Replace renderer with func to run extension, but fall back if false\n\n            renderer[prop] = function () {\n              for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n                args[_key3] = arguments[_key3];\n              }\n\n              var ret = pack.renderer[prop].apply(renderer, args);\n\n              if (ret === false) {\n                ret = prevRenderer.apply(renderer, args);\n              }\n\n              return ret;\n            };\n          };\n\n          for (var prop in pack.renderer) {\n            _loop(prop);\n          }\n\n          opts.renderer = renderer;\n        })();\n      }\n\n      if (pack.tokenizer) {\n        (function () {\n          var tokenizer = marked.defaults.tokenizer || new Tokenizer();\n\n          var _loop2 = function _loop2(prop) {\n            var prevTokenizer = tokenizer[prop]; // Replace tokenizer with func to run extension, but fall back if false\n\n            tokenizer[prop] = function () {\n              for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n                args[_key4] = arguments[_key4];\n              }\n\n              var ret = pack.tokenizer[prop].apply(tokenizer, args);\n\n              if (ret === false) {\n                ret = prevTokenizer.apply(tokenizer, args);\n              }\n\n              return ret;\n            };\n          };\n\n          for (var prop in pack.tokenizer) {\n            _loop2(prop);\n          }\n\n          opts.tokenizer = tokenizer;\n        })();\n      } // ==-- Parse WalkTokens extensions --== //\n\n\n      if (pack.walkTokens) {\n        var walkTokens = marked.defaults.walkTokens;\n\n        opts.walkTokens = function (token) {\n          pack.walkTokens.call(_this, token);\n\n          if (walkTokens) {\n            walkTokens(token);\n          }\n        };\n      }\n\n      if (hasExtensions) {\n        opts.extensions = extensions;\n      }\n\n      marked.setOptions(opts);\n    });\n  };\n  /**\n   * Run callback for every token\n   */\n\n\n  marked.walkTokens = function (tokens, callback) {\n    var _loop3 = function _loop3() {\n      var token = _step.value;\n      callback(token);\n\n      switch (token.type) {\n        case 'table':\n          {\n            for (var _iterator2 = _createForOfIteratorHelperLoose(token.tokens.header), _step2; !(_step2 = _iterator2()).done;) {\n              var cell = _step2.value;\n              marked.walkTokens(cell, callback);\n            }\n\n            for (var _iterator3 = _createForOfIteratorHelperLoose(token.tokens.cells), _step3; !(_step3 = _iterator3()).done;) {\n              var row = _step3.value;\n\n              for (var _iterator4 = _createForOfIteratorHelperLoose(row), _step4; !(_step4 = _iterator4()).done;) {\n                var _cell = _step4.value;\n                marked.walkTokens(_cell, callback);\n              }\n            }\n\n            break;\n          }\n\n        case 'list':\n          {\n            marked.walkTokens(token.items, callback);\n            break;\n          }\n\n        default:\n          {\n            if (marked.defaults.extensions && marked.defaults.extensions.childTokens && marked.defaults.extensions.childTokens[token.type]) {\n              // Walk any extensions\n              marked.defaults.extensions.childTokens[token.type].forEach(function (childTokens) {\n                marked.walkTokens(token[childTokens], callback);\n              });\n            } else if (token.tokens) {\n              marked.walkTokens(token.tokens, callback);\n            }\n          }\n      }\n    };\n\n    for (var _iterator = _createForOfIteratorHelperLoose(tokens), _step; !(_step = _iterator()).done;) {\n      _loop3();\n    }\n  };\n  /**\n   * Parse Inline\n   */\n\n\n  marked.parseInline = function (src, opt) {\n    // throw error in case of non string input\n    if (typeof src === 'undefined' || src === null) {\n      throw new Error('marked.parseInline(): input parameter is undefined or null');\n    }\n\n    if (typeof src !== 'string') {\n      throw new Error('marked.parseInline(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected');\n    }\n\n    opt = merge({}, marked.defaults, opt || {});\n    checkSanitizeDeprecation(opt);\n\n    try {\n      var tokens = Lexer.lexInline(src, opt);\n\n      if (opt.walkTokens) {\n        marked.walkTokens(tokens, opt.walkTokens);\n      }\n\n      return Parser.parseInline(tokens, opt);\n    } catch (e) {\n      e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n\n      if (opt.silent) {\n        return '<p>An error occurred:</p><pre>' + escape(e.message + '', true) + '</pre>';\n      }\n\n      throw e;\n    }\n  };\n  /**\n   * Expose\n   */\n\n\n  marked.Parser = Parser;\n  marked.parser = Parser.parse;\n  marked.Renderer = Renderer;\n  marked.TextRenderer = TextRenderer;\n  marked.Lexer = Lexer;\n  marked.lexer = Lexer.lex;\n  marked.Tokenizer = Tokenizer;\n  marked.Slugger = Slugger;\n  marked.parse = marked;\n  var marked_1 = marked;\n\n  return marked_1;\n\n})));\n","// extracted by mini-css-extract-plugin"]}}